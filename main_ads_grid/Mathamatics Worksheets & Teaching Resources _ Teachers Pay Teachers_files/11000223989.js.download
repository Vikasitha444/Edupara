!(function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)})([(function(e,t,n){function i(){function e(e){var t=n(147),i=[t];i.push(n(149)),i.push(n(155)),i.push(n(158)),i.push(n(161)),i.push(n(163)),i.push(n(172)),i.push(n(175)),i.push(n(177)),i.push(n(180)),i.push(n(183)),i.push(n(189)),i.push(n(193)),i.push(n(196)),i.push(n(200)),i.push(n(203)),i.push(n(207)),i.push(n(211)),i.push(n(216)),i.push(n(217)),i.push(n(220)),i.push(n(221)),i.push(n(224)),i.push(n(225)),i.push(n(228)),i.push(n(232)),i.push(n(234)),i.push(n(239)),i.push(n(240)),i.push(n(242)),i.push(n(243)),p.initializePlugins(i)}function t(e,t,n){return"/dist/preview_data.js?token=__TOKEN__&preview_layer_ids=__PREVIEW_LAYER_IDS__".replace("__TOKEN__",e).replace("__PROJECT_ID__",t).replace("__PREVIEW_LAYER_IDS__",n.join(",")).replace("__GET_ONLY_PREVIEW_LAYERS__",!0)}window.performance&&window.performance.mark&&window.performance.mark("optimizely:blockBegin");var i=n(1);i.initialize();var r=n(82),a=n(23),o=n(16);n(128);var s=o.get("stores/directive"),c=n(90);if(!c.isCORSSupported())throw new Error("CORS is not supported on this browser, aborting.");var u,l=n(130),d=n(117),f=n(131),g={"listTargetingKeys": [], "anonymizeIP": true, "tagGroups": [], "dcpServiceId": "20084273529", "audiences": [{"conditions": ["and", ["or", ["or", {"value": "3", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "4", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "5", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "6", "type": "custom_attribute", "name": "11748734789", "match": null}]]], "id": "11719024772", "name": "All sellers"}, {"conditions": ["and", ["or", ["or", {"value": "4", "type": "custom_attribute", "name": "11748734789", "match": null}]]], "id": "11747302989", "name": "Premium Sellers"}, {"conditions": ["and", ["or", ["or", {"value": "desktop", "type": "device", "name": null, "match": null}]]], "id": "12001380907", "name": "Device | Desktop"}, {"conditions": ["and", ["or", ["or", {"value": "true", "type": "custom_attribute", "name": "11063250276", "match": null}], ["or", {"value": "window.__TPT__ && window.__TPT__.getConfig() && window.__TPT__.getConfig().isLoggedIn", "type": "code", "name": null, "match": null}]]], "id": "12111314811", "name": "Logged In"}, {"conditions": ["and", ["or", ["or", {"value": "mobile", "type": "device", "name": null, "match": null}, {"value": "iphone", "type": "device", "name": null, "match": null}]], ["or", ["or", {"value": "mobile", "type": "cookies", "name": "device", "match": "exact"}]]], "id": "12117143916", "name": "Device | Mobile"}, {"conditions": ["and", ["or", ["or", {"value": "qa", "type": "cookies", "name": "cro_mode", "match": "exact"}], ["or", {"value": "true", "type": "cookies", "name": "crometrics_test_cookie", "match": "exact"}], ["or", {"value": "true", "type": "query", "name": "crometrics_test_cookie", "match": "exact"}]]], "id": "15737501278", "name": "[QA] Cro Metrics Test Cookie (OLI)"}, {"conditions": ["and", ["or", ["or", {"value": "US", "type": "location", "name": null, "match": null}]]], "id": "16539970090", "name": "U.S. Only"}, {"conditions": ["and", ["or", ["not", ["or", {"value": "3", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "4", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "5", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "6", "type": "custom_attribute", "name": "11748734789", "match": null}]]]], "id": "16649800467", "name": "Exclude: All Sellers"}, {"conditions": ["and", ["or", ["not", ["or", {"value": "4", "type": "custom_attribute", "name": "11748734789", "match": null}]]]], "id": "16882670147", "name": "Exclude Premium Sellers"}, {"conditions": ["and", ["or", ["or", {"value": "US", "type": "location", "name": null, "match": null}]]], "id": "16931205087", "name": "United States Only"}, {"conditions": ["and", ["or", ["not", ["or", {"value": null, "type": "query", "name": "is_ios", "match": "exists"}]]], ["or", ["not", ["or", {"value": "TRUE", "type": "cookies", "name": "IS_IPHONE_APP", "match": "exact"}]]]], "id": "18645441911", "name": "Exclude iOS App View"}, {"conditions": ["and", ["or", ["or", {"value": "window.sessionStorage.getItem('cro_unmatched') && window.sessionStorage.getItem('cro_unmatched') === \"true\"", "type": "code", "name": null, "match": null}]]], "id": "19997272145", "name": "Exclude Matched TPT SA Users [logged-in only]"}, {"conditions": ["and", ["or", ["or", {"value": "window.sessionStorage.getItem('cro_unmatched') && window.sessionStorage.getItem('cro_unmatched') === \"true\"", "type": "code", "name": null, "match": null}], ["or", {"value": "false", "type": "custom_attribute", "name": "11063250276", "match": null}], ["or", {"value": "window.__TPT__ && !window.__TPT__.getConfig().isLoggedIn", "type": "code", "name": null, "match": null}]]], "id": "20104667619", "name": "Exclude Matched TPT SA Users"}, {"conditions": ["and", ["or", ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"eq\",\"args\":[{\"field\":[\"20144019866\",\"20326411861\"]},{\"value\":true}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}]]], "id": "20320512724", "name": "TPT702 Easel Satisfaction Survey Status = True"}, {"conditions": ["and", ["or", ["or", {"value": "window.sessionStorage.getItem('cro_matched') && window.sessionStorage.getItem('cro_matched') === \"true\"\n", "type": "code", "name": null, "match": null}]]], "id": "20339405977", "name": "Matched TPT SA Users [logged-in only]"}, {"conditions": ["and", ["or", ["or", {"value": "false", "type": "query", "name": "cro_healthy_resource_owned", "match": "exact"}], ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"eq\",\"args\":[{\"field\":[\"20144019866\",\"20670410430\"]},{\"value\":false}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}]]], "id": "20501192466", "name": "purchased_healthy_resource_within_past_year (false)"}, {"conditions": ["and", ["or", ["or", {"value": "true", "type": "query", "name": "cro_healthy_resource_owned", "match": "exact"}], ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"eq\",\"args\":[{\"field\":[\"20144019866\",\"20670410430\"]},{\"value\":true}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}]]], "id": "20501381768", "name": "purchased_healthy_resource_within_past_year (true)"}, {"conditions": ["and", ["or", ["or", {"value": "(function () {\n  var date = optimizely.get('dcp').getAttributeValue({\n    \"datasourceId\": 20144019866, // buyer segments\n    \"attributeId\": 20572251241 // first_easel_content_created_at\n  });\n  if (!date) return false;\n  date = new Date(date);\n  var today = new Date();\n  var diff = today.getTime() - date.getTime();\n  var diffDays = diff / (1000 * 60 * 60 * 24);\n\n  return diffDays > 30;\n}());\n", "type": "code", "name": null, "match": null}]]], "id": "20535625080", "name": "First Easel Content Created > 30 Days"}, {"conditions": ["and", ["or", ["or", {"value": "(function () {\n  var date = optimizely.get('dcp').getAttributeValue({\n    \"datasourceId\": 20144019866, // buyer segments\n    \"attributeId\": 20572251241 // first_easel_content_created_at\n  });\n  if (!date) return false;\n  date = new Date(date);\n  var today = new Date();\n  var diff = today.getTime() - date.getTime();\n  var diffDays = diff / (1000 * 60 * 60 * 24);\n\n  return diffDays > 0 && diffDays <= 30;\n}());\n", "type": "code", "name": null, "match": null}]]], "id": "20553071155", "name": "First Easel less than 30 days"}, {"conditions": ["and", ["or", ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"gt\",\"args\":[{\"field\":[\"20144019866\",\"20222687010\"]},{\"value\":10}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}]]], "id": "20581671055", "name": "Schools with > 10 FTE"}, {"conditions": ["and", ["or", ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"exists\",\"args\":[{\"field\":[\"20144019866\",\"20234667484\"]},{\"value\":\"\"}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}]]], "id": "20604890334", "name": "Has DCP School Name"}, {"conditions": ["and", ["or", ["not", ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"exists\",\"args\":[{\"field\":[\"20144019866\",\"20234667484\"]},{\"value\":\"\"}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}]]]], "id": "20613054836", "name": "No DCP School Name "}, {"conditions": ["and", ["or", ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"gt\",\"args\":[{\"field\":[\"20144019866\",\"20251361885\"]},{\"value\":200}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}]]], "id": "20686301812", "name": "Schools with > 200 resources used this year"}, {"conditions": ["and", ["or", ["or", {"value": "desktop", "type": "device", "name": null, "match": null}, {"value": "ipad", "type": "device", "name": null, "match": null}, {"value": "tablet", "type": "device", "name": null, "match": null}]]], "id": "20754791812", "name": "Device | Desktop, Tablet only"}, {"conditions": ["and", ["or", ["or", {"value": "true", "type": "query", "name": "super_secret_redesign", "match": "exact"}], ["or", {"value": "true", "type": "cookies", "name": "super_secret_redesign", "match": "exact"}]]], "id": "20859692378", "name": "[TPT-968] Redesign test cookie"}, {"conditions": ["and", ["or", ["not", ["or", {"value": "1", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "7", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "8", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "9", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "10", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "11", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "12", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "13", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "14", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "15", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "16", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "17", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "18", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "19", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "20", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "21", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "22", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "23", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "24", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "25", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "26", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "27", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "28", "type": "custom_attribute", "name": "11748734789", "match": null}]]]], "id": "20872913900", "name": "Exclude TpT Internal Admins"}, {"conditions": ["and", ["or", ["or", {"value": "![\"226622\", \"34446\", \"620443\", \"728928\", \"822341\", \"990286\", \"1659786\", \"1765646\", \"5627183\", \"5909636\", \"7244336\", \"9932420\", \"15184718\", \"17163891\", \"18302756\", \"18320082\", \"20095466\", \"20106273\", \"20106427\", \"20114925\", \"20115972\", \"20129140\", \"20139574\", \"20144037\", \"20150580\"].includes(window.__TPT__userId)", "type": "code", "name": null, "match": null}]]], "id": "20959070244", "name": "Exclude Virtual Assistants"}, {"conditions": ["and", ["or", ["not", ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"eq\",\"args\":[{\"field\":[\"20144019866\",\"20834360341\"]},{\"value\":\"state + exact name\"}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}]]]], "id": "20989540462", "name": "Exclude user link type of 'state + exact name'"}, {"conditions": ["and", ["or", ["or", {"value": "// last_easel_content_created_at > 30 days AND last_easel_content_created_at ON OR AFTER 2021/02/23\n(function () {\n  var date = optimizely.get('dcp').getAttributeValue({\n    \"datasourceId\": 20144019866, // buyer segments\n    \"attributeId\": 21007273165 // last_easel_content_created_at\n  });\n  if (!date) return false;\n\n  date = new Date(date);\n  var today = new Date();\n  var diff = today.getTime() - date.getTime();\n  var diffDays = diff / (1000 * 60 * 60 * 24);\n  var thresholdDate = new Date(2021, 1, 23);\n\n  return diffDays > 30 && date.getTime() >= thresholdDate.getTime();\n}());", "type": "code", "name": null, "match": null}]]], "id": "21001703314", "name": "[DCP] Churned from Easel"}, {"conditions": ["and", ["or", ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"eq\",\"args\":[{\"field\":[\"20144019866\",\"20234616904\"]},{\"value\":\"email\"}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}], ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"eq\",\"args\":[{\"field\":[\"20144019866\",\"20234616904\"]},{\"value\":\"inst + exact name\"}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}]]], "id": "21005344518", "name": "Match_type of email or inst + name only  "}, {"conditions": ["and", ["or", ["or", {"value": "true", "type": "cookies", "name": "super_secret_redesign2", "match": "exact"}], ["or", {"value": "true", "type": "query", "name": "super_secret_redesign2", "match": "exact"}]]], "id": "21006240081", "name": "[TPT-1069] Redesign test cookie"}, {"conditions": ["and", ["or", ["or", {"value": "// first_easel_content_created_at <= 30 days \n(function () {\n  var date = optimizely.get('dcp').getAttributeValue({\n    \"datasourceId\": 20144019866, // buyer segments\n    \"attributeId\": 20572251241 // first_easel_content_created_at\n  });\n  if (!date) return false;\n  date = new Date(date);\n  var today = new Date();\n  var diff = today.getTime() - date.getTime();\n  var diffDays = diff / (1000 * 60 * 60 * 24);\n\n  return diffDays > 0 && diffDays <= 30;\n}());\n", "type": "code", "name": null, "match": null}], ["or", {"value": "// last_easel_content_created_at BEFORE 2021/02/23\n(function () {\n  var date = optimizely.get('dcp').getAttributeValue({\n    \"datasourceId\": 20144019866, // buyer segments\n    \"attributeId\": 21007273165 // last_easel_content_created_at\n  });\n  if (!date) return false;\n\n  date = new Date(date);\n  var thresholdDate = new Date(2021, 1, 23);\n\n  return date.getTime() < thresholdDate.getTime();\n}());", "type": "code", "name": null, "match": null}], ["or", {"value": "// first_easel_content_created_at = falsey\n(function () {\n  var date = optimizely.get('dcp').getAttributeValue({\n    \"datasourceId\": 20144019866, // buyer segments\n    \"attributeId\": 20572251241 // first_easel_content_created_at\n  });\n\n  return !date;\n}());\n", "type": "code", "name": null, "match": null}]]], "id": "21013123249", "name": "[DCP] Never Used OR Are New to Easel"}, {"conditions": ["and", ["or", ["or", {"value": "// first_easel_content_created_at > 30 days \n(function () {\n  var date = optimizely.get('dcp').getAttributeValue({\n    \"datasourceId\": 20144019866, // buyer segments\n    \"attributeId\": 20572251241 // first_easel_content_created_at\n  });\n  if (!date) return false;\n\n  date = new Date(date);\n  var today = new Date();\n  var diff = today.getTime() - date.getTime();\n  var diffDays = diff / (1000 * 60 * 60 * 24);\n\n  return diffDays > 30;\n}());\n", "type": "code", "name": null, "match": null}]], ["or", ["or", {"value": "// last_easel_content_created_at <= 30 days\n(function () {\n  var date = optimizely.get('dcp').getAttributeValue({\n    \"datasourceId\": 20144019866, // buyer segments\n    \"attributeId\": 21007273165 // last_easel_content_created_at\n  });\n  if (!date) return false;\n\n  date = new Date(date);\n  var today = new Date();\n  var diff = today.getTime() - date.getTime();\n  var diffDays = diff / (1000 * 60 * 60 * 24);\n\n  return diffDays > 0 && diffDays <= 30;\n}());\n", "type": "code", "name": null, "match": null}]]], "id": "21022111747", "name": "[DCP] Active or Regular Users of Easel"}, {"conditions": ["and", ["or", ["not", ["or", {"value": "3", "type": "custom_attribute", "name": "11748734789", "match": null}]], ["not", ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"eq\",\"args\":[{\"field\":[\"20144019866\",\"20301371358\"]},{\"value\":\"Basic Seller\"}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}]]]], "id": "21101772100", "name": "Exclude Basic Sellers"}, {"conditions": ["and", ["or", ["not", ["or", {"value": "3", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "5", "type": "custom_attribute", "name": "11748734789", "match": null}, {"value": "6", "type": "custom_attribute", "name": "11748734789", "match": null}]]], ["or", ["not", ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"eq\",\"args\":[{\"field\":[\"20144019866\",\"20301371358\"]},{\"value\":\"Basic Seller\"}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}]]]], "id": "21128102450", "name": "[Testing] Exclude Basic Sellers"}, {"conditions": ["and", ["or", ["not", ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"exists\",\"args\":[{\"field\":[\"20144019866\",\"20234667484\"]},{\"value\":\"\"}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}]], ["not", ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"gt\",\"args\":[{\"field\":[\"20144019866\",\"20251361885\"]},{\"value\":200}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}]]]], "id": "21154020485", "name": "No DCP school name OR less than 200 resources"}, {"conditions": ["and", ["or", ["not", ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"eq\",\"args\":[{\"field\":[\"20144019866\",\"20203584730\"]},{\"value\":true}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}]]], ["or", ["not", ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"eq\",\"args\":[{\"field\":[\"20144019866\",\"20834360341\"]},{\"value\":\"email\"}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}]], ["not", ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"eq\",\"args\":[{\"field\":[\"20144019866\",\"20834360341\"]},{\"value\":\"inst + exact name\"}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}]], ["not", ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"eq\",\"args\":[{\"field\":[\"20144019866\",\"20834360341\"]},{\"value\":\"state + exact name\"}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}]]]], "id": "21160151169", "name": "[DCP Migration] TPTSA Acquisition (Unlinked users)"}, {"conditions": ["and", ["or", ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"eq\",\"args\":[{\"field\":[\"20144019866\",\"20203584730\"]},{\"value\":true}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}]], ["or", ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"eq\",\"args\":[{\"field\":[\"20144019866\",\"20834360341\"]},{\"value\":\"email\"}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}], ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"eq\",\"args\":[{\"field\":[\"20144019866\",\"20834360341\"]},{\"value\":\"inst + exact name\"}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}], ["or", {"value": "{\"dcpServiceId\":20084273529,\"rule\":{\"where\":[\"and\",[\"or\",{\"op\":\"eq\",\"args\":[{\"field\":[\"20144019866\",\"20834360341\"]},{\"value\":\"state + exact name\"}]}]]}}", "type": "dynamic_customer_profile", "name": null, "match": null}]]], "id": "21193201189", "name": "[DCP Migration] TPTSA Linked Users (Marketplace)"}], "plugins": [function(PluginManager) {
  
  PluginManager.registerAnalyticsTracker('14328530501', {
      preRedirectPolicy: 'PERSIST_BEFORE_REDIRECT',
      postRedirectPolicy: 'TRACK_IMMEDIATELY',
      nonRedirectPolicy: 'TRACK_IMMEDIATELY',
      trackLayerDecision: function(decisionData) {
        var extension = decisionData.integrationSettings && decisionData.integrationSettings['14328530501'];
        if (!extension) {
          return;
        }
        var campaign = {
          id: decisionData.layerId,
          name: decisionData.layerName,
          policy: decisionData.layerPolicy,
          integrationStringVersion: decisionData.integrationStringVersion,
        };
        var campaignId = campaign.id;
        var experimentId = decisionData.experimentId;
        var variationId = decisionData.variationId;
        var isHoldback = decisionData.isLayerHoldback;
        extension.$fieldDefaults = [];
        (function(widg) {
  var i = 0;
  var field;
  for (; i < widg.$fieldDefaults.length; ++i) {
    field = widg.$fieldDefaults[i];
    if (!widg.hasOwnProperty(field.name)) {
      widg[field.name] = field.default_value;
    }
  }
  })(extension);
        /*
 * Javascript written in this tab will run every time a user is
 * assigned to an experiment and variation, but before any experiment
 * code runs. This hook is useful for tracking which variations a
 * visitor has been assigned to. Click the help icon for more information.
 */
(function() {
 if (FS) {
   var campaignStates = window.optimizely.get('state').getCampaignStates({"isActive":true});
   var experiments = [];
   var variations = [];
   var campaigns = [];
   for (var campaignId in campaignStates) {
     var c = campaignStates[campaignId];
     if (c.isInCampaignHoldback !== true) {
       if (c.id && c.campaignName) { campaigns.push(c.campaignName + " (" + c.id + ")"); }
       if (c.experiment && c.experiment.id && c.experiment.name) { experiments.push(c.experiment.name + " (" + c.experiment.id + ")"); }
       if (c.variation && c.variation.id && c.variation.name) { variations.push(c.variation.name + " (" + c.variation.id + ")"); }
     }
   }
   if (campaigns.length > 0) {
     FS.setUserVars({"campaign_str":campaigns.join(", "), "experiment_str": experiments.join(", "), "variation_str": variations.join(", ")});
   }
   }
})();

      },
      serializeSettings: JSON.stringify,
      deserializeSettings: JSON.parse,
    });
    
PluginManager.registerAnalyticsTracker('20275041050', {
      preRedirectPolicy: 'PERSIST_BEFORE_REDIRECT',
      postRedirectPolicy: 'TRACK_IMMEDIATELY',
      nonRedirectPolicy: 'TRACK_IMMEDIATELY',
      trackLayerDecision: function(decisionData) {
        var extension = decisionData.integrationSettings && decisionData.integrationSettings['20275041050'];
        if (!extension) {
          return;
        }
        var campaign = {
          id: decisionData.layerId,
          name: decisionData.layerName,
          policy: decisionData.layerPolicy,
          integrationStringVersion: decisionData.integrationStringVersion,
        };
        var campaignId = campaign.id;
        var experimentId = decisionData.experimentId;
        var variationId = decisionData.variationId;
        var isHoldback = decisionData.isLayerHoldback;
        extension.$fieldDefaults = [];
        (function(widg) {
  var i = 0;
  var field;
  for (; i < widg.$fieldDefaults.length; ++i) {
    field = widg.$fieldDefaults[i];
    if (!widg.hasOwnProperty(field.name)) {
      widg[field.name] = field.default_value;
    }
  }
  })(extension);
        /**
 * This hook runs each time a campaign or experiment is detected for the user, tracking
 * relevant events to Heap in the form of an "Optimizely Experiment" event with a
 * { 'Experiment Name': 'NAME HERE', 'Variation Name': 'NAME_HERE } payload.
 *
 * We could track user/event properties here but are avoiding doing so for now as there's
 * potential for us seeing unbounded growth of tracked event properties or other issues
 * due to complexity of tracking properties
 *
 * NOTE: There is a copy of this integration in the School Access and both Easel projects. Any
 * updates made here should be made in those projects as well
 */

var data = optimizely.get('data');
var variations = optimizely.get('state').getVariationMap();

var campaignName = (campaign && campaign.name) || ''; 
var experimentName = (data.experiments[experimentId] && data.experiments[experimentId].name) || '';

// Display name combines campaign name (if available) with experiment name or experiment ID
var displayName = (campaignName ? (campaignName + ' ') : '') + (experimentName || experimentId);

var variationName;
if (isHoldback) {
  variationName = 'Holdback';  
} else {
  variationName = (variations[experimentId] && variations[experimentId].name) || experimentId;
}

var trackingCall = ['Optimizely Experiment', { 'Experiment Name': displayName, 'Variation Name': variationName }];
  
// var properties = {};
// properties['Experiment: ' + displayName] = variationName;

if (window.heap) {
  if (window.heap.track) {
    // We can track directly if Heap was loaded already
    window.heap.track.apply(heap, trackingCall);
    // heap.addEventProperties(properties);  // DISABLED - Don't add user or event properties for now

  } else if (window.heap.push) {
    // Queue event for when Heap completes loading. This is a bit reverse-engineered,
    // but they're using a pretty common approach for allowing calls before
    // script has loaded.
    window.heap.push(['track'].concat(trackingCall));    
    // heap.push(['addEventProperties', properties]);
  }
}

      },
      serializeSettings: JSON.stringify,
      deserializeSettings: JSON.parse,
    });
    
}
], "accountId": "11000223989", "layers": [{"holdback": 0, "activation": {}, "integrationSettings": {}, "integrationStringVersion": 2, "viewIds": ["18645451443"], "experiments": [{"weightDistributions": [{"entityId": "18626181354", "endOfRange": 10000}], "audienceName": "U.S. Only", "name": "Admin LP Success Redirect: Pardot Success Page", "bucketingStrategy": null, "variations": [{"id": "18631851987", "actions": [], "name": "Original"}, {"id": "18626181354", "actions": [{"viewId": "18645451443", "changes": [{"dest": "https://go.teacherspayteachers.com/l/799103/2020-08-20/46hd3", "allowAdditionalRedirect": false, "dependencies": [], "preserveParameters": true, "type": "redirect", "id": "35E59733-F8DE-47EA-B4EA-49533C234315"}]}], "name": "Pardot LP"}], "audienceIds": ["and", "16539970090"], "changes": null, "id": "18610611605", "integrationSettings": null}], "id": "18636051345", "weightDistributions": null, "name": "Admin LP Success Redirect: Pardot Success Page", "groupId": null, "commitId": "18788691209", "decisionMetadata": null, "policy": "single_experiment", "changes": null}, {"holdback": 0, "activation": {}, "integrationSettings": {"12093983038": {"dimension": "77"}}, "integrationStringVersion": 2, "viewIds": ["11927697974"], "experiments": [{"weightDistributions": [{"entityId": "18727680361", "endOfRange": 10000}], "audienceName": "Device | Mobile,Exclude iOS App View", "name": "[100% to v1 - Mobile] TPT-154: Redesign Registration Page", "bucketingStrategy": null, "variations": [{"id": "18719860364", "actions": [{"viewId": "11927697974", "changes": []}], "name": "v0: Control"}, {"id": "18727680361", "actions": [{"viewId": "11927697974", "changes": [{"value": function($){window["CRO_SHARED_17918062912"].init("v1","buyer-signup");
//# sourceMappingURL=v1.buyer-signup.js.map
}, "dependencies": [], "type": "custom_code", "id": "92eb2c16868b43979c3359f0e20dadb8"}]}], "name": "v1: Redesigned Sign-up Page"}], "audienceIds": ["and", "12117143916", "18645441911"], "changes": null, "id": "18710670220", "integrationSettings": null}], "id": "18737220256", "weightDistributions": null, "name": "[100% to v1 - Mobile] TPT-154: Redesign Registration Page", "groupId": null, "commitId": "18708210081", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "9a4fae90a42d4d2690327675522d9fac", "value": function($){!function(e,t){var n=window.optimizely.get("utils"),o=n.log&&n.log.bind(window,"[".concat(e,"]"))||console.warn.bind(window,"[cro] [".concat(e,"]")),r=function(t){return n.error?n.error(e,t):console.error("[cro] [".concat(e,"]"),t)},c={"linear":function(e){return e},"easeInQuad":function(e){return e*e},"easeOutQuad":function(e){return e*(2-e)},"easeInOutQuad":function(e){return e<.5?2*e*e:(4-2*e)*e-1},"easeInCubic":function(e){return e*e*e},"easeOutCubic":function(e){return--e*e*e+1},"easeInOutCubic":function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},"easeInQuart":function(e){return e*e*e*e},"easeOutQuart":function(e){return 1- --e*e*e*e},"easeInOutQuart":function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},"easeInQuint":function(e){return e*e*e*e*e},"easeOutQuint":function(e){return 1+--e*e*e*e*e},"easeInOutQuint":function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};o("v0.1");var a=n.waitUntil((function(){return window.jQuery})),i=function(e){return a.then((function(){var t=window.jQuery(e);return n.waitUntil((function(){return t.data()&&t.data().validator})).then((function(){return t.data().validator}))}))},u=document.createElement("div");u.className="".concat(e,"__container");var s=[{"el":null,"eventName":"pjs_signup_buyer_teach","select":"#UsersProfileGradeLevel","optionTextMap":{"Select a Grade Range":"I teach..."},"sort":function(e,t){var n=["prek-2","grades 3-5","middle school","high school","higher education","adult education","homeschooler","not a teacher"],o=n.indexOf(e.value.toLowerCase()),r=n.indexOf(t.value.toLowerCase());return o<r?-1:r>o?1:0}},{"el":null,"eventName":"pjs_signup_buyer_role","select":"#UsersProfileSubjectareaAlternatives","optionTextMap":{},"shownWhen":function(e){return"Not a teacher"===e.value}},{"el":null,"eventName":"pjs_signup_buyer_interest","select":"#UsersProfileSubjectarea","optionTextMap":{"Select a Subject Area":"I'm interested in...","Multiple Elementary Subjects":"Elementary Subjects","Art/Drama/Music":"Art/Drama/\nMusic"},"shownWhen":function(e){return"Not a teacher"!==e.value}}],l=function(t,n){new MutationObserver((function(){var o=t.classList.contains("error");n.classList[o?"add":"remove"]("".concat(e,"__question--error")),o&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"linear",o=arguments.length>3?arguments[3]:void 0,r=window.pageYOffset,a="now"in window.performance?performance.now():(new Date).getTime(),i=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),u=window.innerHeight||document.documentElement.clientHeight||document.getElementsByTagName("body")[0].clientHeight,s="number"==typeof e?e:e.offsetTop,l=Math.round(i-s<u?i-u:s);if("requestAnimationFrame"in window==!1)return window.scroll(0,l),void(o&&o());function d(){var e="now"in window.performance?performance.now():(new Date).getTime(),i=Math.min(1,(e-a)/t),u=c[n](i),s=Math.ceil(u*(l-r)+r);window.scroll(0,s),s!==l?requestAnimationFrame(d):o&&o()}d()}(n)})).observe(t,{"attributes":!0})};t.init=function(t,c){!function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;r.classList.add(e),r.classList.add(e+t),o("Variation ".concat(t,", page ").concat(n))}(t,c),n.waitForElement('#UserRegisterStep1Form input[type="submit"]').then((function(t){t.value="Join Now",function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o("Applying changes. isMobile:",t),document.documentElement.classList.add(e+"--"+(t?"mobile":"desktop"));var n=0,c=null,a=document.querySelector("#UserRegisterStep1Form"),d=document.querySelector(t?".register-form":".signup_step_container"),m=function(e){t&&c&&2===e&&(c.scrollIntoView&&c.scrollIntoView(),c.disabled=!1),n=e,document.body.setAttribute("data-step",n)};if(s.forEach((function(n,o){var c=a.querySelector(n.select),s=document.createElement("div");s.className="".concat(e,"__question ").concat(n.shownWhen?" ".concat(e,"__hidden"):""),s.setAttribute("data-index",o);var d=document.createElement("div");d.className="".concat(e,"__selections"),s.append(d),[].slice.call(c.querySelectorAll("option")).sort((function(e,t){return n.sort?n.sort(e,t):0})).forEach((function(u){if(u.value){var l=document.createElement("button");l.className="".concat(e,"__selection"),l.textContent=n.optionTextMap[u.textContent]||u.textContent,l.addEventListener("click",(function(){m(0===o?1:2),c.value=u.value,c.dispatchEvent(new Event("change"));var f="".concat(e,"__selection--active");[].forEach.call(d.querySelectorAll("."+f),(function(e){return e.classList.remove(f)})),l.classList.add(f),!t&&s.className.indexOf("error")>-1&&i(a).then((function(e){return e.form()}))["catch"](r),window.optimizely.push({"type":"event","eventName":n.eventName})})),d.insertAdjacentElement("beforeend",l)}else s.insertAdjacentHTML("afterbegin",'<h4 class="'.concat(e,'__label">').concat(n.optionTextMap[u.textContent]||u.textContent,"</h4>"))})),d.insertAdjacentHTML("beforeend",'\n      <div class="'.concat(e,'__error">Select an option</div>\n    '));var f=c.closest(".input");f.style.cssText="position: absolute; visibility: hidden; left: -99999px;",n.el=s,u.insertAdjacentElement("beforeend",s),t||l(f,n.el)})),document.querySelector("#UsersProfileGradeLevel").addEventListener("change",(function(t){o("Change detected",t.target.value),s.filter((function(e){return e.shownWhen})).forEach((function(n){var o=n.shownWhen(t.target);!o&&n.el.querySelector(".".concat(e,"__selection--active"))&&(n.el.querySelector(".".concat(e,"__selection--active")).classList.remove("".concat(e,"__selection--active")),a.querySelector(n.select).value="",c&&(c.disabled=!0)),n.el.classList[o?"remove":"add"]("".concat(e,"__hidden"))})),o("currentStep",n)})),t){var f=document.querySelector(".register > h2");f.textContent="Become a Member to Access Original Resources",(c=document.createElement("button")).className="".concat(e,"__btn ").concat(e,"__btn--next"),c.textContent="Next",c.disabled=!0,c.addEventListener("click",(function(){m(3),document.querySelector(".content.register").scrollTo(0,0)})),u.append(c);var v=document.createElement("button");v.className="".concat(e,"__back"),v.innerHTML='\n      <svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z"/></svg> Back\n    ',v.addEventListener("click",(function(){n--,m(n)})),u.append(v)}d.insertAdjacentElement("afterbegin",u),m(n)}(!!document.querySelector("body#header2"))}))["catch"](r)}}("tpt154",window["CRO_SHARED_17918062912"]||(window["CRO_SHARED_17918062912"]={"id":17918062912,"tag":"tpt154"}));
//# sourceMappingURL=shared.js.map
}}, {"dependencies": [], "type": "append", "id": "91a90706f20544f2b5429264623d48d9", "value": "<style>@font-face{font-family:Proxima Nova;font-style:normal;font-weight:400;src:url(https://static1.teacherspayteachers.com/tpt-frontend/releases/production/current/e8006e3631e356c15eb6c128d447aa7d.otf) format(\"truetype\");src:url(https://static1.teacherspayteachers.com/tpt-frontend/releases/production/current/2dfdf7e135b6a2a6d7a9b5a686e7d96d.woff) format(\"woff\");src:url(https://static1.teacherspayteachers.com/tpt-frontend/releases/production/current/c72cd1945c05e145704e62827f72c4b3.woff2) format(\"woff2\")}@font-face{font-family:Proxima Nova;font-style:normal;font-weight:600;src:url(https://static1.teacherspayteachers.com/tpt-frontend/releases/production/current/a90658a6a3d11df1ebb67dfed68d36f1.otf) format(\"truetype\");src:url(https://static1.teacherspayteachers.com/tpt-frontend/releases/production/current/ef3671a33bf49b39da8f6604cbcda63d.woff) format(\"woff\");src:url(https://static1.teacherspayteachers.com/tpt-frontend/releases/production/current/6271140519baf7121b980367f07a2a86.woff2) format(\"woff2\")}.tpt154__btn{min-height:42px;padding:12px 18px;text-align:center;font-family:Proxima Nova,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;font-weight:600;border-radius:3px}.tpt154__btn.tpt154__btn--next{display:block;margin:0 auto;border:1px solid #0aa96c;background:white;color:#0aa96c}.tpt154__btn:disabled,.tpt154__btn .tpt154__disabled{border-color:#ddd;color:#ddd}.tpt154__hidden{display:none !important}.tpt154__container{font-family:Proxima Nova,Helvetica Neue,Helvetica,Arial,sans-serif}.tpt154__label{margin-bottom:12px;font-family:Proxima Nova,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;font-weight:600;color:#222}.tpt154__question--error .tpt154__label{color:#bc3816}.tpt154__selections{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin:0 -1% 24px}.tpt154__selection{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:4px;font-family:Proxima Nova,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;cursor:pointer;width:22%;margin:0 1% 8px;height:50px;border-color:#ddd;white-space:pre-line}.tpt154__selection:hover,.tpt154__selection:focus,.tpt154__selection.tpt154__selection--active{border-color:#09A96C;outline:none}.tpt154__error{display:none;width:100%;margin:5px 1% 0;color:#bc3816;font-size:14px}.tpt154__question--error .tpt154__error{display:block}.tpt154__question[data-index=\"1\"] .tpt154__selection{width:28%}.tpt154 .signup_page .signup_page_box .signup_page_content .signup_step_container,.tpt154 .register-form{padding:20px;background-color:#DFF0E5;font-family:Proxima Nova,Helvetica Neue,Helvetica,Arial,sans-serif}.tpt154 .signup_page .signup_page_box .signup_page_content .signup_step_container form,.tpt154 .register-form form{font-size:14px;color:#222}.tpt154 .signup_page .signup_page_box .signup_page_content .signup_step_container form *,.tpt154 .register-form form *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.tpt154 .signup_page .signup_page_box .signup_page_content .signup_step_container .input.error:after,.tpt154 .register-form .input.error:after{content:\"\\F071\";position:absolute;right:20px;top:50px;font-family:FontAwesome;font-size:14px;color:#bc3816}.tpt154 .signup_page .signup_page_box .signup_page_content .signup_step_container .input.select.error:after,.tpt154 .register-form .input.select.error:after{display:none;content:''}.tpt154 .signup_page .signup_page_box .signup_page_content .signup_step_container .input.select.error label:after,.tpt154 .register-form .input.select.error label:after{content:\"\\F071\";display:inline-block;margin-left:10px;font-family:FontAwesome;font-size:14px;color:#bc3816}.tpt154 .signup_page .signup_page_box .signup_page_content .signup_step_container .input input,.tpt154 .register-form .input input{border-radius:3px;border:1px solid #ddd;min-height:53px;padding:12px 18px;font-size:18px}.tpt154 .signup_page .signup_page_box .signup_page_content .signup_step_container .input input:focus,.tpt154 .register-form .input input:focus{outline:none;border-color:#0aa96c}.tpt154 .signup_page .signup_page_box .signup_page_content .signup_step_container .input label,.tpt154 .register-form .input label{font-size:16px;font-weight:600;margin-bottom:12px;letter-spacing:0;color:#222}.tpt154 .signup_page .signup_page_box .signup_page_content .signup_step_container .input label:not([for]),.tpt154 .register-form .input label:not([for]){text-transform:capitalize}.tpt154 .signup_page .signup_page_box .signup_page_content .signup_step_container .select select,.tpt154 .register-form .select select{border-radius:3px;border:1px solid #ddd}.tpt154 .signup_page .signup_page_box .signup_page_content .signup_step_container .submit input,.tpt154 .register-form .submit input{min-height:42px;padding:12px 18px;border-radius:50rem;-webkit-transition:background-color .2s ease-in-out,border-color .2s ease-in-out;-o-transition:background-color .2s ease-in-out,border-color .2s ease-in-out;transition:background-color .2s ease-in-out,border-color .2s ease-in-out;text-transform:none;font-family:Proxima Nova,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;font-weight:600;line-height:1;width:auto;margin:0 auto}.tpt154 .signup_page .signup_page_box .signup_page_content .signup_step_container .submit input:hover,.tpt154 .signup_page .signup_page_box .signup_page_content .signup_step_container .submit input:focus,.tpt154 .register-form .submit input:hover,.tpt154 .register-form .submit input:focus{background-color:#8e2a11;border-color:#8e2a11}.tpt154 .signup_page .signup_page_box .signup_page_content .signup_step_container .input.checkbox,.tpt154 .register-form .input.checkbox{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background:#fff;border-radius:3px;padding:20px 14px;margin-bottom:30px}.tpt154 .signup_page .signup_page_box .signup_page_content .signup_step_container .input.checkbox input,.tpt154 .register-form .input.checkbox input{padding:0;margin:0;min-height:auto;height:auto;position:static;float:none}.tpt154 .signup_page .signup_page_box .signup_page_content .signup_step_container .input.checkbox label,.tpt154 .register-form .input.checkbox label{margin:0;padding-left:10px;height:auto;font-size:16px;font-weight:400;line-height:1}.tpt154__selection{background:white;border:1px solid #ddd}.tpt154.tpt154--mobile .tpt154__container{max-width:300px;margin:0 auto}.tpt154.tpt154--mobile .tpt154__selection{width:48%}.tpt154.tpt154--mobile .tpt154__back{margin-top:-20px;margin-bottom:10px;margin-left:-5px;padding:0;display:none;font-family:Proxima Nova,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:16px;font-weight:600;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;border:0;background:none}.tpt154.tpt154--mobile .tpt154__back svg{margin-right:2px}.tpt154.tpt154--mobile .register>h2{margin:12px 20px;font-family:Proxima Nova,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:23px;text-align:center;text-transform:none}.tpt154.tpt154--mobile .register-form{margin:0}.tpt154.tpt154--mobile .register-form .error-message{margin-top:12px;color:#bc3816}.tpt154.tpt154--mobile .register-form .input{margin-bottom:24px}.tpt154.tpt154--mobile .register-form .input input{width:100%}.tpt154.tpt154--mobile .register-form select{width:100%;padding:6px 30px 6px 12px;border:1px solid #ddd;font-family:Proxima Nova,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;border-radius:3px;background-color:#fff;color:#222;-webkit-font-smoothing:antialiased;outline:none}.tpt154.tpt154--mobile .register-form .country-select{position:relative;border:0}.tpt154.tpt154--mobile .register-form .country-select select{-webkit-appearance:none !important;-moz-appearance:none !important;appearance:none !important;position:static !important;width:100% !important;height:auto !important;opacity:1 !important;background:#fff !important;min-height:35px}.tpt154.tpt154--mobile .register-form .country-select .customSelect{display:none !important}.tpt154.tpt154--mobile .register-form .country-select:after{position:absolute;right:12px;top:50%;pointer-events:none;width:8px;height:5px;content:\"\";background:url(\"https://www.teacherspayteachers.com/img/mobile/sprite-icons.png?rand=1587047531\") no-repeat -9px -35px;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.tpt154.tpt154--mobile .register-form label[for=\"NewslettersSubscriberSubscribeAll\"]{padding-left:40px;font-size:16px;font-weight:400}.tpt154.tpt154--mobile .register-form label[for=\"UserTerms\"]{font-size:12px;font-weight:400}.tpt154.tpt154--mobile body[data-step=\"0\"] .register-form form,.tpt154.tpt154--mobile body[data-step=\"1\"] .register-form form,.tpt154.tpt154--mobile body[data-step=\"2\"] .register-form form{display:none}.tpt154.tpt154--mobile body[data-step=\"3\"] .register>h2,.tpt154.tpt154--mobile body[data-step=\"3\"] .tpt154__question,.tpt154.tpt154--mobile body[data-step=\"3\"] .tpt154__btn--next{display:none}.tpt154.tpt154--mobile body[data-step=\"3\"] .content.register{background:#DFF0E5}.tpt154.tpt154--mobile body[data-step=\"3\"] .tpt154__container{max-width:100%}.tpt154.tpt154--mobile body[data-step=\"3\"] .tpt154__back{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.tpt154.tpt154--desktop .signup_page .signup_page_box .signup_page_content .signup_step_container .input input{padding:12px 18px}.tpt154.tpt154--desktop .signup_page .signup_page_box .signup_page_content .signup_step_container .input input:focus{outline:none;border-color:#0aa96c}.tpt154.tpt154--desktop .signup_page .signup_page_box .signup_page_content .signup_step_container .input label{letter-spacing:0}.tpt154.tpt154--desktop .signup_page .signup_page_box .signup_page_content .signup_step_container label[for=\"NewslettersSubscriberSubscribeAll\"]{padding-top:2px}.tpt154.tpt154--desktop .signup_page .signup_page_box .signup_page_content .signup_step_container .select select{padding:6px 30px 6px 12px;font-size:14px;min-height:1.5em}</style>", "selector": "head"}]}, {"holdback": 0, "activation": {}, "integrationSettings": {}, "integrationStringVersion": 2, "viewIds": ["20218652579"], "experiments": [{"weightDistributions": [{"entityId": "20238012253", "endOfRange": 10000}], "audienceName": "Everyone else", "name": "Jeff Testing Banners", "bucketingStrategy": null, "variations": [{"id": "20241662655", "actions": [], "name": "Original"}, {"id": "20238012253", "actions": [{"viewId": "20218652579", "changes": [{"dependencies": [], "type": "custom_code", "id": "AF94AB24-6184-4428-92B4-1648F0488A4B", "value": function($){var spinner = document.getElementById('optimizelyBannerImageSpinner');
if (spinner) {
  spinner.style.display = 'none';
}
var image = document.getElementById('optimizelyBannerImage');
if (image) {
	image.style.display = 'block';
  image.src = 'https://via.placeholder.com/1200x100'
}
}}]}], "name": "Variation #1"}], "audienceIds": null, "changes": null, "id": "20247522459", "integrationSettings": null}], "id": "20254952364", "weightDistributions": null, "name": "Jeff Testing Banners", "groupId": null, "commitId": "20255081933", "decisionMetadata": null, "policy": "single_experiment", "changes": null}, {"holdback": null, "activation": {}, "integrationSettings": {"20260393344": {}}, "integrationStringVersion": 2, "viewIds": ["17032032318", "20269660083"], "experiments": [{"weightDistributions": [{"entityId": "20326347381", "endOfRange": 10000}], "audienceName": "Exclude Premium Sellers,United States Only", "name": "[100% v0] TPT-610 [SA Admin LP] Header messaging test", "bucketingStrategy": null, "variations": [{"id": "20326347381", "actions": [{"viewId": "20269660083", "changes": []}, {"viewId": "17032032318", "changes": []}], "name": "v0: Original"}, {"id": "20331878625", "actions": [{"viewId": "20269660083", "changes": [{"value": function($){window["CRO_SHARED_20263860085"].init("v1","tptsa-admin-form-submission-success-page");
//# sourceMappingURL=v1.tptsa-admin-form-submission-success-page.js.map
}, "dependencies": [], "type": "custom_code", "id": "0171a5f5813b4e0ba1baddaae9fe51f4"}]}, {"viewId": "17032032318", "changes": [{"value": function($){window["CRO_SHARED_20263860085"].init("v1","tptsa-admin-landing-page");
//# sourceMappingURL=v1.tptsa-admin-landing-page.js.map
}, "dependencies": [], "type": "custom_code", "id": "53575430ec084edc8ab57008a4be0b7f"}]}], "name": "v1: Digital Copy"}, {"id": "20298878121", "actions": [{"viewId": "20269660083", "changes": [{"value": function($){window["CRO_SHARED_20263860085"].init("v2","tptsa-admin-form-submission-success-page");
//# sourceMappingURL=v2.tptsa-admin-form-submission-success-page.js.map
}, "dependencies": [], "type": "custom_code", "id": "be166a20223c47268f9ec84326bf096e"}]}, {"viewId": "17032032318", "changes": [{"value": function($){window["CRO_SHARED_20263860085"].init("v2","tptsa-admin-landing-page");
//# sourceMappingURL=v2.tptsa-admin-landing-page.js.map
}, "dependencies": [], "type": "custom_code", "id": "9b434028a6cc4a34a697a0c7abc1f9eb"}]}], "name": "v2:  Hybrid Copy"}], "audienceIds": ["and", "16882670147", "16931205087"], "changes": null, "id": "20344988727", "integrationSettings": null}], "id": "20347117387", "weightDistributions": null, "name": "[100% v0] TPT-610 [SA Admin LP] Header messaging test", "groupId": null, "commitId": "20328287214", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "8313982fd83248c8b8bcc242f628117b", "value": function($){!function(e,t){var n=20263860085,o=(window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),window.optimizely.get("utils")),i=o.log&&o.log.bind(window,"[".concat(e,"]"))||console.warn.bind(window,"[cro] [".concat(e,"]")),r=o.error&&o.error.bind(window,e)||console.error.bind(window,"[cro] [".concat(e,"]"));i("v0.1");var a={"v1":{"title":"Digital learning is here to stay. TpT School Access is here to help.","description":"Give teachers everything they need to go digital. With over 3 million ready-to-use resources to choose from, and a suite of easy-to-use digital tools, TpT School Access helps teachers adapt to online learning, without missing a beat."},"v2":{"title":"Empower teachers to support hybrid learning","description":"Give teachers all the resources they love and the flexibility they need to teach in-person and online. With over 3 million printable and digital resources to choose from, and a suite of simple digital tools, TpT School Access helps teachers maximize learning, wherever it happens."}},c=function(e){o.waitForElement(".HeroSection .LandingPageButton").then((function(t){var n=t.parentElement.parentElement;n.querySelector(".Text--h1").innerHTML=e.title,n.querySelector(".Text--body").innerHTML=e.description}))["catch"](r)};t.init=function(t,n){!function(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;o.classList.add(e),o.classList.add(e+t),i("Variation ".concat(t,", page ").concat(n))}(t,n);var l=a[t];c(l),o.waitForElement(".tpt-frontend").then((function(e){return o.waitUntil((function(){return e._reactRootContainer}))})).then((function(){c(l)}))["catch"](r)}}("tpt610",window["CRO_SHARED_20263860085"]||(window["CRO_SHARED_20263860085"]={"id":20263860085,"tag":"tpt610"}));
//# sourceMappingURL=shared.js.map
}}]}, {"holdback": null, "activation": {}, "integrationSettings": {}, "integrationStringVersion": 2, "viewIds": ["20061132384"], "experiments": [{"weightDistributions": [{"entityId": "20395700817", "endOfRange": 10000}], "audienceName": "United States Only,Device | Desktop", "name": "100% v1 TPT-570 [Desktop][Easel LP] CTA color change", "bucketingStrategy": null, "variations": [{"id": "20395156613", "actions": [], "name": "v0: control"}, {"id": "20395700817", "actions": [], "name": "v1: cta color change"}], "audienceIds": ["and", "16931205087", "12001380907"], "changes": null, "id": "20368079277", "integrationSettings": null}], "id": "20368821829", "weightDistributions": null, "name": "100% v1 TPT-570 [Desktop][Easel LP] CTA color change", "groupId": null, "commitId": "20382012850", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "413fe3862670454eacb76722ff22859a", "value": function($){!function(o,n){var i=window.optimizely.get("utils"),t=i.log&&i.log.bind(window,"[".concat(o,"]"))||console.warn.bind(window,"[cro] [".concat(o,"]")),c=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));t("v0.1"),n.init=function(n,i){!function(n,i){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;c.classList.add(o),c.classList.add(o+n),t("Variation ".concat(n,", page ").concat(i))}(n,i)},n.utils=i,n.log=t,n.error=c}("tpt570",window["CRO_SHARED_20223651468"]||(window["CRO_SHARED_20223651468"]={"id":20223651468,"tag":"tpt570"}));
//# sourceMappingURL=shared.js.map
}}]}, {"holdback": 0, "activation": {}, "integrationSettings": {}, "integrationStringVersion": 2, "viewIds": ["20061132384"], "experiments": [{"weightDistributions": [{"entityId": "20376832756", "endOfRange": 10000}], "audienceName": "Device | Desktop", "name": "100% v2 [TPT-611] [Easel LP] Learning Center Module", "bucketingStrategy": null, "variations": [{"id": "20391871172", "actions": [], "name": "v0: Control"}, {"id": "20391536292", "actions": [], "name": "v1:  learning center module"}, {"id": "20376832756", "actions": [], "name": "v2:  learning center module, different copy"}], "audienceIds": ["and", "12001380907"], "changes": null, "id": "20391763585", "integrationSettings": null}], "id": "20373871633", "weightDistributions": null, "name": "100% v2 [TPT-611] [Easel LP] Learning Center Module", "groupId": null, "commitId": "20403103126", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "ad6493cfc1824919bdc2e404d4f4d8ff", "value": function($){!function(t,e){var i=20251095226;window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={});var n=window.optimizely.get("utils"),o=n.log&&n.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),a=n.error&&n.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]")),c=function(t){return window.optimizely.push({"type":"event","eventName":t})};function s(t,e){var i=document.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,"function"==typeof e&&(i.onload=e);var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n)}o("v0.1"),e.init=function(t,e){n.waitForElement("#__next").then((function(t){return n.waitUntil((function(){return t._reactRootContainer}))})).then((function(){i()}))["catch"](a);var i=function(){n.waitForElement("body").then((function(e){n.waitForElement(".MarketingCarouselSection").then((function(i){s("https://fast.wistia.com/embed/medias/mgvgnsmsyf.jsonp"),s("https://fast.wistia.com/assets/external/E-v1.js"),s("https://fast.wistia.com/embed/medias/ngaakz5d0t.jsonp"),s("https://fast.wistia.com/assets/external/E-v1.js");var o="How One Teacher Models Assignments with Easel",d="Got Two Minutes? See How Easel Works!",r="Tips for Supporting Instructional Best Practices with Easel",l="Fun Ways to Teach with Easel in a Digital or Hybrid Classroom";"v2"===t&&(o="How a Middle School Teacher Models Assignments with Easel",d="Get Started with Easel in Your Elementary Classroom (in Just Two Minutes!)",r="Tips for Differentiating Instruction for Your Elementary Students",l="Fun Ways to Teach Elementary Students in a Digital or Hybrid Classroom"),i.insertAdjacentHTML("beforebegin",'\n\t\t  \t\t<aside class="quickLearns">\n\t\t  \t\t\t<div class="container">\n\t\t    \t\t\t\t<h2 class="MarketingCarousel__title">Quickly learn the ins and outs</h2>\n\t\t  \t\t\t\t<p class="MarketingCarousel__subtitle">Check out this collection of bite-sized videos and quick<br/> reads to get a feel for Easel.</p>\n\t\t  \t\t\t\t<div class="row" id="wistiaVideos">\n\t\t  \t\t\t\t\t<div class="col-sm-12 col-md-6 col-lg-3 video_1">\n\t\t  \t\t\t\t\t\t<div class="imageContain">\n\t\t  \t\t\t\t\t\t\t<img src="//cdn.optimizely.com/img/11000223989/30295a6519c944f88240522c3929bd03.png"/>\n\t\t  \t\t\t\t\t\t</div>\n\t\t  \t\t\t\t\t\t<div class="copyContain">\n\t\t  \t\t\t\t\t\t\t<span class="mediaType">VIDEO</span>\n\t\t  \t\t\t\t\t\t\t<p>'.concat(o,'</p>\n\t\t  \t\t\t\t\t\t\t<span class="watchLink">Watch Now <img src="//cdn.optimizely.com/img/11000223989/b2a2b0f644e74b03ae9d36122345e45b.png"/></span>\n\t\t  \t\t\t\t\t\t</div>\n\t\t  \t\t\t\t\t</div>\n\t\t    \t\t\t\t<div class="col-sm-12 col-md-6 col-lg-3 video_2">\n\t\t  \t\t\t\t\t\t<div class="imageContain">\n\t\t  \t\t\t\t\t\t\t<img src="//cdn.optimizely.com/img/11000223989/941ffade1da74bddb54d50f3a94640b1.png"/>\n\t\t  \t\t\t\t\t\t</div>\n\t\t  \t\t\t\t\t\t<div class="copyContain">\n\t\t  \t\t\t\t\t\t\t<span class="mediaType">VIDEO</span>\n\t\t  \t\t\t\t\t\t\t<p>').concat(d,'</p>\n\t\t  \t\t\t\t\t\t\t<span class="watchLink">Watch Now <img src="//cdn.optimizely.com/img/11000223989/b2a2b0f644e74b03ae9d36122345e45b.png"/></span>\n\t\t  \t\t\t\t\t\t</div>\n\t\t  \t\t\t\t\t</div>\n\t\t    \t\t\t\t<div class="col-sm-12 col-md-6 col-lg-3 report">\n\t\t  \t\t\t\t\t\t<div class="imageContain">\n\t\t  \t\t\t\t\t\t\t<a href="https://bit.ly/InstructionalPracticesReport" target="_new">\n\t\t  \t\t\t\t\t\t\t\t<img src="//cdn.optimizely.com/img/11000223989/1935f7c13b934cda9aa7143ac04bceee.png"/>\n\t\t  \t\t\t\t\t\t\t</a>\n\t\t  \t\t\t\t\t\t</div>\n\t\t  \t\t\t\t\t\t<div class="copyContain">\n\t\t  \t\t\t\t\t\t\t<span class="mediaType">REPORT</span>\n\t\t  \t\t\t\t\t\t\t<p>').concat(r,'</p>\n\t\t  \t\t\t\t\t\t\t<a href="https://bit.ly/InstructionalPracticesReport" target="_new" class="watchLink">Read More <img src="//cdn.optimizely.com/img/11000223989/b2a2b0f644e74b03ae9d36122345e45b.png"/></a>\n\t\t  \t\t\t\t\t\t</div>\n\t\t  \t\t\t\t\t</div>\n\t\t    \t\t\t\t<div class="col-sm-12 col-md-6 col-lg-3 blog">\n\t\t  \t\t\t\t\t\t<div class="imageContain">\n\t\t  \t\t\t\t\t\t\t<a href="https://blog.teacherspayteachers.com/creative-ideas-for-teaching-online/" target="_new">\n\t\t  \t\t\t\t\t\t\t\t<img src="//cdn.optimizely.com/img/11000223989/d32e7abe947b4dbf862f73535f71ffd1.png"/>\n\t\t  \t\t\t\t\t\t\t</a>\n\t\t  \t\t\t\t\t\t</div>\n\t\t  \t\t\t\t\t\t<div class="copyContain">\n\t\t  \t\t\t\t\t\t\t<span class="mediaType">BLOG</span>\n\t\t  \t\t\t\t\t\t\t<p>').concat(l,'</p>\n\t\t  \t\t\t\t\t\t\t<a href="https://blog.teacherspayteachers.com/creative-ideas-for-teaching-online/" target="_new" class="watchLink">Read More <img src="//cdn.optimizely.com/img/11000223989/b2a2b0f644e74b03ae9d36122345e45b.png"/></a>\n\t\t  \t\t\t\t\t\t</div>\n\t\t  \t\t\t\t\t</div>\n\t\t  \t\t\t\t</div>\n\t\t  \t\t\t</div>\n\t\t  \t\t</aside>\n\t\t  \t')),e.insertAdjacentHTML("beforeend",'\n\t  \t\t\t<div class="videoContain">\n\t  \t\t\t\t<div class="video_1">\n\t  \t\t\t\t\t<div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">\n\t  \t\t\t\t\t\t<div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">\n\t  \t\t\t\t\t\t\t<span class="wistia_embed wistia_async_ngaakz5d0t popover=true popoverAnimateThumbnail=true videoFoam=true" style="display:inline-block;height:100%;position:relative;width:100%">\n\t  \t\t\t\t\t\t\t</span>\n\t  \t\t\t\t\t\t</div>\n\t  \t\t\t\t\t</div>\n\t  \t\t\t\t</div>\n\t  \t\t\t\t<div class="video_2">\n\t    \t\t\t\t<div class="wistia_responsive_padding" style="padding:56.25% 0 0 0;position:relative;">\n\t  \t\t\t\t\t\t<div class="wistia_responsive_wrapper" style="height:100%;left:0;position:absolute;top:0;width:100%;">\n\t  \t\t\t\t\t\t\t<span class="wistia_embed wistia_async_mgvgnsmsyf popover=true popoverAnimateThumbnail=true videoFoam=true" style="display:inline-block;height:100%;position:relative;width:100%">\n\t  \t\t\t\t\t\t\t</span>\n\t  \t\t\t\t\t\t</div>\n\t  \t\t\t\t\t</div>\n\t  \t\t\t\t</div>\n\t  \t\t\t</div>\n\t   \t\t\t<div class="cro-overlay"></div>\n\t  \t\t'),document.querySelector(".video_1 .watchLink").addEventListener("click",(function(){c("tpt611_click_influencer")})),document.querySelector(".video_2 .watchLink").addEventListener("click",(function(){c("tpt611_click_howto")})),document.querySelector(".report .watchLink").addEventListener("click",(function(){c("tpt611_click_pdf")})),document.querySelector(".blog .watchLink").addEventListener("click",(function(){c("tpt611_click_blog")})),document.querySelector(".video_1 .imageContain").addEventListener("click",(function(){c("tpt611_click_influencer")})),document.querySelector(".video_2 .imageContain").addEventListener("click",(function(){c("tpt611_click_howto")})),document.querySelector(".report .imageContain").addEventListener("click",(function(){c("tpt611_click_pdf")})),document.querySelector(".blog .imageContain").addEventListener("click",(function(){c("tpt611_click_blog")})),n.waitUntil((function(){return window.Wistia&&Wistia.api("ngaakz5d0t")&&Wistia.api("mgvgnsmsyf")})).then((function(){var t=Wistia.api("mgvgnsmsyf"),e=Wistia.api("ngaakz5d0t");document.querySelector(".video_1 .watchLink").addEventListener("click",(function(){document.querySelector(".videoContain").classList.add("active"),document.querySelector(".videoContain .video_1").classList.add("active"),e.play()})),document.querySelector(".video_2 .watchLink").addEventListener("click",(function(){document.querySelector(".videoContain").classList.add("active"),document.querySelector(".videoContain .video_2").classList.add("active"),t.play()})),document.querySelector(".video_1 .imageContain").addEventListener("click",(function(){document.querySelector(".videoContain").classList.add("active"),document.querySelector(".videoContain .video_1").classList.add("active"),e.play()})),document.querySelector(".video_2 .imageContain").addEventListener("click",(function(){document.querySelector(".videoContain").classList.add("active"),document.querySelector(".videoContain .video_2").classList.add("active"),t.play()})),document.querySelector(".cro-overlay").addEventListener("click",(function(){document.querySelector(".videoContain").classList.remove("active"),document.querySelector(".videoContain .video_1").classList.remove("active"),document.querySelector(".videoContain .video_2").classList.remove("active"),e.pause(),t.pause()})),e.bind("pause",(function(){document.querySelector(".videoContain").classList.remove("active"),document.querySelector(".videoContain .video_1").classList.remove("active"),document.querySelector(".videoContain .video_2").classList.remove("active")})),t.bind("pause",(function(){document.querySelector(".videoContain").classList.remove("active"),document.querySelector(".videoContain .video_1").classList.remove("active"),document.querySelector(".videoContain .video_2").classList.remove("active")})),e.bind("end",(function(){document.querySelector(".videoContain").classList.remove("active"),document.querySelector(".videoContain .video_1").classList.remove("active"),document.querySelector(".videoContain .video_2").classList.remove("active")})),t.bind("end",(function(){document.querySelector(".videoContain").classList.remove("active"),document.querySelector(".videoContain .video_1").classList.remove("active"),document.querySelector(".videoContain .video_2").classList.remove("active")})),e.bind("percentwatchedchanged",(function(t,e){t>=.1&&e<.1&&(c("tpt611_how_to_video_10"),c("tpt611_influencer_10")),t>=.5&&e<.5&&(c("tpt611_how_to_video_50"),c("tpt611_influencer_50"))})),t.bind("percentwatchedchanged",(function(t,e){t>=.1&&e<.1&&(c("tpt611_how_to_video_10"),c("tpt611_works_10")),t>=.5&&e<.5&&(c("tpt611_how_to_video_50"),c("tpt611_works_50"))})),e.bind("end",(function(){c("tpt611_how_to_video_100"),c("tpt611_influencer_100")})),t.bind("end",(function(){c("tpt611_how_to_video_100"),c("tpt611_works_100")}))}))["catch"](a)}))["catch"](a)}))["catch"](a)}}}("tpt611",window["CRO_SHARED_20251095226"]||(window["CRO_SHARED_20251095226"]={"id":20251095226,"tag":"tpt611"}));
//# sourceMappingURL=shared.js.map
}}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["19186070224"], "experiments": [{"weightDistributions": [{"entityId": "20399613147", "endOfRange": 10000}], "audienceName": "Exclude Premium Sellers,United States Only,Exclude Matched TPT SA Users,Device | Desktop", "name": "100% v1 TPT-660 [PDP | SA Flagged] Test iterations of marketplace form on PDP", "bucketingStrategy": null, "variations": [{"id": "20383814433", "actions": [{"viewId": "19186070224", "changes": []}], "name": "v0: Control - 660"}, {"id": "20399613147", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){window["CRO_SHARED_20315893226"].init("v1","pdp-tpt-sa-flagged");
//# sourceMappingURL=v1.pdp-tpt-sa-flagged.js.map
}, "dependencies": [], "type": "custom_code", "id": "e4d5b0166dc1435484353bc4d5f050a4"}]}], "name": "v1: Form explanation modal"}], "audienceIds": ["and", "16882670147", "16931205087", "20104667619", "12001380907"], "changes": null, "id": "20373893652", "integrationSettings": null}], "id": "20386102346", "weightDistributions": null, "name": "100% v1 TPT-660 [PDP | SA Flagged] Test iterations of marketplace form on PDP", "groupId": null, "commitId": "20401641222", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "a8a53a16bf994169a54d87e487429f24", "value": function($){!function(t,o){var n=20315893226,i=(window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),window.optimizely.get("utils")),e=i.log&&i.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),c=i.error&&i.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));e("v0.3");var a=function(){i.observeSelector(".SchoolsHeading",(function(){null===document.querySelector(".tptsa-text")&&document.querySelector(".SchoolsHeading").insertAdjacentHTML("afterend",'\n      <div class="tptsa-text">\n        TpT School Access is a school-wide subscription that combines access to a catalog of nearly 4 million resources with a suite of easy-to-use digital tools. Fill out this form and well send an email to your principal with details about TpT School Access.\n      </div>')}))};o.init=function(o,n){!function(o,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;i.classList.add(t),i.classList.add(t+o),e("Variation ".concat(o,", page ").concat(n))}(o,n),a(),i.waitForElement(".tpt-frontend").then((function(t){return i.waitUntil((function(){return t._reactRootContainer}))})).then((function(){a()}))["catch"](c)}}("tpt660",window["CRO_SHARED_20315893226"]||(window["CRO_SHARED_20315893226"]={"id":20315893226,"tag":"tpt660"}));
//# sourceMappingURL=shared.js.map
}}, {"dependencies": [], "type": "append", "id": "bc7068f6c6e845139ba574e72c163d3a", "value": "<style>.tpt660 .tptsa-text{margin-top:17px}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["19186070224"], "experiments": [{"weightDistributions": [{"entityId": "20425669939", "endOfRange": 10000}], "audienceName": "Exclude Premium Sellers,United States Only,Device | Desktop,Exclude Matched TPT SA Users", "name": "Copy of [100% v0] TPT-661 [PDP] Banner Placement Optimization for PDP Pages", "bucketingStrategy": null, "variations": [{"id": "20425669939", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){window["CRO_SHARED_20268701848"].init("v0","pdp-tpt-sa-flagged");
//# sourceMappingURL=v0.pdp-tpt-sa-flagged.js.map
}, "dependencies": [], "type": "custom_code", "id": "c069ec0c81504fe7beab32a09bbc5ebd"}]}], "name": "v0: Control - current placement above price box on right hand rail"}, {"id": "20416338261", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){window["CRO_SHARED_20268701848"].init("v1","pdp-tpt-sa-flagged");
//# sourceMappingURL=v1.pdp-tpt-sa-flagged.js.map
}, "dependencies": [], "type": "custom_code", "id": "469f28ec3c2c4debaf9123d172239cd7"}]}], "name": "v1: top banner"}], "audienceIds": ["and", "16882670147", "16931205087", "12001380907", "20104667619"], "changes": null, "id": "20421708578", "integrationSettings": null}], "id": "20424324374", "weightDistributions": null, "name": "Copy of [100% v0] TPT-661 [PDP] Banner Placement Optimization for PDP Pages", "groupId": null, "commitId": "20418420223", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "addeef4daf1a435fb2d2a54d8c115f1b", "value": function($){function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}!function(e,t){var n=20268701848,r=(window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),window.optimizely.get("utils")),a=r.log&&r.log.bind(window,"[".concat(e,"]"))||console.warn.bind(window,"[cro] [".concat(e,"]")),o=r.error&&r.error.bind(window,e)||console.error.bind(window,"[cro] [".concat(e,"]"));a("v0.1");var i=function(t){var n=_slicedToArray({"v0":["price-box__tptsa","//cdn.optimizely.com/img/11000223989/2a950034f69f4696853cb15b1b84646b.svg",'.StickyProductPageSideColumnLayout [data-testid="sticky-price-box-wrapper"]',"beforebegin",""],"v1":["top-banner","//cdn.optimizely.com/img/11000223989/f5aec95c0c994b1ba40e1014eafbb97f.png",".ProductPageLayout__outerGridContainer","afterbegin",'<a href="#" class="banner-close"><img src="//cdn.optimizely.com/img/11000223989/b9244dc59d9b4672b56a0ee918d55ef0.svg" alt="close-banner"></a>']}[t],5),i=n[0],c=n[1],l=n[2],s=n[3],d=n[4],u='\n    <div class="'.concat(e,"-banner ").concat(i,'">\n      <img src="').concat(c,'" class="banner-logo" alt="TPT School Access">\n      <p>Get a school-funded subscription</p>\n      <a href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign=').concat(e).concat(t,'" class="cta-link" target="_blank">Learn More</a>\n      ').concat(d,"\n    </div>\n  ");r.waitForElement(l).then((function(n){n.insertAdjacentHTML(s,u);var i=document.querySelector(".".concat(e,"-banner"));i.querySelector(".cta-link").addEventListener("click",(function(t){t.preventDefault();try{window.__displayTeacherAdvocacyModal(),r.waitForElement('[form="TEACHER_ADVOCACY_PARDOT"] .TeacherAdvocacyForm').then((function(t){var n=window.__TPT__&&window.__TPT__.getConfig()&&window.__TPT__.getConfig().isLoggedIn;a(n?"short form loaded!":"long form loaded!");var i=t.querySelector(".TeacherAdvocacyForm__submit");i.classList.add("js-hidden");var c=t.querySelector("#label_personalizedMessage"),l=t.querySelectorAll(".row"),s=Array.from(l),d=n?s.slice(0,3):s.slice(0,6),u=n?s.slice(3):s.slice(6);u.push(c),t.insertAdjacentHTML("beforeend",'\n      <div align="center">\n        <a id="'.concat(e,'-next-btn" class="DSButton DSButton--primary DSButton--medium DSButton--contained LandingPageButton DSButton--disabled" disabled><span class="DSButton__content"><span class="DSButton__text">Next</span></span></a>\n      </div>\n    ')),u.forEach((function(e){e.classList.add("js-hidden")})),r.waitForElement("#".concat(e,"-next-btn")).then((function(e){var r=t.querySelector("#teacherFirstName"),o=t.querySelector("#teacherLastName"),c=t.querySelector("#teacherEmail"),l=t.querySelector("#firstName"),s=t.querySelector("#lastName"),f=t.querySelector("#email");t.addEventListener("keyup",(function(){!n&&r.value&&o.value&&c.value&&l.value&&s.value||n&&l.value&&s.value?(a("all required fields are filled"),t.querySelector(".Input--error")?(a("there is an active field error"),e.classList.add("DSButton--disabled"),e.disabled=!0):(a("all fields are valid"),e.classList.remove("DSButton--disabled"),e.disabled=!1)):(a("a required field is unfilled"),e.classList.add("DSButton--disabled"),e.disabled=!0)})),e.addEventListener("click",(function(){e.classList.contains("DSButton--disabled")||(d.forEach((function(e){e.classList.add("js-hidden")})),u.forEach((function(e){e.classList.remove("js-hidden")})),f.focus(),i.classList.remove("js-hidden"),e.classList.add("js-hidden"))}))}))["catch"](o)}))["catch"](o)}catch(t){window.location.href=t.target.href}})),"v0"!==t&&i.querySelector(".banner-close").addEventListener("click",(function(e){e.preventDefault(),i.remove()}))}))["catch"](o)};t.init=function(t,n){!function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;r.classList.add(e),r.classList.add(e+t),a("Variation ".concat(t,", page ").concat(n))}(t,n),r.waitForElement(".tpt-frontend").then((function(e){return r.waitUntil((function(){return e._reactRootContainer}))})).then((function(){i(t)}))["catch"](o)}}("tpt661",window["CRO_SHARED_20268701848"]||(window["CRO_SHARED_20268701848"]={"id":20268701848,"tag":"tpt661"}));
//# sourceMappingURL=shared.js.map
}}, {"dependencies": [], "type": "append", "id": "21b448dd4c8345509a5ab6b46f899560", "value": "<style>.tpt661-banner.price-box__tptsa{margin-bottom:17px;background-color:#E8EDF7;border-radius:3px;padding:24px;text-align:center}.tpt661-banner.price-box__tptsa p{font-size:14px;font-weight:700;margin:12px 0;color:#1E1C4D}.tpt661-banner.price-box__tptsa .cta-link{background-color:#3E51A2;color:#fff;padding:12px 18px;font-size:16px;display:inline-block;width:100%;border-radius:28px;line-height:1;font-weight:600}.tpt661-banner.top-banner{background:-webkit-gradient(linear, left top, right top, color-stop(4.41%, #E5E6FE), color-stop(96.99%, rgba(255,255,255,0))),#E8E9FF;background:-o-linear-gradient(left, #E5E6FE 4.41%, rgba(255,255,255,0) 96.99%),#E8E9FF;background:linear-gradient(90deg, #E5E6FE 4.41%, rgba(255,255,255,0) 96.99%),#E8E9FF;min-height:70px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;border-radius:4px;padding:24px 46px;margin-bottom:24px}@media (max-width: 768px){.tpt661-banner.top-banner{display:none}}.tpt661-banner.top-banner .banner-logo{width:188px}.tpt661-banner.top-banner p{font-weight:700;font-size:21px;color:#1D1B4B}.tpt661-banner.top-banner .cta-link{text-decoration:underline;color:#0AA96C;font-weight:700;font-size:20px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.tpt661-banner.top-banner .cta-link:hover{color:#07794d}.tpt661 .TeacherAdvocacyForm .js-hidden{display:none !important}.tpt661 .TeacherAdvocacyForm [class^=\"js-form\"]{display:none}.tpt661 .TeacherAdvocacyForm [class^=\"js-form\"].active{display:block}.tpt661 .TeacherAdvocacyForm [class^=\"js-form\"][class*=\"--status\"]{display:block}.tpt661 .TeacherAdvocacyForm .DSButton{width:100%;padding:18px}.tpt661 .tpt-frontend .DSButton--disabled,.tpt661 .tpt-frontend .DSButton--loading,.tpt661 .tpt-frontend .DSButton:disabled{background-color:#f5f5f5 !important;border:1px solid #ddd !important;cursor:not-allowed !important}</style>", "selector": "head"}]}, {"holdback": 0, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["20216364376"], "experiments": [{"weightDistributions": [{"entityId": "20489873294", "endOfRange": 5000}, {"entityId": "20489943579", "endOfRange": 10000}], "audienceName": "purchased_healthy_resource_within_past_year (true),[QA] Cro Metrics Test Cookie (OLI)", "name": "[TEST COOKIE] healthy_resource_owned", "bucketingStrategy": null, "variations": [{"id": "20489873294", "actions": [{"viewId": "20216364376", "changes": [{"dependencies": [], "type": "custom_code", "id": "D89C0E5C-E0B7-459E-9675-95C5EE3AEF32", "value": function($){window["CRO_SHARED_20277448519"].init("exp2-v0","tpt-579-page");
//# sourceMappingURL=exp2-v0.tpt-579-page.js.map
}}, {"value": "<style>#optimizelyBannerPlaceholder{background-size:contain;background-position:center;height:100%;background-color:#f9f3ec;cursor:pointer}@media (min-width: 768px){#optimizelyBannerPlaceholder{height:100px;background-image:url(https://ecdn.teacherspayteachers.com/static/no_healthy_resources_desktop.png)}}@media (max-width: 767px){#optimizelyBannerPlaceholder{background-image:url(https://ecdn.teacherspayteachers.com/static/no_healthy_resources_mobileV2.png)}}</style>", "selector": "head", "dependencies": [], "type": "append", "id": "C07900C4-E5A0-488F-9BDF-3181A9DE8080"}]}], "name": "v0: No Healthy Resource Banner"}, {"id": "20489943579", "actions": [{"viewId": "20216364376", "changes": [{"dependencies": [], "type": "custom_code", "id": "36608537-9442-4975-A2F4-E2D05F34EC09", "value": function($){window["CRO_SHARED_20277448519"].init("exp2-v1","tpt-579-page");
//# sourceMappingURL=exp2-v1.tpt-579-page.js.map
}}, {"value": "<style>#optimizelyBannerPlaceholder{background-size:contain;background-position:center;height:100%;background-color:#f9f3ec;cursor:pointer}@media (min-width: 768px){#optimizelyBannerPlaceholder{height:100px;background-image:url(https://ecdn.teacherspayteachers.com/static/healthy_resources_desktop.png)}}@media (max-width: 767px){#optimizelyBannerPlaceholder{background-image:url(https://ecdn.teacherspayteachers.com/static/healthy_resources_mobile.png)}}</style>", "selector": "head", "dependencies": [], "type": "append", "id": "3B9F4FC1-C324-4687-87E5-55195E93232D"}]}], "name": "v1: Healthy Resource Banner"}], "audienceIds": ["and", "20501381768", "15737501278"], "changes": null, "id": "20486401727", "integrationSettings": null}, {"weightDistributions": null, "audienceName": "purchased_healthy_resource_within_past_year (false),[QA] Cro Metrics Test Cookie (OLI)", "name": "[TEST COOKIE] healthy_resource_not_owned", "bucketingStrategy": null, "variations": [{"id": "20444805415", "actions": [{"viewId": "20216364376", "changes": [{"dependencies": [], "type": "custom_code", "id": "2A683F55-1B79-4F4F-AE2E-611123E76E0C", "value": function($){window["CRO_SHARED_20277448519"].init("exp1-v0","tpt-579-page");
//# sourceMappingURL=exp1-v0.tpt-579-page.js.map
}}, {"value": "<style>#optimizelyBannerPlaceholder{background-size:contain;background-position:center;height:100%;background-color:#f9f3ec;cursor:pointer}@media (min-width: 768px){#optimizelyBannerPlaceholder{height:100px;background-image:url(https://ecdn.teacherspayteachers.com/static/no_healthy_resources_desktop.png)}}@media (max-width: 767px){#optimizelyBannerPlaceholder{background-image:url(https://ecdn.teacherspayteachers.com/static/no_healthy_resources_mobileV2.png)}}</style>", "selector": "head", "dependencies": [], "type": "append", "id": "F1DF078A-A140-4D91-A22A-FFB1F79FA68D"}]}], "name": "v0: No Healthy Resource Banner"}], "audienceIds": ["and", "20501192466", "15737501278"], "changes": null, "id": "20489332226", "integrationSettings": null}], "id": "20462366525", "weightDistributions": null, "name": "[TEST COOKIE]TPT-745: [Eyebrow Banner] BTS Easel Healthy Resource Messaging", "groupId": null, "commitId": "20612820104", "decisionMetadata": {"experimentPriorities": [[{"entityId": "20489332226", "endOfRange": null}], [{"entityId": "20486401727", "endOfRange": null}]], "offerConsistency": null}, "policy": "equal_priority", "changes": [{"dependencies": [], "type": "custom_code", "id": "C3CF7156-D8EF-4892-A5FE-819E02A71FAD", "value": function($){!function(n,t){var o=20277448519,e=(window["CRO_SHARED_"+o]||(window["CRO_SHARED_"+o]={}),window.optimizely.get("utils")),i=e.log&&e.log.bind(window,"[".concat(n,"]"))||console.warn.bind(window,"[cro] [".concat(n,"]")),c=e.error&&e.error.bind(window,n)||console.error.bind(window,"[cro] [".concat(n,"]"));t.init=function(t,o){!function(t,o){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;e.classList.add(n),e.classList.add(n+t),i("Variation ".concat(t,", page ").concat(o))}(t,o),e.waitForElement("#optimizelyBanner").then((function(n){n.addEventListener("click",(function(){window.location.href=t.indexOf("v0")>-1?"https://www.teacherspayteachers.com/Browse/Featured/Ready-to-Go-Easel-Resources/Order:Price-Asc":"https://www.teacherspayteachers.com/My-Purchases"})),n.classList.add("OptimizelyBannerContainer--loaded")}))["catch"](c)}}("tpt745",window["CRO_SHARED_20277448519"]||(window["CRO_SHARED_20277448519"]={"id":20277448519,"tag":"tpt745"}));
//# sourceMappingURL=shared.js.map
}}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["20061132384"], "experiments": [{"weightDistributions": [{"entityId": "20552474517", "endOfRange": 10000}], "audienceName": "Device | Desktop", "name": "[100% to v1] TPT-725 [Easel LP][Desktop] Assessments features side by side", "bucketingStrategy": null, "variations": [{"id": "20595792110", "actions": [], "name": "v0: Control"}, {"id": "20552474517", "actions": [], "name": "v1: side-by-side"}], "audienceIds": ["and", "12001380907"], "changes": null, "id": "20583162491", "integrationSettings": null}], "id": "20546743484", "weightDistributions": null, "name": "[100% to v1] TPT-725 [Easel LP][Desktop] Assessments features side by side", "groupId": null, "commitId": "20584963045", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "c9e126ea772a424da857f38dbf5309fb", "value": function($){!function(e,t){var n=20383707994,s=(window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),window.optimizely.get("utils")),i=s.log&&s.log.bind(window,"[".concat(e,"]"))||console.warn.bind(window,"[cro] [".concat(e,"]")),a=s.error&&s.error.bind(window,e)||console.error.bind(window,"[cro] [".concat(e,"]"));i("v0.1");var r=function(){s.observeSelector(".WaysYouTeach",(function(e){document.querySelector(".feature-modules")||e.insertAdjacentHTML("afterend",'<section class="feature-modules">\r\n    <h1>What you\'ll love about Easel by TpT</h1>\r\n    <div class="modules">\r\n        <div class="activities module">\r\n            <div class="icon">\r\n                <img src="//cdn.optimizely.com/img/11000223989/1da645ca584a438181979f36a478466b.svg" alt="activities" />\r\n            </div>\r\n            <h2>Activities</h2>\r\n            <ul class="feature-list">\r\n                <li>One-click assign to students</li>\r\n                <li>Use TpT resources digitally</li>\r\n                <li>Edit and present live</li>\r\n            </ul>\r\n            <a href="https://easel.teacherspayteachers.com/activities" target="_blank"><button class="get-started">Get Started</button></a>\r\n        </div>\r\n        <div class="assessments module">\r\n            <div class="icon">\r\n                <img src="//cdn.optimizely.com/img/11000223989/d6a27f4c39214d1eb8e31ef3bd752534.svg" alt="assessments" />\r\n            </div>\r\n            <h2>Assessments</h2>\r\n            <ul class="feature-list">\r\n                <li>Auto-grade quizzes</li>\r\n                <li>See real-time student data</li>\r\n                <li>Send immediate feedback</li>\r\n            </ul>\r\n            <a href="https://easel.teacherspayteachers.com/assessments" target="_blank"><button class="get-started">Get Started</button></a>\r\n        </div>\r\n    </div>\r\n</section>');var t=new MutationObserver((function(n){n.forEach((function(n){n.removedNodes.forEach((function(n){n.classList.contains("feature-modules")&&(e.insertAdjacentElement("afterend",n),t.disconnect())}))}))}));t.observe(e.parentElement,{"childList":!0})})),s.observeSelector(".EaselAssessments",(function(e){e.style.display="none"}))};t.init=function(t,n){!function(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;s.classList.add(e),s.classList.add(e+t),i("Variation ".concat(t,", page ").concat(n))}(t,n),"v0"!==t&&(r(),s.waitForElement(".tpt-frontend").then((function(e){return s.waitUntil((function(){return e._reactRootContainer}))})).then((function(){r()}))["catch"](a))}}("tpt725",window["CRO_SHARED_20383707994"]||(window["CRO_SHARED_20383707994"]={"id":20383707994,"tag":"tpt725"}));
//# sourceMappingURL=shared.js.map
}}, {"dependencies": [], "type": "append", "id": "f834e36e16d14eeabce5159e6b970048", "value": "<style>.tpt725 .feature-modules{background:#fff;font-family:Tiempos}.tpt725 .feature-modules h1{text-align:center;padding-top:15px;font-size:40px;padding-top:50px}.tpt725 .feature-modules h2{font-size:40px;padding-top:20px;padding-bottom:10px}.tpt725 .feature-modules button{font-family:'Graphik', sans-serif;font-size:17px;line-height:34px;color:#2d2e32;font-weight:500;border:1px solid #000000;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border-radius:100px;width:205px;height:49px;background-color:#fff;margin-top:41px}.tpt725 .feature-modules button:hover{background-color:rgba(34,34,34,0.05)}.tpt725 .modules{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.tpt725 .feature-list{font-family:Graphik}.tpt725 .module{border:2px solid #dddddd;margin:30px 25px;padding:45px 52px 45px 60px;border-radius:30px;width:472px;height:486px}.tpt725 .module ul{padding-top:8px;padding:0;font-size:24px}@media (max-width: 1053px){.tpt725 .module ul{font-size:21px}}.tpt725 .module li{list-style:none;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-top:10px}.tpt725 .module li::before{content:'L';-ms-transform:scaleX(-1) rotate(-35deg);-webkit-transform:scaleX(-1) rotate(-35deg);transform:scaleX(-1) rotate(-35deg);font-weight:600;font-size:15px;height:24px;width:24px;vertical-align:top;margin-right:0.3em;text-align:center;color:#667cce;margin-right:10px;border:2px solid #667cce;border-radius:50%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding-bottom:2px}.tpt725 .module:hover{background:#ffffff;border:2px solid #a1b1f1;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:7px 7px 20px rgba(0,0,0,0.15);box-shadow:7px 7px 20px rgba(0,0,0,0.15);border-radius:30px}.tpt725 .icon{border:2px solid #323232;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border-radius:50%;width:66px;height:66px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}</style>", "selector": "head"}]}, {"holdback": 500, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["20360232252"], "experiments": [{"weightDistributions": null, "audienceName": "TPT702 Easel Satisfaction Survey Status = True,First Easel less than 30 days", "name": "First Easel less than 30 days (HJ: tpt702_v1)", "bucketingStrategy": null, "variations": [{"id": "20537128028", "actions": [{"viewId": "20360232252", "changes": [{"dependencies": [], "type": "custom_code", "id": "6DB9CFE5-D2B3-4112-98B8-322D60142117", "value": function($){window["CRO_SHARED_20277448519"].init("exp2-v1","tpt672-pdp-exclude-tpt672-pages","tpt702_v1");
//# sourceMappingURL=exp2-v1.tpt672-pdp-exclude-tpt672-pages.js.map
}}]}], "name": "v1: First Easel less than 30 days"}], "audienceIds": ["and", "20320512724", "20553071155"], "changes": null, "id": "20506537976", "integrationSettings": null}, {"weightDistributions": null, "audienceName": "TPT702 Easel Satisfaction Survey Status = True,First Easel Content Created > 30 Days", "name": "First Easel more than 30 days (HJ: tpt823_v1)", "bucketingStrategy": null, "variations": [{"id": "20506883519", "actions": [{"viewId": "20360232252", "changes": [{"dependencies": [], "type": "custom_code", "id": "4351D618-D711-49AF-ACB6-DA4138F9D7FC", "value": function($){window["CRO_SHARED_20277448519"].init("exp1-v1","tpt672-pdp-exclude-tpt672-pages","tpt823_v1");
//# sourceMappingURL=exp1-v1.tpt672-pdp-exclude-tpt672-pages.js.map
}}]}], "name": "v1: First Easel more than 30 days"}], "audienceIds": ["and", "20320512724", "20535625080"], "changes": null, "id": "20541643171", "integrationSettings": null}], "id": "20547071610", "weightDistributions": null, "name": "TPT-823: PDP | Easel Usage Survey with DCP Data 2", "groupId": null, "commitId": "20667040557", "decisionMetadata": {"experimentPriorities": [[{"entityId": "20541643171", "endOfRange": null}], [{"entityId": "20506537976", "endOfRange": null}]], "offerConsistency": null}, "policy": "equal_priority", "changes": [{"dependencies": [], "type": "custom_code", "id": "63DA6BBC-9C5D-440C-8608-CF1B0BC175FE", "value": function($){!function(n,o){var i=20277448519,t=(window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),window.optimizely.get("utils")),c=t.log&&t.log.bind(window,"[".concat(n,"]"))||console.warn.bind(window,"[cro] [".concat(n,"]")),d=t.error&&t.error.bind(window,n)||console.error.bind(window,"[cro] [".concat(n,"]"));o.init=function(o,i,w){!function(o,i){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;t.classList.add(n),t.classList.add(n+o),c("Variation ".concat(o,", page ").concat(i))}(o,i),t.waitUntil((function(){return window.hj})).then((function(){return hj("trigger",w)}))["catch"](d)}}("tpt823",window["CRO_SHARED_20277448519"]||(window["CRO_SHARED_20277448519"]={"id":20277448519,"tag":"tpt823"}));
//# sourceMappingURL=shared.js.map
}}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["20466119636"], "experiments": [{"weightDistributions": [{"entityId": "20567222448", "endOfRange": 10000}], "audienceName": "U.S. Only,Matched TPT SA Users [logged-in only]", "name": "[100% to v1]TPT-765 [Search/Browse] Matched User Add to Wishlist", "bucketingStrategy": null, "variations": [{"id": "20563392303", "actions": [{"viewId": "20466119636", "changes": []}], "name": "v0: No control"}, {"id": "20567222448", "actions": [{"viewId": "20466119636", "changes": [{"value": function($){!function(o,r,i){var t=20470147570,n=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),w=window.optimizely.get("utils"),d=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v1","pjs-browse-matched-wishlist-added")}catch(o){d(o)}}("tpt765");
//# sourceMappingURL=v1.pjs-browse-matched-wishlist-added.js.map
}, "dependencies": [], "type": "custom_code", "id": "81101e592f2940b2b042f95076a1efad"}]}], "name": "v1: Bookmark Now"}, {"id": "20520633531", "actions": [{"viewId": "20466119636", "changes": [{"value": function($){!function(o,r,i){var t=20470147570,n=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),w=window.optimizely.get("utils"),d=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v2","pjs-browse-matched-wishlist-added")}catch(o){d(o)}}("tpt765");
//# sourceMappingURL=v2.pjs-browse-matched-wishlist-added.js.map
}, "dependencies": [], "type": "custom_code", "id": "98ab1e36c12647c88f0161911660e230"}]}], "name": "v2: Access Now"}], "audienceIds": ["and", "16539970090", "20339405977"], "changes": null, "id": "20563473411", "integrationSettings": null}], "id": "20551372358", "weightDistributions": null, "name": "[100% to v1]TPT-765 [Search/Browse] Matched User Add to Wishlist", "groupId": null, "commitId": "21068031088", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "a64a72afdf0240c6bba4faa18063a3ad", "value": function($){!function(t){var e=20470147570,o=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),n=window.optimizely.get("utils"),c=n.log&&n.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),r=n.error&&n.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));c("v0.1");var i=function(e){return function(o){var c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=Object.keys(t).find((function(t){return t.startsWith("__reactInternalInstance$")})),n=t[o];if(null==n)return null;if(n._currentElement){for(var c=n._currentElement._owner,r=0;r<e;r++)c=c._currentElement._owner;return c._instance}for(var i=function(t){for(var e=t["return"];"string"==typeof e.type;)e=e["return"];return e},a=i(n),s=0;s<e;s++)a=i(a);return a}(o.closest(".SearchProductRowLayout"),1);try{!function(e){var o=e.productID,c=e.variation,r={"v1":{"badge":"Wait!","headline":"You should bookmark this resource on TpT School Access, too.","copy":"Bookmark this resource so you can access it later.","cta":"Bookmark This Resource"},"v2":{"badge":"Wish Granted!","headline":"This resource is available with your subscription.","copy":"Access it through your TpT School Access account now.","cta":"Access Now"}}[c],i="https://www.tptschoolaccess.com/resource/".concat(o,"?utm_source=tptcoremarketplace&utm_medium=matchedusersbanner&utm_campaign=optimizely").concat(t).concat(c,"&cro_oeuid=").concat(n.cookie.get("optimizelyEndUserId")),a=document.createElement("div");a.className="cro-modal",a.innerHTML='\n    <div class="cro-modal-mask"></div>\n    <div class="cro-modal-box">\n      <div class="cro-modal-box-inner">\n        <button class="cro-modal-close"><svg width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M17.5525 17.0915C16.7965 17.8474 15.5709 17.8474 14.8149 17.0915L9.33791 11.6145L3.86089 17.0915C3.10494 17.8474 1.8793 17.8474 1.12335 17.0915C0.367397 16.3355 0.367397 15.1099 1.12335 14.3539L6.60037 8.87691L1.12335 3.39989C0.367399 2.64394 0.367397 1.4183 1.12335 0.66235C1.8793 -0.093601 3.10494 -0.0936015 3.86089 0.66235L9.33791 6.13937L14.8149 0.662351C15.5709 -0.0935999 16.7965 -0.0936011 17.5525 0.66235C18.3084 1.4183 18.3084 2.64394 17.5525 3.39989L12.0755 8.87691L17.5525 14.3539C18.3084 15.1099 18.3084 16.3355 17.5525 17.0915Z" fill="white"/></svg></button>\n\n        <div class="cro-modal-badge">'.concat(r.badge,'</div>\n        <div class="cro-modal-title">').concat(r.headline,'</div>\n        <div class="cro-modal-copy">').concat(r.copy,'</div>\n        <a href="').concat(i,'" class="btn cro-modal-btn">').concat(r.cta,"</a>\n      </div>\n    </div>\n  "),[].forEach.call(a.querySelectorAll(".cro-modal-mask, .cro-modal-close"),(function(t){return t.addEventListener("click",(function(){window.optimizely.push({"type":"event","eventName":"tpt765_exits_modal"}),a.parentNode.removeChild(a)}))})),a.querySelector(".cro-modal-btn").addEventListener("click",(function(t){t.preventDefault(),window.optimizely.push({"type":"event","eventName":"tpt765_cta_clicks"}),setTimeout((function(){window.location.href=t.target.href}),0)})),document.body.appendChild(a),n.cookie.set("tpt765_modal_seen","true")}({"productID":c["return"].memoizedProps.product.id,"variation":e})}catch(t){r("Failed to find product ID")}}};o.applyTreatment=function(e,o){!function(e,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;n.classList.add(t),n.classList.add(t+e),c("Variation ".concat(e,", page ").concat(o))}(e,o);var a=n.params.parse().oli_host,s=i(e);if(!a&&n.cookie.get("tpt765_modal_seen"))return c("Not showing modal -- user has seen it already in session");a?n.waitForElement(".tpt-frontend").then((function(t){return n.waitUntil((function(){return t._reactRootContainer}))})).then((function(){return n.waitForElement('[data-crometrics-isavailablefordigital="true"] .AddToWishList')})).then((function(t){return s(t)}))["catch"](r):CRO_PJS.__browseWishListAddedButton?s(CRO_PJS.__browseWishListAddedButton):c("Experiment activated in an unknown environment. Not applying any changes")}}("tpt765");
//# sourceMappingURL=shared.js.map
}}, {"value": "<style>.tpt765 .ClassFundWishlistModal{display:none}.cro-modal{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;padding:20px;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;z-index:302;font-family:Proxima Nova, Helvetica Neue, Helvetica, Arial, sans-serif;color:#1D1B4B}.cro-modal,.cro-modal *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.cro-modal,.cro-modal-mask{position:fixed;top:0;left:0;width:100%;height:100%}.cro-modal-mask{background:rgba(0,0,0,0.5);z-index:1}.cro-modal-box{position:relative;margin:auto;background:#fff;z-index:2;max-width:600px;width:100%;border:3px solid #AFB9E1;border-radius:4px}@media screen and (min-width: 768px){.cro-modal-box{border-width:5px}}.cro-modal-box:after{content:'';display:block;width:100%;height:95px;background:#EFF2F9}@media screen and (min-width: 768px){.cro-modal-box:after{display:none}}.cro-modal-box-inner{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:90px 20px 60px}@media screen and (min-width: 768px){.cro-modal-box-inner{display:block;padding:30px 90px 30px 45px}}.cro-modal-close{cursor:pointer;border:0;background:transparent;position:absolute;top:14px;right:10px}.cro-modal-close svg{width:16px;height:16px}.cro-modal-close svg path{fill:#666666}@media screen and (min-width: 768px){.cro-modal-close{top:-5px;right:-58px;padding:15px;background:#000;line-height:0;border-radius:3px}.cro-modal-close svg{width:14px;height:14px}.cro-modal-close svg path{fill:#fff}}.cro-modal-badge{display:inline-block;margin-bottom:24px;padding:8px 18px;background:#FFF5E0;text-transform:uppercase;letter-spacing:0.125em;font-weight:bold}@media screen and (min-width: 768px){.cro-modal-badge{margin-bottom:16px}}.cro-modal-title{margin-bottom:16px;font-size:24px;font-weight:600;line-height:1.28;text-align:center}@media screen and (min-width: 768px){.cro-modal-title{margin-bottom:8px;text-align:left;font-size:28px;line-height:1.37}}.cro-modal-copy{margin-bottom:32px;font-size:20px;line-height:1.28;text-align:center}@media screen and (min-width: 768px){.cro-modal-copy{margin-bottom:16px;text-align:left;font-size:24px;line-height:1.37}}.cro-modal-btn{margin-bottom:16px;display:inline-block;padding:16px 24px;background:#0AA96C;border-radius:3px;color:#fff;text-decoration:none;font-weight:600;font-size:18px}@media screen and (min-width: 768px){.cro-modal-btn{font-size:16px}}</style>", "selector": "head", "dependencies": [], "type": "append", "id": "028a7784e37b44f1809e046a9fb693ba"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["19742136101"], "experiments": [{"weightDistributions": [{"entityId": "20555572582", "endOfRange": 10000}], "audienceName": "Matched TPT SA Users [logged-in only],U.S. Only", "name": "[100% to v1]TPT-770 [PDP] Matched User Add to Wishlist", "bucketingStrategy": null, "variations": [{"id": "20536383041", "actions": [{"viewId": "19742136101", "changes": []}], "name": "v0: No control"}, {"id": "20555572582", "actions": [{"viewId": "19742136101", "changes": [{"value": function($){!function(o,r,t){var i=20458767793,n=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),d=window.optimizely.get("utils"),e=d.error&&d.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v1","pjs-pdp-tptsa-free-wishlist-added")}catch(o){e(o)}}("tpt770");
//# sourceMappingURL=v1.pjs-pdp-tptsa-free-wishlist-added.js.map
}, "dependencies": [], "type": "custom_code", "id": "cb9e646cfe3c47eda673296c0b41dcd8"}]}], "name": "v1: Bookmark Now"}, {"id": "20551412964", "actions": [{"viewId": "19742136101", "changes": [{"value": function($){!function(o,r,t){var i=20458767793,n=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),d=window.optimizely.get("utils"),e=d.error&&d.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v2","pjs-pdp-tptsa-free-wishlist-added")}catch(o){e(o)}}("tpt770");
//# sourceMappingURL=v2.pjs-pdp-tptsa-free-wishlist-added.js.map
}, "dependencies": [], "type": "custom_code", "id": "f781840e356846449c1138cc52bb58ae"}]}], "name": "v2: Access Now"}], "audienceIds": ["and", "20339405977", "16539970090"], "changes": null, "id": "20559412550", "integrationSettings": null}], "id": "20551461617", "weightDistributions": null, "name": "[100% to v1]TPT-770 [PDP] Matched User Add to Wishlist", "groupId": null, "commitId": "21095880479", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "cc621a5ba9124ac4b44dfcf8dff1862c", "value": function($){!function(o){var e=20458767793,t=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),c=window.optimizely.get("utils"),n=c.log&&c.log.bind(window,"[".concat(o,"]"))||console.warn.bind(window,"[cro] [".concat(o,"]"));c.error&&c.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));n("v0.1");t.applyTreatment=function(e,t){!function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;c.classList.add(o),c.classList.add(o+e),n("Variation ".concat(e,", page ").concat(t))}(e,t),c.waitForElement('meta[name="productID"]').then((function(t){var a=t.getAttribute("content"),i=c.cookie.get("tpt770_modal_seen");return a?i?n("Not showing modal -- user has seen it already in session"):void function(e){var t=e.productID,n=e.variation,a={"v1":{"badge":"Wait!","headline":"You should bookmark this resource on TpT School Access, too.","copy":"Bookmark this resource so you can access it later.","cta":"Bookmark This Resource"},"v2":{"badge":"Wish Granted!","headline":"This resource is available with your subscription.","copy":"Access it through your TpT School Access account now.","cta":"Access Now"}}[n],i="https://www.tptschoolaccess.com/resource/".concat(t,"?utm_source=tptcoremarketplace&utm_medium=matchedusersbanner&utm_campaign=optimizely").concat(o).concat(n,"&cro_oeuid=").concat(c.cookie.get("optimizelyEndUserId")),r=document.createElement("div");r.className="cro-modal",r.innerHTML='\n    <div class="cro-modal-mask"></div>\n    <div class="cro-modal-box">\n      <div class="cro-modal-box-inner">\n        <button class="cro-modal-close"><svg width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M17.5525 17.0915C16.7965 17.8474 15.5709 17.8474 14.8149 17.0915L9.33791 11.6145L3.86089 17.0915C3.10494 17.8474 1.8793 17.8474 1.12335 17.0915C0.367397 16.3355 0.367397 15.1099 1.12335 14.3539L6.60037 8.87691L1.12335 3.39989C0.367399 2.64394 0.367397 1.4183 1.12335 0.66235C1.8793 -0.093601 3.10494 -0.0936015 3.86089 0.66235L9.33791 6.13937L14.8149 0.662351C15.5709 -0.0935999 16.7965 -0.0936011 17.5525 0.66235C18.3084 1.4183 18.3084 2.64394 17.5525 3.39989L12.0755 8.87691L17.5525 14.3539C18.3084 15.1099 18.3084 16.3355 17.5525 17.0915Z" fill="white"/></svg></button>\n\n        <div class="cro-modal-badge">'.concat(a.badge,'</div>\n        <div class="cro-modal-title">').concat(a.headline,'</div>\n        <div class="cro-modal-copy">').concat(a.copy,'</div>\n        <a href="').concat(i,'" class="btn cro-modal-btn">').concat(a.cta,"</a>\n      </div>\n    </div>\n  "),[].forEach.call(r.querySelectorAll(".cro-modal-mask, .cro-modal-close"),(function(o){return o.addEventListener("click",(function(){window.optimizely.push({"type":"event","eventName":"tpt770_exits_modal"}),r.parentNode.removeChild(r)}))})),r.querySelector(".cro-modal-btn").addEventListener("click",(function(o){o.preventDefault(),window.optimizely.push({"type":"event","eventName":"tpt770_cta_clicks"}),setTimeout((function(){window.location.href=o.target.href}),0)})),document.body.appendChild(r),c.cookie.set("tpt770_modal_seen","true")}({"productID":a,"variation":e}):n("Not showing modal -- unknown product ID")}))}}("tpt770");
//# sourceMappingURL=shared.js.map
}}, {"value": "<style>.tpt770 .ClassFundWishlistModal{display:none}.cro-modal{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;padding:20px;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;z-index:302;font-family:Proxima Nova, Helvetica Neue, Helvetica, Arial, sans-serif;color:#1D1B4B}.cro-modal,.cro-modal *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.cro-modal,.cro-modal-mask{position:fixed;top:0;left:0;width:100%;height:100%}.cro-modal-mask{background:rgba(0,0,0,0.5);z-index:1}.cro-modal-box{position:relative;margin:auto;background:#fff;z-index:2;max-width:600px;width:100%;border:3px solid #AFB9E1;border-radius:4px}@media screen and (min-width: 768px){.cro-modal-box{border-width:5px}}.cro-modal-box:after{content:'';display:block;width:100%;height:95px;background:#EFF2F9}@media screen and (min-width: 768px){.cro-modal-box:after{display:none}}.cro-modal-box-inner{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:90px 20px 60px}@media screen and (min-width: 768px){.cro-modal-box-inner{display:block;padding:30px 90px 30px 45px}}.cro-modal-close{cursor:pointer;border:0;background:transparent;position:absolute;top:14px;right:10px}.cro-modal-close svg{width:16px;height:16px}.cro-modal-close svg path{fill:#666666}@media screen and (min-width: 768px){.cro-modal-close{top:-5px;right:-58px;padding:15px;background:#000;line-height:0;border-radius:3px}.cro-modal-close svg{width:14px;height:14px}.cro-modal-close svg path{fill:#fff}}.cro-modal-badge{display:inline-block;margin-bottom:24px;padding:8px 18px;background:#FFF5E0;text-transform:uppercase;letter-spacing:0.125em;font-weight:bold}@media screen and (min-width: 768px){.cro-modal-badge{margin-bottom:16px}}.cro-modal-title{margin-bottom:16px;font-size:24px;font-weight:600;line-height:1.28;text-align:center}@media screen and (min-width: 768px){.cro-modal-title{margin-bottom:8px;text-align:left;font-size:28px;line-height:1.37}}.cro-modal-copy{margin-bottom:32px;font-size:20px;line-height:1.28;text-align:center}@media screen and (min-width: 768px){.cro-modal-copy{margin-bottom:16px;text-align:left;font-size:24px;line-height:1.37}}.cro-modal-btn{margin-bottom:16px;display:inline-block;padding:16px 24px;background:#0AA96C;border-radius:3px;color:#fff;text-decoration:none;font-weight:600;font-size:18px}@media screen and (min-width: 768px){.cro-modal-btn{font-size:16px}}</style>", "selector": "head", "dependencies": [], "type": "append", "id": "396094f274fe4d5d85f45acf108d3db2"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["19920403099"], "experiments": [{"weightDistributions": [{"entityId": "20571871026", "endOfRange": 10000}], "audienceName": "U.S. Only,Matched TPT SA Users [logged-in only]", "name": "100% v0 TPT-754 [All Devices][Homepage] Matched User HP BTS Banners", "bucketingStrategy": null, "variations": [{"id": "20571871026", "actions": [{"viewId": "19920403099", "changes": [{"value": function($){!function(o,r,n){var t=20583230742,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v0","homepageMatched")}catch(o){w(o)}}("tpt754");
}, "dependencies": [], "type": "custom_code", "id": "1f6b6152-ad47-41e8-9a7a-ad10547a1536"}]}], "name": "v0: control TPT-754"}, {"id": "20603430030", "actions": [{"viewId": "19920403099", "changes": [{"value": function($){!function(o,r,n){var t=20583230742,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v1","homepageMatched")}catch(o){w(o)}}("tpt754");
}, "dependencies": [], "type": "custom_code", "id": "132bf53c-7564-423c-95ef-1b7ef4206fc5"}]}], "name": "v1: BTS Urgent messaging test"}], "audienceIds": ["and", "16539970090", "20339405977"], "changes": null, "id": "20583230742", "integrationSettings": null}], "id": "20595001268", "weightDistributions": null, "name": "100% v0 TPT-754 [All Devices][Homepage] Matched User HP BTS Banners", "groupId": null, "commitId": "21033563251", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "787d7600-fe13-4c3c-b771-e8a32064c8e6", "value": function($){!function(t){var n=20583230742,e=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),a=window.optimizely.get("utils"),o=a.log&&a.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),c=a.error&&a.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));o("v1");var s=function(){var n=document.createElement("div");n.className="".concat(t,"-box"),n.classList.add("cro-banner"),n.innerHTML='\n          <div class="mobile">\n            <img src="//cdn.optimizely.com/img/11000223989/c59c0e27259045358d54beb420780056.png"/>\n          </div>\n          <div class="desktop">\n            <img src="//cdn.optimizely.com/img/11000223989/a9c9887832b046b08c9d4ad5d5a2e2dc.png"/>\n          </div>\n        ';var e=window.__TPT__hashedUserId,s=!1,r="";o("Detected user ID",e),fetch("https://tpt-tptsa-mapping-prod.s3.amazonaws.com/lookup-by-hashed-user-id/".concat(e),{"method":"GET","headers":{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){t&&t.hashed_user_id?(localStorage.setItem("cro_matched_user",!0),"null"!==t.registration_link&&null!==t.registration_link&&""!==t.registration_link&&(r=new URL(sessionStorage.getItem("cro_registration_link")),o("Invite Link:",r)),"non-registered"===t.audience&&(s=!0),window.optimizely.push({"type":"user","attributes":{"tpt292_audience_status":t.audience}}),t.match_type?(window.optimizely.push({"type":"user","attributes":{"tpt292_match_type":t.match_type}}),window.optimizely.push({"type":"user","attributes":{"tpt292_match_set":!0}})):window.optimizely.push({"type":"user","attributes":{"tpt292_match_set":!1}}),window.optimizely.push({"type":"event","eventName":"attr_push"}),o("Attribute pushed!")):localStorage.setItem("cro_matched_user",!1)}))["catch"](c),a.waitForElement(".ResourcesYouMayLikeLayout").then((function(t){o("Found layout!"),t.insertAdjacentElement("beforebegin",n);n.addEventListener("click",(function(){s&&""!==r?(o("Custom invite link detected!"),r.searchParams.append("utm_campaign","optimizelytpt754v0"),r.searchParams.append("utm_source","tptcoremarketplace"),r.searchParams.append("utm_medium","matchedusersbanner"),o("Opening:",r),window.open(r,"_blank")):window.open("https://www.tptschoolaccess.com".concat("?utm_source=tptcoremarketplace&utm_medium=matchedusersbanner&utm_campaign=optimizelytpt754v0"),"_blank")}))}))["catch"](c)},r=function(){var t;t=function(t,n,e){var a,o,c,s,r,i=(a="August 31 2021 11:59:59 PM",o=Date.parse(a)-Date.parse(new Date),c=Math.floor(o/1e3%60),s=Math.floor(o/1e3/60%60),r=Math.floor(o/36e5%24),{"total":o,"days":Math.floor(o/864e5),"hours":r,"minutes":s,"seconds":c});t.innerText=i.days,n.innerText=i.hours,e.innerText=i.minutes},a.waitForElement(".HomePage .col-sm-12 > div").then((function(n){n.insertAdjacentHTML("beforebegin",'<div class="CroCountdownBannerLayout">\r\n\t<div class="CroCountdownBannerLayout__section">\r\n\t\t<svg viewBox="0 0 435 54" title="TpT School Access" role="img" height="24">\r\n\t\t\t<g fill="none"><path d="M80.78 54H0V0h80.78v54zM6.17 47.814h68.44V6.146H6.17v41.668z" fill="#00A86C"></path><path fill="#00AA6C" d="M18.51 22.71h-5V17.8h15.6v4.91h-5v13.7h-5.6zm13.87-4.91h9.93c4.36 0 6.7 2.9 6.7 6.39 0 3.49-2.34 6.25-6.7 6.25H38v6h-5.62V17.8zm9.21 4.69H38v3.26h3.57a1.63 1.63 0 100-3.26h.02zm15.07.22h-5V17.8h15.6v4.91h-5v13.7h-5.6z"></path><path d="M112.58 21.54c-3.81-.72-5.51-1.3-5.51-2.83s1.32-2.39 3.71-2.39a15.15 15.15 0 019.13 3.35l.14.11 4.82-6.31-.12-.1a20.21 20.21 0 00-13.43-4.61 14.91 14.91 0 00-9.8 3.11 9.49 9.49 0 00-3.44 7.33c0 7.77 7.41 9.25 12.83 10.33l.28.06c3.54.75 5.47 1.47 5.47 3.17s-1.85 2.63-4.5 2.63a14.72 14.72 0 01-10.35-4.27l-.14-.14L97 37.6l.11.1c3.65 3.49 8.58 5.26 14.66 5.26 8.66 0 13.84-4.16 13.84-11.13-.01-7.57-7.53-9.14-13.03-10.29zm32.66 12.16a5.18 5.18 0 01-4.34 2.23c-3.22 0-5.38-2.26-5.38-5.63s2.16-5.57 5.38-5.57a5 5 0 014.33 2.18l.12.16 5.16-4.8-.08-.12c-.7-1-3.49-4.45-9.87-4.45-7.62 0-13.15 5.3-13.15 12.6S132.82 43 140.56 43c6.31 0 9.15-3.41 9.87-4.45l.08-.12-5.16-4.85-.11.12zm24.31-16a11 11 0 00-8 3.22V9.25h-7.9v33.12h7.9V26.93a5.58 5.58 0 014.4-2.2c2.61 0 3.77 1.13 3.77 3.66v14h7.9v-17.1c-.04-4.82-2.96-7.59-8.07-7.59zm24.72 0c-7.59 0-13.1 5.3-13.1 12.6s5.51 12.7 13.1 12.7a13.11 13.11 0 009.67-3.79 12.59 12.59 0 003.47-8.87 12.52 12.52 0 00-3.47-8.84 13.15 13.15 0 00-9.67-3.8zm5 12.6c0 2.81-1.56 5.63-5 5.63s-4.94-2.82-4.94-5.63 1.53-5.57 4.94-5.57 5.04 2.8 5.04 5.57h-.04zm23.3-12.6c-7.59 0-13.09 5.3-13.09 12.6S215 43 222.57 43a13.09 13.09 0 009.67-3.79 12.6 12.6 0 003.48-8.87 12.52 12.52 0 00-3.48-8.84 13.15 13.15 0 00-9.67-3.8zm5 12.6c0 2.81-1.56 5.63-5 5.63s-4.94-2.82-4.94-5.63 1.53-5.57 4.94-5.57 5.04 2.8 5.04 5.57h-.04zm11.78-21.05h7.91v33.12h-7.91zM316 33.7a5.15 5.15 0 01-4.33 2.23c-3.22 0-5.38-2.26-5.38-5.63s2.16-5.57 5.38-5.57a5 5 0 014.33 2.18l.11.16 5.17-4.8-.08-.12c-.71-1-3.5-4.45-9.87-4.45-7.62 0-13.15 5.3-13.15 12.6S303.63 43 311.37 43c6.31 0 9.15-3.41 9.87-4.45l.08-.12-5.16-4.85-.16.12zm24.61 0a5.15 5.15 0 01-4.33 2.23c-3.22 0-5.38-2.26-5.38-5.63s2.16-5.57 5.38-5.57a5 5 0 014.33 2.18l.11.16 5.17-4.8-.08-.12c-.71-1-3.5-4.45-9.87-4.45-7.62 0-13.15 5.3-13.15 12.6S328.2 43 335.94 43c6.31 0 9.15-3.41 9.87-4.45l.08-.12-5.16-4.85-.12.12zm19.55-16a12.42 12.42 0 00-12.8 12.6c0 7.45 5.41 12.66 13.15 12.66 4 0 7.84-1.22 10-3.19l.11-.1-3.39-5-.14.13a9.29 9.29 0 01-5.69 2c-3.6 0-5.37-2.05-5.83-3.89h16.86v-1.82c.04-8.01-4.91-13.39-12.27-13.39zm0 6.19a4.38 4.38 0 014.72 3.74h-9.38a4.51 4.51 0 014.66-3.74zM386 26.81h-.07c-2.47-.44-3.64-.81-3.64-1.75s1.11-1.45 2.82-1.45a10.43 10.43 0 016.89 2.54l.16.15 3.06-5.3-.12-.09a16.78 16.78 0 00-10-3.18c-5 0-10.34 2.5-10.34 8 0 6 5.55 7 9.61 7.69h.27c2.49.4 3.93.84 3.93 1.9s-1.07 1.6-3 1.6a14.61 14.61 0 01-8.24-3.1l-.16-.14-3.25 5.38-.07.13.1.09c2.54 2.23 6.94 3.68 11.22 3.68 6.67 0 11-3.15 11-8-.06-6.43-6.17-7.47-10.17-8.15zm23.8 0h-.08c-2.47-.44-3.64-.81-3.64-1.75s1.11-1.45 2.83-1.45c2.52-.005 4.955.9 6.86 2.55l.15.15L419 21l-.12-.09a16.83 16.83 0 00-10-3.18c-5 0-10.35 2.5-10.35 8 0 6 5.56 7 9.61 7.69h.27c2.49.4 3.93.84 3.93 1.9s-1.07 1.6-3 1.6a14.64 14.64 0 01-8.24-3.1l-.16-.14-3.25 5.38-.07.13.11.09c2.53 2.23 6.94 3.68 11.22 3.68 6.67 0 11-3.15 11-8-.06-6.43-6.13-7.46-10.15-8.15zM284.84 9.14h-10.72l-12.45 33.1H271l1.68-5 .51-1.61a11.45 11.45 0 016.35-1.8 11.23 11.23 0 016.41 1.87l.48 1.54 1.69 5h9.28l-12.56-33.1zm-9.12 18.39l3.76-11 3.81 11a19.21 19.21 0 00-3.8-.39 19.51 19.51 0 00-3.77.39zM422.5 10h-2V8.7h5.34V10h-1.94v5.4h-1.4zm10.13.58l-1.89 4.82h-.62l-1.89-4.82v4.82h-1.43V8.7h2l1.63 4.18 1.62-4.18h2v6.7h-1.43z" fill="#191D3A"></path></g>\r\n\t\t</svg>\r\n\t\t<h1>Confidently take on the new school year. Find and access the resources you need with your TpT School Access subscription.</h1>\r\n\t</div>\r\n\t<div class="CroCountdownBannerLayout__section">\r\n\t\t<img class="CroCountdownBannerLayout__icon  desktop-only" src="//cdn.optimizely.com/img/11000223989/db16e21f5729410d82fb2b1afa14a106.png" />\r\n\t\t<div class="CroCountdownBannerLayout__stack">\r\n\t\t\t<h3>September is here in</h3>\r\n\t\t\t<div class="CroCountdownBannerLayout__countdown">\r\n\t\t\t\t<p><span class="js-countdown-days"></span> days</p>\r\n\t\t\t\t<p><span class="js-countdown-hours"></span> hours</p>\r\n\t\t\t\t<p><span class="js-countdown-minutes"></span> minutes</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="CroCountdownBannerLayout__stack">\r\n\r\n\t\t\t<a href="https://www.tptschoolaccess.com/?utm_source=tptcoremarketplace&utm_medium=matchedusersbanner&utm_campaign=optimizelytpt754v1">Access Resources Now</a>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n');var e=n.previousElementSibling,a=e.querySelector(".js-countdown-days"),o=e.querySelector(".js-countdown-hours"),c=e.querySelector(".js-countdown-minutes");t(a,o,c),setInterval((function(){return t(a,o,c)}),6e4)}))["catch"](c)};e.applyTreatment=function(n,e){!function(n,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;a.classList.add(t),a.classList.add(t+n),o("Variation ".concat(n,", page ").concat(e))}(n,e);var i="v1"===n?r:s;a.waitForElement(".tpt-frontend").then((function(t){return a.waitUntil((function(){return t._reactRootContainer}))})).then((function(){i()}))["catch"](c)}}("tpt754");
}}, {"dependencies": [], "type": "append", "id": "a755ae7f-2edc-4eea-b68c-995d39389414", "value": "<style>.tpt754v0 .TeachForJusticeBannerLayout{display:none !important}.tpt754v0 .HomepageClassFundFeedLayout__bannerWrapper,.tpt754v0 .HomepageClassFundFeedLayout.LoggedInHomePageLayout__feedWrapper{display:none !important}.tpt754v0 .TpTSABannerLayout{display:none !important}.tpt754v0 .cro-banner{cursor:pointer}@media (max-width: 768px){.tpt754v0 .cro-banner .desktop{display:none}}.tpt754v0 .cro-banner .mobile{display:none}@media (max-width: 768px){.tpt754v0 .cro-banner .mobile{display:block}}.tpt754v0 .cro-banner img{-o-object-fit:contain;object-fit:contain;width:100%;height:100%}.tpt754v1 .LoggedOutHomePageBannerLayout,.tpt754v1 .TpTSABannerLayout{display:none}.tpt754v1 .CroCountdownBannerLayout{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;border:1px solid #3E51A2;border-radius:12px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;margin-bottom:20px;padding:40px 0 40px 40px}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout{-webkit-box-align:stretch;-webkit-align-items:stretch;-moz-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:10px;padding:18px}}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout .desktop-only{display:none !important}}@media (min-width: 768px){.tpt754v1 .CroCountdownBannerLayout .mobile-only{display:none !important}}@media (min-width: 768px){.tpt754v1 .CroCountdownBannerLayout__section:first-child{border-right:1px solid #B1BFF4;-webkit-box-flex:0;-webkit-flex:0 0 57%;-moz-box-flex:0;-ms-flex:0 0 57%;flex:0 0 57%;padding:20px 30px 20px 0}}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout__section:first-child{border-bottom:1px solid #B1BFF4;margin-bottom:20px;padding-bottom:20px}}.tpt754v1 .CroCountdownBannerLayout__section:last-child{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;text-align:center}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout__section:last-child{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}}.tpt754v1 .CroCountdownBannerLayout h2{color:#1D1C4C;font-size:16px;font-weight:bold;margin:0}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout h2{font-size:16px;margin-bottom:3px}}.tpt754v1 .CroCountdownBannerLayout h1{color:#1D1C4C;font-size:21px;font-weight:900;line-height:1.2;margin:0}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout h1{font-size:15px;margin-top:20px}}.tpt754v1 .CroCountdownBannerLayout h3{font-size:14px;font-weight:bold;letter-spacing:1.5px;margin:0 0 8px;text-transform:uppercase}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout h3{font-size:11px;letter-spacing:1px;margin:0;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;white-space:nowrap}}@media (min-width: 768px){.tpt754v1 .CroCountdownBannerLayout svg{margin-bottom:15px}}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout svg{width:150px}}.tpt754v1 .CroCountdownBannerLayout__icon{margin-bottom:10px;width:40px;height:auto}.tpt754v1 .CroCountdownBannerLayout__stack{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}@media (min-width: 768px){.tpt754v1 .CroCountdownBannerLayout__stack{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout__stack{-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:60%;margin:0}.tpt754v1 .CroCountdownBannerLayout__stack:first-child{text-align:left;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start}.tpt754v1 .CroCountdownBannerLayout__stack:last-child{width:40%}}.tpt754v1 .CroCountdownBannerLayout__countdown{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}@media (min-width: 768px){.tpt754v1 .CroCountdownBannerLayout__countdown{margin-bottom:25px}}.tpt754v1 .CroCountdownBannerLayout__countdown p{color:#1D1C4C;font-size:18px;line-height:0.7}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout__countdown p{font-size:15px;line-height:0.9;text-align:left}}.tpt754v1 .CroCountdownBannerLayout__countdown p:not(:last-child){border-right:1px solid #B1BFF4;margin-right:8px;padding-right:8px}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout__countdown p:not(:last-child){margin-right:5px;padding-right:5px}}.tpt754v1 .CroCountdownBannerLayout a{background-color:#415294;border-radius:3px;color:#fff;display:block;font-size:16px;padding:8px 20px}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout a{font-size:14px;padding:6px 15px}}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["17479550609"], "experiments": [{"weightDistributions": [{"entityId": "20660330522", "endOfRange": 10000}], "audienceName": "Matched TPT SA Users [logged-in only],U.S. Only,Exclude Premium Sellers", "name": "100% v1 [TPT-801] [Wishlist] Matched User Wishlist Callouts", "bucketingStrategy": null, "variations": [{"id": "20660710656", "actions": [{"viewId": "17479550609", "changes": [{"value": function($){!function(o,i,r){var t=20513105449,n=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),w=window.optimizely.get("utils"),c=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v0","wish-list-with-products")}catch(o){c(o)}}("tpt801");
//# sourceMappingURL=v0.wish-list-with-products.js.map
}, "dependencies": [], "type": "custom_code", "id": "08b7e623e2cb47449eb738abe2c1cd8d"}]}], "name": "v0: Below the product description"}, {"id": "20660330522", "actions": [{"viewId": "17479550609", "changes": [{"value": function($){!function(o,i,r){var t=20513105449,n=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),w=window.optimizely.get("utils"),c=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v1","wish-list-with-products")}catch(o){c(o)}}("tpt801");
//# sourceMappingURL=v1.wish-list-with-products.js.map
}, "dependencies": [], "type": "custom_code", "id": "5755d957d72e4da19e9ce5fdd2117df7"}]}], "name": "v1: Above the price description"}], "audienceIds": ["and", "20339405977", "16539970090", "16882670147"], "changes": null, "id": "20665570364", "integrationSettings": null}], "id": "20683020376", "weightDistributions": null, "name": "100% v1 [TPT-801] [Wishlist] Matched User Wishlist Callouts", "groupId": null, "commitId": "20642850490", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "d56c9544018c4c52b23ef29df82ac6d9", "value": function($){!function(t){var e=20513105449,o=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),n=window.optimizely.get("utils"),c=n.log&&n.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),i=n.error&&n.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]")),s=function(t){return window.optimizely.push({"type":"event","eventName":t})},r='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\r\n  <rect width="16" height="16" fill="url(#pattern0)"/>\r\n  <defs>\r\n  <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">\r\n  <use xlink:href="#image0" transform="scale(0.0625)"/>\r\n  </pattern>\r\n  <image id="image0" width="16" height="16" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJPSURBVHgBlVJfSFNhFP+d765NClshppg205ULSTR1gs216CGhGDYwwopSSCRfeql8kR6KHoqgejMEe6joJauHRgXFLAaVEBW4RQupbdGfReE212b3fl93d8bS5sofXO73nd855/5+51xCDjg6Rio543VMiBkI6bXnVvc7LABdrqACpZ4EbvL0hRTYdw1HGAmnZ/TQk/m5DHlB8uyhGItRkKkVQUmQU4GwEVGTGgnnTJsf0PyT4oaABZSmBc1mXitQ2MD92z0hLGTB0XmpnjNlrN2xbkNZaSFBiCwp0JUkPtbmurz5zxrp98HuGu6SSHevb3/zir4DVmx3mJFI/iR/4KtgDLKWS1jJwA+aLM4l1o2GRz6fT0hpiXZXxUljYcGFY4dttNVWhcEzDzAVS6F3XxOWLdXTZPC7lPghp/UITTXBHhfVLZVmp1fa4iq/uLrEePTU8W1ori9HMilj5Ppz6HQMjta1qK1ZhdbGNXj6IkyxeFJR69XtEidQldpqh2SydJwe6G8r3VRXplkxGHRod6yHzWqCXp9xaFxeAGOhAd7xEOvvbmHWhnJWUWZk/kBE+muNL32fcHX0Fbjg6N7doCooyUxbHYTECJ07a7W7700EN+5MzN3C58g0jpxww2IugrmyCINnHyKemEE+zGkwGfqGmupi9OxpRO/eJnUOEj58jP5/A1nmWYJl/h9F4XkbaDO463mLicAX9Wsx1UYcQ1fGNTI+ncKo24/Hz94jGJ6CwgXODXk1LhpNaW+ydwyfJwYT/g09uPoQ5GyIor8AoBfIQZT++fIAAAAASUVORK5CYII="/>\r\n  </defs>\r\n  </svg>\r\n';c("v5");o.applyTreatment=function(e,o){!function(e,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;n.classList.add(t),n.classList.add(t+e),c("Variation ".concat(e,", page ").concat(o))}(e,o),n.waitForElement(".tpt-frontend").then((function(t){return n.waitUntil((function(){return t._reactRootContainer}))})).then((function(){n.waitUntil((function(){return null!==sessionStorage.getItem("cro_school_name")})).then((function(){return function(e){"v0"===e&&n.observeSelector('.WishlistProductRowLayout[data-crometrics-isavailableonschoolaccess="true"]',(function(t){var e=function(e,o){var n,c;return(null===(n=t.querySelector(e))||void 0===n||null===(c=n.textContent)||void 0===c?void 0:c.toLowerCase().trim())===o};e("[class*='ProductRowFileTypeBespoke']","bundle")||e("[class='ProductRowPriceBespoke']","free")||t.querySelector(".row .col-xs-7").insertAdjacentHTML("beforeend",'\n        <div class="tpt-school-access">\n          <div class="access-link"><p><span class="icon">'.concat(r,"</span> Also available with your TpT School Access subscription</p></div>\n        </div>\n      "))}));var o=sessionStorage.getItem("cro_school_name"),c='\n    <div class="'.concat(t,'-tooltip">\n      <a class="Anchor Anchor--gray cro-close">\n        <div class="Tooltip__closeIcon">\n          <span class="tpticon tpticon-times"></span>\n        </div>\n      </a>\n      <div class="tooltip-inner">\n        <h2 class="tooltip-head"><span class="tooltip-underline">Access this resource now</span> with your subscription</h2>\n        <p class="tooltip-body">You can use ').concat(o,'\'s subscription to access this resource now!</p>\n        <a type="button" class="tooltip-cta Button Button--primary Button--small Button--link">View Resource</a>\n      </div>\n    </div>\n  '),a=function(o){var n=document.querySelector(".".concat(t,"-tooltip"));null!==n&&n.remove(),o.classList.add("tooltip-active"),o.insertAdjacentHTML("beforeend",c);var i=o.parentElement.parentElement.parentElement,r=i.querySelector("a[type='button']"),a=i.getAttribute("data-testid").split("-")[1];r.setAttribute("href","https://www.tptschoolaccess.com/resource/".concat(a,"?utm_source=tptcoremarketplace&utm_medium=matchedusersbanner&utm_campaign=optimizely").concat(t).concat(e)),r.addEventListener("click",(function(){return s("tpt801-tooltip-cta-click")}))},l="v0"===e?".tpt-school-access":".".concat(t,"-section");sessionStorage.getItem("".concat(t,"tooltip_dismissed"))||n.waitForElement(l).then((function(t){return a(t)}))["catch"](i),n.observeSelector(".cro-close, .".concat(t,"-tooltip .tooltip-cta, .tpt-school-access a"),(function(e){e.addEventListener("click",(function(){sessionStorage.setItem("".concat(t,"tooltip_dismissed"),!0);var e=document.querySelector(".".concat(t,"-tooltip"));e.parentNode.classList.remove("tooltip-active"),e.remove()}))})),n.observeSelector(".access-link",(function(t){t.addEventListener("click",(function(){return a(t.parentElement)}))})),n.observeSelector(".".concat(t,"-content"),(function(t){t.addEventListener("click",(function(){s("tpt801-callout-click"),a(t.parentElement)}))})),n.observeSelector(".cro-close",(function(t){t.addEventListener("click",(function(){return s("tpt801-tooltip-exits")}))})),"v1"===e&&n.observeSelector(".WishlistProductRowLayout[data-crometrics-isavailableonschoolaccess='true'] [class='ProductRowPriceAndBundleText']",(function(e){window.setTimeout((function(){var o=function(t,o){var n,c;return(null===(n=e.querySelector(t))||void 0===n||null===(c=n.textContent)||void 0===c?void 0:c.toLowerCase().trim())===o};o("[class*='ProductRowFileTypeBespoke']","bundle")||o("[class='ProductRowPriceBespoke']","free")||(document.createElement("div").classList.add("".concat(t,"-section")),e.insertAdjacentHTML("afterend",'<div class="'.concat(t,'-section"><div class="').concat(t,'-content">').concat(r,"<strong>1</strong> License</div></div>")))}),0)}))}(e)}))}))["catch"](i)}}("tpt801");
//# sourceMappingURL=shared.js.map
}}, {"dependencies": [], "type": "append", "id": "01b641aa157d4ca1b24b50f9b6f8e24e", "value": "<style>.tpt801-hidden{display:none}.tpt801-section{position:relative;margin-top:-5px;margin-bottom:10px}.tpt801-section .tpt801-content{cursor:pointer !important;background-color:#E8EDF7;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;border-radius:3px;padding:1px 5px}.tpt801-section .tpt801-content svg{margin-right:5px}.tpt801-section .tpt801-content strong{margin-right:3px}.tpt801-section .tpt801-tooltip{top:-15px !important;right:calc(100% + 20px) !important}.tpt801-section .tpt801-tooltip::before{-webkit-transform:none !important;-ms-transform:none !important;transform:none !important;border-left:none !important}.tpt801-section .tpt801-tooltip::after{-webkit-transform:translate(1.1px) !important;-ms-transform:translate(1.1px) !important;transform:translate(1.1px) !important}.tpt801-section .tpt801-tooltip::before,.tpt801-section .tpt801-tooltip::after{top:15px !important;left:auto !important;right:-7px}.tpt801 .tpt-school-access{clear:both;padding-top:20px}.tpt801 .tpt-school-access p{font-size:14px;display:block;text-align:left;margin-bottom:5px;margin-top:20px}.tpt801 .tpt-school-access img{width:auto;height:20px;margin-right:50px;position:relative;top:-1px}.tpt801 .tpt-school-access .Button{background-color:#41539d;color:#fff;font-size:14px;padding:8px 10px;position:relative;top:-10px;margin-left:10px}.tpt801v0 .tpt-school-access.tooltip-active,.tpt801v1 .tpt-school-access.tooltip-active{position:relative}.tpt801v0 .tpt-school-access div.access-link p,.tpt801v1 .tpt-school-access div.access-link p{cursor:pointer !important;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-top:0}.tpt801v0 .tpt-school-access div.access-link p .icon,.tpt801v1 .tpt-school-access div.access-link p .icon{width:25px;height:25px;background:#E8EDF7;border-radius:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:5px}.tpt801v0 .tpt-school-access div.access-link p .icon svg,.tpt801v1 .tpt-school-access div.access-link p .icon svg{margin:auto}.tpt801v0 .tpt801-tooltip,.tpt801v1 .tpt801-tooltip{position:absolute;right:50px;top:calc(100% + 14px);z-index:202;background:#2C358B;color:#fff;border-radius:6px;border:1px solid #ccc;padding:24px 36px 24px 24px;width:329px;-webkit-box-shadow:0px 4px 12px rgba(0,0,0,0.16);box-shadow:0px 4px 12px rgba(0,0,0,0.16)}.tpt801v0 .tpt801-tooltip:before,.tpt801v0 .tpt801-tooltip:after,.tpt801v1 .tpt801-tooltip:before,.tpt801v1 .tpt801-tooltip:after{content:\"\";position:absolute;width:0;height:0;border-style:solid;border-width:0;border-top:9px solid transparent;border-bottom:9px solid transparent;top:-14px;left:18px}.tpt801v0 .tpt801-tooltip:before,.tpt801v1 .tpt801-tooltip:before{border-left:9px solid #ccc;-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg)}.tpt801v0 .tpt801-tooltip:after,.tpt801v1 .tpt801-tooltip:after{border-left:9px solid #2C358B;-webkit-transform:translateY(1.1px) rotate(-90deg);-ms-transform:translateY(1.1px) rotate(-90deg);transform:translateY(1.1px) rotate(-90deg)}.tpt801v0 .tpt801-tooltip .Tooltip__closeIcon,.tpt801v1 .tpt801-tooltip .Tooltip__closeIcon{top:15px;right:15px;font-size:16px}.tpt801v0 .tpt801-tooltip .Tooltip__closeIcon .tpticon.tpticon-times:before,.tpt801v1 .tpt801-tooltip .Tooltip__closeIcon .tpticon.tpticon-times:before{color:#fff}.tpt801v0 .tpt801-tooltip .tooltip-inner,.tpt801v1 .tpt801-tooltip .tooltip-inner{text-align:left;line-height:1.375}.tpt801v0 .tpt801-tooltip .tooltip-inner .tooltip-head,.tpt801v1 .tpt801-tooltip .tooltip-inner .tooltip-head{font-size:16px;font-weight:600;margin:0 0 6px}.tpt801v0 .tpt801-tooltip .tooltip-inner .tooltip-body,.tpt801v1 .tpt801-tooltip .tooltip-inner .tooltip-body{font-size:14px;margin:0 0 12px 0}.tpt801v0 .tpt801-tooltip .tooltip-inner .tooltip-cta,.tpt801v1 .tpt801-tooltip .tooltip-inner .tooltip-cta{background-color:white !important;color:#2C358B;border-radius:16.5px;padding:6px 12px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;position:static;margin:0}.tpt801v0 .tpt801-tooltip .tooltip-inner .tooltip-cta svg,.tpt801v1 .tpt801-tooltip .tooltip-inner .tooltip-cta svg{margin-right:5px}.tpt801v0 .tpt801-tooltip .tooltip-underline,.tpt801v1 .tpt801-tooltip .tooltip-underline{position:relative}.tpt801v0 .tpt801-tooltip .tooltip-underline:after,.tpt801v1 .tpt801-tooltip .tooltip-underline:after{content:url(\"//cdn.optimizely.com/img/11000223989/9a64b0c1dfe64c32b104bfe188df8dd3.png\");display:block;position:absolute;bottom:7px;left:-8px;height:5px;width:144px;image-rendering:-webkit-optimize-contrast}</style>", "selector": "head"}]}, {"holdback": 0, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["20554363041"], "experiments": [{"weightDistributions": [{"entityId": "20693740828", "endOfRange": 10000}], "audienceName": "U.S. Only,Exclude Premium Sellers,Exclude Matched TPT SA Users [logged-in only],Device | Desktop", "name": "[100% to v1] TPT-815: [Desktop][My Purchases] New View Button Modal", "bucketingStrategy": null, "variations": [{"id": "20684690045", "actions": [{"viewId": "20554363041", "changes": []}], "name": "v0: Control tpt815"}, {"id": "20693740828", "actions": [{"viewId": "20554363041", "changes": [{"value": function($){window["CRO_SHARED_20565352365"].init("v1","my-purchases-and-downloads-view-2-files-modal-opened");
//# sourceMappingURL=v1.my-purchases-and-downloads-view-2-files-modal-opened.js.map
}, "dependencies": [], "type": "custom_code", "id": "72019fb7680749cb98ffe4741a5436f1"}]}], "name": "v1: view button modal"}], "audienceIds": ["and", "16539970090", "16882670147", "19997272145", "12001380907"], "changes": null, "id": "20680660954", "integrationSettings": null}], "id": "20691670677", "weightDistributions": null, "name": "[100% to v1] TPT-815: [Desktop][My Purchases] New View Button Modal", "groupId": null, "commitId": "20676831099", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "e8374d409dcc42108b3f61fe6d354c6f", "value": function($){!function(n,i){var e=20565352365,t=(window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),window.optimizely.get("utils")),o=t.log&&t.log.bind(window,"[".concat(n,"]"))||console.warn.bind(window,"[cro] [".concat(n,"]")),c=t.error&&t.error.bind(window,n)||console.error.bind(window,"[cro] [".concat(n,"]"));o("v0.1");i.init=function(i,e){!function(i,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;t.classList.add(n),t.classList.add(n+i),o("Variation ".concat(i,", page ").concat(e))}(i,e),t.waitForElement(".tpt-frontend").then((function(n){return t.waitUntil((function(){return n._reactRootContainer}))})).then((function(){t.observeSelector(".ProductAccessModal .DialogModal__body",(function(n){n.querySelector(".interactive-activity")||document.querySelectorAll(".ProductAccessModal .DialogModal__body .ProductAccessModal__row").length>2||n.insertAdjacentHTML("beforeend",'\n      <div class="interactive-activity">\n        <div class="info">\n          <h4>This resource is also an engaging, ready-to-use interactive activity</h4>\n          <ul>\n            <li>Assign this resource to students online.</li>\n            <li>Get notified when students finish assignments.</li>\n            <li>Review answers, give feedback, and save time.</li>\n          </ul>\n          <div class="easel-info">\n            <img src="//cdn.optimizely.com/img/11000223989/9961cbe677704915889ca8b09ff53c39.png">\n            <p>Easel is used by over 1.4M educators, and 4.3M students.</p>\n          </div>\n        </div>\n        <div class="activity-section">\n          <div class="arrow"></div>\n          <img src="//cdn.optimizely.com/img/11000223989/678a65ee61794a91a12a2f425e2f9864.png">\n        </div>\n      </div>\n    ')}))}))["catch"](c)}}("tpt815",window["CRO_SHARED_20565352365"]||(window["CRO_SHARED_20565352365"]={"id":20565352365,"tag":"tpt815"}));
//# sourceMappingURL=shared.js.map
}}, {"dependencies": [], "type": "append", "id": "c15a19c59a4d4ea6a4ecb22aefec2140", "value": "<style>.tpt815 .interactive-activity{background-color:#fff;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;border:1px solid rgba(0,0,0,0.2);margin-top:35px}.tpt815 .interactive-activity .info{width:67%;padding:20px}.tpt815 .interactive-activity .info h4{font-size:22px;line-height:26px;font-weight:600;margin-bottom:20px}.tpt815 .interactive-activity .info li{padding-left:30px;position:relative;font-size:16px;line-height:26px;margin-bottom:5px}.tpt815 .interactive-activity .info li:before{content:'';background-image:url(\"//cdn.optimizely.com/img/11000223989/b635b21d303d4196b6b678e8b102b7c9.png\");height:20px;width:20px;position:absolute;background-size:contain;left:0;top:2px}.tpt815 .interactive-activity .easel-info{background-color:#FFF2AA;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;padding:5px;margin-right:0;margin-top:20px}.tpt815 .interactive-activity .easel-info img{height:16px;margin-right:10px;margin-left:5px}.tpt815 .interactive-activity .easel-info p{font-size:12px}.tpt815 .interactive-activity .activity-section{background-color:#FDF2DD;width:33%;position:relative;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.tpt815 .interactive-activity .activity-section .arrow{position:absolute;left:50%;-webkit-transform:translate(-50%, 0);-ms-transform:translate(-50%, 0);transform:translate(-50%, 0);text-align:center;top:-30px;border-left:30px solid transparent;border-right:30px solid transparent;border-bottom:30px solid #d9d9d9;padding:0;z-index:1}.tpt815 .interactive-activity .activity-section .arrow:after{content:'';width:0;height:0;border-left:30px solid transparent;border-right:30px solid transparent;border-bottom:30px solid #FDF2DD;top:2px;position:absolute;left:-30px}.tpt815 .interactive-activity .activity-section img{width:80%}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["17899101619"], "experiments": [{"weightDistributions": [{"entityId": "20702371510", "endOfRange": 10000}], "audienceName": "U.S. Only,Matched TPT SA Users [logged-in only]", "name": "100% v2 TPT-758 [Post Purchase Page] Matched User Post-purchase Banners", "bucketingStrategy": null, "variations": [{"id": "20706931229", "actions": [{"viewId": "17899101619", "changes": []}], "name": "v0: Original"}, {"id": "20707341838", "actions": [{"viewId": "17899101619", "changes": [{"value": function($){!function(o,r,n){var t=20467908274,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v1","purchase-complete")}catch(o){w(o)}}("tpt758");
//# sourceMappingURL=v1.purchase-complete.js.map
}, "dependencies": [], "type": "custom_code", "id": "cc4e3a1591d54b3d8f81d97710e82ec8"}]}], "name": "v1: BTS Banner"}, {"id": "20702371510", "actions": [{"viewId": "17899101619", "changes": [{"value": function($){!function(o,r,n){var t=20467908274,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v2","purchase-complete")}catch(o){w(o)}}("tpt758");
//# sourceMappingURL=v2.purchase-complete.js.map
}, "dependencies": [], "type": "custom_code", "id": "4bc649696eda429ca58abbb4ad21e7de"}]}], "name": "v2: Standard Banner"}], "audienceIds": ["and", "16539970090", "20339405977"], "changes": null, "id": "20694401490", "integrationSettings": null}], "id": "20694851794", "weightDistributions": null, "name": "100% v2 TPT-758 [Post Purchase Page] Matched User Post-purchase Banners", "groupId": null, "commitId": "20721011394", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "bcbe54539e6a418d88833b5354e55079", "value": function($){!function(c){var n=20467908274,t=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),a=window.optimizely.get("utils"),o=a.log&&a.log.bind(window,"[".concat(c,"]"))||console.warn.bind(window,"[cro] [".concat(c,"]")),e=a.error&&a.error.bind(window,c)||console.error.bind(window,"[cro] [".concat(c,"]"));o("v0.1"),t.utils=a,t.applyTreatment=function(n,t){!function(n,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;a.classList.add(c),a.classList.add(c+n),o("Variation ".concat(n,", page ").concat(t))}(n,t);var s={"v1":{"title":'This back to school, your subscription can <span class="emph">help you save</span>.',"content":"Access resources  without paying out of pocket  on TpT School Access."},"v2":{"title":'Want more TpT? Your subscription can <span class="emph">help you save</span>.',"content":"Access resources  without paying out of pocket  on TpT School Access."}}[n],l='\n    <aside class="'.concat(c,'-banner">\n      <div class="').concat(c,'-banner-logo"><svg viewBox="0 0 435 54" class="LoggedInHeader_logoLayout__1_HNg" title="TpT School Access" role="img"><g fill="none"><path d="M80.78 54H0V0h80.78v54zM6.17 47.814h68.44V6.146H6.17v41.668z" fill="#00A86C"></path><path fill="#00AA6C" d="M18.51 22.71h-5V17.8h15.6v4.91h-5v13.7h-5.6zm13.87-4.91h9.93c4.36 0 6.7 2.9 6.7 6.39 0 3.49-2.34 6.25-6.7 6.25H38v6h-5.62V17.8zm9.21 4.69H38v3.26h3.57a1.63 1.63 0 100-3.26h.02zm15.07.22h-5V17.8h15.6v4.91h-5v13.7h-5.6z"></path><path d="M112.58 21.54c-3.81-.72-5.51-1.3-5.51-2.83s1.32-2.39 3.71-2.39a15.15 15.15 0 019.13 3.35l.14.11 4.82-6.31-.12-.1a20.21 20.21 0 00-13.43-4.61 14.91 14.91 0 00-9.8 3.11 9.49 9.49 0 00-3.44 7.33c0 7.77 7.41 9.25 12.83 10.33l.28.06c3.54.75 5.47 1.47 5.47 3.17s-1.85 2.63-4.5 2.63a14.72 14.72 0 01-10.35-4.27l-.14-.14L97 37.6l.11.1c3.65 3.49 8.58 5.26 14.66 5.26 8.66 0 13.84-4.16 13.84-11.13-.01-7.57-7.53-9.14-13.03-10.29zm32.66 12.16a5.18 5.18 0 01-4.34 2.23c-3.22 0-5.38-2.26-5.38-5.63s2.16-5.57 5.38-5.57a5 5 0 014.33 2.18l.12.16 5.16-4.8-.08-.12c-.7-1-3.49-4.45-9.87-4.45-7.62 0-13.15 5.3-13.15 12.6S132.82 43 140.56 43c6.31 0 9.15-3.41 9.87-4.45l.08-.12-5.16-4.85-.11.12zm24.31-16a11 11 0 00-8 3.22V9.25h-7.9v33.12h7.9V26.93a5.58 5.58 0 014.4-2.2c2.61 0 3.77 1.13 3.77 3.66v14h7.9v-17.1c-.04-4.82-2.96-7.59-8.07-7.59zm24.72 0c-7.59 0-13.1 5.3-13.1 12.6s5.51 12.7 13.1 12.7a13.11 13.11 0 009.67-3.79 12.59 12.59 0 003.47-8.87 12.52 12.52 0 00-3.47-8.84 13.15 13.15 0 00-9.67-3.8zm5 12.6c0 2.81-1.56 5.63-5 5.63s-4.94-2.82-4.94-5.63 1.53-5.57 4.94-5.57 5.04 2.8 5.04 5.57h-.04zm23.3-12.6c-7.59 0-13.09 5.3-13.09 12.6S215 43 222.57 43a13.09 13.09 0 009.67-3.79 12.6 12.6 0 003.48-8.87 12.52 12.52 0 00-3.48-8.84 13.15 13.15 0 00-9.67-3.8zm5 12.6c0 2.81-1.56 5.63-5 5.63s-4.94-2.82-4.94-5.63 1.53-5.57 4.94-5.57 5.04 2.8 5.04 5.57h-.04zm11.78-21.05h7.91v33.12h-7.91zM316 33.7a5.15 5.15 0 01-4.33 2.23c-3.22 0-5.38-2.26-5.38-5.63s2.16-5.57 5.38-5.57a5 5 0 014.33 2.18l.11.16 5.17-4.8-.08-.12c-.71-1-3.5-4.45-9.87-4.45-7.62 0-13.15 5.3-13.15 12.6S303.63 43 311.37 43c6.31 0 9.15-3.41 9.87-4.45l.08-.12-5.16-4.85-.16.12zm24.61 0a5.15 5.15 0 01-4.33 2.23c-3.22 0-5.38-2.26-5.38-5.63s2.16-5.57 5.38-5.57a5 5 0 014.33 2.18l.11.16 5.17-4.8-.08-.12c-.71-1-3.5-4.45-9.87-4.45-7.62 0-13.15 5.3-13.15 12.6S328.2 43 335.94 43c6.31 0 9.15-3.41 9.87-4.45l.08-.12-5.16-4.85-.12.12zm19.55-16a12.42 12.42 0 00-12.8 12.6c0 7.45 5.41 12.66 13.15 12.66 4 0 7.84-1.22 10-3.19l.11-.1-3.39-5-.14.13a9.29 9.29 0 01-5.69 2c-3.6 0-5.37-2.05-5.83-3.89h16.86v-1.82c.04-8.01-4.91-13.39-12.27-13.39zm0 6.19a4.38 4.38 0 014.72 3.74h-9.38a4.51 4.51 0 014.66-3.74zM386 26.81h-.07c-2.47-.44-3.64-.81-3.64-1.75s1.11-1.45 2.82-1.45a10.43 10.43 0 016.89 2.54l.16.15 3.06-5.3-.12-.09a16.78 16.78 0 00-10-3.18c-5 0-10.34 2.5-10.34 8 0 6 5.55 7 9.61 7.69h.27c2.49.4 3.93.84 3.93 1.9s-1.07 1.6-3 1.6a14.61 14.61 0 01-8.24-3.1l-.16-.14-3.25 5.38-.07.13.1.09c2.54 2.23 6.94 3.68 11.22 3.68 6.67 0 11-3.15 11-8-.06-6.43-6.17-7.47-10.17-8.15zm23.8 0h-.08c-2.47-.44-3.64-.81-3.64-1.75s1.11-1.45 2.83-1.45c2.52-.005 4.955.9 6.86 2.55l.15.15L419 21l-.12-.09a16.83 16.83 0 00-10-3.18c-5 0-10.35 2.5-10.35 8 0 6 5.56 7 9.61 7.69h.27c2.49.4 3.93.84 3.93 1.9s-1.07 1.6-3 1.6a14.64 14.64 0 01-8.24-3.1l-.16-.14-3.25 5.38-.07.13.11.09c2.53 2.23 6.94 3.68 11.22 3.68 6.67 0 11-3.15 11-8-.06-6.43-6.13-7.46-10.15-8.15zM284.84 9.14h-10.72l-12.45 33.1H271l1.68-5 .51-1.61a11.45 11.45 0 016.35-1.8 11.23 11.23 0 016.41 1.87l.48 1.54 1.69 5h9.28l-12.56-33.1zm-9.12 18.39l3.76-11 3.81 11a19.21 19.21 0 00-3.8-.39 19.51 19.51 0 00-3.77.39zM422.5 10h-2V8.7h5.34V10h-1.94v5.4h-1.4zm10.13.58l-1.89 4.82h-.62l-1.89-4.82v4.82h-1.43V8.7h2l1.63 4.18 1.62-4.18h2v6.7h-1.43z" fill="#191D3A"></path></g></svg></div>\n      <div class="').concat(c,'-banner-content">\n        <div class="').concat(c,'-banner-text">\n          <div class="').concat(c,'-banner-title">\n            ').concat(s.title,"\n          </div>\n          ").concat(s.content,'\n        </div>\n        <div class="').concat(c,'-banner-cta">\n          <a class="').concat(c,'-banner-button" href="https://www.tptschoolaccess.com/?utm_source=marketplace&utm_medium=optimizely&utm_campaign=optimizely').concat(c).concat(n,"&cro_oeuid=").concat(a.cookie.get("optimizelyEndUserId"),'">Go to TpT School Access</a>\n        </div>\n      </div>\n    </aside>\n  '),i=function(){a.waitForElement(".OrderReceiptPageLayout").then((function(n){n.querySelector(".".concat(c,"-banner"))||n.insertAdjacentHTML("afterbegin",l)}))["catch"](e)};i(),a.waitForElement(".tpt-frontend").then((function(c){return a.waitUntil((function(){return c._reactRootContainer}))})).then(i)["catch"](e)}}("tpt758");
//# sourceMappingURL=shared.js.map
}}, {"dependencies": [], "type": "append", "id": "0ad262c870674769842acd34ca1042bd", "value": "<style>.tpt758 .PostPurchaseTpTSABannerLayout{display:none}.tpt758-banner{margin:20px auto;padding:22px 30px;border:3px solid #415294;border-radius:10px;max-width:90%}@media screen and (min-width: 768px){.tpt758-banner{width:900px;max-width:calc(100% - 60px)}}.tpt758-banner-logo{margin-bottom:16px}.tpt758-banner-logo svg{width:186px;height:auto}.tpt758-banner-content{width:100%;font-family:'Proxima Nova', sans-serif}@media screen and (min-width: 768px){.tpt758-banner-content{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}}.tpt758-banner-title{font-weight:700;color:#1D1C4C;font-size:22px}.tpt758-banner-title .emph{text-decoration:underline}.tpt758-banner-text{margin-bottom:20px;color:#1D1C4C;font-size:18px;font-weight:400;line-height:1.2}@media screen and (min-width: 768px){.tpt758-banner-text{margin-bottom:0}}@media screen and (min-width: 768px){.tpt758-banner-cta{margin-left:10px}}.tpt758-banner-button{white-space:nowrap;background:#415294;color:#fff !important;font-size:16px;font-weight:600;padding:10px 20px;border-radius:4px}.tpt758-banner-button:hover{text-decoration:underline !important}</style>", "selector": "head"}]}, {"holdback": 0, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["19742136101"], "experiments": [{"weightDistributions": [{"entityId": "20702410217", "endOfRange": 10000}], "audienceName": "U.S. Only,Exclude Matched TPT SA Users [logged-in only],Exclude Premium Sellers", "name": "100% v1 TPT-798: [PDP|Wishlist Add] Clarity Messaging Test", "bucketingStrategy": null, "variations": [{"id": "20711110180", "actions": [{"viewId": "19742136101", "changes": [{"value": function($){window["CRO_SHARED_20490227802"].init("v0","pjs-pdp-tptsa-free-wishlist-added");
//# sourceMappingURL=v0.pjs-pdp-tptsa-free-wishlist-added.js.map
}, "dependencies": [], "type": "custom_code", "id": "0d4cc565d237413f98b34d26e7aa1bdb"}]}], "name": "v0: Control"}, {"id": "20702410217", "actions": [{"viewId": "19742136101", "changes": [{"value": function($){window["CRO_SHARED_20490227802"].init("v1","pjs-pdp-tptsa-free-wishlist-added");
//# sourceMappingURL=v1.pjs-pdp-tptsa-free-wishlist-added.js.map
}, "dependencies": [], "type": "custom_code", "id": "20b33ba48dd1409989fd312d762bedb1"}]}], "name": "v1: Wait! Get this resource with\u2028 a school subscription"}, {"id": "20690100588", "actions": [{"viewId": "19742136101", "changes": [{"value": function($){window["CRO_SHARED_20490227802"].init("v2","pjs-pdp-tptsa-free-wishlist-added");
//# sourceMappingURL=v2.pjs-pdp-tptsa-free-wishlist-added.js.map
}, "dependencies": [], "type": "custom_code", "id": "c58dc11e617f44659e3523cf564f3adc"}]}], "name": "v2: X resources on your Wish List are available with a school subscription"}], "audienceIds": ["and", "16539970090", "19997272145", "16882670147"], "changes": null, "id": "20674850426", "integrationSettings": null}], "id": "20695780551", "weightDistributions": null, "name": "100% v1 TPT-798: [PDP|Wishlist Add] Clarity Messaging Test", "groupId": null, "commitId": "21116940015", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "5b561e1eccde4a0685ebf8d4b8d1dbf3", "value": function($){!function(n,e){var t=20490227802,i=(window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),window.optimizely.get("utils")),o=i.log&&i.log.bind(window,"[".concat(n,"]"))||console.warn.bind(window,"[cro] [".concat(n,"]")),a=i.error&&i.error.bind(window,n)||console.error.bind(window,"[cro] [".concat(n,"]")),c=function(n){return window.optimizely.push({"type":"event","eventName":n})},s=function(n,e,t){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"."+window.location.hostname.split(".").slice(-2).join("."),a=n+"="+e+"; path=/";t instanceof Date?i=t:t>0&&(i=new Date).setTime(i.getTime()+24*t*60*60*1e3),i&&(a+="; expires="+i.toGMTString()),o&&(a+="; domain="+o),document.cookie=a},r=function(n){for(var e=n+"=",t=document.cookie.split(";"),i=0;i<t.length;i++){var o=t[i].trim();if(0===o.indexOf(e))return o.substring(e.length,o.length)}return null},l=i.waitForElement;o("v0.1");var d=function(e){var t=function(){r("".concat(n,"_modal_shown"))||(!function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push_attribute";window.optimizely.push({"type":"user","attributes":n}),window.optimizely.push({"type":"event","eventName":e})}({"tpt798_modal_seen":!0}),i.waitForElement(".FooterLayout").then((function(t){var i=document.querySelector(".ProductPreviewSlider #slide-item-1 img").src,o='\n         <a href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers#share?utm_source=marketplace&utm_medium=optimizely&utm_campaign='.concat(n).concat(e,'">\n           <img src="//cdn.optimizely.com/img/11000223989/f5aec95c0c994b1ba40e1014eafbb97f.png" class="modal-logo">\n           <h2>Dont leave this resource on your Wish&nbsp;List!</h2>\n           <p>Get more resources with TpT School Access</p>\n           <span class="modal-button Button--primary Button">Refer Your Principal</span>\n           <div class="modal-wishlist-item">\n              <div class="wishlist-thumb" style=\'background-image: url(').concat(i,")'></div>\n            </div>\n         </a>\n       "),a='\n         <div id="'.concat(n,'-cro-modal" class="cro-modal">\n           <div class="cro-modal__content">\n             <a href="#" class="cro-modal__closeBtn"><img src="//cdn.optimizely.com/img/11000223989/328de7f686dd419eb98f0fc6a4c4e085.png" alt="close"></a>\n             ').concat(o,"\n           </div>\n         </div>\n       ");t.insertAdjacentHTML("afterend",a);var c=document.querySelector("#".concat(n,"-cro-modal"));c.classList.add("cro-modal--show"),s("".concat(n,"_modal_shown"),"true",7),r("classfundModal")==="cro_suppressed_for_".concat(n)&&function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"."+window.location.hostname.split(".").slice(-2).join("."),t="".concat(n,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/");e&&(t+="; domain="+e),document.cookie=t}("classfundModal");var l=function n(e){e.preventDefault(),c.classList.remove("cro-modal--show"),window.removeEventListener("click",n)};c.querySelectorAll(".cro-modal__closeBtn, .no-thanks").forEach((function(n){n.addEventListener("click",l)})),window.addEventListener("click",(function(e){e.target.matches("#".concat(n,"-cro-modal.cro-modal--show"))&&l(e)}))}))["catch"](a))};!function e(){r("classfundModal")||s("classfundModal","cro_suppressed_for_".concat(n)),t(),document.querySelectorAll(".AddToWishList").forEach((function(n){n.removeEventListener("click",e)}))}()},u={"method":"POST","headers":{"Content-Type":"application/json","Accept":"application/json"},"body":JSON.stringify({"extensions":{},"operationName":"GetWishlist","query":"\n            query GetWishlist($limit: Int!, $offset: Int!, $sort: WishlistSort, $searchTerm: String, $paidOnly: Boolean = false) {\n  member {\n    id\n    wishlist(input: {paginationParameters: {limit: $limit, offset: $offset}, sort: $sort, searchTerm: $searchTerm, paidOnly: $paidOnly}) {\n      pageInfo {\n        currentPage\n        totalPageCount\n        totalResultsCount\n        __typename\n      }\n      products {\n        id\n        name\n        plainTextDescription: description(maxLength: 300, sanitize: PLAIN_TEXT)\n        buyerData {\n          isAddedToCart\n          isWishlisted\n          isPurchased\n          __typename\n        }\n        kind\n        filesize\n        author {\n          id\n          name\n          url\n          icon {\n            location\n            width\n            height\n            __typename\n          }\n          sellerPixelId\n          __typename\n        }\n        types {\n          name\n          url\n          sphinxId\n          __typename\n        }\n        filePreview {\n          name\n          format\n          pageCount\n          filesize\n          previewUrl\n          __typename\n        }\n        bundle {\n          includedItemTypes\n          includedOnlineResourceTypes {\n            description\n            identifier\n            __typename\n          }\n          digitalActivities {\n            totalAvailableForDigital\n            totalSellerCreatedDigital\n            totalEaselAssessments\n            totalEaselActivities\n            totalConvertibleEaselActivities\n            __typename\n          }\n          zip {\n            status\n            __typename\n          }\n          __typename\n        }\n        onlineResource {\n          onlineResourceType {\n            description\n            __typename\n          }\n          __typename\n        }\n        images {\n          large\n          __typename\n        }\n        evaluationRating {\n          count\n          scoreAverage\n          __typename\n        }\n        ratings {\n          scoreAverage\n          count\n          __typename\n        }\n        price\n        discountprice\n        saleprice\n        isFree\n        url\n        itemType\n        mainVideo {\n          duration\n          __typename\n        }\n        supportingDocument {\n          url\n          __typename\n        }\n        downloadurl\n        resourceProperties {\n          isAvailableForDigital\n          isSellerPublishedDigital\n          isAvailableOnSchoolAccess\n          assessmentIds\n          canConvertToEaselActivity\n          activityIds\n          __typename\n        }\n        ...PriceFields\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment PriceFields on Product {\n  prices {\n    isFree\n    transferableLicense {\n      price\n      discountPrice\n      salePrice\n      additionalLicensePrice\n      additionalLicenseSalePrice\n      __typename\n    }\n    nonTransferableLicense {\n      price\n      discountPrice\n      salePrice\n      additionalLicensePrice\n      additionalLicenseSalePrice\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\n          ","variables":{"paidOnly":!1,"offset":0,"limit":999,"sort":"RECENTLY_ADDED","searchTerm":""}})};e.init=function(e,t){!function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;i.classList.add(n),i.classList.add(n+e),o("Variation ".concat(e,", page ").concat(t))}(e,t),i.waitForElement(".tpt-frontend").then((function(n){return i.waitUntil((function(){return n._reactRootContainer}))})).then((function(){r("".concat(n,"_modal_shown"))||(d(e),function(n){var e;"v2"===n&&(e=new Promise((function(n,e){fetch("https://www.teacherspayteachers.com/graph/graphql?opname=GetWishlist",u).then((function(n){return n.json()})).then((function(t){try{o("fetch success",t.data);var i=t.data.member.wishlist.products.filter((function(n){return n.resourceProperties.isAvailableOnSchoolAccess}));n(i)}catch(n){e("fetch error",n)}}))}))),l('.cro-modal--show a[href*="share"]').then((function(t){if(t.href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers#share?utm_source=marketplace&utm_medium=optimizely&utm_campaign=tpt798".concat(n),t.addEventListener("click",(function(){return c("tpt798_wishlist_popup_cta_clicks")})),l(".cro-modal:not(.cro-modal--show)").then((function(){c("tpt798_wishlist_popup_exits")})),"v0"!==n){var i=t.querySelector("h2"),o=t.querySelector("p"),s=t.querySelector(".modal-button");o.textContent="Ask your principal for TpT School Access",s.textContent="Ask Your Principal","v1"===n?i.innerHTML="Wait! Get this resource with a school&nbsp;subscription.":(i.innerHTML="&nbsp resources on your Wish List are available with a school subscription",e.then((function(n){i.innerHTML="".concat(n.length+1," Resources on your Wish List are available with a school subscription")}))["catch"](a))}}))["catch"](a)}(e))}))["catch"](a)}}("tpt798",window["CRO_SHARED_20490227802"]||(window["CRO_SHARED_20490227802"]={"id":20490227802,"tag":"tpt798"}));
//# sourceMappingURL=shared.js.map
}}, {"value": "<style>.tpt798v1 .cro-modal .cro-modal__content h2,.tpt798v2 .cro-modal .cro-modal__content h2{font-size:38px}@media (max-width: 767px){.tpt798v1 .cro-modal .cro-modal__content h2,.tpt798v2 .cro-modal .cro-modal__content h2{font-size:24px}}.tpt798v1 .cro-modal .cro-modal__content .modal-button,.tpt798v2 .cro-modal .cro-modal__content .modal-button{background-color:#444C95;color:white}.tpt798 .cro-modal{z-index:302;display:none;position:fixed;left:0;top:0;height:100%;width:100%;overflow:auto;background-color:rgba(0,0,0,0.6)}.tpt798 .cro-modal--show{display:block}.tpt798 .cro-modal__content{width:609px;max-height:516px;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border-radius:3px;-webkit-box-shadow:0 5px 8px 0 rgba(0,0,0,0.2),0 7px 20px 0 rgba(0,0,0,0.2);box-shadow:0 5px 8px 0 rgba(0,0,0,0.2),0 7px 20px 0 rgba(0,0,0,0.2);text-align:center;background-color:#EFF2F9;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;padding:40px 60px 0}@media (max-width: 767px){.tpt798 .cro-modal__content{padding:5.5% 5% 0;width:75%}}.tpt798 .cro-modal__content .modal-logo{max-width:45%;margin-bottom:1rem}@media (max-width: 767px){.tpt798 .cro-modal__content .modal-logo{max-width:70%;max-height:33px}}.tpt798 .cro-modal__content h2{font-size:42px;line-height:1.17;font-weight:700;color:#1D1C4C}@media (max-width: 767px){.tpt798 .cro-modal__content h2{font-size:28px}}.tpt798 .cro-modal__content p{color:#1D1C4C;font-size:22px;line-height:1.17;font-weight:400}@media (max-width: 767px){.tpt798 .cro-modal__content p{font-size:20px}}.tpt798 .cro-modal__content .modal-button{display:inline-block;margin:22px auto 0;line-height:1.5;font-size:18px;padding:12px 18px}@media (max-width: 767px){.tpt798 .cro-modal__content .modal-button{margin:20px auto 0;padding:6px 32px;font-size:16px}}.tpt798 .cro-modal__content>a:not(.cor-modal__closeBtn){overflow-y:hidden}.tpt798 .cro-modal__content .modal-wishlist-item{width:100%;height:calc(210px * .89);overflow-y:hidden;padding:26px 25px 0}@media (max-width: 767px){.tpt798 .cro-modal__content .modal-wishlist-item{max-height:42vw;padding:26px .9rem 0}}.tpt798 .cro-modal__content .modal-wishlist-item .wishlist-thumb{width:210px;height:210px;margin:auto;background-size:contain;background-repeat:no-repeat;background-position:top center;background-color:#fff;-webkit-box-shadow:-7px 4px 19px rgba(61,82,162,0.25);box-shadow:-7px 4px 19px rgba(61,82,162,0.25)}@media (max-width: 767px){.tpt798 .cro-modal__content .modal-wishlist-item .wishlist-thumb{width:calc(210px * .89);max-height:none;max-width:80%}}.tpt798 .cro-modal__closeBtn{margin-right:-45px;background-color:black;color:white;border-radius:3px;width:35px;height:35px;text-align:center;position:absolute;top:0;right:0}.tpt798 .cro-modal__closeBtn img{width:20px;padding-top:7px;margin-left:-1px}@media (max-width: 767px){.tpt798 .cro-modal__closeBtn img{width:15px;margin-left:0;padding-top:50%;-webkit-transform:translateY(-25%);-ms-transform:translateY(-25%);transform:translateY(-25%)}}@media (max-width: 767px){.tpt798 .cro-modal__closeBtn{width:25px;height:25px;margin-right:-35px}}.tpt798 .cro-modal__closeBtn:hover,.tpt798 .cro-modal .closeBtn:focus{text-decoration:none;cursor:pointer}</style>", "selector": "head", "dependencies": [], "type": "append", "id": "2f011f856c284f99a524b25f4228ef85"}]}, {"holdback": null, "activation": {}, "integrationSettings": {}, "integrationStringVersion": 2, "viewIds": ["12371712421"], "experiments": [{"weightDistributions": [{"entityId": "20761081922", "endOfRange": 10000}], "audienceName": "Exclude Premium Sellers,U.S. Only,Exclude Matched TPT SA Users [logged-in only],No DCP School Name ", "name": "[100% to v0] TPT-875 [Post-Free Download] [No School Info] BTS Urgency Messaging", "bucketingStrategy": null, "variations": [{"id": "20761081922", "actions": [{"viewId": "12371712421", "changes": [{"value": function($){!function(o,r,n){var i=20775630337,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v0","freedownload")}catch(o){e(o)}}("tpt875");
}, "dependencies": [], "type": "custom_code", "id": "4b7d4328-d9aa-4173-8b55-38ff0c890d0a"}]}], "name": "v0: Control - Stimulus Messaging"}, {"id": "20767092260", "actions": [{"viewId": "12371712421", "changes": [{"value": function($){!function(o,r,n){var i=20775630337,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v1","freedownload")}catch(o){e(o)}}("tpt875");
}, "dependencies": [], "type": "custom_code", "id": "f377e2d1-04ab-4a85-af3f-0266a000e37f"}]}], "name": "v1: BTS Urgency Messaging"}], "audienceIds": ["and", "16882670147", "16539970090", "19997272145", "20613054836"], "changes": null, "id": "20775630337", "integrationSettings": null}], "id": "20738032987", "weightDistributions": null, "name": "[100% to v0] TPT-875 [Post-Free Download] [No School Info] BTS Urgency Messaging", "groupId": null, "commitId": "21128820074", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "193be301-8a6f-4be4-b380-aad34a907640", "value": function($){!function(c){var n=20775630337,t=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),a=window.optimizely.get("utils"),e=a.log&&a.log.bind(window,"[".concat(c,"]"))||console.warn.bind(window,"[cro] [".concat(c,"]")),o=a.error&&a.error.bind(window,c)||console.error.bind(window,"[cro] [".concat(c,"]"));e("v0.3"),t.utils=a,t.applyTreatment=function(n,t){!function(n,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;a.classList.add(c),a.classList.add(c+n),e("Variation ".concat(n,", page ").concat(t))}(n,t),a.waitForElement("#content_layout").then((function(t){var a='\n      <div class="'.concat(c,'-banner-logo"><img src="//cdn.optimizely.com/img/11000223989/9d60cf99ff8f45e8bfc66473cf54f01b.png"></div>\n      <div class="').concat(c,'-banner-content">\n        <div class="').concat(c,'-banner-text">Federal Stimulus funding could help your school access resources through a school subscription.</div>\n        <div class="').concat(c,'-banner-cta">\n          <a class="').concat(c,'-banner-button" href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign=').concat(c).concat(n,'#share">Request a subscription</a>\n        </div>\n      </div>\n    '),e='<a href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign='.concat(c).concat(n,'#share"><img src="https://ecdn.teacherspayteachers.com/static/postfreedownloadbannerdesktoponly.png"></a>'),o='<div class="'.concat(c,'-banner">').concat("v0"===n?a:e,"</div>");t.insertAdjacentHTML("afterbegin",o)}))["catch"](o)}}("tpt875");
}}, {"dependencies": [], "type": "append", "id": "e8634f9c-5721-4e22-8acd-8eafee2ac991", "value": "<style>.tpt875-banner{margin:20px auto}.tpt875v0 .tpt875-banner{padding:22px 30px;border:3px solid #415294;border-radius:10px;max-width:90%}@media screen and (min-width: 768px){.tpt875v0 .tpt875-banner{max-width:800px}}.tpt875v0 .tpt875-banner-logo{margin-bottom:16px}.tpt875v0 .tpt875-banner-logo img{width:186px;height:auto}.tpt875v0 .tpt875-banner-content{font-family:'Proxima Nova', sans-serif}@media screen and (min-width: 768px){.tpt875v0 .tpt875-banner-content{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}}.tpt875v0 .tpt875-banner-text{margin-bottom:20px;color:#1D1C4C;font-size:18px;font-weight:600}@media screen and (min-width: 768px){.tpt875v0 .tpt875-banner-text{margin-bottom:0}}@media screen and (min-width: 768px){.tpt875v0 .tpt875-banner-cta{margin-left:10px}}.tpt875v0 .tpt875-banner-button{white-space:nowrap;background:#415294;color:#fff;font-size:14px;font-weight:600;padding:10px 20px;border-radius:4px}.tpt875v1 .tpt875-banner img{max-width:98%;margin:0 auto;display:block}.tpt875v1.tpt364 .tpt364-banner{display:none}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["11070712640"], "experiments": [{"weightDistributions": [{"entityId": "20895952547", "endOfRange": 3333}, {"entityId": "20917293691", "endOfRange": 6666}, {"entityId": "20961940710", "endOfRange": 10000}], "audienceName": "[QA] Cro Metrics Test Cookie (OLI),Matched TPT SA Users [logged-in only],Logged In,U.S. Only,Exclude user link type of 'state + exact name',Match_type of email or inst + name only  ,Exclude: All Sellers", "name": "[TEST COOKIE] TPT-1018 [Linked][Marketplace: Homepage] Popup Modal", "bucketingStrategy": null, "variations": [{"id": "20895952547", "actions": [{"viewId": "11070712640", "changes": []}], "name": "v0: Control (TPT-1018)"}, {"id": "20917293691", "actions": [{"viewId": "11070712640", "changes": [{"value": function($){!function(o,t,i){var r=20901803054,n=window["CRO_SHARED_"+r]||(window["CRO_SHARED_"+r]={}),e=window.optimizely.get("utils"),w=e.error&&e.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v1","optimizely-tpt-home-page")}catch(o){w(o)}}("tpt1018");
}, "dependencies": [], "type": "custom_code", "id": "0b6db396-df33-421a-905e-b8c960df04a4"}]}], "name": "v1: User Name Messaging Messaging"}, {"id": "20961940710", "actions": [{"viewId": "11070712640", "changes": [{"value": function($){!function(o,t,i){var r=20901803054,n=window["CRO_SHARED_"+r]||(window["CRO_SHARED_"+r]={}),e=window.optimizely.get("utils"),w=e.error&&e.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v2","optimizely-tpt-home-page")}catch(o){w(o)}}("tpt1018");
}, "dependencies": [], "type": "custom_code", "id": "f3110dea-dea7-4127-bd37-2de5fddfeb3c"}]}], "name": "v2: School Name Messaging"}], "audienceIds": ["and", "15737501278", "20339405977", "12111314811", "16539970090", "20989540462", "21005344518", "16649800467"], "changes": null, "id": "20901803054", "integrationSettings": null}], "id": "20918033734", "weightDistributions": null, "name": "[TEST COOKIE] TPT-1018 [Linked][Marketplace: Homepage] Popup Modal", "groupId": null, "commitId": "21089380750", "decisionMetadata": {"experimentPriorities": [[{"entityId": "20901803054", "endOfRange": null}]], "offerConsistency": null}, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "d97c04fb-4dc0-4396-8c5f-dc59b35943ea", "value": function($){!function(e){var t=20901803054,o=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),n=window.optimizely.get("utils"),l=n.log&&n.log.bind(window,"[".concat(e,"]"))||console.warn.bind(window,"[cro] [".concat(e,"]")),i=n.error&&n.error.bind(window,e)||console.error.bind(window,"[cro] [".concat(e,"]"));l("v0.4");var a=function(t){n.waitUntil((function(){return!!window.optimizely.get("dcp")&&!!window.optimizely.get("dcp").getAttributeValue})).then((function(){var o,n=window.optimizely.get("dcp").getAttributeValue({"datasourceId":20144019866,"attributeId":20234667484}),l=null===(o=document.querySelector(".SellerDropdownBespoke__labelName, .BuyerDropdownBespoke__labelName"))||void 0===o?void 0:o.textContent,i={"v1":"".concat(l?'<span class="title-case">'.concat(l.toLowerCase(),"</span>, your"):"Your"," subscription can help you save!"),"v2":"".concat(n?'<span class="title-case">'.concat(n.toLowerCase(),"s</span>"):"Your school's"," subscription can help you save!")},a="&cro_oeuid=".concat(optimizely.get("visitor").visitorId),c="".concat(e).concat(t).concat(a),C=document.createElement("div");C.setAttribute("class","".concat(e,"-modal-overlay")),C.innerHTML='\n      <div class="'.concat(e,'-modal-body cro-modal">\n        <span class="modal-x js-modal-close"></span>\n        <span class="modal-logo">').concat('<svg width="108" height="13" viewBox="0 0 108 13" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 13H20.0996V0H0V13ZM18.5644 11.5109H1.53518V1.47972H18.5644V11.5109Z" fill="#00A86C"/><path d="M4.60567 5.44604H3.36157V4.26859H7.24315V5.44604H5.99906V8.73141H4.60567V5.44604Z" fill="#00AA6C"/><path fill-rule="evenodd" clip-rule="evenodd" d="M10.5274 4.26859H8.05664V8.73861H9.455V7.29976H10.5274C11.6123 7.29976 12.1945 6.63789 12.1945 5.80096C12.1945 4.96403 11.6123 4.26859 10.5274 4.26859ZM9.45502 5.39345H10.3433C10.4882 5.39345 10.6221 5.46796 10.6945 5.5889C10.767 5.70984 10.767 5.85884 10.6945 5.97978C10.6221 6.10072 10.4882 6.17523 10.3433 6.17523H9.45502V5.39345Z" fill="#00AA6C"/><path d="M14.0981 5.44604H12.854V4.26859H16.7356V5.44604H15.4915V8.73141H14.0981V5.44604Z" fill="#00AA6C"/><path d="M28.0121 5.16537C27.0641 4.99271 26.6411 4.85362 26.6411 4.48671C26.6411 4.11981 26.9695 3.91357 27.5642 3.91357C28.3925 3.93347 29.1909 4.21581 29.8359 4.71693L29.8708 4.74331L31.0701 3.23012L31.0402 3.20614C30.1017 2.46022 28.9145 2.06746 27.6986 2.10062C26.8197 2.06272 25.9555 2.32705 25.2602 2.84643C24.7168 3.27976 24.4028 3.92449 24.4042 4.60422C24.4042 6.46753 26.248 6.82245 27.5966 7.08144L27.6662 7.09583C28.5471 7.27568 29.0273 7.44835 29.0273 7.85602C29.0273 8.26369 28.567 8.48671 27.9076 8.48671C26.9427 8.48564 26.0173 8.11766 25.3323 7.46273L25.2975 7.42916L24.1355 9.01669L24.1629 9.04067C25.0711 9.8776 26.2977 10.3021 27.8106 10.3021C29.9653 10.3021 31.2542 9.30446 31.2542 7.633C31.2517 5.81765 29.3806 5.44115 28.0121 5.16537Z" fill="#1E1C4D"/><path d="M36.1386 8.08171C35.8937 8.42243 35.4887 8.62302 35.0587 8.61648C34.2575 8.61648 33.7201 8.07452 33.7201 7.26636C33.7201 6.45821 34.2575 5.93063 35.0587 5.93063C35.4873 5.91422 35.8945 6.11179 36.1361 6.45341L36.166 6.49178L37.4499 5.3407L37.43 5.31193C37.2558 5.07212 36.5616 4.24478 34.9741 4.24478C33.0781 4.24478 31.7021 5.51576 31.7021 7.26636C31.7021 9.01696 33.0483 10.3119 34.9741 10.3119C36.5442 10.3119 37.2508 9.49418 37.43 9.24478L37.4499 9.216L36.166 8.05294L36.1386 8.08171Z" fill="#1E1C4D"/><path d="M42.1872 4.24479C41.4423 4.23034 40.7234 4.50919 40.1966 5.01698V2.21841H38.231V10.1609H40.1966V6.45822C40.4571 6.12845 40.8614 5.93361 41.2914 5.93065C41.9409 5.93065 42.2295 6.20163 42.2295 6.80834V10.1657H44.1952V6.06494C44.1852 4.90906 43.4587 4.24479 42.1872 4.24479Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M45.0786 7.26636C45.0786 5.51576 46.4496 4.24478 48.3381 4.24478C49.236 4.21735 50.106 4.54686 50.7442 5.15605C51.3097 5.72599 51.6198 6.48746 51.6076 7.27596C51.6199 8.0666 51.3099 8.83035 50.7442 9.40306C50.1062 10.0123 49.2358 10.3411 48.3381 10.3119C46.4496 10.3119 45.0786 9.01696 45.0786 7.26636ZM48.3382 8.61657C49.1941 8.61657 49.5823 7.94031 49.5823 7.26645H49.5922C49.5922 6.60218 49.1866 5.93072 48.3382 5.93072C47.4897 5.93072 47.109 6.59259 47.109 7.26645C47.109 7.94031 47.4822 8.61657 48.3382 8.61657Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M52.1226 7.26636C52.1226 5.51576 53.4911 4.24478 55.3796 4.24478C56.2774 4.21735 57.1474 4.54686 57.7857 5.15605C58.3521 5.7256 58.6631 6.48712 58.6516 7.27596C58.663 8.06689 58.3521 8.83059 57.7857 9.40305C57.148 10.0128 56.2774 10.3417 55.3796 10.3119C53.496 10.3119 52.1226 9.01696 52.1226 7.26636ZM55.3796 8.61657C56.2356 8.61657 56.6237 7.94031 56.6237 7.26645H56.6337C56.6337 6.60218 56.2281 5.93072 55.3796 5.93072C54.5312 5.93072 54.1505 6.59259 54.1505 7.26645C54.1505 7.94031 54.5237 8.61657 55.3796 8.61657Z" fill="#1E1C4D"/><rect x="59.5549" y="2.21841" width="1.96816" height="7.94245" fill="#1E1C4D"/><path d="M78.6268 8.08171C78.3834 8.42272 77.9789 8.6235 77.5494 8.61648C76.7482 8.61648 76.2108 8.07452 76.2108 7.26636C76.2108 6.45821 76.7482 5.93063 77.5494 5.93063C77.9781 5.91422 78.3852 6.11179 78.6268 6.45341L78.6542 6.49178L79.9406 5.3407L79.9207 5.31193C79.744 5.07212 79.0498 4.24478 77.4648 4.24478C75.5688 4.24478 74.1929 5.51576 74.1929 7.26636C74.1929 9.01696 75.5489 10.3119 77.4748 10.3119C79.0448 10.3119 79.7515 9.49418 79.9306 9.24478L79.9505 9.216L78.6666 8.05294L78.6268 8.08171Z" fill="#1E1C4D"/><path d="M84.7504 8.08171C84.5069 8.42272 84.1024 8.6235 83.673 8.61648C82.8718 8.61648 82.3343 8.07452 82.3343 7.26636C82.3343 6.45821 82.8718 5.93063 83.673 5.93063C84.1016 5.91422 84.5088 6.11179 84.7504 6.45341L84.7777 6.49178L86.0641 5.3407L86.0442 5.31193C85.8676 5.07212 85.1734 4.24478 83.5884 4.24478C81.6924 4.24478 80.3164 5.51576 80.3164 7.26636C80.3164 9.01696 81.6625 10.3119 83.5884 10.3119C85.1584 10.3119 85.8651 9.49418 86.0442 9.24478L86.0641 9.216L84.7802 8.05294L84.7504 8.08171Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M87.3519 5.09904C87.9534 4.52834 88.771 4.21962 89.6147 4.2446C91.446 4.2446 92.6777 5.53477 92.6677 7.45563V7.89208H88.4726C88.5871 8.33333 89.0275 8.82494 89.9232 8.82494C90.4374 8.82127 90.9356 8.6525 91.339 8.34532L91.3738 8.31415L92.2173 9.51319L92.19 9.53717C91.6525 10.0096 90.697 10.3022 89.7018 10.3022C87.7759 10.3022 86.4298 9.05275 86.4298 7.26618C86.4172 6.45275 86.7503 5.66974 87.3519 5.09904ZM90.7891 6.62581C90.7067 6.07375 90.1911 5.67996 89.6146 5.72893C89.0486 5.70285 88.5512 6.08758 88.4551 6.62581H90.7891Z" fill="#1E1C4D"/><path d="M96.0442 6.42925H96.0267C95.4122 6.32374 95.121 6.23501 95.121 6.00959C95.121 5.78417 95.3972 5.66187 95.8227 5.66187C96.4519 5.6579 97.0611 5.87436 97.5371 6.27098L97.5769 6.30695L98.3383 5.03597L98.3084 5.01438C97.5849 4.51035 96.7129 4.24308 95.8202 4.25179C94.5761 4.25179 93.2474 4.85131 93.2474 6.17026C93.2474 7.60911 94.6284 7.84892 95.6386 8.01438H95.7058C96.3253 8.11031 96.6836 8.21582 96.6836 8.47002C96.6836 8.72422 96.4174 8.85371 95.9372 8.85371C95.1907 8.81498 94.4747 8.55539 93.8869 8.11031L93.8471 8.07673L93.0384 9.3669L93.021 9.39808L93.0459 9.41966C93.6779 9.95443 94.7727 10.3022 95.8376 10.3022C97.4973 10.3022 98.5747 9.54676 98.5747 8.38369C98.5597 6.84172 97.0394 6.59232 96.0442 6.42925Z" fill="#1E1C4D"/><path d="M101.966 6.42909H101.946C101.332 6.32358 101.041 6.23485 101.041 6.00943C101.041 5.78401 101.317 5.66171 101.745 5.66171C102.372 5.66058 102.978 5.87774 103.452 6.27322L103.489 6.30919L104.255 5.03581L104.225 5.01422C103.502 4.51096 102.63 4.24377 101.737 4.25163C100.493 4.25163 99.162 4.85115 99.162 6.1701C99.162 7.60895 100.545 7.84876 101.553 8.01422H101.62C102.24 8.11015 102.598 8.21566 102.598 8.46986C102.598 8.72406 102.332 8.85355 101.852 8.85355C101.105 8.81436 100.39 8.55482 99.8014 8.11015L99.7616 8.07657L98.953 9.36674L98.9355 9.39792L98.9629 9.4195C99.5924 9.95427 100.69 10.302 101.755 10.302C103.414 10.302 104.492 9.5466 104.492 8.38353C104.477 6.84156 102.966 6.59456 101.966 6.42909Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M68.2064 2.19168H70.8738L73.9989 10.1293H71.6899L71.2694 8.93029L71.15 8.56099C70.6778 8.25911 70.1216 8.10271 69.555 8.11254C68.9958 8.10384 68.4463 8.25396 67.975 8.5442L67.8481 8.93029L67.4301 10.1293H65.1086L68.2064 2.19168ZM69.5401 3.96404L68.6045 6.60193C68.9133 6.54149 69.2275 6.51017 69.5426 6.50841C69.8602 6.50923 70.1769 6.54056 70.4881 6.60193L69.5401 3.96404Z" fill="#1E1C4D"/><path d="M105.126 2.39799H104.628V2.08624H105.957V2.39799H105.474V3.69296H105.126V2.39799Z" fill="#1E1C4D"/><path d="M107.647 2.53708L107.176 3.69296H107.022L106.552 2.53708V3.69296H106.196V2.08624H106.694L107.099 3.08864L107.502 2.08624H108V3.69296H107.644L107.647 2.53708Z" fill="#1E1C4D"/></svg>\n','</span>\n        <h2 class="modal-heading">').concat(i[t],'</h2>\n        <p class="modal-copy">Access TpT resources with licenses your administrator already purchased for you.</p>\n        <a href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers#share?utm_source=marketplace&utm_medium=optimizely&utm_campaign=').concat(c,'" class="modal-cta">Go to TpT School Access</a>\n      </div>\n    '),document.body.insertAdjacentElement("beforeend",C),C.querySelector(".js-modal-close").addEventListener("click",(function(){!function(e,t,o){var n,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"."+window.location.hostname.split(".").slice(-2).join("."),i=e+"="+t+"; path=/";o instanceof Date?n=o:o>0&&(n=new Date).setTime(n.getTime()+24*o*60*60*1e3),n&&(i+="; expires="+n.toGMTString()),l&&(i+="; domain="+l),document.cookie=i}("".concat(e,"-modal-dismissed"),!0,365),C.remove()}))}))["catch"](i)};o.applyTreatment=function(t,o){!function(t,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;n.classList.add(e),n.classList.add(e+t),l("Variation ".concat(t,", page ").concat(o))}(t,o),function(e){for(var t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){var l=o[n].trim();if(0===l.indexOf(t))return l.substring(t.length,l.length)}return null}("".concat(e,"-modal-dismissed"))||n.waitForElement(".tpt-frontend").then((function(e){return n.waitUntil((function(){return e._reactRootContainer}))})).then((function(){a(t)}))["catch"](i)}}("tpt1018");
}}, {"value": "<style>.tpt1018-modal-overlay{position:fixed;z-index:301;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.5)}.tpt1018-modal-body{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);transform:translate(-50%, -50%);width:707px;max-width:80vw;padding:60px 3% 68px;background:#fff;border-radius:18px;border:4px solid #3D52A2;font-family:'Proxima Nova', 'Helvetica Neue', Helvetica, Arial, sans-serif;color:#1D1C4C;text-align:center;position:relative}@media (max-width: 498px){.tpt1018-modal-body{max-width:initial;width:calc(100vw - 12px);padding:48px 23px}}.tpt1018-modal-body .modal-x{position:absolute;top:4px;right:calc((28px * -1) - 8px);height:28px;width:28px;background:rgba(0,0,0,0.8);border-radius:3px}.tpt1018-modal-body .modal-x:before{content:'\\00d7';color:#fff;font-size:28px;font-weight:400;height:28px;width:28px;vertical-align:middle;line-height:1}.tpt1018-modal-body .modal-x:hover{cursor:pointer}@media (max-width: 498px){.tpt1018-modal-body .modal-x{background:none;right:10px;top:5px}.tpt1018-modal-body .modal-x:before{color:#777;font-size:40px}}.tpt1018-modal-body .modal-logo svg{width:65%;height:auto}.tpt1018-modal-body .modal-heading{font-size:42px;line-height:1.157}@media (max-width: 498px){.tpt1018-modal-body .modal-heading{font-size:28px}}.tpt1018-modal-body .modal-heading .title-case{text-transform:capitalize}.tpt1018-modal-body .modal-copy{font-size:26px;line-height:1.425;max-width:90%;margin:1em auto}@media (max-width: 498px){.tpt1018-modal-body .modal-copy{font-size:20px}}.tpt1018-modal-body .modal-cta{background:#3D52A2;color:#fff;text-decoration:none;border-radius:3px;font-size:20px;display:inline-block;padding:1rem 1.5rem;margin-top:10px}@media (max-width: 498px){.tpt1018-modal-body .modal-cta{width:100%;max-width:calc(305px - 3rem)}}</style>", "selector": "head", "dependencies": [], "type": "append", "id": "0c70bac6-4d3d-440d-a06d-264f7747a502"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["13715460482"], "experiments": [{"weightDistributions": [{"entityId": "20957731069", "endOfRange": 10000}], "audienceName": "Device | Desktop,U.S. Only,[DCP Migration] TPTSA Linked Users (Marketplace),[QA] Cro Metrics Test Cookie (OLI)", "name": "[DCP Migration] [TEST COOKIE] 100% v1 TPT-895 [Browse][Desktop] [TpT Marketplace: Search/Browse Update] [Matched User Catalog product button]", "bucketingStrategy": null, "variations": [{"id": "20898673795", "actions": [{"viewId": "13715460482", "changes": [{"value": function($){!function(r,o,n){var i=20698900039,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,r)||console.error.bind(window,"[cro] [".concat(r,"]"));try{t.applyTreatment("v0","browse-incl-search-substring")}catch(r){e(r)}}("tpt895");
}, "dependencies": [], "type": "custom_code", "id": "c7d7ec49042e40c0ad56b3857f771dcc"}]}], "name": "v0: Control"}, {"id": "20957731069", "actions": [{"viewId": "13715460482", "changes": [{"value": function($){!function(r,o,n){var i=20698900039,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,r)||console.error.bind(window,"[cro] [".concat(r,"]"));try{t.applyTreatment("v1","browse-incl-search-substring")}catch(r){e(r)}}("tpt895");
}, "dependencies": [], "type": "custom_code", "id": "827b9b8a6770415d8358df0bc11660f2"}]}], "name": "v1: view details"}], "audienceIds": ["and", "12001380907", "16539970090", "21193201189", "15737501278"], "changes": null, "id": "20960971695", "integrationSettings": null}], "id": "20931004126", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] 100% v1 TPT-895 [Browse][Desktop] [TpT Marketplace: Search/Browse Update] [Matched User Catalog product button]", "groupId": null, "commitId": "21166740279", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "e56b5001c66a4d0a860e4ed0268a6e5b", "value": function($){function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function _iterableToArrayLimit(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var n,o,r=[],i=!0,c=!1;try{for(a=a.call(t);!(i=(n=a.next()).done)&&(r.push(n.value),!e||r.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==a["return"]||a["return"]()}finally{if(c)throw o}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}!function(t){var e=20698900039,a=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),n=window.optimizely.get("utils"),o=n.log&&n.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),r=n.error&&n.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));o("v0.1");var i="&cro_oeuid=".concat(optimizely.get("visitor").visitorId),c=function(e){var a=_slicedToArray({"v0":["See whats included in your subscription!","Look for the Access Now button to find resources available through TpT School Access."],"v1":["Included in your subscription!","This resource and all others with this TpT School Access logo are available as part of your subscription."]}[e],2),c=a[0],l=a[1],s='\n      <div class="'.concat(t,'-sa--message">\n        <div class="').concat(t,'-sa--close-x">').concat('<svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.8098 9.08928C11.8098 9.3125 11.7205 9.53571 11.5598 9.69643L10.3455 10.9107C10.1848 11.0714 9.96158 11.1607 9.73836 11.1607C9.51515 11.1607 9.29193 11.0714 9.13122 10.9107L6.50621 8.28571L3.88121 10.9107C3.7205 11.0714 3.49728 11.1607 3.27407 11.1607C3.05085 11.1607 2.82764 11.0714 2.66692 10.9107L1.45264 9.69643C1.29192 9.53571 1.20264 9.3125 1.20264 9.08928C1.20264 8.86607 1.29192 8.64285 1.45264 8.48214L4.07764 5.85714L1.45264 3.23213C1.29192 3.07142 1.20264 2.8482 1.20264 2.62499C1.20264 2.40178 1.29192 2.17856 1.45264 2.01785L2.66692 0.803559C2.82764 0.642844 3.05085 0.553558 3.27407 0.553558C3.49728 0.553558 3.7205 0.642844 3.88121 0.803559L6.50621 3.42856L9.13122 0.803559C9.29193 0.642844 9.51515 0.553558 9.73836 0.553558C9.96158 0.553558 10.1848 0.642844 10.3455 0.803559L11.5598 2.01785C11.7205 2.17856 11.8098 2.40178 11.8098 2.62499C11.8098 2.8482 11.7205 3.07142 11.5598 3.23213L8.93479 5.85714L11.5598 8.48214C11.7205 8.64285 11.8098 8.86607 11.8098 9.08928Z" fill="#fff"/><mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="1" y="0" width="11" height="12"><path d="M11.8098 9.08928C11.8098 9.3125 11.7205 9.53571 11.5598 9.69643L10.3455 10.9107C10.1848 11.0714 9.96158 11.1607 9.73836 11.1607C9.51515 11.1607 9.29193 11.0714 9.13122 10.9107L6.50621 8.28571L3.88121 10.9107C3.7205 11.0714 3.49728 11.1607 3.27407 11.1607C3.05085 11.1607 2.82764 11.0714 2.66692 10.9107L1.45264 9.69643C1.29192 9.53571 1.20264 9.3125 1.20264 9.08928C1.20264 8.86607 1.29192 8.64285 1.45264 8.48214L4.07764 5.85714L1.45264 3.23213C1.29192 3.07142 1.20264 2.8482 1.20264 2.62499C1.20264 2.40178 1.29192 2.17856 1.45264 2.01785L2.66692 0.803559C2.82764 0.642844 3.05085 0.553558 3.27407 0.553558C3.49728 0.553558 3.7205 0.642844 3.88121 0.803559L6.50621 3.42856L9.13122 0.803559C9.29193 0.642844 9.51515 0.553558 9.73836 0.553558C9.96158 0.553558 10.1848 0.642844 10.3455 0.803559L11.5598 2.01785C11.7205 2.17856 11.8098 2.40178 11.8098 2.62499C11.8098 2.8482 11.7205 3.07142 11.5598 3.23213L8.93479 5.85714L11.5598 8.48214C11.7205 8.64285 11.8098 8.86607 11.8098 9.08928Z" fill="white"/></mask><g mask="url(#mask0)"></g></svg>\n','</div>\n        <div class="').concat(t,'-sa--headline">').concat(c,'</div>\n        <div class="').concat(t,'-sa--subheadline">').concat(l,"</div>\n      </div>\n    "),C=window.__TPT__hashedUserId,d=!1,u="",h="";o("Detected user ID",C),"BBA19CDC3939D019828E4756603AA846194F882302CCDC8D51BAB9DFBED12DA8"===C&&(C="006AAF14ECE7368B4C01A7C59BE70099A76D8A12C0AFEF60169EFD19931B1B3F"),fetch("https://tpt-tptsa-mapping-prod.s3.amazonaws.com/lookup-by-hashed-user-id/".concat(C),{"method":"GET","headers":{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(a){a&&a.hashed_user_id?(o("hash",a.hashed_user_id),localStorage.setItem("cro_matched_user",!0),"null"!==a.registration_link&&null!==a.registration_link&&""!==a.registration_link&&(u=new URL(sessionStorage.getItem("cro_registration_link")),o("Invite Link:",u)),"non-registered"===a.audience&&(d=!0)):localStorage.setItem("cro_matched_user",!1),n.observeSelector(".NextSearchPage .container .SearchProductRowLayout:first-child",(function(){n.waitForElement('[data-testid="SearchResultView"]').then((function(a){for(var o=a.querySelectorAll('[data-crometrics-isavailableonschoolaccess="true"]'),c=0;c<o.length;c++){var l=o[c].querySelector(".NextSearchProductRowLayout__priceContainer"),C=o[c].getAttribute("data-crometrics-resourceid");if(d)u.searchParams.append("utm_campaign","optimizely".concat(t).concat(e)),u.searchParams.append("utm_source","tptcoremarketplace"),u.searchParams.append("utm_medium","matchedusersbanner"),u.searchParams.append("cro_oeuid","".concat(optimizely.get("visitor").visitorId)),h=u;else{h="https://www.tptschoolaccess.com/resource/".concat(C);var p="?utm_source=tptcoremarketplace&utm_medium=matchedusersbanner";p="".concat(p,"&utm_campaign=optimizely").concat(t).concat(e).concat(i),h+=p}l.insertAdjacentHTML("beforebegin",'\n            <div class="'.concat(t,"-sa js-").concat(t,'-desktop" data-').concat(t,'-sa="').concat(c,'">\n              <div class="').concat(t,'-sa--logo">').concat('<svg width="108" height="13" viewBox="0 0 108 13" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 13H20.0996V0H0V13ZM18.5644 11.5109H1.53518V1.47972H18.5644V11.5109Z" fill="#00A86C"/><path d="M4.60567 5.44604H3.36157V4.26859H7.24315V5.44604H5.99906V8.73141H4.60567V5.44604Z" fill="#00AA6C"/><path fill-rule="evenodd" clip-rule="evenodd" d="M10.5274 4.26859H8.05664V8.73861H9.455V7.29976H10.5274C11.6123 7.29976 12.1945 6.63789 12.1945 5.80096C12.1945 4.96403 11.6123 4.26859 10.5274 4.26859ZM9.45502 5.39345H10.3433C10.4882 5.39345 10.6221 5.46796 10.6945 5.5889C10.767 5.70984 10.767 5.85884 10.6945 5.97978C10.6221 6.10072 10.4882 6.17523 10.3433 6.17523H9.45502V5.39345Z" fill="#00AA6C"/><path d="M14.0981 5.44604H12.854V4.26859H16.7356V5.44604H15.4915V8.73141H14.0981V5.44604Z" fill="#00AA6C"/><path d="M28.0121 5.16537C27.0641 4.99271 26.6411 4.85362 26.6411 4.48671C26.6411 4.11981 26.9695 3.91357 27.5642 3.91357C28.3925 3.93347 29.1909 4.21581 29.8359 4.71693L29.8708 4.74331L31.0701 3.23012L31.0402 3.20614C30.1017 2.46022 28.9145 2.06746 27.6986 2.10062C26.8197 2.06272 25.9555 2.32705 25.2602 2.84643C24.7168 3.27976 24.4028 3.92449 24.4042 4.60422C24.4042 6.46753 26.248 6.82245 27.5966 7.08144L27.6662 7.09583C28.5471 7.27568 29.0273 7.44835 29.0273 7.85602C29.0273 8.26369 28.567 8.48671 27.9076 8.48671C26.9427 8.48564 26.0173 8.11766 25.3323 7.46273L25.2975 7.42916L24.1355 9.01669L24.1629 9.04067C25.0711 9.8776 26.2977 10.3021 27.8106 10.3021C29.9653 10.3021 31.2542 9.30446 31.2542 7.633C31.2517 5.81765 29.3806 5.44115 28.0121 5.16537Z" fill="#1E1C4D"/><path d="M36.1386 8.08171C35.8937 8.42243 35.4887 8.62302 35.0587 8.61648C34.2575 8.61648 33.7201 8.07452 33.7201 7.26636C33.7201 6.45821 34.2575 5.93063 35.0587 5.93063C35.4873 5.91422 35.8945 6.11179 36.1361 6.45341L36.166 6.49178L37.4499 5.3407L37.43 5.31193C37.2558 5.07212 36.5616 4.24478 34.9741 4.24478C33.0781 4.24478 31.7021 5.51576 31.7021 7.26636C31.7021 9.01696 33.0483 10.3119 34.9741 10.3119C36.5442 10.3119 37.2508 9.49418 37.43 9.24478L37.4499 9.216L36.166 8.05294L36.1386 8.08171Z" fill="#1E1C4D"/><path d="M42.1872 4.24479C41.4423 4.23034 40.7234 4.50919 40.1966 5.01698V2.21841H38.231V10.1609H40.1966V6.45822C40.4571 6.12845 40.8614 5.93361 41.2914 5.93065C41.9409 5.93065 42.2295 6.20163 42.2295 6.80834V10.1657H44.1952V6.06494C44.1852 4.90906 43.4587 4.24479 42.1872 4.24479Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M45.0786 7.26636C45.0786 5.51576 46.4496 4.24478 48.3381 4.24478C49.236 4.21735 50.106 4.54686 50.7442 5.15605C51.3097 5.72599 51.6198 6.48746 51.6076 7.27596C51.6199 8.0666 51.3099 8.83035 50.7442 9.40306C50.1062 10.0123 49.2358 10.3411 48.3381 10.3119C46.4496 10.3119 45.0786 9.01696 45.0786 7.26636ZM48.3382 8.61657C49.1941 8.61657 49.5823 7.94031 49.5823 7.26645H49.5922C49.5922 6.60218 49.1866 5.93072 48.3382 5.93072C47.4897 5.93072 47.109 6.59259 47.109 7.26645C47.109 7.94031 47.4822 8.61657 48.3382 8.61657Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M52.1226 7.26636C52.1226 5.51576 53.4911 4.24478 55.3796 4.24478C56.2774 4.21735 57.1474 4.54686 57.7857 5.15605C58.3521 5.7256 58.6631 6.48712 58.6516 7.27596C58.663 8.06689 58.3521 8.83059 57.7857 9.40305C57.148 10.0128 56.2774 10.3417 55.3796 10.3119C53.496 10.3119 52.1226 9.01696 52.1226 7.26636ZM55.3796 8.61657C56.2356 8.61657 56.6237 7.94031 56.6237 7.26645H56.6337C56.6337 6.60218 56.2281 5.93072 55.3796 5.93072C54.5312 5.93072 54.1505 6.59259 54.1505 7.26645C54.1505 7.94031 54.5237 8.61657 55.3796 8.61657Z" fill="#1E1C4D"/><rect x="59.5549" y="2.21841" width="1.96816" height="7.94245" fill="#1E1C4D"/><path d="M78.6268 8.08171C78.3834 8.42272 77.9789 8.6235 77.5494 8.61648C76.7482 8.61648 76.2108 8.07452 76.2108 7.26636C76.2108 6.45821 76.7482 5.93063 77.5494 5.93063C77.9781 5.91422 78.3852 6.11179 78.6268 6.45341L78.6542 6.49178L79.9406 5.3407L79.9207 5.31193C79.744 5.07212 79.0498 4.24478 77.4648 4.24478C75.5688 4.24478 74.1929 5.51576 74.1929 7.26636C74.1929 9.01696 75.5489 10.3119 77.4748 10.3119C79.0448 10.3119 79.7515 9.49418 79.9306 9.24478L79.9505 9.216L78.6666 8.05294L78.6268 8.08171Z" fill="#1E1C4D"/><path d="M84.7504 8.08171C84.5069 8.42272 84.1024 8.6235 83.673 8.61648C82.8718 8.61648 82.3343 8.07452 82.3343 7.26636C82.3343 6.45821 82.8718 5.93063 83.673 5.93063C84.1016 5.91422 84.5088 6.11179 84.7504 6.45341L84.7777 6.49178L86.0641 5.3407L86.0442 5.31193C85.8676 5.07212 85.1734 4.24478 83.5884 4.24478C81.6924 4.24478 80.3164 5.51576 80.3164 7.26636C80.3164 9.01696 81.6625 10.3119 83.5884 10.3119C85.1584 10.3119 85.8651 9.49418 86.0442 9.24478L86.0641 9.216L84.7802 8.05294L84.7504 8.08171Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M87.3519 5.09904C87.9534 4.52834 88.771 4.21962 89.6147 4.2446C91.446 4.2446 92.6777 5.53477 92.6677 7.45563V7.89208H88.4726C88.5871 8.33333 89.0275 8.82494 89.9232 8.82494C90.4374 8.82127 90.9356 8.6525 91.339 8.34532L91.3738 8.31415L92.2173 9.51319L92.19 9.53717C91.6525 10.0096 90.697 10.3022 89.7018 10.3022C87.7759 10.3022 86.4298 9.05275 86.4298 7.26618C86.4172 6.45275 86.7503 5.66974 87.3519 5.09904ZM90.7891 6.62581C90.7067 6.07375 90.1911 5.67996 89.6146 5.72893C89.0486 5.70285 88.5512 6.08758 88.4551 6.62581H90.7891Z" fill="#1E1C4D"/><path d="M96.0442 6.42925H96.0267C95.4122 6.32374 95.121 6.23501 95.121 6.00959C95.121 5.78417 95.3972 5.66187 95.8227 5.66187C96.4519 5.6579 97.0611 5.87436 97.5371 6.27098L97.5769 6.30695L98.3383 5.03597L98.3084 5.01438C97.5849 4.51035 96.7129 4.24308 95.8202 4.25179C94.5761 4.25179 93.2474 4.85131 93.2474 6.17026C93.2474 7.60911 94.6284 7.84892 95.6386 8.01438H95.7058C96.3253 8.11031 96.6836 8.21582 96.6836 8.47002C96.6836 8.72422 96.4174 8.85371 95.9372 8.85371C95.1907 8.81498 94.4747 8.55539 93.8869 8.11031L93.8471 8.07673L93.0384 9.3669L93.021 9.39808L93.0459 9.41966C93.6779 9.95443 94.7727 10.3022 95.8376 10.3022C97.4973 10.3022 98.5747 9.54676 98.5747 8.38369C98.5597 6.84172 97.0394 6.59232 96.0442 6.42925Z" fill="#1E1C4D"/><path d="M101.966 6.42909H101.946C101.332 6.32358 101.041 6.23485 101.041 6.00943C101.041 5.78401 101.317 5.66171 101.745 5.66171C102.372 5.66058 102.978 5.87774 103.452 6.27322L103.489 6.30919L104.255 5.03581L104.225 5.01422C103.502 4.51096 102.63 4.24377 101.737 4.25163C100.493 4.25163 99.162 4.85115 99.162 6.1701C99.162 7.60895 100.545 7.84876 101.553 8.01422H101.62C102.24 8.11015 102.598 8.21566 102.598 8.46986C102.598 8.72406 102.332 8.85355 101.852 8.85355C101.105 8.81436 100.39 8.55482 99.8014 8.11015L99.7616 8.07657L98.953 9.36674L98.9355 9.39792L98.9629 9.4195C99.5924 9.95427 100.69 10.302 101.755 10.302C103.414 10.302 104.492 9.5466 104.492 8.38353C104.477 6.84156 102.966 6.59456 101.966 6.42909Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M68.2064 2.19168H70.8738L73.9989 10.1293H71.6899L71.2694 8.93029L71.15 8.56099C70.6778 8.25911 70.1216 8.10271 69.555 8.11254C68.9958 8.10384 68.4463 8.25396 67.975 8.5442L67.8481 8.93029L67.4301 10.1293H65.1086L68.2064 2.19168ZM69.5401 3.96404L68.6045 6.60193C68.9133 6.54149 69.2275 6.51017 69.5426 6.50841C69.8602 6.50923 70.1769 6.54056 70.4881 6.60193L69.5401 3.96404Z" fill="#1E1C4D"/><path d="M105.126 2.39799H104.628V2.08624H105.957V2.39799H105.474V3.69296H105.126V2.39799Z" fill="#1E1C4D"/><path d="M107.647 2.53708L107.176 3.69296H107.022L106.552 2.53708V3.69296H106.196V2.08624H106.694L107.099 3.08864L107.502 2.08624H108V3.69296H107.644L107.647 2.53708Z" fill="#1E1C4D"/></svg>\n','</div>\n              <a class="').concat(t,'-sa--button" href="').concat(h,'" target="_blank">').concat("v0"===e?"<i>".concat('<svg viewBox="0 0 24 24" aria-hidden="true" role="presentation" class="SvgIcon_root__B2saD mr-2"><path d="M15.293 15.793L13 18.086V10.5a1 1 0 10-2 0v7.586l-2.293-2.293a.999.999 0 10-1.414 1.414l3.999 3.999a.99.99 0 00.326.217.991.991 0 001.09-.217l3.999-3.999a.999.999 0 10-1.414-1.414zm4.669-6.061C19.569 5.679 16.148 2.5 12 2.5S4.431 5.679 4.038 9.732A5.484 5.484 0 000 15.02a5.496 5.496 0 004.889 5.474.994.994 0 001.104-.884 1 1 0 00-.884-1.104A3.499 3.499 0 012 15.02a3.49 3.49 0 013.114-3.464C5.62 11.5 6 11.021 6 10.512 6 7.197 8.691 4.5 12 4.5s6 2.697 5.999 6.005a1 1 0 00.887 1.051A3.49 3.49 0 0122 15.02a3.498 3.498 0 01-3.109 3.486 1.001 1.001 0 00.22 1.988A5.497 5.497 0 0024 15.02a5.484 5.484 0 00-4.038-5.288z"></path></svg>\n',"</i>Access Now"):"View Details","</a>\n            </div>\n          "))}n.waitForElement("[data-".concat(t,'-sa="0"].js-').concat(t,"-desktop")).then((function(e){if(e.insertAdjacentHTML("beforeend",s),!function(t){for(var e=t+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){var o=a[n].trim();if(0===o.indexOf(e))return o.substring(e.length,o.length)}return null}("".concat(t,"-tootltip-dismissed"))){var a=e.querySelector(".".concat(t,"-sa--message"));a.classList.add("active");a.querySelector(".".concat(t,"-sa--close-x")).addEventListener("click",(function(){a.classList.remove("active"),function(t,e,a){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"."+window.location.hostname.split(".").slice(-2).join("."),r=t+"="+e+"; path=/";a instanceof Date?n=a:a>0&&(n=new Date).setTime(n.getTime()+24*a*60*60*1e3),n&&(r+="; expires="+n.toGMTString()),o&&(r+="; domain="+o),document.cookie=r}("".concat(t,"-tootltip-dismissed"),"true",7)}))}}))["catch"](r)}))["catch"](r)}))}))["catch"](r)};a.applyTreatment=function(e,a){!function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;n.classList.add(t),n.classList.add(t+e),o("Variation ".concat(e,", page ").concat(a))}(e,a),n.waitForElement(".tpt-frontend").then((function(t){return n.waitUntil((function(){return t._reactRootContainer}))})).then((function(){c(e)}))["catch"](r)}}("tpt895");
}}, {"value": "<style>@media (max-width: 580px){.tpt895 .js-tpt895-desktop{display:none !important}}.tpt895-sa{position:relative}.tpt895-sa svg{width:100%;height:auto}.tpt895-sa--message{pointer-events:none;opacity:0;z-index:-100;-webkit-transition:.2s ease all;-o-transition:.2s ease all;transition:.2s ease all;-webkit-box-shadow:0 0 5px rgba(0,0,0,0.2);box-shadow:0 0 5px rgba(0,0,0,0.2);border-radius:6px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:27px 26px 24px 24px;width:302px;position:absolute;left:-327px;top:25px;background:#2C358B;color:#fff;z-index:5}.tpt895-sa--message.active{pointer-events:auto;opacity:1;z-index:5}.tpt895-sa--message:before{content:\"\";-webkit-box-shadow:0 0 5px rgba(0,0,0,0.2);box-shadow:0 0 5px rgba(0,0,0,0.2);border-bottom:0;border-left:0;background:#2C358B;width:16px;height:16px;display:block;position:absolute;top:25px;right:-8px;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center}.tpt895-sa--close-x{position:absolute;top:8px;right:.75rem;cursor:pointer;width:14px;height:14px;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box}.tpt895-sa--headline{color:#fff;font-size:17px;font-weight:700}.tpt895-sa--subheadline{font-size:14px;margin-top:.5em}.tpt895-sa--logo{width:115px;margin:auto}.tpt895-sa--button{background:#2C358B;color:#fff !important;display:block;padding:10px .25em;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border-radius:3px;text-align:center;margin:.5em auto 2em auto;font-weight:600;cursor:pointer;font-size:16px;height:42px}.tpt895-sa--button i{display:inline-block;padding-right:.5em;width:1.85em;line-height:1em}</style>", "selector": "head", "dependencies": [], "type": "append", "id": "fb69fc7b24164bbb9769c1d691dced53"}]}, {"holdback": 0, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["11070712640"], "experiments": [{"weightDistributions": [{"entityId": "20904375330", "endOfRange": 5000}, {"entityId": "20941860580", "endOfRange": 10000}], "audienceName": "[QA] Cro Metrics Test Cookie (OLI),Exclude Virtual Assistants", "name": "[TEST COOKIE] Exclude Virtual Assistants Testing", "bucketingStrategy": null, "variations": [{"id": "20904375330", "actions": [{"viewId": "11070712640", "changes": [{"dependencies": [], "type": "custom_code", "id": "498EAB88-E2DF-4422-8DCA-FFF507B643B7", "value": function($){console.log("[Exclude Virtual Assistants] You have been bucketed into v0");
}}]}], "name": "Original"}, {"id": "20941860580", "actions": [{"viewId": "11070712640", "changes": [{"dependencies": [], "type": "custom_code", "id": "A3B1BDF6-AB3D-426B-BA99-0F16B2F78DAF", "value": function($){console.log("[Exclude Virtual Assistants] You have been bucketed into v1");
}}]}], "name": "Variation #1"}], "audienceIds": ["and", "15737501278", "20959070244"], "changes": null, "id": "20955880033", "integrationSettings": null}], "id": "20931752258", "weightDistributions": null, "name": "[TEST COOKIE] Exclude Virtual Assistants Testing", "groupId": null, "commitId": "20922141600", "decisionMetadata": null, "policy": "single_experiment", "changes": null}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["11070712640", "11956347417", "16853811688", "17772951069", "20750910744"], "experiments": [{"weightDistributions": [{"entityId": "20954790037", "endOfRange": 10000}], "audienceName": "Device | Desktop, Tablet only,All sellers,U.S. Only", "name": "TPT-1050 [Select Pages] Virtual Assistant Announcement", "bucketingStrategy": null, "variations": [{"id": "20964170011", "actions": [{"viewId": "11070712640", "changes": []}, {"viewId": "16853811688", "changes": []}, {"viewId": "11956347417", "changes": []}, {"viewId": "17772951069", "changes": []}, {"viewId": "20750910744", "changes": []}], "name": "v0: Control - 1050"}, {"id": "20954790037", "actions": [{"viewId": "11070712640", "changes": [{"value": function($){!function(o,t,i){var r=20979720017,n=window["CRO_SHARED_"+r]||(window["CRO_SHARED_"+r]={}),e=window.optimizely.get("utils"),w=e.error&&e.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v1","optimizely-tpt-home-page")}catch(o){w(o)}}("tpt1050");
}, "dependencies": [], "type": "custom_code", "id": "951465a9-b1e2-4b4c-b8af-3232a5660f33"}]}, {"viewId": "16853811688", "changes": [{"value": function($){!function(o,r,t){var w=20979720017,e=window["CRO_SHARED_"+w]||(window["CRO_SHARED_"+w]={}),n=window.optimizely.get("utils"),c=n.error&&n.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v1","pdp-wwwteacherspayteacherscomproduct")}catch(o){c(o)}}("tpt1050");
}, "dependencies": [], "type": "custom_code", "id": "f103fbc8-68cd-4c17-9445-19b07dc4ae7c"}]}, {"viewId": "11956347417", "changes": [{"value": function($){!function(o,r,n){var i=20979720017,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v1","search")}catch(o){e(o)}}("tpt1050");
}, "dependencies": [], "type": "custom_code", "id": "7dfc5e5a-ae9f-4953-8c2d-0d704cafd372"}]}, {"viewId": "17772951069", "changes": [{"value": function($){!function(o,r,n){var i=20979720017,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v1","my-purchases")}catch(o){e(o)}}("tpt1050");
}, "dependencies": [], "type": "custom_code", "id": "3a98b4a8-8d7b-474d-8886-055748c7befb"}]}, {"viewId": "20750910744", "changes": [{"value": function($){!function(o,r,i){var n=20979720017,t=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),c=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v1","my-product-listings")}catch(o){c(o)}}("tpt1050");
}, "dependencies": [], "type": "custom_code", "id": "9c2a4160-c2f0-45ba-a13a-bb09ee4c60cf"}]}], "name": "v1: Virtual Assistant Banner"}], "audienceIds": ["and", "20754791812", "11719024772", "16539970090"], "changes": null, "id": "20979720017", "integrationSettings": null}], "id": "20932800016", "weightDistributions": null, "name": "TPT-1050 [Select Pages] Virtual Assistant Announcement", "groupId": null, "commitId": "21076180406", "decisionMetadata": {"experimentPriorities": [[{"entityId": "20979720017", "endOfRange": null}]], "offerConsistency": null}, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "a0d4bc84-50ac-40e4-87fc-6808ff63914a", "value": function($){function _createForOfIteratorHelper(n,e){var t="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=_unsupportedIterableToArray(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var r=0,o=function(){};return{"s":o,"n":function(){return r>=n.length?{"done":!0}:{"done":!1,"value":n[r++]}},"e":function(n){throw n},"f":o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{"s":function(){t=t.call(n)},"n":function(){var n=t.next();return i=n.done,n},"e":function(n){c=!0,a=n},"f":function(){try{i||null==t["return"]||t["return"]()}finally{if(c)throw a}}}}function _unsupportedIterableToArray(n,e){if(n){if("string"==typeof n)return _arrayLikeToArray(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(n,e):void 0}}function _arrayLikeToArray(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}!function(n){var e=20979720017,t=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),r=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":n,"tags":e})},o=window.optimizely.get("utils"),a=o.log&&o.log.bind(window,"[".concat(n,"]"))||console.warn.bind(window,"[cro] [".concat(n,"]"));o.error&&o.error.bind(window,n)||console.error.bind(window,"[cro] [".concat(n,"]"));var i='\n\n<div class="'.concat(n,'-banner">\n    <button class="').concat(n,'-banner-close">\n        <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M2.01347 2.01444L9.98653 9.98751" stroke="#777777" stroke-width="2" stroke-linecap="square"/>\n            <path d="M2.01347 9.98751L9.98653 2.01444" stroke="#777777" stroke-width="2" stroke-linecap="square"/>\n        </svg>\n    </button>\n    <div class="').concat(n,'-banner-header">\n        <div>\n          <svg width="106" height="96" viewBox="0 0 106 96" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <ellipse cx="46.7054" cy="37.4373" rx="15.7364" ry="18.4341" fill="white" fill-opacity="0.62"/>\n          <path d="M73.2326 81.0498C64.6899 88.6932 61.7586 90.9413 47.6047 90.9413C33.4508 90.9413 26.9225 89.5924 21.9767 81.0498C21.9767 70.124 33.4508 61.2668 47.6047 61.2668C61.7586 61.2668 73.2326 70.124 73.2326 81.0498Z" fill="white" fill-opacity="0.62"/>\n          <path d="M22.3943 73.1164C24.9176 68.7992 28.5199 65.2123 32.8481 62.7079C37.1762 60.2036 42.0813 58.8676 47.0816 58.8315C51.1607 58.861 55.1899 59.7291 58.9195 61.3811C62.6491 63.0331 65.9994 65.4342 68.7621 68.4353C70.031 69.6685 71.2097 70.9908 72.2889 72.3929" stroke="#222222" stroke-width="4.97143" stroke-linecap="round" stroke-linejoin="round"/>\n          <path d="M46.99 57.9186C57.0652 57.9186 65.2328 48.865 65.2328 37.6968C65.2328 26.5286 57.0652 17.475 46.99 17.475C36.9148 17.475 28.7473 26.5286 28.7473 37.6968C28.7473 48.865 36.9148 57.9186 46.99 57.9186Z" stroke="#222222" stroke-width="4.97143" stroke-linecap="round" stroke-linejoin="round"/>\n          <path d="M46.9135 90.2557C71.0085 90.2557 90.5414 70.7228 90.5414 46.6278C90.5414 22.5328 71.0085 3 46.9135 3C22.8185 3 3.28571 22.5328 3.28571 46.6278C3.28571 70.7228 22.8185 90.2557 46.9135 90.2557Z" stroke="#222222" stroke-width="4.97143" stroke-linecap="round" stroke-linejoin="round"/>\n          <path d="M82.3747 93.4561C93.6079 93.4561 102.714 84.3498 102.714 73.1166C102.714 61.8834 93.6079 52.7771 82.3747 52.7771C71.1415 52.7771 62.0352 61.8834 62.0352 73.1166C62.0352 84.3498 71.1415 93.4561 82.3747 93.4561Z" fill="#67E0A6" stroke="#222222" stroke-width="4.97143" stroke-linejoin="round"/>\n          <path d="M72.8517 74.6225L78.6941 80.1835C79.3775 80.8339 80.4652 80.7834 81.0854 80.0725L91.8998 67.6755" stroke="#222222" stroke-width="4.97143" stroke-linecap="round"/>\n          </svg>\n        </div>\n    </div>\n    <div class="').concat(n,'-banner-content">\n        <span class="').concat(n,'-banner-content-label">New Feature</span>\n        <div class="').concat(n,'-banner-content-header">TPT now supports Virtual<br>Assistant access to stores</div>\n        <div class="').concat(n,'-banner-content-subhead">You can grant access to virtual assistants to help with your store using our VA Login feature  all while keeping passwords and personal information private.</div>\n        <div class="').concat(n,'-banner-content-buttons">\n            <button>Tell me later</button>\n            <a target="_blank" href="https://www.teacherspayteachers.com/My-Account/Virtual-Assistants">Learn more</a>\n        </div>\n    </div>\n</div>\n');a("v0.4");var c=function(){try{return sessionStorage.setItem("withSessionStorageIsAvailable","yes"),sessionStorage.removeItem("withSessionStorageIsAvailable"),!0}catch(n){return!1}},s=".cro-modal, .cro-banner, [class^='croEaselBanner'], ._hj-widget-container [id*=hj-survey]";t.applyTreatment=function(e,t){if(function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;r.classList.add(n),r.classList.add(n+e),a("Variation ".concat(e,", page ").concat(t))}(e,t),!function(n){var e=n.key,t=n.initialValue,r=n.valueWhenStorageNotAvailable;if(!c())return r;try{var o;return null!==(o=sessionStorage.getItem(e))&&void 0!==o?o:t}catch(n){return r}}({"key":"".concat(n,"-seen-banner"),"initialValue":!1,"valueWhenStorageNotAvailable":!1})&&!o.cookie.get("".concat(n,"-closed-banner"))){document.body.insertAdjacentHTML("afterbegin",i);var l,u=document.querySelector(".".concat(n,"-banner")),d=0,v=u.querySelectorAll("svg"),h=_createForOfIteratorHelper(v);try{for(h.s();!(l=h.n()).done;){l.value.addEventListener("load",(function(){++d!==v.length||document.querySelector(s)||u.classList.add("".concat(n,"-shown"))}))}}catch(n){h.e(n)}finally{h.f()}var f=function(){return u.classList.remove("".concat(n,"-shown"))};u.querySelector(".".concat(n,"-banner-close")).addEventListener("click",(function(){f(),r("".concat(n,"_va_modal_exits_modal")),o.cookie.set("".concat(n,"-closed-banner"),!0,365)})),u.querySelector(".".concat(n,"-banner-content-buttons button")).addEventListener("click",(function(){f(),r("".concat(n,"_va_modal_clicks_on_tell_me_later")),function(n){var e=n.key,t=n.value;if(c())try{sessionStorage.setItem(e,t)}catch(n){a("Unable to set sessionStorage",n)}}({"key":"".concat(n,"-seen-banner"),"value":!0}),o.cookie.set("".concat(n,"-closed-banner"),!0)})),u.querySelector(".".concat(n,"-banner-content-buttons a")).addEventListener("click",(function(){return r("".concat(n,"_va_modal_clicks_on_learn_more"))})),o.observeSelector(s,(function(){return u.remove()}))}}}("tpt1050");
}}, {"dependencies": [], "type": "append", "id": "c8452909-852d-4d8a-91a1-e4b8c13869c7", "value": "<style>.tpt1050-banner{position:fixed;color:#222222;font-family:'PROXIMA NOVA';-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;-o-transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out;bottom:-400px;right:24px;z-index:1;background-color:white;width:280px;-webkit-box-shadow:0px 4px 16px #0000004d;box-shadow:0px 4px 16px #0000004d;border-radius:6px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;overflow:hidden}@media only screen and (max-width: 579px){.tpt1050-banner{display:none !important}}.tpt1050-banner-close{cursor:pointer;border:none;background:transparent;position:absolute;top:16px;right:10px;-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}.tpt1050-banner-header{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background-color:#EAF3EF;min-height:140px;padding-top:10px;height:138px;min-height:auto;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:19px;-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.tpt1050-banner-header>div{position:relative;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-basis:100%;-ms-flex-preferred-size:100%;flex-basis:100%;margin-top:5px;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center}.tpt1050-banner-header>div svg{display:block;height:100%;width:auto;margin:auto}.tpt1050-banner-content{padding:12px 18px}.tpt1050-banner-content-label{display:inline-block;font-weight:600;font-size:12px;line-height:1.4;letter-spacing:0.065em;background-color:#FFF2AA;padding:4px 8px 2px;border-radius:15px;text-transform:uppercase}.tpt1050-banner-content-header{font-size:16px;line-height:24px;font-weight:700;margin:6px 0}.tpt1050-banner-content-subhead{margin-bottom:15px;font-size:14px;line-height:137.5%}.tpt1050-banner-content-buttons{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.tpt1050-banner-content-buttons button{font-size:14px;line-height:137.5%;margin-right:5px;cursor:pointer;color:#222222;border:none;background:transparent;font-family:inherit}.tpt1050-banner-content-buttons button:hover{text-decoration:underline}.tpt1050-banner-content-buttons a{font-size:14px;font-weight:600;-webkit-transition:background-color 150ms ease-in-out;-o-transition:background-color 150ms ease-in-out;transition:background-color 150ms ease-in-out;background-color:#0AA96C;color:white;border-radius:3px;text-decoration:none;padding:5px 8px}.tpt1050-banner-content-buttons a:hover{background-color:#66c9ae}.tpt1050-shown{-webkit-transform:translateY(-416px);-ms-transform:translateY(-416px);transform:translateY(-416px)}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["19186070224"], "experiments": [{"weightDistributions": [{"entityId": "20913465417", "endOfRange": 10000}], "audienceName": "Exclude Premium Sellers,United States Only,Matched TPT SA Users [logged-in only],Logged In,Device | Desktop", "name": "100% v0 TPT-960 [PDP][Desktop] Matched User Catalog product button iteration", "bucketingStrategy": null, "variations": [{"id": "20913465417", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){!function(o,r,t){var n=20837800419,i=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),d=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{i.applyTreatment("v0","pdp-tpt-sa-flagged")}catch(o){d(o)}}("tpt960");
}, "dependencies": [], "type": "custom_code", "id": "6586c9fac47f445491a4d03d9dee6117"}]}], "name": "v0: Control - 960"}, {"id": "20919685393", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){!function(o,r,t){var n=20837800419,i=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),d=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{i.applyTreatment("v1","pdp-tpt-sa-flagged")}catch(o){d(o)}}("tpt960");
}, "dependencies": [], "type": "custom_code", "id": "fd7e4558e93147a39d55e1a2ac9fe6aa"}]}], "name": "v1: View details"}], "audienceIds": ["and", "16882670147", "16931205087", "20339405977", "12111314811", "12001380907"], "changes": null, "id": "20938976315", "integrationSettings": null}], "id": "20938976313", "weightDistributions": null, "name": "100% v0 TPT-960 [PDP][Desktop] Matched User Catalog product button iteration", "groupId": null, "commitId": "21026421114", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "0c2bc70311bd452898210709d6c2fd0b", "value": function($){function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}!function(t){var e=20837800419,n=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":t,"tags":e})},a=window.optimizely.get("utils"),r=a.log&&a.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),i=a.error&&a.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));r("v0.1"),n.applyTreatment=function(e,n){!function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;o.classList.add(t),o.classList.add(t+e),r("Variation ".concat(e,", page ").concat(n))}(e,n);var c="&cro_oeuid=".concat(optimizely.get("visitor").visitorId),s=_slicedToArray({"v0":["Access this resource without using personal&nbsp;funds","".concat('<svg viewBox="0 0 24 24" aria-hidden="true" role="presentation" class="SvgIcon_root__B2saD mr-2"><path d="M15.293 15.793L13 18.086V10.5a1 1 0 10-2 0v7.586l-2.293-2.293a.999.999 0 10-1.414 1.414l3.999 3.999a.99.99 0 00.326.217.991.991 0 001.09-.217l3.999-3.999a.999.999 0 10-1.414-1.414zm4.669-6.061C19.569 5.679 16.148 2.5 12 2.5S4.431 5.679 4.038 9.732A5.484 5.484 0 000 15.02a5.496 5.496 0 004.889 5.474.994.994 0 001.104-.884 1 1 0 00-.884-1.104A3.499 3.499 0 012 15.02a3.49 3.49 0 013.114-3.464C5.62 11.5 6 11.021 6 10.512 6 7.197 8.691 4.5 12 4.5s6 2.697 5.999 6.005a1 1 0 00.887 1.051A3.49 3.49 0 0122 15.02a3.498 3.498 0 01-3.109 3.486 1.001 1.001 0 00.22 1.988A5.497 5.497 0 0024 15.02a5.484 5.484 0 00-4.038-5.288z"></path></svg>\n'," Access Now"),"Look for the Access Now button to find resources available through TpT School Access."],"v1":["View resource details then access it, without paying out of pocket.","View Resource","This resource and all others with this TpT School Access logo are available as part of your subscription."]}[e],3),l=s[0],d=s[1],p=s[2],u=document.createElement("div");u.className="".concat(t,"-box"),u.innerHTML='\n    <div class="'.concat(t,'-modal-box">\n      <div class="header">\n        <img src="//cdn.optimizely.com/img/11000223989/405a26d73afd439cbb2615b0adac4370.png"/>\n      </div>\n      <div class="content">\n        <h2>').concat(l,'</h2>\n        <div class="tooltip-wrapper show">\n          <a href="javascript:;" class="link-btn">').concat(d,'</a>\n          <div class="cro-tooltip">\n            <a href="javascript:;" class="dismiss icon">').concat('<svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.8098 9.08928C11.8098 9.3125 11.7205 9.53571 11.5598 9.69643L10.3455 10.9107C10.1848 11.0714 9.96158 11.1607 9.73836 11.1607C9.51515 11.1607 9.29193 11.0714 9.13122 10.9107L6.50621 8.28571L3.88121 10.9107C3.7205 11.0714 3.49728 11.1607 3.27407 11.1607C3.05085 11.1607 2.82764 11.0714 2.66692 10.9107L1.45264 9.69643C1.29192 9.53571 1.20264 9.3125 1.20264 9.08928C1.20264 8.86607 1.29192 8.64285 1.45264 8.48214L4.07764 5.85714L1.45264 3.23213C1.29192 3.07142 1.20264 2.8482 1.20264 2.62499C1.20264 2.40178 1.29192 2.17856 1.45264 2.01785L2.66692 0.803559C2.82764 0.642844 3.05085 0.553558 3.27407 0.553558C3.49728 0.553558 3.7205 0.642844 3.88121 0.803559L6.50621 3.42856L9.13122 0.803559C9.29193 0.642844 9.51515 0.553558 9.73836 0.553558C9.96158 0.553558 10.1848 0.642844 10.3455 0.803559L11.5598 2.01785C11.7205 2.17856 11.8098 2.40178 11.8098 2.62499C11.8098 2.8482 11.7205 3.07142 11.5598 3.23213L8.93479 5.85714L11.5598 8.48214C11.7205 8.64285 11.8098 8.86607 11.8098 9.08928Z" fill="#fff"/><mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="1" y="0" width="11" height="12"><path d="M11.8098 9.08928C11.8098 9.3125 11.7205 9.53571 11.5598 9.69643L10.3455 10.9107C10.1848 11.0714 9.96158 11.1607 9.73836 11.1607C9.51515 11.1607 9.29193 11.0714 9.13122 10.9107L6.50621 8.28571L3.88121 10.9107C3.7205 11.0714 3.49728 11.1607 3.27407 11.1607C3.05085 11.1607 2.82764 11.0714 2.66692 10.9107L1.45264 9.69643C1.29192 9.53571 1.20264 9.3125 1.20264 9.08928C1.20264 8.86607 1.29192 8.64285 1.45264 8.48214L4.07764 5.85714L1.45264 3.23213C1.29192 3.07142 1.20264 2.8482 1.20264 2.62499C1.20264 2.40178 1.29192 2.17856 1.45264 2.01785L2.66692 0.803559C2.82764 0.642844 3.05085 0.553558 3.27407 0.553558C3.49728 0.553558 3.7205 0.642844 3.88121 0.803559L6.50621 3.42856L9.13122 0.803559C9.29193 0.642844 9.51515 0.553558 9.73836 0.553558C9.96158 0.553558 10.1848 0.642844 10.3455 0.803559L11.5598 2.01785C11.7205 2.17856 11.8098 2.40178 11.8098 2.62499C11.8098 2.8482 11.7205 3.07142 11.5598 3.23213L8.93479 5.85714L11.5598 8.48214C11.7205 8.64285 11.8098 8.86607 11.8098 9.08928Z" fill="white"/></mask><g mask="url(#mask0)"></g></svg>\n',"</a>\n            <h4>See whats included in your subscription!</h4>\n            <span>").concat(p,"</span>\n          </div>\n          </div>\n      </div>\n    </div>\n  ");var h=window.__TPT__hashedUserId,m=!1,w="",_=!1;r("Detected user ID",h),fetch("https://tpt-tptsa-mapping-prod.s3.amazonaws.com/lookup-by-hashed-user-id/".concat(h),{"method":"GET","headers":{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){t&&(t.hashed_user_id||t.hashed_tpt_user_id)&&(_=!0,t.registration_link&&null!==t.registration_link&&"null"!==t.registration_link&&""!==t.registration_link&&(w=new URL(sessionStorage.getItem("cro_registration_link")),r("Invite Link:",w)),null!==t.audience&&"non-registered"===t.audience&&(m=!0))}))["catch"](i),a.waitForElement(".tpt-frontend").then((function(t){return a.waitUntil((function(){return t._reactRootContainer&&_}))})).then((function(){a.waitForElement('[data-testid="sticky-price-box-wrapper"] .PriceBox').then((function(n){r("Found price box!"),n.insertAdjacentElement("beforebegin",u),r("Added cro box desktop!"),function(t){for(var e=t+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){var a=n[o].trim();if(0===a.indexOf(e))return a.substring(e.length,a.length)}return null}("cro_saw_".concat(t))&&(r("User already dismissed tooltip!"),u.querySelector(".tooltip-wrapper").classList.remove("show"),u.querySelector(".tooltip-wrapper").classList.add("hide"));var a="?utm_source=tptcoremarketplace&utm_medium=matchedusersbanner&utm_campaign=optimizely".concat(t).concat(e).concat(c);u.querySelector(".link-btn").addEventListener("click",(function(){if(location.pathname.toLowerCase().indexOf("product")>-1){o("".concat(t,"_pdp_tptsa_access_now_cta")),r("Detected user is on a product page!");var n=document.querySelector('[itemprop="productID"]').content;r("Directing user to","https://www.tptschoolaccess.com/resource/".concat(n).concat(a)),n&&!m?window.open("https://www.tptschoolaccess.com/resource/".concat(n).concat(a),"_blank"):m?(r("Custom invite link detected!"),r("Before appending:",w),w.searchParams.append("utm_campaign","optimizely".concat(t).concat(e)),w.searchParams.append("utm_source","tptcoremarketplace"),w.searchParams.append("utm_medium","matchedusersbanner"),w.searchParams.append("cro_oeuid","".concat(optimizely.get("visitor").visitorId)),r("Opening:",w),window.open(w,"_blank")):window.open("https://www.tptschoolaccess.com".concat(a),"_blank")}})),u.querySelector(".dismiss.icon").addEventListener("click",(function(){o("".concat(t,"_pdp_tptsa_access_now_tooltip_exits")),function(t,e,n){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"."+window.location.hostname.split(".").slice(-2).join("."),r=t+"="+e+"; path=/";n instanceof Date?o=n:n>0&&(o=new Date).setTime(o.getTime()+24*n*60*60*1e3),o&&(r+="; expires="+o.toGMTString()),a&&(r+="; domain="+a),document.cookie=r}("cro_saw_".concat(t),!0,7),u.querySelector(".tooltip-wrapper").classList.remove("show"),u.querySelector(".tooltip-wrapper").classList.add("hide")}))}))["catch"](i)}))["catch"](i)}}("tpt960");
}}, {"dependencies": [], "type": "append", "id": "35550a88483244208329ac581c41bacb", "value": "<style>.tpt960-box{overflow:visible}.tpt960 .DigitalActivityBadgeWithTooltip .Tooltip.Tooltip--left.DigitalActivityTooltip__left{display:none !important}.tpt960 .DigitalActivityBadgeWithTooltip .Tooltip{display:none !important}.tpt960-modal-box{max-width:100%;height:auto;background:#E8EDF7;margin-bottom:15px;text-align:center;-webkit-transition:all 0.3s;-o-transition:all 0.3s;transition:all 0.3s;color:black;border:2px solid transparent}.tpt960-modal-box h2{font-family:Proxima Nova;font-size:14px;line-height:16px;text-align:center;color:black;padding:20px 20px;font-weight:600}.tpt960-modal-box .link-btn{font-family:Proxima Nova;font-size:16px;font-weight:600;color:#FFFFFF;text-align:center;line-height:1;border-radius:3px;background:#2C358B;max-width:calc(100% - 40px);width:100%;height:42px;padding:12px 18px;display:inline-block;-webkit-transition:background 0.3s;-o-transition:background 0.3s;transition:background 0.3s}.tpt960-modal-box .link-btn:hover{text-decoration:none;background:#2b3665}.tpt960-modal-box .link-btn svg{display:inline-block;padding-right:.5em;width:1.85em;line-height:1em}.tpt960-modal-box img{height:15px;width:125px}.tpt960-modal-box .header{padding:20px 0px 0px 0px}.tpt960 .tooltip-wrapper{position:relative;padding-bottom:20px}.tpt960 .tooltip-wrapper .cro-tooltip{background:#2C358B;color:#fff;display:block;padding:27px 26px 24px 24px;position:absolute;width:302px;-webkit-transition:all .25s ease-out;-o-transition:all .25s ease-out;transition:all .25s ease-out;-webkit-box-shadow:0px 1px 5px rgba(0,0,0,0.1);box-shadow:0px 1px 5px rgba(0,0,0,0.1);right:calc(100% + 20px);top:0;text-align:left;border-radius:6px}.tpt960 .tooltip-wrapper .cro-tooltip h4{font-size:17px}.tpt960 .tooltip-wrapper .cro-tooltip span{display:inline-block;margin:5px 0px}.tpt960 .tooltip-wrapper .cro-tooltip .dismiss.icon{position:absolute;top:9px;right:14px;cursor:pointer}@media (max-width: 767px){.tpt960 .tooltip-wrapper .cro-tooltip{top:-275px;bottom:initial;right:0;left:0}}.tpt960 .tooltip-wrapper .cro-tooltip:after{border-left:solid transparent 12px;border-right:solid transparent 12px;border-top:solid #2C358B 12px;content:\" \";height:0;right:-17px;position:absolute;width:0;bottom:calc(50% - 7px);-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg);top:20px}.tpt960 .tooltip-wrapper.show .cro-tooltip{display:block}.tpt960 .tooltip-wrapper.hide .cro-tooltip{display:none !important}.tpt960 .StickyProductPageSideColumnLayout{z-index:202}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["11070712640", "11956347417", "16853811688", "17772951069", "20750910744"], "experiments": [{"weightDistributions": null, "audienceName": "Premium Sellers,Device | Desktop, Tablet only,U.S. Only", "name": "TPT-1053 [Sitewide] Virtual Assistant Banner", "bucketingStrategy": null, "variations": [{"id": "20910144893", "actions": [{"viewId": "11070712640", "changes": [{"value": function($){!function(o,t,i){var r=20919625551,n=window["CRO_SHARED_"+r]||(window["CRO_SHARED_"+r]={}),e=window.optimizely.get("utils"),w=e.error&&e.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v1","optimizely-tpt-home-page")}catch(o){w(o)}}("tpt1053");
}, "dependencies": [], "type": "custom_code", "id": "1323de71-bec5-4de9-a7ac-64f7a3e29254"}]}, {"viewId": "16853811688", "changes": [{"value": function($){!function(o,r,t){var w=20919625551,e=window["CRO_SHARED_"+w]||(window["CRO_SHARED_"+w]={}),n=window.optimizely.get("utils"),c=n.error&&n.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v1","pdp-wwwteacherspayteacherscomproduct")}catch(o){c(o)}}("tpt1053");
}, "dependencies": [], "type": "custom_code", "id": "becf57c6-9322-428b-ac23-50e42e6dbfd1"}]}, {"viewId": "11956347417", "changes": [{"value": function($){!function(o,r,n){var i=20919625551,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v1","search")}catch(o){e(o)}}("tpt1053");
}, "dependencies": [], "type": "custom_code", "id": "d7f0c13f-81a9-49e3-b4a9-029a3215c79f"}]}, {"viewId": "17772951069", "changes": [{"value": function($){!function(o,r,n){var i=20919625551,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v1","my-purchases")}catch(o){e(o)}}("tpt1053");
}, "dependencies": [], "type": "custom_code", "id": "95aeae39-de29-4491-b70f-cf05fd263f4a"}]}, {"viewId": "20750910744", "changes": [{"value": function($){!function(o,r,i){var n=20919625551,t=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),c=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v1","my-product-listings")}catch(o){c(o)}}("tpt1053");
}, "dependencies": [], "type": "custom_code", "id": "59d71243-1a7e-4ac6-a4db-cd2a815387ca"}]}], "name": "v1: Virtual Assistant Sitewide Banner"}], "audienceIds": ["and", "11747302989", "20754791812", "16539970090"], "changes": null, "id": "20919625551", "integrationSettings": null}], "id": "20948540015", "weightDistributions": null, "name": "TPT-1053 [Sitewide] Virtual Assistant Banner", "groupId": null, "commitId": "20981770892", "decisionMetadata": {"experimentPriorities": [[{"entityId": "20919625551", "endOfRange": null}]], "offerConsistency": null}, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "6e36f020-c853-462b-9fd7-94868c62d730", "value": function($){!function(n){var t=20919625551,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),o=window.optimizely.get("utils"),i=o.log&&o.log.bind(window,"[".concat(n,"]"))||console.warn.bind(window,"[cro] [".concat(n,"]")),a=o.error&&o.error.bind(window,n)||console.error.bind(window,"[cro] [".concat(n,"]"));i("v0.1"),e.applyTreatment=function(t,e){!function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;o.classList.add(n),o.classList.add(n+t),i("Variation ".concat(t,", page ").concat(e))}(t,e),o.waitForElement(".tpt-frontend").then((function(n){n.insertAdjacentHTML("beforebegin",'\n      <div class="Cro__VaBanner">\n        \x3c!-- <div class="Cro__VaBanner-Inner">\n          <div class="Cro__VaBanner-Icon"><svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 129 129"><ellipse cx="57.5" cy="52.5" rx="17.5" ry="20.5" fill="#fff" fill-opacity=".62"/><path d="M87 101c-9.5 8.5-12.76 11-28.5 11s-23-1.5-28.5-11c0-12.15 12.76-22 28.5-22S87 88.85 87 101Z" fill="#fff" fill-opacity=".62"/><path d="M30.464 92.178a32.067 32.067 0 0 1 27.454-15.886 33.097 33.097 0 0 1 24.11 10.68 41.075 41.075 0 0 1 3.923 4.401M57.816 75.277c11.205 0 20.288-10.069 20.288-22.488 0-12.42-9.083-22.489-20.288-22.489C46.612 30.3 37.53 40.37 37.53 52.79s9.083 22.488 20.287 22.488Z" stroke="#222" stroke-width="5.529" stroke-linecap="round" stroke-linejoin="round"/><path d="M57.731 111.238c26.796 0 48.518-21.722 48.518-48.517 0-26.796-21.722-48.518-48.518-48.518-26.795 0-48.517 21.722-48.517 48.517 0 26.796 21.722 48.518 48.517 48.518Z" stroke="#222" stroke-width="5.529" stroke-linecap="round" stroke-linejoin="round"/><path d="M97.167 114.797c12.492 0 22.619-10.127 22.619-22.62 0-12.491-10.127-22.618-22.62-22.618-12.491 0-22.618 10.127-22.618 22.619 0 12.492 10.127 22.619 22.619 22.619Z" fill="#67E0A6" stroke="#222" stroke-width="5.529" stroke-linejoin="round"/><path d="m86.576 93.853 6.498 6.184c.76.723 1.97.667 2.659-.124l12.026-13.786" stroke="#222" stroke-width="5.529" stroke-linecap="round"/></svg></div>\n\n          <div class="Cro__VaBanner-Content">New! You can now invite virtual assistants to help with your store.</div> --\x3e\n\n          <a href="https://www.teacherspayteachers.com/My-Account/Virtual-Assistants?utm_source=tptcoremarketplace&utm_medium=virtualassistantsbanner&utm_campaign=optimizelytpt1053v1 " class="Cro__VaBanner-Button">\n            \x3c!-- Learn More --\x3e\n\n            <img src="//cdn.optimizely.com/img/11000223989/f3ece7813bb24a17b9b95477e3ae5d6d.png" alt="New! You can now invite virtual assistants to help with your store.">\n          </a>\n        \x3c!-- </div> --\x3e\n      </div>\n    '),document.querySelector(".Cro__VaBanner-Button").addEventListener("click",(function(){return function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":n,"tags":t})}("tpt1053_clicks_banner_cta")}))}))["catch"](a)}}("tpt1053");
}}, {"dependencies": [], "type": "append", "id": "86290440-3392-4d81-9a73-9604c66bbfdf", "value": "<style>.Cro__VaBanner{width:100%;background:#E7F8EF;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.Cro__VaBanner-Button{max-width:1072px;height:auto;margin:0 auto}.Cro__VaBanner-Button img{max-width:100%;height:auto}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["11070712640"], "experiments": [{"weightDistributions": [{"entityId": "20962460649", "endOfRange": 5000}, {"entityId": "20995181096", "endOfRange": 10000}], "audienceName": "U.S. Only,Exclude Matched TPT SA Users [logged-in only],Exclude: All Sellers", "name": "TPT-1063 [Homepage] Pop-up Schools User and Name Messaging with on-page modal", "bucketingStrategy": null, "variations": [{"id": "20962460649", "actions": [{"viewId": "11070712640", "changes": [{"value": function($){!function(o,i,t){var n=20985570895,r=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{r.init("v0","optimizely-tpt-home-page")}catch(o){e(o)}}("tpt1063");
}, "dependencies": [], "type": "custom_code", "id": "56bf2a7d-7393-4ce3-8c08-5af6ce340414"}]}], "name": "v0: Original"}, {"id": "20995181096", "actions": [{"viewId": "11070712640", "changes": [{"value": function($){!function(o,i,t){var n=20985570895,r=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{r.init("v1","optimizely-tpt-home-page")}catch(o){e(o)}}("tpt1063");
}, "dependencies": [], "type": "custom_code", "id": "11918767-f8f3-4b00-8688-6faf58a93a8d"}]}], "name": "v1: User and School Personalized info"}], "audienceIds": ["and", "16539970090", "19997272145", "16649800467"], "changes": null, "id": "20985570895", "integrationSettings": null}], "id": "20975680261", "weightDistributions": null, "name": "TPT-1063 [Homepage] Pop-up Schools User and Name Messaging with on-page modal", "groupId": null, "commitId": "21168401711", "decisionMetadata": {"experimentPriorities": [[{"entityId": "20985570895", "endOfRange": null}]], "offerConsistency": null}, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "2e3ec1dd-599b-4e77-a25b-4630b06cb88d", "value": function($){function _defineProperty(e,o,n){return o in e?Object.defineProperty(e,o,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[o]=n,e}!function(e){var o=20985570895,n=window["CRO_SHARED_"+o]||(window["CRO_SHARED_"+o]={}),t=window.optimizely.get("utils"),a=t.log&&t.log.bind(window,"[".concat(e,"]"))||console.warn.bind(window,"[cro] [".concat(e,"]")),i=t.error&&t.error.bind(window,e)||console.error.bind(window,"[cro] [".concat(e,"]")),r=[{"abbr":"CA","name":"California","stimulus":"over $15 billion"},{"abbr":"NY","name":"New York","stimulus":"over $8.9 billion"},{"abbr":"NJ","name":"New Jersey","stimulus":"over $2.7 billion"},{"abbr":"PA","name":"Pennsylvania","stimulus":"over $4.9 billion"},{"abbr":"TX","name":"Texas","stimulus":"over $12 billion"},{"abbr":"IL","name":"Illinois","stimulus":"over $5 billion"},{"abbr":"OH","name":"Ohio","stimulus":"over $4.4 billion"},{"abbr":"MA","name":"Massachusetts","stimulus":"over $1.8 billion"},{"abbr":"FL","name":"Florida","stimulus":"over $7 billion"},{"abbr":"MI","name":"Michigan","stimulus":"over $3.7 billion"},{"abbr":"NC","name":"North Carolina","stimulus":"over $3.5 billion"},{"abbr":"GA","name":"Georgia","stimulus":"over $4 billion"},{"abbr":"MO","name":"Missouri","stimulus":"over $1.9 billion"},{"abbr":"VA","name":"Virginia","stimulus":"over $761 million"},{"abbr":"IN","name":"Indiana","stimulus":"over 1.9 billion"},{"abbr":"WI","name":"Wisconsin","stimulus":"over $1.5 billion"},{"abbr":"MN","name":"Minnesota","stimulus":"over $1.3 billion"},{"abbr":"CT","name":"Connecticut","stimulus":"over $1.1 billion"},{"abbr":"AZ","name":"Arizona","stimulus":"over $2.5 billion"},{"abbr":"CO","name":"Colorado","stimulus":"over $1.1 billion"},{"abbr":"OK","name":"Oklahoma","stimulus":"over $1.4 billion"},{"abbr":"KY","name":"Kentucky","stimulus":"over $2 billion"},{"abbr":"OR","name":"Oregon","stimulus":"over $1.1 billion"},{"abbr":"WA","name":"Washington","stimulus":"over $1.8 billion"},{"abbr":"MD","name":"Maryland","stimulus":"over $1.9 billion"},{"abbr":"KS","name":"Kansas","stimulus":"over $830 million"},{"abbr":"ME","name":"Maine","stimulus":"over $411 million"},{"abbr":"SC","name":"South Carolina","stimulus":"over $2.1 billion"},{"abbr":"HI","name":"Hawaii","stimulus":"over $412 million"},{"abbr":"TN","name":"Tennessee","stimulus":"over $2.4 billion"},{"abbr":"AL","name":"Alabama","stimulus":"over $2 billion"},{"abbr":"LA","name":"Louisiana","stimulus":"over $2.6 billion"},{"abbr":"IA","name":"Iowa","stimulus":"over $774 million"},{"abbr":"WV","name":"West Virginia","stimulus":"over $761 million"},{"abbr":"AR","name":"Arkansas","stimulus":"over $1.2 billion"},{"abbr":"NH","name":"New Hampshire","stimulus":"over $350 million"},{"abbr":"NM","name":"New Mexico","stimulus":"over $979 million"},{"abbr":"MS","name":"Mississippi","stimulus":"over $1.6 billion"},{"abbr":"NE","name":"Nebraska","stimulus":"over $545 million"},{"abbr":"NV","name":"Nevada","stimulus":"over $1 billion"},{"abbr":"UT","name":"Utah","stimulus":"over $615 million"},{"abbr":"ID","name":"Idaho","stimulus":"over $439 million"},{"abbr":"RI","name":"Rhode Island","stimulus":"over $415 million"},{"abbr":"ND","name":"North Dakota","stimulus":"over $305 million"},{"abbr":"AK","name":"Alaska","stimulus":"over $358 million"},{"abbr":"SD","name":"South Dakota","stimulus":"over $382 million"},{"abbr":"PR","name":"Puerto Rico","stimulus":"over $2.9 billion"},{"abbr":"MT","name":"Montana","stimulus":"over $382 million"},{"abbr":"DE","name":"Delaware","stimulus":"over $410 million"},{"abbr":"VT","name":"Vermont","stimulus":"over $285 million"},{"abbr":"WY","name":"Wyoming","stimulus":"over $303 million"},{"abbr":"DC","name":"District of Columbia","stimulus":"over $386 million"}],s=function(){return e="UserProfile",o='{"operationName":"UserProfile","variables":{},"extensions":{},"query":"query UserProfile {\n  member {\n    id\n    groupId\n    userProfile {\n      fullName\n      grades\n      subjects\n      role\n      populations\n      languages\n      standards\n      other\n      address\n      address2\n      city\n      state\n      country\n      postalCode\n      allowShowCity\n      hasPayoutMethod\n      customTaxonomy {\n        standards {\n          id\n          customValue\n          __typename\n        }\n        __typename\n      }\n      selectedSchool {\n        id\n        name\n        address\n        city\n        state\n        stateAbbr\n        zip\n        __typename\n      }\n      __typename\n    }\n    organizations {\n      organizations {\n        id\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n"}',n=window.optimizely.get("utils").cookie.get("csrfToken"),fetch("https://www.teacherspayteachers.com/graph/graphql?opname=".concat(e),{"credentials":"include","headers":{"accept":"application/json","cache-control":"no-cache","content-type":"application/json","pragma":"no-cache","x-csrf-token":n,"x-requested-with":"XMLHttpRequest"},"referrerPolicy":"no-referrer-when-downgrade","body":o,"method":"POST","mode":"cors"}).then((function(e){return e.json()}));var e,o,n},l=function(e,o,n){var t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"."+window.location.hostname.split(".").slice(-2).join("."),i=e+"="+o+"; path=/";n instanceof Date?t=n:n>0&&(t=new Date).setTime(t.getTime()+24*n*60*60*1e3),t&&(i+="; expires="+t.toGMTString()),a&&(i+="; domain="+a),document.cookie=i};function c(o,n){window.optimizely.push({"type":"user","attributes":_defineProperty({},"".concat(e,"_dcp_dat_set"),"true")}),t.waitForElement(".FooterLayout").then((function(r){if(n.school){var s="".concat(n.school," teachers could use more TpT resources this year");n.resourcesDownloaded&&"0"!==n.resourcesDownloaded&&(s="".concat(n.school,' teachers have used <span class="green">').concat(n.resourcesDownloaded,"</span> TpT resources this&nbsp;year"));var c,u="Your principal needs to know about TpT School Access  the school subscription that unlocks a library of 3M+ resources.",m="Share the Details";if("v1"===o)s="".concat(n.name,", do you need more support this school year?"),u="".concat(n.state.name," will be recieving ").concat(n.state.stimulus,"* in stimulus funding for K-12 schools, so ").concat(null!==(c=n.school)&&void 0!==c?c:"your school"," may have additional funds for a school subscription."),m="Ask for Support";var d='\n        <div id="'.concat(e,'-modal" class="cro-modal">\n          <div class="cro-modal__content">\n            <a href="#" class="cro-modal__closeBtn">\n              <img src="//cdn.optimizely.com/img/11000223989/328de7f686dd419eb98f0fc6a4c4e085.png" alt="close">\n            </a>\n            <div class="cro-modal__content__copy_top">\n              ').concat("v1"===o?'\n                <a href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign='.concat(e).concat(o,'">\n                  <img src="//cdn.optimizely.com/img/11000223989/ca959061157440a5817fa531b3acb30d.png">\n                </a>\n              '):"","\n              <h2>").concat(s,'</h2>\n            </div>\n            <div class="cro-modal__content__copy_bottom">\n              <p>').concat(u,'</p>\n              <div class="row">\n                ').concat("v1"===o?"\n                  <div>*US Department of Education. (March, 2021). Department of Education Announces American Rescue Plan Funds for All 50 States, Puerto Rico, and the District of Columbia to Help Schools Reopen</div>\n                ":'\n                  <a href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign='.concat(e).concat(o,'">\n                    <img src="//cdn.optimizely.com/img/11000223989/ca959061157440a5817fa531b3acb30d.png">\n                  </a>\n                '),'\n                <button class="btn">').concat(m,"</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      ");r.insertAdjacentHTML("afterend",d),a("Added!")}t.waitForElement("#".concat(e,"-modal")).then((function(o){var n;null===(n=o.querySelector("#".concat(e,"-modal button")))||void 0===n||n.addEventListener("click",(function(){return function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":e,"tags":o})}("tpt1063-clicks-on-modal-cta")})),function(e){for(var o=e+"=",n=document.cookie.split(";"),t=0;t<n.length;t++){var a=n[t].trim();if(0===a.indexOf(o))return a.substring(o.length,a.length)}return null}("".concat(e,"_modal_shown"))||(o.classList.add("cro-modal--show"),l("".concat(e,"_modal_shown"),"true",14)),t.waitForElement(".cro-modal__content__copy_bottom .btn").then((function(n){n.addEventListener("click",(function(){l("".concat(e,"_modal_shown"),"true",14),o.classList.remove("cro-modal--show"),window.__displayTeacherAdvocacyModal(e)}))}))["catch"](i),document.querySelector(".cro-modal__closeBtn").addEventListener("click",(function(){o.classList.remove("cro-modal--show")}))}))["catch"](i),t.waitForElement("#".concat(e,"-modal.cro-modal--show")).then((function(o){window.addEventListener("click",(function(n){n.target.matches("#".concat(e,"-modal"))&&(n.preventDefault(),o.classList.remove("cro-modal--show"))}),!1)}))["catch"](i)}))["catch"](i)}a("v1"),n.init=function(o,n){!function(o,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;t.classList.add(e),t.classList.add(e+o),a("Variation ".concat(o,", page ").concat(n))}(o,n),t.waitForElement(".tpt-frontend").then((function(e){return t.waitUntil((function(){return e._reactRootContainer}))})).then((function(){var n=!1;document.location.search.indexOf("".concat(e,"Copy"))>-1&&(n=!0),a("Waiting for DCP"),t.waitUntil(function(){var e=window.optimizely.get("visitor"),o=e.dcpData&&e.dcpData.attributes;return o&&Object.keys(o).length>0}||n).then((function(){a("DCP data or query param found!");var l={};l.school=window.optimizely.get("dcp").getAttributeValue({"datasourceId":20144019866,"attributeId":20234667484}),l.teachers=window.optimizely.get("dcp").getAttributeValue({"datasourceId":20144019866,"attributeId":20222687010}),l.penetration=window.optimizely.get("dcp").getAttributeValue({"datasourceId":20144019866,"attributeId":20239886934}),l.resourcesDownloaded=window.optimizely.get("dcp").getAttributeValue({"datasourceId":20144019866,"attributeId":20251361885}),t.waitUntil((function(){return n||l.school&&l.teachers&&l.penetration&&l.resourcesDownloaded})).then((function(){var t,a;n&&(l.school="Isla Academy",l.teachers="78",l.penetration="90",l.resourcesDownloaded="371"),l.penetration>=50&&l.penetration<=60?a="50%-60% of teachers use TPT ":l.penetration>=61&&l.penetration<=70?a="61%-70%, of teachers use TPT ":l.penetration>=71&&l.penetration<=80?a="71%-80% of teachers use TPT ":l.penetration>=81&&l.penetration<=90?a="81%-90% of teachers use TPT ":l.penetration>=91&&l.penetration<=100&&(a="91%-100% of teachers use TPT"),l.resourcesDownloaded>=200&&l.resourcesDownloaded<500?t="School Resource Count 200-500":l.resourcesDownloaded>=500&&l.resourcesDownloaded<1e3?t="School Resource Count 500-1k":l.resourcesDownloaded>=1e3&&l.resourcesDownloaded<2e3?t="School Resource Count 1k-2k":l.resourcesDownloaded>=2e3&&l.resourcesDownloaded<3e3?t="School Resource Count 2k-3k":l.resourcesDownloaded>=3e3&&(t="School Resource Count 3k+"),window.optimizely.push({"type":"user","attributes":_defineProperty({},"".concat(e,"_school_resource_count"),t)}),window.optimizely.push({"type":"user","attributes":_defineProperty({},"".concat(e,"_teacher_penetration"),a)}),s().then((function(e){var n,t,a,i,s,u,m,d,b,h,p,v=(null==e||null===(n=e.data)||void 0===n||null===(t=n.member)||void 0===t||null===(a=t.userProfile)||void 0===a||null===(i=a.selectedSchool)||void 0===i?void 0:i.stateAbbr)||(null==e||null===(s=e.data)||void 0===s||null===(u=s.member)||void 0===u||null===(m=u.userProfile)||void 0===m?void 0:m.state),w=r.find((function(e){return e.abbr===v}));l.state=w,l.name=null==e||null===(d=e.data)||void 0===d||null===(b=d.member)||void 0===b||null===(h=b.userProfile)||void 0===h||null===(p=h.fullName)||void 0===p?void 0:p.split(" ")[0],c(o,l)}))["catch"](i)}))["catch"](i)}))["catch"](i)}))["catch"](i)}}("tpt1063");
}}, {"dependencies": [], "type": "append", "id": "9128b926-b421-4cdf-bbd4-b9fc6eb31c63", "value": "<style>.tpt1063 .cro-modal{z-index:601;display:none;position:fixed;left:0;top:0;height:100%;width:100%;overflow:auto;background-color:rgba(0,0,0,0.6)}.tpt1063 .cro-modal .cro-modal__content__copy_bottom{background:#EEF6FF;padding-bottom:50px;border-radius:0px 0px 20px 20px}@media (max-width: 767px){.tpt1063 .cro-modal .cro-modal__content__copy_bottom{padding-bottom:20px}}.tpt1063 .cro-modal h2{width:85%;margin:0 auto;font-size:37px;line-height:1.625;padding:45px 0px;font-weight:600;color:#1D1C4C;font-family:Proxima Nova;text-align:left}@media (max-width: 767px){.tpt1063 .cro-modal h2{text-align:center;font-size:26px;line-height:1.33;padding:35px 0}}.tpt1063 .cro-modal p{width:85%;margin:0 auto;font-family:Proxima Nova;font-style:normal;font-weight:400;letter-spacing:0px;text-align:left;font-size:26px;line-height:1.62;margin:0 auto;padding-top:45px;padding-bottom:50px}@media (max-width: 767px){.tpt1063 .cro-modal p{text-align:center;font-size:20px;padding-top:35px;padding-bottom:25px}}.tpt1063 .cro-modal .row{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;width:85%;margin:0 auto}.tpt1063 .cro-modal .row img{max-width:250px;margin-left:20px}@media (max-width: 767px){.tpt1063 .cro-modal .row img{width:65%;margin-left:0}}.tpt1063 .cro-modal .row a:not(.btn){-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;text-align:left}.tpt1063 .cro-modal .row .btn{border-radius:3px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;line-height:1;cursor:pointer;font-weight:600;font-family:Proxima Nova, Helvetica Neue, Helvetica, Arial, sans-serif;text-align:center;background:#0aa96c;border:1px solid transparent;color:#fff;padding:16px 20px;font-size:20px;width:40%;max-width:343px;background-color:#3D52A2 !important;border-radius:100px}@media (max-width: 767px){.tpt1063 .cro-modal .row{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-webkit-flex-direction:column-reverse;-moz-box-orient:vertical;-moz-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;width:100%}.tpt1063 .cro-modal .row .btn{font-size:18px;padding:16px 30px;width:auto}.tpt1063 .cro-modal .row a:not(.btn){width:100%;border-top:1px solid rgba(29,28,76,0.25);margin-top:35px;padding-top:25px;padding-bottom:0px;text-align:center}}@media (max-width: 767px){.tpt1063 .cro-modal-desktop{display:none}}.tpt1063 .cro-modal-mobile{display:none}@media (max-width: 767px){.tpt1063 .cro-modal-mobile{display:block}}.tpt1063 .cro-modal--show{display:block}.tpt1063 .cro-modal__content{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);transform:translate(-50%, -50%);width:649px;height:517px;background-color:white;border-radius:20px;-webkit-box-shadow:0 5px 8px 0 rgba(0,0,0,0.2),0 7px 20px 0 rgba(0,0,0,0.2);box-shadow:0 5px 8px 0 rgba(0,0,0,0.2),0 7px 20px 0 rgba(0,0,0,0.2);text-align:center}.tpt1063 .cro-modal__content__image img{width:100%}@media (max-width: 767px){.tpt1063 .cro-modal__content{width:75%;height:auto}}.tpt1063 .cro-modal__closeBtn{float:right;margin-right:-45px;background-color:black;color:white;border-radius:3px;width:35px;height:35px;text-align:center}@media (max-width: 767px){.tpt1063 .cro-modal__closeBtn{position:absolute;top:-30px;right:30px}}.tpt1063 .cro-modal__closeBtn img{width:20px;padding-top:7px;margin-left:-1px}@media (max-width: 767px){.tpt1063 .cro-modal__closeBtn img{width:15px;margin-left:0;padding-top:50%;-webkit-transform:translateY(-25%);-ms-transform:translateY(-25%);transform:translateY(-25%)}}@media (max-width: 767px){.tpt1063 .cro-modal__closeBtn{width:25px;height:25px;margin-right:-30px}}.tpt1063 .cro-modal__closeBtn:hover,.tpt1063 .cro-modal .closeBtn:focus{text-decoration:none;cursor:pointer}.tpt1063v1 .cro-modal .cro-modal__content{border:4px solid #3D52A2}.tpt1063v1 .cro-modal .cro-modal__content__copy_top{background:white;border-radius:20px 20px 0px 0px}.tpt1063v1 .cro-modal .cro-modal__content__copy_top a{padding-top:75px}.tpt1063v1 .cro-modal .cro-modal__content__copy_top a img{height:32px}.tpt1063v1 .cro-modal .cro-modal__content__copy_top h2{padding:35px 0 20px;font-weight:800;line-height:44px}@media (max-width: 767px){.tpt1063v1 .cro-modal .cro-modal__content__copy_top a{margin:auto !important}.tpt1063v1 .cro-modal .cro-modal__content__copy_top h2{padding:20px 0;line-height:28px}}.tpt1063v1 .cro-modal .cro-modal__content__copy_bottom{background:#EEF6FF;padding-bottom:50px;border-radius:0px 0px 20px 20px}.tpt1063v1 .cro-modal .cro-modal__content__copy_bottom p{color:#1D1C4C;padding-top:0;line-height:32px}.tpt1063v1 .cro-modal .cro-modal__content__copy_bottom .row div{max-width:285px}.tpt1063v1 .cro-modal .cro-modal__content__copy_bottom .row .btn{border-radius:0}@media (max-width: 767px){.tpt1063v1 .cro-modal .cro-modal__content__copy_bottom{padding-bottom:20px}.tpt1063v1 .cro-modal .cro-modal__content__copy_bottom p{padding-bottom:40px;line-height:24px}.tpt1063v1 .cro-modal .cro-modal__content__copy_bottom .row{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.tpt1063v1 .cro-modal .cro-modal__content__copy_bottom .row>div{margin:auto;text-align:center !important;max-width:90%;margin-bottom:25px}.tpt1063v1 .cro-modal .cro-modal__content__copy_bottom a{margin-top:20px}}.tpt1063v1 .cro-modal .cro-modal__content{height:auto;border-radius:20px}.tpt1063v1 .cro-modal .cro-modal__content .cro-modal__content__copy_top{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start}.tpt1063v1 .cro-modal .cro-modal__content .cro-modal__content__copy_top a{margin-left:48px}.tpt1063v1 .cro-modal .cro-modal__content .cro-modal__content__copy_bottom{background:white}.tpt1063v1 .cro-modal .cro-modal__content .cro-modal__content__copy_bottom .row>div{color:#9A9EA0;text-align:left;font-size:12px;line-height:14px;margin-right:auto}@media (max-width: 767px){.tpt1063v1 .cro-modal .cro-modal__content{width:90%}}</style>", "selector": "head"}]}, {"holdback": 5000, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["20882500706"], "experiments": [{"weightDistributions": [{"entityId": "20981770003", "endOfRange": 5000}, {"entityId": "20979820229", "endOfRange": 10000}], "audienceName": "U.S. Only,Exclude Premium Sellers,Device | Desktop,Exclude Virtual Assistants,Exclude TpT Internal Admins,[TPT-968] Redesign test cookie,[QA] Cro Metrics Test Cookie (OLI)", "name": "[TEST COOKIE] TPT-968 [Sitewide][Desktop] Header Restructure", "bucketingStrategy": null, "variations": [{"id": "20981770003", "actions": [{"viewId": "20882500706", "changes": [{"value": function($){!function(o,r,i){var n=20956880208,t=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),c=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyMetrics("v0")}catch(o){c(o)}}("tpt968");
}, "dependencies": [], "type": "custom_code", "id": "68c925a4-b38c-478a-900c-fcbd24c8fa4e"}]}], "name": "v0: Control (TPT-968)"}, {"id": "20979820229", "actions": [{"viewId": "20882500706", "changes": [{"value": function($){!function(t,i,n){var o=20956880208,r=window["CRO_SHARED_"+o]||(window["CRO_SHARED_"+o]={}),e=window.optimizely.get("utils"),w=e.error&&e.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));try{r.applyTreatment("v1","tpt968-sitewide-excluding-pages-with-nonstandard-he"),r.applyMetrics("v1")}catch(t){w(t)}}("tpt968");
}, "dependencies": [], "type": "custom_code", "id": "4e71a0ae-6671-426c-a3af-5ed6ab8f1e29"}]}], "name": "v1: Header Restructure"}], "audienceIds": ["and", "16539970090", "16882670147", "12001380907", "20959070244", "20872913900", "20859692378", "15737501278"], "changes": null, "id": "20956880208", "integrationSettings": null}], "id": "20983270191", "weightDistributions": null, "name": "[TEST COOKIE] TPT-968 [Sitewide][Desktop] Header Restructure", "groupId": null, "commitId": "21023250965", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "6a726cd8-e253-437b-8268-222a14c7c10c", "value": function($){function _createForOfIteratorHelper(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var n=0,a=function(){};return{"s":a,"n":function(){return n>=e.length?{"done":!0}:{"done":!1,"value":e[n++]}},"e":function(e){throw e},"f":a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{"s":function(){t=t.call(e)},"n":function(){var e=t.next();return s=e.done,e},"e":function(e){i=!0,o=e},"f":function(){try{s||null==t["return"]||t["return"]()}finally{if(i)throw o}}}}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}!function(e){var r=20956880208,t=window["CRO_SHARED_"+r]||(window["CRO_SHARED_"+r]={}),n=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":e,"tags":r})},a=window.optimizely.get("utils"),o=a.log&&a.log.bind(window,"[".concat(e,"]"))||console.warn.bind(window,"[cro] [".concat(e,"]")),s=a.error&&a.error.bind(window,e)||console.error.bind(window,"[cro] [".concat(e,"]")),i=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push_attribute";window.optimizely.push({"type":"user","attributes":e}),window.optimizely.push({"type":"event","eventName":r})};o("v1"),t.applyMetrics=function(e){var r=function(e,r){e.addEventListener("click",(function(){n(r),window.heap.track(r)}))},t=function(e,t){a.waitForElement(e).then((function(e){return r(e,t)}))["catch"](s)},i=function(e){return""!==e.querySelector("input").value},l=function(){n("tpt968-header-search-bar-interactions"),window.heap.track("tpt968-header-search-bar-interactions")};a.waitForElement(".SearchAutosuggestBespoke form").then((function(e){e.addEventListener("submit",(function(){i(e)&&(l(),n("tpt968-search-bar-type-press-enter"),window.heap.track("tpt968-search-bar-type-press-enter"))})),e.nextElementSibling.addEventListener("click",(function(){i(e)&&(l(),n("tpt968-search-bar-type-click-icon"),window.heap.track("tpt968-search-bar-type-click-icon"))}))}))["catch"](s),a.observeSelector(".SearchAutosuggestBespoke ul li",(function(e){return r(e,"tpt968-header-search-bar-interactions")})),a.waitForElement(".SearchAutosuggestBespoke form input").then((function(e){return e.addEventListener("click",(function(){l(),n("tpt968-search-bar-clicks-into-search-field"),window.heap.track("tpt968-search-bar-clicks-into-search-field")}))}))["catch"](s);var c={"Popular Now":"tpt968-search-dropdown-clicks-on-popular-now-suggestion","Suggestions":"tpt968-search-dropdown-clicks-on-suggestions-suggestion","Sellers":"tpt968-search-dropdown-clicks-on-sellers-suggestion","Resources":"tpt968-search-dropdown-clicks-on-resources-suggestion"};if(a.observeSelector(".SearchAutosuggestBespoke .react-autosuggest__section-container ul",(function(e){return function(e){var r,t=_createForOfIteratorHelper(e.querySelectorAll("li"));try{for(t.s();!(r=t.n()).done;)r.value.addEventListener("click",(function(r){var t,a,s=null===(t=r.target.closest("ul"))||void 0===t||null===(a=t.previousElementSibling.querySelector("span"))||void 0===a?void 0:a.textContent;if(o("section title:",s),null===s||""===s)e.parentElement.classList.contains("react-autosuggest__section-container--first")?i(e.closest(".SearchAutosuggestBespoke"))?(n("tpt968-search-dropdown-clicks-on-show-me-digital-resources-for-x"),window.heap.track("tpt968-search-dropdown-clicks-on-show-me-digital-resources-for-x")):(n("tpt968-search-dropdown-clicks-on-show-me-digital-resources"),window.heap.track("tpt968-search-dropdown-clicks-on-show-me-digital-resources")):(n("tpt968-search-dropdown-clicks-on-see-all-results-for-x"),window.heap.track("tpt968-search-dropdown-clicks-on-see-all-results-for-x"));else{var d=c[s];l(),n(d),window.heap.track(d)}}))}catch(e){t.e(e)}finally{t.f()}}(e)})),window.location.pathname.includes("/Browse")||window.location.pathname.includes("/Browse/Search")||a.observeSelector(".MobileSearchMenu input",(function(e){return r(e,"tpt968-interacts-with-left-filter-rail-homepage")})),a.observeSelector(".ResourcesYouMayLikeLayout a",(function(e){return r(e,"tpt968-clicks-on-resource-in-resources-you-may-like-section")})),a.observeSelector(".TpTDAEnabledResourcesLayout a",(function(e){return r(e,"tpt968-clicks-on-resource-in-device-and-hybrid-resources-section")})),"v0"===e){a.observeSelector(".CategoryMenu__content a",(function(e){return r(e,"tpt968-header-clicks-on-filter-link-catalog-or-browse")})),t(".EaselHeaderBespoke .EaselHeaderBespoke__label a","tpt968-header-clicks-on-easel-by-tpt"),a.observeSelector(".EaselHeaderMenu .EaselHeaderMenu__col--tools a",(function(e){return r(e,"tpt968-header-clicks-on-activites-assessments-easel-by-tpt")})),t(".HeaderLayout__linkList a[href='/TpTSchoolAccess/Teachers']","tpt968-header-clicks-on-tpt-school-access"),t(".HeaderCartBespoke","tpt968-header-clicks-on-cart");var d=function e(){document.querySelector(".SellerDropdownBespoke, .BuyerDropdownBespoke").removeEventListener("mouseover",e,!0),n("tpt968-header-opens-user-profile"),window.heap.track("tpt968-header-opens-user-profile")};a.waitForElement(".SellerDropdownBespoke, .BuyerDropdownBespoke").then((function(e){return e.addEventListener("mouseover",d,!0)}))["catch"](s),t(".HeaderLayout__linkList a[href='/About-Us']","tpt968-header-clicks-on-about-us"),t(".HeaderLayout__linkList a[href='/Gift-Card']","tpt968-header-clicks-on-gift-cards"),t(".HeaderLayout__linkList a[href='/Help']","tpt968-header-clicks-on-help"),t(".HeaderLayout__linkList a[href='/ClassFund']","tpt968-header-clicks-on-tpt-classfund")}else t(".tpt968-header-nav-left-catalog > button","tpt968-header-clicks-on-catalog"),a.observeSelector(".tpt968-header-nav-left-catalog-dropdown a",(function(e){return r(e,"tpt968-header-clicks-on-filter-link-catalog-or-browse")})),t(".tpt968-header-nav-left-easel > button","tpt968-header-clicks-on-easel-by-tpt"),a.observeSelector(".tpt968-header-nav-left-easel-dropdown-activities a, .tpt968-header-nav-left-easel-dropdown-assessments a",(function(e){return r(e,"tpt968-header-clicks-on-activites-assessments-easel-by-tpt")})),t(".tpt968-header-nav-right-tptsa > button","tpt968-header-clicks-on-tpt-school-access"),t(".tpt968-header-nav-right-tptsa-dropdown a","tpt968-header-clicks-on-tptsa-dropdown-cta"),t(".tpt968-header-nav-right-cart","tpt968-header-clicks-on-cart"),t(".tpt968-header-nav-right-user","tpt968-header-opens-user-profile"),t(".tpt968-header-nav-right-user-dropdown a[href='/gift-card']","tpt968-header-clicks-on-gift-cards"),a.observeSelector(".tpt968-header-nav-right-user-dropdown a[href='/TpTClassFund'], .tpt968-wrapper .SellerDropdownBespoke a[href='/ClassFund']",(function(e){return r(e,"tpt968-header-clicks-on-tpt-classfund")}))};var l=function(){a.waitForElement(".tpt-frontend > div > div > .responsive, .tpt-frontend .HeaderLayout").then((function(r){if(!document.querySelector(".".concat(e,"-wrapper"))){r.classList.add("".concat(e,"-hidden")),r.insertAdjacentHTML("afterend",'<div class="tpt968-wrapper">\r\n    <div class="tpt968-header">\r\n        <div class="tpt968-header-nav">\r\n            <div class="tpt968-header-nav-left">\r\n                <a href="/">\r\n                    <img alt="Teachers Pay Teachers" src="https://static1.teacherspayteachers.com/tpt-frontend/releases/production/current/logo.arduooz1ai.svg"/>\r\n                </a>\r\n                <div class="tpt968-header-nav-left-catalog">\r\n                    <button>Catalog</button>\r\n                    <div class="tpt968-header-nav-left-catalog-dropdown">\r\n                        <div class="tpt968-header-nav-left-catalog-dropdown-column">\r\n                            <div class="tpt968-header-nav-left-catalog-dropdown-column-header">Grades</div>\r\n                            <ul>\r\n                                <li>\r\n                                    <a href="/Browse/Grade-Level/Pre-K,Kindergarten">Pre K - K</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Grade-Level/First,Second">1 - 2</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Grade-Level/Third,Fourth,Fifth">3 - 5</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Grade-Level/Sixth,Seventh,Eighth">6 - 8</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Grade-Level/Ninth,Tenth,Eleventh,Twelfth">9 - 12</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <div class="tpt968-header-nav-left-catalog-dropdown-column">\r\n                            <div class="tpt968-header-nav-left-catalog-dropdown-column-header">Subject</div>\r\n                            <ul>\r\n                                <li>\r\n                                    <a href="/Browse/PreK-12-Subject-Area/Arts">Art & Music</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/PreK-12-Subject-Area/English-Language-Arts">English Language Arts</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/PreK-12-Subject-Area/World-Language">Foreign Language</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/PreK-12-Subject-Area/HolidaysSeasonal">Holiday / Seasonal</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/PreK-12-Subject-Area/Math">Math</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/PreK-12-Subject-Area/Science">Science</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/PreK-12-Subject-Area/Social-Studies-History">Social Studies + History</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/PreK-12-Subject-Area/Specialty">Specialty</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/PreK-12-Subject-Area/For-All-Subject-Areas">For all subject areas</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <div class="tpt968-header-nav-left-catalog-dropdown-column">\r\n                            <div class="tpt968-header-nav-left-catalog-dropdown-column-header">Price</div>\r\n                            <ul>\r\n                                <li>\r\n                                    <a href="/Browse/Price-Range/Free">Free</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Price-Range/Under-5">Under $5</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Price-Range/5-to-10">$5 - $10</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Price-Range/Above-10">$10 and up</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Price-Range/On-Sale">On Sale</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <div class="tpt968-header-nav-left-catalog-dropdown-column">\r\n                            <div class="tpt968-header-nav-left-catalog-dropdown-column-header">Resource Type</div>\r\n                            <ul>\r\n                                <li>\r\n                                    <a href="/Browse/Type-of-Resource/Independent-Work-Packet">Independent Work Packet</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Type-of-Resource/Worksheets">Worksheets</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Type-of-Resource/Lesson-Plans">Lesson Plans</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Type-of-Resource/Printable">Printable</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Type-of-Resource/Activites">Activities</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Type-of-Resource/Assessment">Assessment</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Type-of-Resource/Math-Centers">Math Centers</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Type-of-Resource/Literacy-Center-Ideas">Literacy Center Ideas</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Type-of-Resource/Projects">Projects</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <div class="tpt968-header-nav-left-catalog-dropdown-column">\r\n                            <div class="tpt968-header-nav-left-catalog-dropdown-column-header">Formats</div>\r\n                            <ul>\r\n                                <li>\r\n                                    <a href="/Browse/Format/All-Easel">Easel by TPT</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Format/All-Google">Google Apps</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Format/PDF">PDF</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Format/All-Microsoft">Microsoft</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Format/Images">Image</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Format/All-Interactive-Whiteboards">Interactive Whiteboards</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="tpt968-header-nav-left-easel">\r\n                    <button>Easel by TPT</button>\r\n                    <div class="tpt968-header-nav-left-easel-dropdown">\r\n                        <div class="tpt968-header-nav-left-easel-dropdown-intro">\r\n                            <div class="tpt968-header-nav-left-easel-dropdown-intro-header">Easel by TPT</div>\r\n                            <div class="tpt968-header-nav-left-easel-dropdown-intro-content">Interactive resources you can assign in your digital classroom from TPT.</div>\r\n                            <a href="https://easel.teacherspayteachers.com/stats" class="tpt968-header-nav-left-easel-dropdown-intro-link">\r\n                                <span>Top Easel Resources</span>\r\n                                <svg width="27" height="16" viewBox="0 0 27 16" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n                                    <path d="M26.7071 8.70711C27.0976 8.31658 27.0976 7.68342 26.7071 7.29289L20.3431 0.928932C19.9526 0.538408 19.3195 0.538408 18.9289 0.928932C18.5384 1.31946 18.5384 1.95262 18.9289 2.34315L24.5858 8L18.9289 13.6569C18.5384 14.0474 18.5384 14.6805 18.9289 15.0711C19.3195 15.4616 19.9526 15.4616 20.3431 15.0711L26.7071 8.70711ZM0 9H26V7H0V9Z" fill="#3B81FD"/>\r\n                                </svg>\r\n                            </a>\r\n                            <br/>\r\n                            <a href="/easel/learn-more" class="tpt968-header-nav-left-easel-dropdown-intro-button">Go to Easel</a>\r\n                        </div>\r\n                        <div class="tpt968-header-nav-left-easel-dropdown-activities">\r\n                            <a href="/Browse/Format/Easel-Activity">\r\n                                <img alt="Easel activitie on a laptop" src="//cdn.optimizely.com/img/11000223989/7152d586c5714672a3b63214e289894e.png"/>\r\n                            </a>\r\n                            <a href="/Browse/Format/Easel-Activity">Easel Activities</a>\r\n                            <p>Pre-made digital activites. Add highlights, virtual manipulatives, and more.</p>\r\n                        </div>\r\n                        <div class="tpt968-header-nav-left-easel-dropdown-assessments">\r\n                            <a href="/Browse/Format/Easel-Assessment">\r\n                                <img alt="Easel assessment on a laptop" src="//cdn.optimizely.com/img/11000223989/9191c2851da44072985ca6f3d93a3ce7.png"/>\r\n                            </a>\r\n                            <a href="/Browse/Format/Easel-Assessment">Easel Assessments</a>\r\n                            <p>Quizzes with auto-grading that will be available for purchase on TPT soon.</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="tpt968-header-nav-right">\r\n                <div class="tpt968-header-nav-right-tptsa">\r\n                    <button>\r\n                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">\r\n                            <path fill-rule="evenodd" clip-rule="evenodd" d="M11.0093 0H16.7551V3.27135H12.7122V4.56278L18.6943 8.94352H23.5V24.0001H0.5V8.94352H5.30515L11.0085 4.76689V0.550049H11.0093V0ZM11.9997 6.16114L17.0145 9.83352V22.2838H6.98492V9.83352L11.9997 6.16114ZM18.7182 10.6577V22.2859H21.7963V10.6577H18.7182ZM5.28122 22.2859V10.6577H2.2037V22.2859H5.28122Z" fill="#222222"/>\r\n                            <ellipse cx="12.0942" cy="13.5295" rx="2.14982" ry="2.13884" fill="#222222"/>\r\n                        </svg>\r\n                        <span>TPT School Access</span>\r\n                    </button>\r\n                    <div class="tpt968-header-nav-right-tptsa-dropdown">\r\n                        <div class="tpt968-header-nav-right-tptsa-dropdown-title">TPT SCHOOL ACCESS</div>\r\n                        <div class="tpt968-header-nav-right-tptsa-dropdown-content">Get more resources with a school-funded subscription</div>\r\n                        <a href="/TpTSchoolAccess/Teachers">Learn More</a>\r\n                    </div>\r\n                </div>\r\n                <div class="tpt968-header-nav-right-log-in-or-join">\r\n                    <a href="/Login">Log In</a>\r\n                    <span class="tpt968-header-nav-right-log-in-or-join-divider">|</span>\r\n                    <a href="/Signup">Join</a>\r\n                </div>\r\n                <div class="tpt968-header-nav-right-cart">\r\n                    <svg xmlns="http://www.w3.org/2000/svg" width="26" height="25" viewBox="0 0 26 25" fill="none">\r\n                        <path d="M0 1H4.78668L8.02107 17.1351H21.9929" stroke="#222222" stroke-width="2" fill="transparent"/>\r\n                        <ellipse cx="9.70209" cy="22.0251" rx="2.88666" ry="2.97533" fill="#222222"/>\r\n                        <ellipse cx="19.1064" cy="22.0251" rx="2.88666" ry="2.97533" fill="#222222"/>\r\n                        <path d="M7.0514 13.5485H20.929L23.9998 3.99219H5.2207" stroke="black" stroke-width="2" fill="transparent"/>\r\n                    </svg>\r\n                    <div class="tpt968-header-nav-right-cart-count"></div>\r\n                </div>\r\n                <div class="tpt968-header-nav-right-seller">\r\n                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n                        <path fill-rule="evenodd" clip-rule="evenodd" d="M2.59365 0H21.3982L23.9512 7.56071L23.9628 7.64199C24.0027 7.92053 24.01 8.19819 23.9872 8.47009V23.9999H0.0487242V8.67133C0.0168489 8.45631 0 8.22881 0 7.98851V7.8445L2.59365 0ZM1.77546 8.16456V8.52193C1.88164 9.05678 2.14696 9.36755 2.42718 9.56581C2.83759 9.85619 3.35932 9.95361 3.69812 9.94495L3.70895 9.94467H3.71979C4.66012 9.94467 5.11936 9.39833 5.39076 8.78279C5.52916 8.4689 5.60106 8.16467 5.63783 7.9696C5.64686 7.9217 5.65371 7.88081 5.65908 7.84739L5.66164 7.83124C5.6655 7.80673 5.67161 7.76794 5.67582 7.74531C5.67743 7.73664 5.68226 7.71077 5.69012 7.67984C5.69367 7.66585 5.70265 7.63147 5.71813 7.58936C5.72587 7.56831 5.74041 7.53103 5.76329 7.48684C5.78104 7.45256 5.83109 7.35951 5.92554 7.26603C6.0158 7.1767 6.26743 6.97371 6.6425 7.025C6.99797 7.07361 7.18339 7.31526 7.24039 7.40008C7.30702 7.49924 7.3375 7.58896 7.34871 7.62389C7.36281 7.66782 7.37069 7.70416 7.37483 7.72517C7.38778 7.79099 7.39053 7.84678 7.39095 7.85534C7.39308 7.89461 7.39304 7.94956 7.393 7.9789L7.39299 7.98851C7.39299 9.06887 8.25311 9.94467 9.31412 9.94467C10.1279 9.94467 10.5992 9.39909 10.9117 8.69169C11.0625 8.3503 11.1477 8.0265 11.1981 7.82088L11.2092 7.77485L11.2093 7.7748C11.2176 7.74054 11.2263 7.70465 11.2329 7.67866C11.238 7.65872 11.2462 7.62729 11.2563 7.59462C11.2613 7.57841 11.2702 7.55096 11.2829 7.51891L11.2829 7.51891C11.2911 7.49809 11.3215 7.42099 11.3794 7.33652C11.4073 7.2958 11.475 7.20296 11.5914 7.11933C11.7174 7.02883 11.9585 6.91213 12.2644 6.97616C12.552 7.03635 12.7167 7.22014 12.7858 7.31514C12.8569 7.41293 12.8915 7.50325 12.9061 7.54494C12.9364 7.63135 12.9467 7.70403 12.9498 7.72616C12.9543 7.75859 12.9565 7.78629 12.9577 7.8038C12.9618 7.86381 12.962 7.9355 12.962 7.98851C12.962 8.39637 13.0956 8.92142 13.4178 9.32613C13.7136 9.69781 14.2186 10.0346 15.1257 10.0346C15.9615 10.0346 16.4105 9.44879 16.6819 8.67087C16.811 8.30104 16.8692 7.95871 16.8945 7.77618C16.9003 7.73414 16.9043 7.70135 16.9075 7.67485L16.9082 7.66919L16.9085 7.66702L16.9085 7.66694C16.9097 7.65715 16.9124 7.63483 16.9153 7.61536C16.9163 7.60881 16.9181 7.59663 16.9209 7.58182C16.9225 7.57285 16.9298 7.5333 16.9439 7.48611L16.9439 7.48607C16.9493 7.4681 16.9706 7.39659 17.0152 7.31485C17.043 7.26738 17.1305 7.15088 17.1943 7.08635C17.3172 6.99297 17.6716 6.86796 17.8957 6.87154C18.096 6.92717 18.3778 7.11668 18.464 7.21803C18.507 7.28297 18.5641 7.39553 18.5816 7.44063C18.6101 7.52022 18.6204 7.58608 18.6232 7.60377C18.6304 7.64992 18.6324 7.68746 18.6328 7.69655C18.6336 7.71123 18.6339 7.72392 18.6341 7.73065C18.6342 7.73766 18.6343 7.74437 18.6343 7.75022C18.6343 7.75577 18.6343 7.76055 18.6343 7.7641L18.6339 7.81715C18.6335 7.85624 18.6329 7.9121 18.6329 7.98851C18.6329 8.41146 18.7829 8.9173 19.0949 9.30225C19.3862 9.66153 19.8389 9.94467 20.5488 9.94467C21.4695 9.94467 22.1572 9.25635 22.2604 8.39693V8.16071L20.0916 1.82659H3.97537L1.77546 8.16456ZM3.73033 11.7029C3.2035 11.7145 2.46469 11.5992 1.77546 11.2187V22.2417H12.2411V13.2856H19.8564V22.2417H22.2604V11.252C21.7679 11.5371 21.1893 11.7029 20.5488 11.7029C19.3118 11.7029 18.3749 11.176 17.7632 10.4215L17.7418 10.3948C17.2323 11.1333 16.4138 11.7928 15.1257 11.7928C13.7259 11.7928 12.7173 11.2384 12.0763 10.4332C12.0425 10.3907 12.0099 10.3478 11.9784 10.3044C11.4496 11.0319 10.6097 11.7029 9.31412 11.7029C8.17305 11.7029 7.15435 11.1694 6.48544 10.3341C5.94671 11.0583 5.07995 11.6996 3.73033 11.7029ZM13.9679 22.2075V15.0439H18.1297V22.2075H13.9679Z" fill="#222222"/>\r\n                        <rect x="4.18823" y="14.165" width="5.41758" height="3.53749" stroke="#222222" stroke-width="2" fill="transparent"/>\r\n                    </svg>\r\n                    <div class="tpt968-header-nav-right-seller-dropdown">\r\n                        <div class="tpt968-header-nav-right-seller-dropdown-default">\r\n                            <ul>\r\n                                <li class="tpt968-header-nav-right-seller-dropdown-focused">My Store</li>\r\n                                <li>\r\n                                    <a href="/Dashboard">Dashboard</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/My-Sales">Sales Reports</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/My-Products">Product Listings</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="https://easel.teacherspayteachers.com/listings/assessments">Easel Listings</a>\r\n                                    <div class="tpt968-header-nav-right-seller-dropdown-new">NEW</div>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/My-Statistics">My Product Statistics</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a class="tpt968-header-nav-right-seller-dropdown-store">My Store</a>\r\n                                </li>\r\n                            </ul>\r\n                            <ul>\r\n                                <li class="tpt968-header-nav-right-seller-dropdown-focused">Grow your store</li>\r\n                                <li>\r\n                                    <a href="/Throw-a-Sale">Throw a Sale</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/My-Sponsored">Promote on TPT</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Newsletter-Promotion-Product">Newsletter</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/My-Account/Facebook-Pixel">Facebook Pixel</a>\r\n                                </li>\r\n                            </ul>\r\n                            <ul>\r\n                                <li class="tpt968-header-nav-right-seller-dropdown-focused">Communicate</li>\r\n                                <li>\r\n                                    <a href="/Note-To-Followers">New note to followers</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a class="tpt968-header-nav-right-seller-dropdown-store-q-and-a">Store Q&A</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a class="tpt968-header-nav-right-seller-dropdown-store-comments">Comments</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/forum/">Seller\'s Forum</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="tpt968-header-nav-right-user">\r\n                    <div class="tpt968-header-nav-right-user-bubble tpt968-hidden"></div>\r\n                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">\r\n                        <path d="M23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12Z" stroke="#222222" stroke-width="2" fill="transparent"/>\r\n                        <ellipse cx="11.9996" cy="9.01525" rx="3.86388" ry="3.86388" fill="#222222"/>\r\n                        <path d="M12.0001 12.8799C8.91772 12.8799 6.41895 15.3787 6.41895 18.461H17.5813C17.5813 15.3787 15.0825 12.8799 12.0001 12.8799Z" fill="#222222"/>\r\n                    </svg>\r\n                    <div class="tpt968-header-nav-right-user-dropdown">\r\n                        <div class="tpt968-header-nav-right-user-dropdown-default">\r\n                            <ul>\r\n                                <li>\r\n                                    <a href="/My-Purchases">My Purchases</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="https://easel.teacherspayteachers.com/activities">My Easel Library</a>\r\n                                    <div class="tpt968-header-nav-right-user-dropdown-new">NEW</div>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Wish-List">Wish List</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/gift-card">Gift Cards</a>\r\n                                </li>\r\n                            </ul>\r\n                            <ul class="tpt968-header-nav-right-user-dropdown-focused">\r\n                                <li>\r\n                                    <a href="/TpTClassFund">TPT ClassFund</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/TpTSchoolAccess/Teachers">TPT School Access</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/My-School" class="tpt968-header-nav-right-user-dropdown-default-my-school tpt968-hidden">My School</a>\r\n                                </li>\r\n                            </ul>\r\n                            <ul class="tpt968-header-nav-right-user-dropdown-focused">\r\n                                <li>\r\n                                    <a href="/My-Account/Upgrade/Basic">Become a Seller</a>\r\n                                </li>\r\n                            </ul>\r\n                            <ul>\r\n                                <li>\r\n                                    <a href="/Inbox">Inbox</a>\r\n                                    <div class="tpt968-header-nav-right-user-dropdown-counter"></div>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Account-Balance">Account Balance</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/My-Account/Favorite_Sellers">My Favorite Sellers</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/My-Account/Basics">My Account</a>\r\n                                </li>\r\n                                <li class="tpt968-header-nav-right-user-dropdown-focused">\r\n                                    <a href="/Logout">Log Out</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="tpt968-header-search"></div>\r\n    </div>\r\n</div>');var t=r.parentElement.querySelector(".".concat(e,"-header"));o("Surfacing admin toolbox"),a.waitForElement(".AdminToolbox--userWarning").then((function(r){document.body.insertAdjacentHTML("afterbegin",'\n            <div class="'.concat(e,'-admin-panel">\n              <div>').concat(r.textContent.replace(/Back to admin panel/,""),'</div>\n              <a href="https://www.teacherspayteachers.com/users/back_to_admin">Back to admin panel</a>\n            </div>\n          '))}))["catch"](s);var n=r.querySelector(".SearchAutosuggestBespoke");t.querySelector(".".concat(e,"-header-search")).appendChild(n);var i=n.querySelector("input"),l=n.querySelector("button"),c="Search the Catalog";i.setAttribute("aria-label",c),i.setAttribute("placeholder",c),l.setAttribute("aria-label",c);var d=t.querySelector(".".concat(e,"-header-nav-left-catalog"));d.querySelector("button").addEventListener("click",(function(){return d.classList.toggle("".concat(e,"-active"))}));var h=t.querySelector(".".concat(e,"-header-nav-left-easel"));h.querySelector("button").addEventListener("click",(function(){return h.classList.toggle("".concat(e,"-active"))}));var u=t.querySelector(".".concat(e,"-header-nav-right-tptsa")),p=t.querySelector(".".concat(e,"-header-nav-right-cart"));p.addEventListener("click",(function(){p.classList.toggle("".concat(e,"-active"));var t=p.querySelector(".HeaderCartBespoke__content");if(t)t.remove();else{var n=r.querySelector(".HeaderCartBespoke__content").cloneNode(!0),a=n.querySelector(".HeaderCartBespoke__total");a.innerHTML=a.innerHTML.replace(":",""),p.appendChild(n)}}));var v=function(){var t=p.querySelector(".".concat(e,"-header-nav-right-cart-count")),n=r.querySelector(".HeaderCartBespoke__badgeCountText");n?(t.classList.remove("".concat(e,"-hidden")),t.textContent=n.textContent):t.classList.add("".concat(e,"-hidden"))};v(),a.observeSelector(".HeaderCartBespoke__badgeCountText, .HeaderCartBespoke__badgeIcon",(function(e){v(),new MutationObserver(v).observe(e,{"subtree":!0,"childList":!0,"characterData":!0})}));var f=t.querySelector(".".concat(e,"-header-nav-right-seller"));f.addEventListener("click",(function(){f.classList.toggle("".concat(e,"-active"))}));var w=r.querySelector(".SellerDropdownBespoke__content");if(w){var g=r.querySelector(".SellerDropdownBespoke__content .row > div:nth-child(2) [href^='/Store']").getAttribute("href");f.querySelector(".".concat(e,"-header-nav-right-seller-dropdown-store")).setAttribute("href",g),f.querySelector(".".concat(e,"-header-nav-right-seller-dropdown-store-q-and-a")).setAttribute("href",g+"#tab_ask_a_question"),f.querySelector(".".concat(e,"-header-nav-right-seller-dropdown-store-comments")).setAttribute("href",g+"#tab_ratings_feedback")}else f.classList.add("".concat(e,"-hidden"));var y=t.querySelector(".".concat(e,"-header-nav-right-user"));y.addEventListener("click",(function(){return y.classList.toggle("".concat(e,"-active"))})),r.querySelector(".BuyerDropdownBespoke__content, .SellerDropdownBespoke__content")?(t.querySelector(".".concat(e,"-header-nav-right-log-in-or-join")).classList.add("".concat(e,"-hidden")),w&&y.querySelector("a[href='/My-Account/Upgrade/Basic']").parentElement.parentElement.classList.add("".concat(e,"-hidden"))):y.classList.add("".concat(e,"-hidden")),a.waitForElement(".HeaderLayout__link a[href='/My-School']").then((function(){return y.querySelector(".".concat(e,"-header-nav-right-user-dropdown-default-my-school")).classList.remove("".concat(e,"-hidden"))}))["catch"](s);var m,S=function(){var r=y.querySelector(".".concat(e,"-header-nav-right-user-dropdown-counter")),t=y.querySelector(".".concat(e,"-header-nav-right-user-bubble")),n=document.querySelector(".StorePostsUnreadCounter__counter");n?(r.classList.remove("".concat(e,"-hidden")),t.classList.remove("".concat(e,"-hidden")),r.textContent=n.textContent,t.textContent=n.textContent):(r.classList.add("".concat(e,"-hidden")),t.classList.add("".concat(e,"-hidden")))};S(),a.observeSelector(".StorePostsUnreadCounter__counter",(function(e){var r;S(),null===(r=m)||void 0===r||r.disconnect(),m=new MutationObserver(S).observe(e,{"subtree":!0,"childList":!0,"characterData":!0})}));var b=[d,h,u,p,f,y];document.body.addEventListener("click",(function(r){var t,n,a=_createForOfIteratorHelper(b);try{for(a.s();!(t=a.n()).done;){var o=t.value;o.contains(r.target)||(o.classList.remove("".concat(e,"-active")),o===p&&(n=void 0,null===(n=p.querySelector(".HeaderCartBespoke__content"))||void 0===n||n.remove()))}}catch(e){a.e(e)}finally{a.f()}})),document.querySelector(".tpt-frontend .HeaderLayout")&&(document.querySelector(".legacy-content, #TptFrontend").classList.add("".concat(e,"-legacy-body")),document.querySelector(".".concat(e,"-wrapper")).classList.add("".concat(e,"-legacy-header")))}}))["catch"](s)};t.applyTreatment=function(r,t){!function(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;n.classList.add(e),n.classList.add(e+r),o("Variation ".concat(r,", page ").concat(t))}(r,t),l(),a.waitUntil((function(){var e;return null===(e=document.querySelector(".tpt-frontend"))||void 0===e?void 0:e._reactRootContainer})).then((function(){l(),window.setTimeout((function(){return window.dispatchEvent(new Event("resize"),0)}))}))["catch"](s);var n=window.innerWidth;window.addEventListener("resize",(function(){var r=window.innerWidth,t=document.querySelector(".".concat(e,"-header")),a=document.querySelector(".tpt-frontend > div > div > .responsive, .tpt-frontend .HeaderLayout");if(r>=980){if(t){t.classList.remove("".concat(e,"-hidden"));var o,s=a.querySelector(".SearchAutosuggestBespoke");if(s)null===(o=t.querySelector(".".concat(e,"-header-search")))||void 0===o||o.appendChild(s)}null==a||a.classList.add("".concat(e,"-hidden")),n<980&&i({"tpt968-resized-below-980px-then-back-up":!0})}else{if(t){t.classList.add("".concat(e,"-hidden"));var l,c=t.querySelector(".SearchAutosuggestBespoke");if(c)null===(l=a.querySelector(".SecondaryHeaderLayout > div:nth-child(2)"))||void 0===l||l.appendChild(c)}null==a||a.classList.remove("".concat(e,"-hidden")),n>=980&&i({"tpt968-resized-below-980px":!0})}n=r})),window.setTimeout((function(){return window.dispatchEvent(new Event("resize"),0)}))}}("tpt968");
//# sourceMappingURL=shared.js.map
}}, {"dependencies": [], "type": "append", "id": "08f2d780-cf89-44f5-b179-e2a2ec74dd54", "value": "<style>.tpt968-admin-panel{position:fixed;font-family:\"Proxima Nova\";padding:10px;left:calc(50% - 100px);width:200px;text-align:center;background-color:#fffce7;border:1px solid #e2dba5;border-radius:8px;z-index:50000}.tpt968-admin-panel>div{margin-bottom:10px}.tpt968-admin-panel a{color:#067c64;text-decoration:none}.tpt968-admin-panel a:hover{text-decoration:underline}.tpt968-wrapper{width:100%;-webkit-box-shadow:2px 4px 4px rgba(0,0,0,0.15);box-shadow:2px 4px 4px rgba(0,0,0,0.15);margin-bottom:24px}.tpt968-header{color:#222222;font-size:16px !important;max-width:1920px;padding:16px 16px 24px !important;margin:auto !important}.tpt968-header span,.tpt968-header button{font:inherit;font-size:inherit;line-height:19px !important}.tpt968-header-nav{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.tpt968-header-nav-left{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.tpt968-header-nav-left>a{margin-right:48px !important}.tpt968-header-nav-left>a img{width:255px;height:40px}.tpt968-header-nav-left-catalog,.tpt968-header-nav-left-easel{cursor:pointer;border-radius:999px;position:relative;margin-top:4px !important}.tpt968-header-nav-left-catalog:hover,.tpt968-header-nav-left-easel:hover{background:rgba(0,0,0,0.0392157)}.tpt968-header-nav-left-catalog:active,.tpt968-header-nav-left-easel:active{background:rgba(0,0,0,0.0901961)}.tpt968-header-nav-left-catalog.tpt968-active,.tpt968-header-nav-left-easel.tpt968-active{background:#C3F3DC}.tpt968-header-nav-left-catalog-dropdown,.tpt968-header-nav-left-easel-dropdown{position:absolute;display:none;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:auto;background-color:white;border-radius:4px;-webkit-box-shadow:0px 1px 7px rgba(0,0,0,0.2);box-shadow:0px 1px 7px rgba(0,0,0,0.2);white-space:nowrap;z-index:1;width:1000px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:32px !important;top:100%}.tpt968-header-nav-left-catalog.tpt968-active .tpt968-header-nav-left-catalog-dropdown,.tpt968-header-nav-left-easel.tpt968-active .tpt968-header-nav-left-catalog-dropdown,.tpt968-header-nav-left-catalog.tpt968-active .tpt968-header-nav-left-easel-dropdown,.tpt968-header-nav-left-easel.tpt968-active .tpt968-header-nav-left-easel-dropdown{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.tpt968-header-nav-left-catalog button,.tpt968-header-nav-left-easel button{font-weight:600 !important;padding:11.5px 24px !important}.tpt968-header-nav-left-catalog-dropdown{left:calc(-318px + ((100vw - 1000px) / 2))}.tpt968-header-nav-left-catalog-dropdown-column{width:auto}.tpt968-header-nav-left-catalog-dropdown-column+*{margin-left:32px !important}.tpt968-header-nav-left-catalog-dropdown-column-header{font-weight:bold;line-height:120% !important;margin:0 0 16px 16px !important}.tpt968-header-nav-left-catalog-dropdown-column ul{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;list-style-type:none;padding:0 !important}.tpt968-header-nav-left-catalog-dropdown-column ul li a{display:-webkit-box !important;display:-webkit-flex !important;display:-moz-box !important;display:-ms-flexbox !important;display:flex !important;-webkit-box-pack:center !important;-webkit-justify-content:center !important;-moz-box-pack:center !important;-ms-flex-pack:center !important;justify-content:center !important;-webkit-box-align:center !important;-webkit-align-items:center !important;-moz-box-align:center !important;-ms-flex-align:center !important;align-items:center !important;cursor:pointer;border-radius:999px;line-height:120% !important;padding:8px 16px !important}.tpt968-header-nav-left-catalog-dropdown-column ul li a:hover{background:rgba(0,0,0,0.0392157)}.tpt968-header-nav-left-catalog-dropdown-column ul li a:active{background:rgba(0,0,0,0.0901961)}.tpt968-header-nav-left-easel-dropdown{display:none;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;left:calc(-420px + ((100vw - 1000px) / 2))}.tpt968-header-nav-left-easel-dropdown-intro-header{font-size:14px !important;line-height:130% !important;letter-spacing:0.03em;text-transform:uppercase;font-weight:600}.tpt968-header-nav-left-easel-dropdown-intro-content{font-weight:600;font-size:30px !important;line-height:35px !important;white-space:normal;width:368px;margin:16px 32px 20px 0 !important}.tpt968-header-nav-left-easel-dropdown-intro a{display:inline-block}.tpt968-header-nav-left-easel-dropdown-intro-link{color:#3B81FD !important;font-size:16px !important;line-height:34px !important;letter-spacing:0.01em;margin-bottom:16px !important}.tpt968-header-nav-left-easel-dropdown-intro-link svg{margin-left:4px}.tpt968-header-nav-left-easel-dropdown-intro-button{background-color:#5DD89D;font-weight:600;border-radius:999px;padding:15px 24px !important}.tpt968-header-nav-left-easel-dropdown-intro-button:hover{background-color:#67E0A6}.tpt968-header-nav-left-easel-dropdown-intro-button:active{background-color:#C9F4DF}.tpt968-header-nav-left-easel-dropdown-activities,.tpt968-header-nav-left-easel-dropdown-assessments{width:230px}.tpt968-header-nav-left-easel-dropdown-activities img,.tpt968-header-nav-left-easel-dropdown-assessments img{width:230px;height:156px}.tpt968-header-nav-left-easel-dropdown-activities a,.tpt968-header-nav-left-easel-dropdown-assessments a{display:inline-block;font-size:16px !important;font-weight:600 !important;margin:16px 0 8px !important}.tpt968-header-nav-left-easel-dropdown-activities a:hover,.tpt968-header-nav-left-easel-dropdown-assessments a:hover{text-decoration:underline}.tpt968-header-nav-left-easel-dropdown-activities a:first-child,.tpt968-header-nav-left-easel-dropdown-assessments a:first-child{display:block}.tpt968-header-nav-left-easel-dropdown-activities p,.tpt968-header-nav-left-easel-dropdown-assessments p{white-space:normal}.tpt968-header-nav-left-easel-dropdown-activities{margin-right:48px !important}.tpt968-header-nav-right{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:-10px !important}.tpt968-header-nav-right-tptsa,.tpt968-header-nav-right-cart,.tpt968-header-nav-right-seller,.tpt968-header-nav-right-user{cursor:pointer;border-radius:999px}.tpt968-header-nav-right-tptsa:hover,.tpt968-header-nav-right-cart:hover,.tpt968-header-nav-right-seller:hover,.tpt968-header-nav-right-user:hover{background:rgba(0,0,0,0.0392157)}.tpt968-header-nav-right-tptsa:active,.tpt968-header-nav-right-cart:active,.tpt968-header-nav-right-seller:active,.tpt968-header-nav-right-user:active{background:rgba(0,0,0,0.0901961)}.tpt968-header-nav-right-tptsa.tpt968-active,.tpt968-header-nav-right-cart.tpt968-active,.tpt968-header-nav-right-seller.tpt968-active,.tpt968-header-nav-right-user.tpt968-active{background:#C3F3DC}.tpt968-header-nav-right-tptsa{display:-webkit-box !important;display:-webkit-flex !important;display:-moz-box !important;display:-ms-flexbox !important;display:flex !important;-webkit-box-pack:center !important;-webkit-justify-content:center !important;-moz-box-pack:center !important;-ms-flex-pack:center !important;justify-content:center !important;-webkit-box-align:center !important;-webkit-align-items:center !important;-moz-box-align:center !important;-ms-flex-align:center !important;align-items:center !important;position:relative;font-weight:600}.tpt968-header-nav-right-tptsa>button{padding:2.5px 8px !important;width:218px;height:40px}.tpt968-header-nav-right-tptsa svg{margin-right:8px !important}.tpt968-header-nav-right-tptsa-dropdown{display:none;position:absolute;cursor:auto;background-color:white;-webkit-box-shadow:0 1px 7px rgba(0,0,0,0.2);box-shadow:0 1px 7px rgba(0,0,0,0.2);border-radius:4px;z-index:1;width:473px;padding:36px !important;top:100%;right:0}.tpt968-header-nav-right-tptsa-dropdown-title{font-size:16px !important;line-height:130% !important;letter-spacing:0.03em}.tpt968-header-nav-right-tptsa-dropdown-content{font-size:30px !important;line-height:35px !important;margin:16px 0 24px !important}.tpt968-header-nav-right-tptsa-dropdown a{background-color:#5DD89D;display:inline-block;border-radius:999px;font-size:16px !important;line-height:120% !important;padding:15px 24px !important}.tpt968-header-nav-right-tptsa-dropdown a:hover{background-color:#67E0A6}.tpt968-header-nav-right-tptsa-dropdown a:active{background-color:#C9F4DF}.tpt968-header-nav-right-tptsa:hover{background:#C3F3DC}.tpt968-header-nav-right-tptsa:hover .tpt968-header-nav-right-tptsa-dropdown{display:block}.tpt968-header-nav-right-log-in-or-join{font-weight:bold;margin:0 16px !important}.tpt968-header-nav-right-log-in-or-join a:hover{text-decoration:underline}.tpt968-header-nav-right-log-in-or-join-divider{margin:0 5px !important}.tpt968-header-nav-right-cart,.tpt968-header-nav-right-seller,.tpt968-header-nav-right-user{display:-webkit-box !important;display:-webkit-flex !important;display:-moz-box !important;display:-ms-flexbox !important;display:flex !important;-webkit-box-pack:center !important;-webkit-justify-content:center !important;-moz-box-pack:center !important;-ms-flex-pack:center !important;justify-content:center !important;-webkit-box-align:center !important;-webkit-align-items:center !important;-moz-box-align:center !important;-ms-flex-align:center !important;align-items:center !important;position:relative;width:48px !important;height:48px !important}.tpt968-header-nav-right-cart{position:relative;padding:11.5px 11px !important;margin-right:8px !important}.tpt968-header-nav-right-cart-count{position:absolute;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:13px !important;color:#173E3E;background-color:#5DD89D;border-radius:50%;top:2px;right:0px;width:20px;height:20px}.tpt968-header-nav-right-cart .HeaderCartBespoke__content{display:block !important;top:40px !important;right:8px !important;cursor:auto}.tpt968-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__items .MenuItem:hover{background-color:transparent !important}.tpt968-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__items .MenuItem:hover .HeaderCartBespoke__itemName{text-decoration:underline}.tpt968-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__itemName,.tpt968-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__itemPrice{margin:0 !important}.tpt968-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__itemName,.tpt968-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__itemPrice span{font-size:16px !important}.tpt968-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__itemName{color:#222222 !important}.tpt968-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__viewCart{color:#222222 !important;font-size:13px !important;line-height:137.5% !important;font-weight:600;background-color:#5DD89D !important;border-radius:999px !important;border:none !important;-webkit-transition:none !important;-o-transition:none !important;transition:none !important;padding:7px 16px !important}.tpt968-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__viewCart:hover{background-color:#67E0A6 !important}.tpt968-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__viewCart:active{background-color:#C9F4DF !important}.tpt968-header-nav-right-seller,.tpt968-header-nav-right-user{position:relative;padding:12px !important}.tpt968-header-nav-right-seller-bubble,.tpt968-header-nav-right-user-bubble{position:absolute;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:13px !important;line-height:14px !important;color:#173E3E;background-color:#5DD89D;border-radius:50%;width:20px;height:20px;right:0px;top:2px}.tpt968-header-nav-right-seller-dropdown,.tpt968-header-nav-right-user-dropdown{display:none;position:absolute;cursor:auto;background-color:white;border-radius:4px;-webkit-box-shadow:0px 1px 7px rgba(0,0,0,0.2);box-shadow:0px 1px 7px rgba(0,0,0,0.2);white-space:nowrap;z-index:1;width:180px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;right:10px;top:40px}.tpt968-header-nav-right-seller-dropdown-default ul,.tpt968-header-nav-right-user-dropdown-default ul{padding:8px 0 !important}.tpt968-header-nav-right-seller-dropdown-default ul+ul,.tpt968-header-nav-right-user-dropdown-default ul+ul{border-top:1px solid #D9D9D9}.tpt968-header-nav-right-seller-dropdown-default li,.tpt968-header-nav-right-user-dropdown-default li{cursor:pointer;border-radius:999px;position:relative;border-radius:0}.tpt968-header-nav-right-seller-dropdown-default li:hover,.tpt968-header-nav-right-user-dropdown-default li:hover{background:rgba(0,0,0,0.0392157)}.tpt968-header-nav-right-seller-dropdown-default li:active,.tpt968-header-nav-right-user-dropdown-default li:active{background:rgba(0,0,0,0.0901961)}.tpt968-header-nav-right-seller-dropdown-default li+li,.tpt968-header-nav-right-user-dropdown-default li+li{margin-top:4px}.tpt968-header-nav-right-seller-dropdown-default li a,.tpt968-header-nav-right-user-dropdown-default li a{display:block;font-size:16px;font-weight:inherit;padding:4px 16px !important}.tpt968-header-nav-right-seller-dropdown-is-seller,.tpt968-header-nav-right-user-dropdown-is-seller{top:4px !important}.tpt968-header-nav-right-seller-dropdown .SellerDropdownBespoke,.tpt968-header-nav-right-user-dropdown .SellerDropdownBespoke{font-size:14px !important}.tpt968-header-nav-right-seller-dropdown .SellerDropdownBespoke--hidden,.tpt968-header-nav-right-user-dropdown .SellerDropdownBespoke--hidden{display:block !important}.tpt968-header-nav-right-seller-dropdown .SellerDropdownBespoke .row,.tpt968-header-nav-right-user-dropdown .SellerDropdownBespoke .row{display:-webkit-box !important;display:-webkit-flex !important;display:-moz-box !important;display:-ms-flexbox !important;display:flex !important}.tpt968-header-nav-right-seller-dropdown .SellerDropdownBespoke .MenuItem,.tpt968-header-nav-right-user-dropdown .SellerDropdownBespoke .MenuItem{padding:4px !important}.tpt968-header-nav-right-seller-dropdown .SellerDropdownBespoke .col-xs-4,.tpt968-header-nav-right-user-dropdown .SellerDropdownBespoke .col-xs-4{width:33.3333%;padding:0 5px !important}.tpt968-header-nav-right-seller-dropdown .SellerDropdownBespoke .LinkButton__label,.tpt968-header-nav-right-user-dropdown .SellerDropdownBespoke .LinkButton__label{line-height:initial !important;font-size:13px !important;font-weight:600 !important}.tpt968-header-nav-right-seller-dropdown-new,.tpt968-header-nav-right-user-dropdown-new{position:absolute;font-size:10px !important;color:#0A71B4;background-color:#EEF6FF;border-radius:100px;right:9px;top:calc(50% - 11px);padding:3px 6px !important}.tpt968-header-nav-right-seller-dropdown-focused,.tpt968-header-nav-right-user-dropdown-focused{font-weight:bold}.tpt968-header-nav-right-seller-dropdown-counter,.tpt968-header-nav-right-user-dropdown-counter{position:absolute;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:13px !important;line-height:14px !important;color:#173E3E;background-color:#5DD89D;border-radius:50%;width:20px;height:20px;left:60px;top:calc(50% - 10px)}.tpt968-active .tpt968-header-nav-right-seller-dropdown,.tpt968-active .tpt968-header-nav-right-user-dropdown{display:block}.tpt968-header-nav-right-seller{margin-right:8px}.tpt968-header-nav-right-seller-dropdown-default ul li:first-child{cursor:auto;padding:8px 16px 0 !important}.tpt968-header-nav-right-seller-dropdown-default ul li:first-child:hover,.tpt968-header-nav-right-seller-dropdown-default ul li:first-child:active{background-color:inherit}.tpt968-header-nav-right-seller-dropdown-new{right:30px}.tpt968-header-nav-right-seller-dropdown-focused{color:#000000;font-size:16px !important;line-height:137.5% !important}.tpt968-header-search{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:18px 100px 0 !important}.tpt968-header-search .SearchAutosuggestBespoke{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.tpt968-header-search .SearchAutosuggestBespoke input{border:1px solid #A0A0A0 !important;border-radius:10px !important;height:55px !important;padding:12px 86px 12px 25px !important}.tpt968-header-search .SearchAutosuggestBespoke input+div{width:98.5% !important;top:55px !important;left:0.75% !important}.tpt968-header-search .SearchAutosuggestBespoke button{background-color:#5DD89D;width:62px !important;height:55px !important;border-top-right-radius:10px !important;border-bottom-right-radius:10px !important}.tpt968-header-search .SearchAutosuggestBespoke button:hover{background-color:#67E0A6}.tpt968-header-search .SearchAutosuggestBespoke button:active{background-color:#C9F4DF}.tpt968-header-search .SearchAutosuggestBespoke button span{color:#222222 !important}@media only screen and (min-width: 1250px){.tpt968-header-nav-left-catalog-dropdown,.tpt968-header-nav-left-easel-dropdown{width:1200px}.tpt968-header-nav-left-catalog-dropdown{left:-270px}.tpt968-header-nav-left-catalog-dropdown-column+.tpt968-header-nav-left-catalog-dropdown-column{margin-left:64px !important}.tpt968-header-nav-left-easel-dropdown{left:-375px}.tpt968-header-nav-left-easel-dropdown-intro-content{margin-right:86px !important}.tpt968-header-nav-left-easel-dropdown-activities{margin-right:84px !important}}.tpt968-hidden{display:none !important}.tpt968-legacy-header{position:absolute;width:100%;z-index:1;top:0}.tpt968-legacy-body{z-index:0;margin-top:155px !important}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["17899101619"], "experiments": [{"weightDistributions": [{"entityId": "21033683021", "endOfRange": 10000}], "audienceName": "Exclude Matched TPT SA Users [logged-in only],U.S. Only,Exclude Premium Sellers,No DCP school name OR less than 200 resources", "name": "100% to v1: TPT-1017 [Unlinked][Post Purchase][No P13n] Banner Messaging", "bucketingStrategy": null, "variations": [{"id": "21030031939", "actions": [{"viewId": "17899101619", "changes": [{"value": function($){!function(o,r,n){var t=20905651854,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v0","purchase-complete")}catch(o){w(o)}}("tpt1017");
}, "dependencies": [], "type": "custom_code", "id": "dfddf99c467a46529d260edc3e3df6e3"}]}], "name": "v0: (Control 1017) Stimulus Messaging"}, {"id": "21033683021", "actions": [{"viewId": "17899101619", "changes": [{"value": function($){!function(o,r,n){var t=20905651854,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v1","purchase-complete")}catch(o){w(o)}}("tpt1017");
}, "dependencies": [], "type": "custom_code", "id": "6568e222d09347eeb41108b094c7394c"}]}], "name": "v1: Resource + Stimulus Messaging"}], "audienceIds": ["and", "19997272145", "16539970090", "16882670147", "21154020485"], "changes": null, "id": "21040400509", "integrationSettings": null}], "id": "21012354266", "weightDistributions": null, "name": "100% to v1: TPT-1017 [Unlinked][Post Purchase][No P13n] Banner Messaging", "groupId": null, "commitId": "21151970036", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "a8d5aa186f2748d993723c9b6033d3f7", "value": function($){!function(n){var t=20905651854,c=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),e=window.optimizely.get("utils"),o=e.log&&e.log.bind(window,"[".concat(n,"]"))||console.warn.bind(window,"[cro] [".concat(n,"]")),a=e.error&&e.error.bind(window,n)||console.error.bind(window,"[cro] [".concat(n,"]"));o("v0.1"),c.applyTreatment=function(t,c){!function(t,c){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;e.classList.add(n),e.classList.add(n+t),o("Variation ".concat(t,", page ").concat(c))}(t,c);var r='\n    <div class="'.concat(n,'-banner cro-post-purchase-banner">\n      <div class="').concat(n,'-banner-logo">\n        <img src="//cdn.optimizely.com/img/11000223989/9d60cf99ff8f45e8bfc66473cf54f01b.png">\n      </div>\n      <div class="').concat(n,'-banner-content">\n        <div class="').concat(n,'-banner-text">Federal stimulus funding could help you access resources through a school subscription.</div>\n        <div class="').concat(n,'-banner-cta">\n          <a class="').concat(n,'-banner-button" href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplaceutm_medium=optimizely&utm_campaign=').concat(n).concat(t,'">Request a subscription</a>\n        </div>\n      </div>\n    </div>\n  ');e.waitForElement(".tpt-frontend").then((function(n){return e.waitUntil((function(){return n._reactRootContainer}))})).then((function(){e.waitForElement(".OrderReceiptPageLayout").then((function(t){t.querySelector(".".concat(n,"-banner"))||t.insertAdjacentHTML("afterbegin",r)}))["catch"](a)}))["catch"](a),"v0"!==t&&e.waitForElement(".".concat(n,"-banner-text")).then((function(n){return n.textContent="Your school has used TpT resources this year. Federal stimulus funding could help you access resources through a school subscription."}))["catch"](a)}}("tpt1017");
}}, {"dependencies": [], "type": "append", "id": "ecc06c1f4c9f4670bdc1cb4665a6b9ee", "value": "<style>.tpt1017-banner{margin:20px auto;padding:22px 30px;border:3px solid #415294;border-radius:10px;max-width:90%}@media screen and (min-width: 768px){.tpt1017-banner{width:900px;max-width:calc(100% - 60px)}}.tpt1017-banner-logo{margin-bottom:16px}.tpt1017-banner-logo img{width:186px;height:auto}.tpt1017-banner-content{font-family:'Proxima Nova', sans-serif}@media screen and (min-width: 768px){.tpt1017-banner-content{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}}.tpt1017-banner-text{margin-bottom:20px;color:#1D1C4C;font-size:18px;font-weight:600}@media screen and (min-width: 768px){.tpt1017-banner-text{margin-bottom:0}}.tpt1017-banner-cta a{display:block;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}@media screen and (min-width: 768px){.tpt1017-banner-cta{margin-left:10px}}.tpt1017-banner-button{white-space:nowrap;background:#415294;color:#fff !important;font-size:14px;font-weight:600;padding:10px 20px;border-radius:4px}.tpt1017-banner-button:hover{text-decoration:underline !important}.tpt1017 .PostPurchaseTpTSABannerLayout{display:none}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["17479550609"], "experiments": [{"weightDistributions": [{"entityId": "21014212493", "endOfRange": 10000}], "audienceName": "Exclude Matched TPT SA Users [logged-in only],U.S. Only,Exclude Premium Sellers,Device | Desktop", "name": "100% to v0: TPT-980 [Unlinked][Wishlist] Tooltip Callout Test", "bucketingStrategy": null, "variations": [{"id": "21014212493", "actions": [{"viewId": "17479550609", "changes": [{"value": function($){!function(o,i,r){var t=20872090086,n=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),w=window.optimizely.get("utils"),c=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v0","wish-list-with-products")}catch(o){c(o)}}("tpt980");
}, "dependencies": [], "type": "custom_code", "id": "b1a8d9622c404fe5972d2813def9ba2e"}]}], "name": "v0: Control 980 - middle callout w/o tooltip"}, {"id": "21043521354", "actions": [{"viewId": "17479550609", "changes": [{"value": function($){!function(o,i,r){var t=20872090086,n=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),w=window.optimizely.get("utils"),c=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v1","wish-list-with-products")}catch(o){c(o)}}("tpt980");
}, "dependencies": [], "type": "custom_code", "id": "a7e9f18f9e7b47649015e2ca7dd6d7ba"}]}], "name": "v1: Middle callout w/ tooltip"}, {"id": "21072990146", "actions": [{"viewId": "17479550609", "changes": [{"value": function($){!function(o,i,r){var t=20872090086,n=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),w=window.optimizely.get("utils"),c=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v2","wish-list-with-products")}catch(o){c(o)}}("tpt980");
}, "dependencies": [], "type": "custom_code", "id": "3f6e2de948654ff0b4df0e78eccf404b"}]}], "name": "v2: Right callout w/ Get a Subscription tooltip"}, {"id": "21062040209", "actions": [{"viewId": "17479550609", "changes": [{"value": function($){!function(o,i,r){var t=20872090086,n=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),w=window.optimizely.get("utils"),c=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v3","wish-list-with-products")}catch(o){c(o)}}("tpt980");
}, "dependencies": [], "type": "custom_code", "id": "ee61e2a93da74c5280308fed627a5dbf"}]}], "name": "v3: Right callout w/ Dont Miss Out tooltip"}], "audienceIds": ["and", "19997272145", "16539970090", "16882670147", "12001380907"], "changes": null, "id": "21038982592", "integrationSettings": null}], "id": "21014022928", "weightDistributions": null, "name": "100% to v0: TPT-980 [Unlinked][Wishlist] Tooltip Callout Test", "groupId": null, "commitId": "21047391411", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "c4b9f2df5dfe467cbfed49146dd3eec2", "value": function($){!function(t){var e=20872090086,o=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":t,"tags":e})},c=window.optimizely.get("utils"),n=c.log&&c.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),a=c.error&&c.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));n("v3");var l=function(e){var o,n="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign=".concat(t).concat(e);if("v0"===e||"v1"===e?c.observeSelector('.WishlistProductRowLayout[data-crometrics-isavailableonschoolaccess="true"]',(function(t){t.querySelector(".TruncatedTextBox").insertAdjacentHTML("afterend",'\n        <div class="tpt-school-access">\n          <p>Also available with subscription</p>\n          <img src="https://static1.teacherspayteachers.com/tpt-frontend/releases/production/current/39fb476a33e22cce7ab89e516419b909.png" alt="TpT Schools Access" height="28">\n          <a class="Button Button--medium Button--fullWidth" href="'.concat(n,'">Refer Your Principal</a>\n        </div>\n      ')),t.querySelector(".tpt-school-access a").addEventListener("click",(function(){i("tpt980-wishlist-on-page-tptsa-callout-cta-click"),window.heap.track("[TPT-980] Wishlist | On-page TPTSA Callout CTA Click"),i("tpt980-wishlist-all-tptsa-callout-cta-click"),window.heap.track("[TPT-980] Wishlist | All TPTSA Callout CTA Click")}))})):"v2"!==e&&"v3"!==e||c.observeSelector("[data-crometrics-isavailableonschoolaccess='true'] .ProductRowPriceAndBundleText .ProductRowPriceBespoke",(function(e){"FREE"!==e.textContent&&(e=e.children[e.children.length-1]),e.classList.add("".concat(t,"-section")),e.insertAdjacentHTML("beforeend",'<a href="'.concat(n,'" class="').concat(t,'-house">').concat('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\r\n    <rect width="16" height="16" fill="url(#pattern0)"/>\r\n    <defs>\r\n        <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">\r\n            <use xlink:href="#image0_1215_5193" transform="scale(0.00900901)"/>\r\n        </pattern>\r\n        <image id="image0_1215_5193" width="111" height="111" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAABYlAAAWJQFJUiTwAAAIWElEQVR4nO2dT2wUVRzHfxhFsUUQ+dNqTEFoOJTE4gE5CIMGEkCMsBF6VNiDHPhT40EkQUEUuIjFcvCypR4bTCkJBGOMdMEDcKBrAgdTlN0QpVhBkBYbLpjv8LbZtuy8PzPvzbzt+ySTNrvz5+189/3m+97vN7MTHjx4QA47eczpZi9OPItx4lnM40luupfK7CaiTwNW2ZPtTO9m664lokYiWlbyfp6IurKd6S79rTVPog2LiHhMIKxXF7BegYiaK01E28PmZiI6whGO2PvHvFSmm/VQLl4q06i/+eFIdNgUYJbk+h4WL5X5F2ISUY4tpSDsvsd69LLg3cWL7eKp8gwRvcuWcuST/iGc27QYJ57FOPEsxolnMU48i3HiWYwTz2KceBbjxLMYJ57FOPEsphLnNrMl/3sxtkM7lSLeNSL6hCVebxdf9FKZqSzXtz3e5umhEsQ7BIFKRSvCXmv2UpkuJmJF9UTbxTue7Uw381bKdqa7kZtjCdZmlqfjJXBH5/kSh+3iSZ3gbGc6xxKtCKmziah0ARD5Nlsv8YzXZCyEzNuQcA3CDRUsJunVYz8Q0YqAVQqaek+LDZVmiRXPS2VaSiz+LSKaZrgJZV1sUkiceGxs1k5Eb496628imm64Ob/A4CTVwCRKPOYAEa5eLrPKPbSZiCYZbtoH2c50i+FjckmMeGwMBqs+RWD1OMLocdYLExNGE+E2vVQGY68eQeGICXdDc7NGgzCe91KZxBTixi4eMyZHFDZFtfQgEf2noVnlwJfrNGtz7MQWNgOMiQo3FErfwxK7mYml5zFj0h2RcMSEMx1GYapw4wp3blUXxnuepDGRBWF0iIie0/spxhCLmTHa85gxERZu3uxptGXTYplDVDHhrik3Uo1YzIyxnidwo+QIVr5eT1s3Labqqol05epN2nngR7rRPyBzyH+I6NlQjVZj+G5d3WgXjxmTFs7tVCN4Z02DL1wpA4P3aX/rGfr5QkG2CXGICDOzlmUutKFVPCZcd8CMyRh2bFlKq96oL/v+0ROX6XDbOdmm9BFRjexGIbnDbqVu13UAbeLJGpOqpyfS13tX07w5fK8RIow+QUTVMhtFgDYzo0U8ZkxaZIzJFztWUM1M8fMaIoz+SUTPy24UkgITsDvKnUYunqwxeW1RHX28dalvTFRQDKNwoy8qHTAckZqZyMSLypiogDCKXnglf0tm65tE9GQMYTQyMxOJeDqMiSwIo61t5+j7072ym8YRRu+wMBoqWx9aPJ3GRIVTP/X6Ig7euy+z9e9E9JKWBgXzLXOkSmYmlHgmjIkKimG0nyV5TYfRAguj0hPcyuKZNiayWBZGScXMSItnypig9/RevUV9/XepZsZkqp8zTSnUKobRP4joBemDhSfLroVCZkZKPBPGBKLhZOcu9415r7GhhjY2vUKNC2qF90fqYXSQ/a2SOlh4hM2MsHjMmHQJ1Pj7qBgT9JIDh89w11NxqiHCaEH0M0cM18wIiceelNcuY0xwfZMRDr0j/aG4c858udZkGI1LwMBsPTefxzLFx0SFQ2g7tPdN6RPbKjlLIrt+EfRYPyLMlio+q2NhdFBg3SjB5amnXLY+sOd5qUy7jDFBDg49Tpa+vwaoaXOH9HYd3zQpDztChNFfiWi+0kHDkWVDiuEw+sieB2PipTI5GeFwHVIRjnzx7hrdDmDIgvZ+/tFy//osAYT7TfnA6ngsWz/8sNcx4jFjkhN1lPjghz5bHelUl0mWvFpHbQfXyYbRuei8MRQ9TWFP7G1BBxtxf54JY5JEEHozB9f5YfS7E5dFW1jNltvM3psEOg0Ni8cuil+JNgDGBFNdUcyYqIof9ZcGEwmNDbX+mFDCjU5li2mG/LApKxyMCRxlVFNd2A/2KQOm23RMtSmG0VgoXvOEvzlhjEkQmDkRNQ5YL4o8YDmKYRTTeklGuG5TtzHBCcP4iydgceZGd2aCWBhVcKPGEBIPIQQnTHZOURZcwxCyyoVQvO6HNIMGqRhGJz2VvGcvCLUI30BTJww9CmEZS+7S9eHXdX9xeG2aP3f6IyfL4yTRj/KIUzAbGLfPYYmaWTOqI/UDmEDn1aU68SKidma175ijApcMnnjuIToW48SzGCeexST+mtfDhgu1MycbGZjbRKLEQ1L27IUCnT2fLzumwoQBxpxLFtX5A+jxTCLE6w2oGBsNKsCwIANeM+Ohw7M1lxiWWMVDKUJbx0WZHNoI+voHaP/hM3T0xCV/Rqbe8ryiLLEZFgi3bddJZeFKQU9E5RkGtuOJWHoehFv/fods+R2X/azmc7yEUeM9r9jjohauCAQ8e176blkrMS7ePvmyc6VjwLlWOkbFw5hN5h5yDAuQw9vYtNCvmRFNiqJX72vNCqxpN0aveSjsEQHlBxvWLBgxKN/Y9PAvTMmRjou+0wwCww58WRZWcFrJWM/DieSdcPQs3IOwbdPisrMpMCPIbKMAicfRCJxskjEm3ilOWXmxNkVkrIaqsX07lvuhNAiEaBikSsWYeDwHuOGtBulB9s6tHvc62FNSSlFpGBEPzi9oaAAB1q9ZIL1fhFbemO5K/qb0fm3BiHjXOTeEYIJZtYB2FadY1/W8kPDGXLUhUj3jbT6zFDPi9Qf3PNwf4JDHZdItxolnMU48i3HiWYwTz2KceBbjxLMYJ57FOPEsxolnMU48i3HiWYwTz2KECpB6Q5bq8VJCeNbmBE3nEGUQuQhyerxyCjxSefuuk6GPU7o/Hv4jG2Uf9i0L73GsYYXTvf+EsseFTYtx4lmMkaJb3WGrQsMiF9fzLMaJZzFOPIspXvMi/UXFCmUl53dnh9hv05oib/xH7h3R4cKmrRDR/3MdT7BBaAsrAAAAAElFTkSuQmCC"/>\r\n    </defs>\r\n</svg>\r\n',"</a>")),e.querySelector(".".concat(t,"-house")).addEventListener("click",(function(){i("tpt980-wishlist-on-page-tptsa-callout-cta-click"),window.heap.track("[TPT-980] Wishlist | On-page TPTSA Callout CTA Click"),i("tpt980-wishlist-all-tptsa-callout-cta-click"),window.heap.track("[TPT-980] Wishlist | All TPTSA Callout CTA Click")}))})),"v0"!==e&&!c.cookie.get("".concat(t,"-seen"))){var l=null!==(o=window.optimizely.get("dcp").getAttributeValue({"datasourceId":20144019866,"attributeId":20234667484}))&&void 0!==o?o:"your school";!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push_attribute";window.optimizely.push({"type":"user","attributes":t}),window.optimizely.push({"type":"event","eventName":e})}({"tpt980-personalization-data-available":"your school"!==l});var s={"v1":{"title":"Dont miss out on this resource!","body":"Ask your principal for a school subscription for ".concat(l," to unlock this resource and more."),"link":"Ask Your Principal"},"v2":{"title":"Get a subscription for<br>your school","body":"","link":"Refer your Principal"},"v3":{"title":"Dont miss out on this resource!","body":"Ask your principal for a school subscription for ".concat(l," to unlock this resource and more."),"link":"Ask Your Principal"}};c.waitForElement("v1"===e?".tpt-school-access":"[data-crometrics-isavailableonschoolaccess='true'] .ProductRowPriceAndBundleText").then((function(o){o.classList.add("".concat(t,"-section"));var n=s[e];o.insertAdjacentHTML("beforeend",'\n      <div class="'.concat(t,"-tooltip ").concat(t,"-tooltip-").concat(e,' cro-tooltip">\n        <button class="').concat(t,'-tooltip-close">').concat('<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.03098 9.0311C8.63657 9.42551 7.9971 9.42551 7.60269 9.0311L4.74512 6.17352L1.88754 9.0311C1.49313 9.42551 0.853668 9.42551 0.459259 9.0311C0.0648491 8.63669 0.0648492 7.99722 0.459259 7.60282L3.31683 4.74524L0.459258 1.88766C0.0648482 1.49325 0.0648491 0.85379 0.459259 0.459381C0.853668 0.0649712 1.49313 0.0649713 1.88754 0.459381L4.74512 3.31696L7.60269 0.45938C7.9971 0.0649703 8.63657 0.0649712 9.03098 0.459381C9.42539 0.85379 9.42539 1.49325 9.03098 1.88766L6.1734 4.74524L9.03098 7.60282C9.42539 7.99723 9.42539 8.63669 9.03098 9.0311Z" fill="white"/>\r\n</svg>\r\n','</button>\n        <div class="').concat(t,'-tooltip-title">\n          <div>').concat('<svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n<path d="M21.9769 12.7549C21.9769 12.5925 21.8869 12.4429 21.743 12.3668C21.7327 12.3617 20.7381 11.8264 19.5738 10.8118C18.5098 9.88585 17.0808 8.35621 16.3072 6.33191C16.2404 6.15941 16.0759 6.0478 15.8909 6.0478C15.7058 6.0478 15.5388 6.16195 15.4745 6.33191C14.7009 8.35621 13.2694 9.88585 12.2079 10.8118C11.0437 11.8264 10.0491 12.3617 10.0388 12.3668C9.89486 12.4429 9.80491 12.5925 9.80491 12.7549C9.80491 12.9172 9.89486 13.0669 10.0388 13.143C10.0491 13.1481 11.0257 13.6732 12.19 14.6802C13.2591 15.6087 14.6984 17.1409 15.4771 19.1753C15.5439 19.3478 15.7084 19.4594 15.8935 19.4594C16.0785 19.4594 16.2456 19.3453 16.3098 19.1753C17.0834 17.151 18.515 15.6214 19.5764 14.6955C20.7407 13.6808 21.7353 13.1455 21.7456 13.1405C21.8869 13.0644 21.9769 12.9147 21.9769 12.7549ZM11.2621 4.55367C11.239 4.54099 8.86425 3.24726 7.96729 0.900801C7.87477 0.659813 7.64089 0.5 7.38131 0.5C7.12173 0.5 6.88785 0.659813 6.79533 0.900801C5.89836 3.24726 3.5236 4.54099 3.50047 4.55367C3.29743 4.66021 3.1715 4.87076 3.1715 5.09653C3.1715 5.3223 3.29743 5.53284 3.50047 5.64192C3.5236 5.65461 5.89836 6.94833 6.79533 9.29479C6.88785 9.53578 7.12173 9.6956 7.38131 9.6956C7.64089 9.6956 7.87477 9.53578 7.96729 9.29479C8.86425 6.94833 11.239 5.65461 11.2621 5.64192C11.4652 5.53538 11.5911 5.32483 11.5911 5.09907C11.5911 4.8733 11.4626 4.66021 11.2621 4.55367ZM7.19626 14.528C7.19112 14.5255 6.60771 14.2109 5.92663 13.6174C5.30724 13.077 4.47196 12.1841 4.01963 11.0045C3.96822 10.8701 3.83715 10.7813 3.69065 10.7813C3.54416 10.7813 3.41308 10.8701 3.36168 11.0045C2.91192 12.1841 2.07664 13.077 1.45467 13.6174C0.773598 14.2109 0.190187 14.5255 0.185047 14.528C0.0719626 14.5889 0 14.7056 0 14.8324C0 14.9593 0.0719626 15.0785 0.185047 15.1369C0.208178 15.1495 2.49042 16.3824 3.36168 18.6603C3.41308 18.7948 3.54416 18.8836 3.69065 18.8836C3.83715 18.8836 3.96822 18.7948 4.01963 18.6603C4.46939 17.4808 5.30467 16.5879 5.92663 16.0475C6.60771 15.4539 7.19112 15.1394 7.19626 15.1369C7.30935 15.076 7.38131 14.9593 7.38131 14.8324C7.38131 14.7056 7.30935 14.5889 7.19626 14.528Z" fill="#FFD74B"/>\r\n</svg>\r\n',"</div>\n          <div>").concat(n.title,'</div>\n        </div>\n        <div class="').concat(t,'-tooltip-body">').concat(n.body,'</div>\n        <a class="').concat(t,'-tooltip-link" href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign=').concat(t).concat(e,'">').concat(n.link,"</a>\n      </div>\n    "));var a=o.querySelector(".".concat(t,"-tooltip")),l="v1"===e?15:59;"v1"!==e&&a.parentElement.querySelector("[class*='discountPriceToTheRight']")&&(l=41),a.setAttribute("style","top: calc((143px - ".concat(a.offsetHeight,"px) / 2 - ").concat(l,"px);")),o.querySelector(".".concat(t,"-tooltip-close")).addEventListener("click",(function(){a.remove(),c.cookie.set("".concat(t,"-seen"),!0,7)})),o.querySelector(".".concat(t,"-tooltip-link")).addEventListener("click",(function(){i("tpt980-wishlist-tooltip-tptsa-callout-cta-click"),window.heap.track("[TPT-980] Wishlist | Tooltip TPTSA Callout CTA Click"),i("tpt980-wishlist-all-tptsa-callout-cta-click"),window.heap.track("[TPT-980] Wishlist | All TPTSA Callout CTA Click")}))}))["catch"](a)}};o.applyTreatment=function(e,o){!function(e,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;i.classList.add(t),i.classList.add(t+e),n("Variation ".concat(e,", page ").concat(o))}(e,o),c.waitUntil((function(){var t;return null===(t=document.querySelector(".tpt-frontend"))||void 0===t?void 0:t._reactRootContainer})).then((function(){return l(e)}))["catch"](a)}}("tpt980");
}}, {"dependencies": [], "type": "append", "id": "2c63c17563d9442e8003c42d0c82173c", "value": "<style>.tpt980 .tpt-school-access{position:relative;clear:both;padding-top:10px}.tpt980 .tpt-school-access p{font-size:14px;display:block;text-align:left;margin-bottom:5px;margin-top:20px}.tpt980 .tpt-school-access img{width:auto;height:20px;margin-right:50px;position:relative;top:-1px}.tpt980 .tpt-school-access .Button{background-color:#41539d;color:#fff;padding:8px 10px;position:relative;top:-10px;margin-left:10px}.tpt980-hidden{display:none}.tpt980 .tpt-school-access a.Button{font-size:11px;margin-left:10px}@media only screen and (min-width: 780px){.tpt980 .tpt-school-access a.Button{font-size:14px}}@media only screen and (min-width: 980px){.tpt980 .tpt-school-access a.Button{font-size:9px}}@media only screen and (min-width: 995px){.tpt980 .tpt-school-access a.Button{font-size:10px}}@media only screen and (min-width: 1019px){.tpt980 .tpt-school-access a.Button{font-size:11px}}@media only screen and (min-width: 1042px){.tpt980 .tpt-school-access a.Button{font-size:12px}}@media only screen and (min-width: 1065px){.tpt980 .tpt-school-access a.Button{font-size:13px}}@media only screen and (min-width: 1088px){.tpt980 .tpt-school-access a.Button{font-size:14px}}.tpt980-section{position:relative !important}.tpt980-house{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background-color:#E8EDF7;width:25px;height:25px;border-radius:50%;margin-left:6px}.tpt980-house svg{margin-bottom:3px}.tpt980-tooltip{position:absolute;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;background-color:#415294;color:white;font-weight:400;z-index:1;width:282px;left:-88px;padding:24px;border-radius:6px}.tpt980-tooltip::after{position:absolute;content:\"\";-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);top:calc(50% - 8px);right:-7px;border-top:8px solid #415294;border-right:8px solid #415294;border-bottom:8px solid transparent;border-left:8px solid transparent}.tpt980-tooltip-v1,.tpt980-tooltip-v3{width:370px;left:-172px}.tpt980-tooltip-v2{width:303px;left:-262px}.tpt980-tooltip-v3{left:-329px}.tpt980-tooltip-close{position:absolute;min-height:auto !important;line-height:0;top:20px;right:20px;padding:5px}.tpt980-tooltip-title{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;font-size:19px;line-height:137.5%;margin-bottom:3px}.tpt980-tooltip-title div:first-child{margin-right:6px}.tpt980-tooltip-body{font-size:14px;line-height:137.5%}.tpt980-tooltip-link{font-size:14px;line-height:117%;font-weight:600;margin-top:11px}.tpt980-tooltip-link:hover{text-decoration:underline !important}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["12371712421"], "experiments": [{"weightDistributions": [{"entityId": "21031234137", "endOfRange": 10000}], "audienceName": "Exclude Matched TPT SA Users [logged-in only],Logged In,U.S. Only,Exclude Premium Sellers,Has DCP School Name,Device | Desktop,Schools with > 10 FTE", "name": "100% to v0: TPT-1014 [Unlinked][Post Free Download] Personalization and Urgency Winter", "bucketingStrategy": null, "variations": [{"id": "21031234137", "actions": [{"viewId": "12371712421", "changes": [{"value": function($){!function(o,r,n){var i=20934660130,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v0","freedownload")}catch(o){e(o)}}("tpt1014");
}, "dependencies": [], "type": "custom_code", "id": "179a4bbdf8044cf494292d03051ba022"}]}], "name": "v0: Control - winner of TPT812"}, {"id": "21021794752", "actions": [{"viewId": "12371712421", "changes": [{"value": function($){!function(o,r,n){var i=20934660130,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v1","freedownload")}catch(o){e(o)}}("tpt1014");
}, "dependencies": [], "type": "custom_code", "id": "4c78dd9502354165bc89166aaeeb7697"}]}], "name": "v1: School Name Included"}], "audienceIds": ["and", "19997272145", "12111314811", "16539970090", "16882670147", "20604890334", "12001380907", "20581671055"], "changes": null, "id": "21026223050", "integrationSettings": null}], "id": "21014103091", "weightDistributions": null, "name": "100% to v0: TPT-1014 [Unlinked][Post Free Download] Personalization and Urgency Winter", "groupId": null, "commitId": "21065160359", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "dd977ce13a9d4de3846ae078f5720f17", "value": function($){!function(n){var t=20934660130,c=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),o=window.optimizely.get("utils"),e=o.log&&o.log.bind(window,"[".concat(n,"]"))||console.warn.bind(window,"[cro] [".concat(n,"]")),a=o.error&&o.error.bind(window,n)||console.error.bind(window,"[cro] [".concat(n,"]"));e("v0.2");c.utils=o,c.applyTreatment=function(t,c){!function(t,c){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;o.classList.add(n),o.classList.add(n+t),e("Variation ".concat(t,", page ").concat(c))}(t,c);var i=o.params.parse().school_name,s=i||optimizely.get("dcp").getAttributeValue({"datasourceId":20144019866,"attributeId":20234667484});o.waitForElement("#content_layout").then((function(c){var o="&cro_oeuid=".concat(optimizely.get("visitor").visitorId),e="".concat(n).concat(t).concat(o),a=s?s.split(" ").map((function(n){return n.length>1?n[0].toUpperCase()+n.substring(1,n.length).toLowerCase():n})).join(" ")+" teachers":"you",i={"v0":"Federal stimulus funding could help ".concat(a," access resources through a school subscription."),"v1":"Wait! You could save on the resources ".concat(a," need for the new semester. Ask your principal for a school subscription.")},r='\n      <div class="'.concat(n,'-banner">\n        <div class="').concat(n,'-banner-logo"><img src="//cdn.optimizely.com/img/11000223989/9d60cf99ff8f45e8bfc66473cf54f01b.png"></div>\n        <div class="').concat(n,'-banner-content">\n          <div class="').concat(n,'-banner-text">').concat(i[t],'</div>\n          <div class="').concat(n,'-banner-cta">\n            <a class="').concat(n,'-banner-button" href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign=').concat(e,'#share">Request a subscription</a>\n          </div>\n        </div>\n      </div>\n    ');c.insertAdjacentHTML("afterbegin",r)}))["catch"](a)}}("tpt1014");
}}, {"dependencies": [], "type": "append", "id": "59ac5bae28d5454c880af943f555f3e2", "value": "<style>.tpt1014-banner{padding:22px 30px;border:3px solid #415294;border-radius:10px;max-width:90%;margin:20px auto}@media screen and (min-width: 768px){.tpt1014-banner{max-width:800px}}.tpt1014-banner-logo{margin-bottom:16px}.tpt1014-banner-logo img{width:186px;height:auto}.tpt1014-banner-content{font-family:'Proxima Nova', sans-serif}@media screen and (min-width: 768px){.tpt1014-banner-content{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}}.tpt1014-banner-text{margin-bottom:20px;color:#1D1C4C;font-size:18px;font-weight:600}@media screen and (min-width: 768px){.tpt1014-banner-text{margin-bottom:0}}@media screen and (min-width: 768px){.tpt1014-banner-cta{margin-left:10px}}.tpt1014-banner-button{white-space:nowrap;background:#415294;color:#fff;font-size:14px;font-weight:600;padding:10px 20px;border-radius:4px}.tpt1014v1.tpt364 .tpt364-banner{display:none}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["17899101619"], "experiments": [{"weightDistributions": [{"entityId": "21064500763", "endOfRange": 10000}], "audienceName": "Exclude Matched TPT SA Users [logged-in only],U.S. Only,Has DCP School Name,Exclude Premium Sellers,Schools with > 200 resources used this year", "name": "100% to v1: [TPT-1012][Unlinked][Post Purchase] Data Personalization Banner Messaging", "bucketingStrategy": null, "variations": [{"id": "21085741050", "actions": [{"viewId": "17899101619", "changes": [{"value": function($){!function(o,r,n){var t=20917333167,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v0","purchase-complete")}catch(o){w(o)}}("tpt1012");
}, "dependencies": [], "type": "custom_code", "id": "ac6ed3115da2482390f920da8f94ab17"}]}], "name": "v0: (Control 1012) School Name Personalization"}, {"id": "21064500763", "actions": [{"viewId": "17899101619", "changes": [{"value": function($){!function(o,r,n){var t=20917333167,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v1","purchase-complete")}catch(o){w(o)}}("tpt1012");
}, "dependencies": [], "type": "custom_code", "id": "712a7c0bad25452e87091a43f7337be7"}]}], "name": "v1: School Name and School Data Personalization"}, {"id": "21089731029", "actions": [{"viewId": "17899101619", "changes": [{"value": function($){!function(o,r,n){var t=20917333167,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v2","purchase-complete")}catch(o){w(o)}}("tpt1012");
}, "dependencies": [], "type": "custom_code", "id": "749ee232710043b4b55c23486bd55e15"}]}], "name": "v2: School Data Personalization"}], "audienceIds": ["and", "19997272145", "16539970090", "20604890334", "16882670147", "20686301812"], "changes": null, "id": "21077550673", "integrationSettings": null}], "id": "21081731138", "weightDistributions": null, "name": "100% to v1: [TPT-1012][Unlinked][Post Purchase] Data Personalization Banner Messaging", "groupId": null, "commitId": "21068440892", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "83547c91cfae4931a6e90a7b77ec5d1c", "value": function($){!function(t){var n=20917333167,c=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),e=window.optimizely.get("utils"),o=e.log&&e.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),a=e.error&&e.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));o("v0.1");var r=20144019866;c.applyTreatment=function(n,c){var i,s;!function(n,c){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;e.classList.add(t),e.classList.add(t+n),o("Variation ".concat(n,", page ").concat(c))}(n,c);var u=null!==(i=optimizely.get("dcp").getAttributeValue({"datasourceId":r,"attributeId":20234667484}))&&void 0!==i?i:"your",d=null!==(s=optimizely.get("dcp").getAttributeValue({"datasourceId":r,"attributeId":20243947993}))&&void 0!==s?s:0,l='\n    <div class="'.concat(t,'-banner cro-post-purchase-banner">\n      <div class="').concat(t,'-banner-logo">\n        <img src="//cdn.optimizely.com/img/11000223989/9d60cf99ff8f45e8bfc66473cf54f01b.png">\n      </div>\n      <div class="').concat(t,'-banner-content">\n        <div class="').concat(t,'-banner-text">Federal stimulus funding could help ').concat("your"===u?"your school":u,' access resources through a school subscription.</div>\n        <div class="').concat(t,'-banner-cta">\n          <a class="').concat(t,'-banner-button" href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplaceutm_medium=optimizely&utm_campaign=').concat(t).concat(n,'">Request a subscription</a>\n        </div>\n      </div>\n    </div>\n  ');if(e.waitForElement(".tpt-frontend").then((function(t){return e.waitUntil((function(){return t._reactRootContainer}))})).then((function(){e.waitForElement(".OrderReceiptPageLayout").then((function(n){n.querySelector(".".concat(t,"-banner"))||n.insertAdjacentHTML("afterbegin",l)}))["catch"](a)}))["catch"](a),"v0"!==n){var h={"v1":"".concat(u," teachers have used ").concat(d," TpT resources this year. Federal stimulus funding could help you access resources through a school subscription."),"v2":"Your school has used ".concat(d," TpT resources this year. Federal stimulus funding could help you access resources through a school subscription.")}[n];e.waitForElement(".".concat(t,"-banner-text")).then((function(t){return t.textContent=h}))["catch"](a)}}}("tpt1012");
}}, {"dependencies": [], "type": "append", "id": "a6b280a7e7004a11b0ed242ca56701d3", "value": "<style>.tpt1012-banner{margin:20px auto;padding:22px 30px;border:3px solid #415294;border-radius:10px;max-width:90%}@media screen and (min-width: 768px){.tpt1012-banner{width:900px;max-width:calc(100% - 60px)}}.tpt1012-banner-logo{margin-bottom:16px}.tpt1012-banner-logo img{width:186px;height:auto}.tpt1012-banner-content{font-family:'Proxima Nova', sans-serif}@media screen and (min-width: 768px){.tpt1012-banner-content{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}}.tpt1012-banner-text{margin-bottom:20px;color:#1D1C4C;font-size:18px;font-weight:600}@media screen and (min-width: 768px){.tpt1012-banner-text{margin-bottom:0}}.tpt1012-banner-cta a{display:block;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}@media screen and (min-width: 768px){.tpt1012-banner-cta{margin-left:10px}}.tpt1012-banner-button{white-space:nowrap;background:#415294;color:#fff !important;font-size:14px;font-weight:600;padding:10px 20px;border-radius:4px}.tpt1012-banner-button:hover{text-decoration:underline !important}.tpt1012 .PostPurchaseTpTSABannerLayout{display:none}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["19186070224"], "experiments": [{"weightDistributions": [{"entityId": "21142110987", "endOfRange": 10000}], "audienceName": "Exclude Matched TPT SA Users [logged-in only],U.S. Only,Exclude Premium Sellers,No DCP School Name ,Device | Desktop", "name": "100% to v0: TPT-1096: [Unlinked][PDP][TPT-1087 No P13n] Subscription messaging", "bucketingStrategy": null, "variations": [{"id": "21142110987", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){!function(o,r,t){var n=20990491870,i=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),d=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{i.applyTreatment("v0","pdp-tpt-sa-flagged")}catch(o){d(o)}}("tpt1096");
}, "dependencies": [], "type": "custom_code", "id": "85a5f7ae789e4254baa22f45141de2d7"}]}], "name": "v0: Control 1096"}, {"id": "21142080487", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){!function(o,r,t){var n=20990491870,i=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),d=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{i.applyTreatment("v1","pdp-tpt-sa-flagged")}catch(o){d(o)}}("tpt1096");
}, "dependencies": [], "type": "custom_code", "id": "d892cf9e2e164dd5bb82ddb721941a83"}]}], "name": "v1: Resources Messaging"}, {"id": "21127051773", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){!function(o,r,t){var n=20990491870,i=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),d=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{i.applyTreatment("v2","pdp-tpt-sa-flagged")}catch(o){d(o)}}("tpt1096");
}, "dependencies": [], "type": "custom_code", "id": "06c48d6603ba43b78e9da86d9286db5a"}]}], "name": "v2: School name"}], "audienceIds": ["and", "19997272145", "16539970090", "16882670147", "20613054836", "12001380907"], "changes": null, "id": "21161570145", "integrationSettings": null}], "id": "21098022445", "weightDistributions": null, "name": "100% to v0: TPT-1096: [Unlinked][PDP][TPT-1087 No P13n] Subscription messaging", "groupId": null, "commitId": "21142200247", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "f3289c22faa84391aa670bc0d413a9c1", "value": function($){!function(t){var n=20990491870,e=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),o=window.optimizely.get("utils"),c=o.log&&o.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),a=o.error&&o.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));c("v0.2"),e.applyTreatment=function(n,e){if(function(n,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;o.classList.add(t),o.classList.add(t+n),c("Variation ".concat(n,", page ").concat(e))}(n,e),o.waitForElement(".tpt661-banner .cta-link").then((function(e){e.addEventListener("click",(function(){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":t,"tags":n})}("tpt1096_pdp_tptsa_banner_clicks_on_learn_more")})),e.href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplaceutm_medium=optimizely&utm_campaign=".concat(t+n)}))["catch"](a),"v0"!==n){var i={"v1":"Save in 2022. Get access to more resources than last year with a school subscription.","v2":"Save in 2022. Get access to more resources with a subscription for your school."}[n];o.waitForElement(".tpt661-banner > p").then((function(t){t.textContent=i}))["catch"](a)}}}("tpt1096");
}}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["17899101619"], "experiments": [{"weightDistributions": [{"entityId": "21149840250", "endOfRange": 5000}, {"entityId": "21141162327", "endOfRange": 10000}], "audienceName": "[QA] Cro Metrics Test Cookie (OLI),U.S. Only,Exclude Premium Sellers,No DCP School Name ,[DCP Migration] TPTSA Acquisition (Unlinked users)", "name": "[TEST COOKIE] TPT-1167 [Unmatched][Post Purchase][No P13N] Omicron support", "bucketingStrategy": null, "variations": [{"id": "21149840250", "actions": [{"viewId": "17899101619", "changes": [{"value": function($){!function(o,r,n){var t=21135192806,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v0","purchase-complete")}catch(o){w(o)}}("tpt1167");
}, "dependencies": [], "type": "custom_code", "id": "f7021d58-a3e9-4c19-8dd7-55f7a14ede24"}]}], "name": "v0: Control (1167) Stimulus Messaging"}, {"id": "21141162327", "actions": [{"viewId": "17899101619", "changes": [{"value": function($){!function(o,r,n){var t=21135192806,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v1","purchase-complete")}catch(o){w(o)}}("tpt1167");
}, "dependencies": [], "type": "custom_code", "id": "2249dda6-0994-4a0c-841a-236b0abec084"}]}], "name": "v1: Omicron Messaging"}], "audienceIds": ["and", "15737501278", "16539970090", "16882670147", "20613054836", "21160151169"], "changes": null, "id": "21135192806", "integrationSettings": null}], "id": "21098413180", "weightDistributions": null, "name": "[TEST COOKIE] TPT-1167 [Unmatched][Post Purchase][No P13N] Omicron support", "groupId": null, "commitId": "21195750628", "decisionMetadata": {"experimentPriorities": [[{"entityId": "21135192806", "endOfRange": null}]], "offerConsistency": null}, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "c8431b30-8fb6-492e-8a23-bcbbcbfcbb06", "value": function($){!function(n){var c=21135192806,t=window["CRO_SHARED_"+c]||(window["CRO_SHARED_"+c]={}),o=window.optimizely.get("utils"),a=o.log&&o.log.bind(window,"[".concat(n,"]"))||console.warn.bind(window,"[cro] [".concat(n,"]")),e=o.error&&o.error.bind(window,n)||console.error.bind(window,"[cro] [".concat(n,"]")),s=o.waitForElement(".tpt-frontend").then((function(n){return o.waitUntil((function(){return n._reactRootContainer}))}))["catch"](e);a("v0.1"),t.applyTreatment=function(c,t){!function(c,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;o.classList.add(n),o.classList.add(n+c),a("Variation ".concat(c,", page ").concat(t))}(c,t);var r={"v0":{"body":"Your school has used TpT resources this year. Federal stimulus funding could help you access resources through a school subscription.","cta":"Request a subscription"},"v1":{"body":"Your school has used TpT resources this year. Get more support taking on today's challenges with a school subscription.","cta":"Request a subscription"}}[c],i="?utm_source=marketplaceutm_medium=optimizely&utm_campaign=".concat(n).concat(c),d='\n    <div class="'.concat(n,'-banner cro-banner cro-post-purchase-banner">\n      <div class="').concat(n,'-banner-logo">\n        <img src="//cdn.optimizely.com/img/11000223989/9d60cf99ff8f45e8bfc66473cf54f01b.png">\n      </div>\n      <div class="').concat(n,'-banner-content">\n        <div class="').concat(n,'-banner-text">').concat(r.body,'</div>\n        <div class="').concat(n,'-banner-cta">\n          <a class="').concat(n,'-banner-button" href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers').concat(i,'">').concat(r.cta,"</a>\n        </div>\n      </div>\n    </div>\n  ");s.then((function(){o.waitForElement(".PostPurchaseTpTSABannerLayout").then((function(c){c.classList.add("".concat(n,"-hidden")),c.querySelector(".".concat(n,"-banner"))||c.insertAdjacentHTML("afterend",d)}))["catch"](e)}))["catch"](e)}}("tpt1167");
}}, {"dependencies": [], "type": "append", "id": "0fc65a1c-92b2-4f1c-81a8-7e0046b2c5f8", "value": "<style>.tpt1167-hidden{display:none}.tpt1167-banner{padding:37px 60px}.tpt1167-banner-logo img{height:33px;margin-bottom:24px}.tpt1167-banner-content{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.tpt1167-banner-text{max-width:748px}.tpt1167-banner-cta{margin-left:auto}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["19186070224"], "experiments": [{"weightDistributions": [{"entityId": "21101771022", "endOfRange": 5000}, {"entityId": "21123742014", "endOfRange": 10000}], "audienceName": "Device | Desktop,U.S. Only,Matched TPT SA Users [logged-in only],Exclude Premium Sellers", "name": "[RERUN] TPT-1015 [Linked][Marketplace: PDP] [Matched User Catalog product button]", "bucketingStrategy": null, "variations": [{"id": "21101771022", "actions": [{"viewId": "19186070224", "changes": [{"dependencies": [], "type": "custom_code", "id": "f83c4fbc905c47179e0fe924c2875681", "value": function($){!function(o,r,t){var n=20904602624,i=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),d=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{i.applyTreatment("v0","pdp-tpt-sa-flagged")}catch(o){d(o)}}("tpt1015");
}}]}], "name": "v0: (Control 1015) CTA Above Price"}, {"id": "21123742014", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){!function(o,r,t){var n=20904602624,i=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),d=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{i.applyTreatment("v1","pdp-tpt-sa-flagged")}catch(o){d(o)}}("tpt1015");
}, "dependencies": [], "type": "custom_code", "id": "c7a1c2f2bb5144c1936619183045097d"}]}], "name": "v1: CTA In Line With Price"}], "audienceIds": ["and", "12001380907", "16539970090", "20339405977", "16882670147"], "changes": null, "id": "21110401062", "integrationSettings": null}], "id": "21104060861", "weightDistributions": null, "name": "[RERUN] TPT-1015 [Linked][Marketplace: PDP] [Matched User Catalog product button]", "groupId": null, "commitId": "21158960357", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "a3fe7bf28c9c467a8a111f9afa7fa0de", "value": function($){function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}!function(t){var e=20904602624,n=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":t,"tags":e})},a=window.optimizely.get("utils"),r=a.log&&a.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),i=a.error&&a.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]")),c='<svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.8098 9.08928C11.8098 9.3125 11.7205 9.53571 11.5598 9.69643L10.3455 10.9107C10.1848 11.0714 9.96158 11.1607 9.73836 11.1607C9.51515 11.1607 9.29193 11.0714 9.13122 10.9107L6.50621 8.28571L3.88121 10.9107C3.7205 11.0714 3.49728 11.1607 3.27407 11.1607C3.05085 11.1607 2.82764 11.0714 2.66692 10.9107L1.45264 9.69643C1.29192 9.53571 1.20264 9.3125 1.20264 9.08928C1.20264 8.86607 1.29192 8.64285 1.45264 8.48214L4.07764 5.85714L1.45264 3.23213C1.29192 3.07142 1.20264 2.8482 1.20264 2.62499C1.20264 2.40178 1.29192 2.17856 1.45264 2.01785L2.66692 0.803559C2.82764 0.642844 3.05085 0.553558 3.27407 0.553558C3.49728 0.553558 3.7205 0.642844 3.88121 0.803559L6.50621 3.42856L9.13122 0.803559C9.29193 0.642844 9.51515 0.553558 9.73836 0.553558C9.96158 0.553558 10.1848 0.642844 10.3455 0.803559L11.5598 2.01785C11.7205 2.17856 11.8098 2.40178 11.8098 2.62499C11.8098 2.8482 11.7205 3.07142 11.5598 3.23213L8.93479 5.85714L11.5598 8.48214C11.7205 8.64285 11.8098 8.86607 11.8098 9.08928Z" fill="#fff"/><mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="1" y="0" width="11" height="12"><path d="M11.8098 9.08928C11.8098 9.3125 11.7205 9.53571 11.5598 9.69643L10.3455 10.9107C10.1848 11.0714 9.96158 11.1607 9.73836 11.1607C9.51515 11.1607 9.29193 11.0714 9.13122 10.9107L6.50621 8.28571L3.88121 10.9107C3.7205 11.0714 3.49728 11.1607 3.27407 11.1607C3.05085 11.1607 2.82764 11.0714 2.66692 10.9107L1.45264 9.69643C1.29192 9.53571 1.20264 9.3125 1.20264 9.08928C1.20264 8.86607 1.29192 8.64285 1.45264 8.48214L4.07764 5.85714L1.45264 3.23213C1.29192 3.07142 1.20264 2.8482 1.20264 2.62499C1.20264 2.40178 1.29192 2.17856 1.45264 2.01785L2.66692 0.803559C2.82764 0.642844 3.05085 0.553558 3.27407 0.553558C3.49728 0.553558 3.7205 0.642844 3.88121 0.803559L6.50621 3.42856L9.13122 0.803559C9.29193 0.642844 9.51515 0.553558 9.73836 0.553558C9.96158 0.553558 10.1848 0.642844 10.3455 0.803559L11.5598 2.01785C11.7205 2.17856 11.8098 2.40178 11.8098 2.62499C11.8098 2.8482 11.7205 3.07142 11.5598 3.23213L8.93479 5.85714L11.5598 8.48214C11.7205 8.64285 11.8098 8.86607 11.8098 9.08928Z" fill="white"/></mask><g mask="url(#mask0)"></g></svg>\n';r("v0.1"),n.applyTreatment=function(e,n){a.waitForElement(".StickyProductPageSideColumnLayout .link-btn").then((function(e){var n=document.querySelector(".StickyProductPageSideColumnLayout .link-btn + .cro-tooltip .dismiss.icon");e.addEventListener("click",(function(){o("".concat(t,"_pdp_tptsa_access_now_cta"))})),n.addEventListener("click",(function(){o("".concat(t,"_pdp_tptsa_access_now_tooltip_exits"))}))}))["catch"](i),function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;o.classList.add(t),o.classList.add(t+e),r("Variation ".concat(e,", page ").concat(n))}(e,n);var s="&cro_oeuid=".concat(optimizely.get("visitor").visitorId),l=_slicedToArray({"v0":["Access this resource without using personal&nbsp;funds","".concat('<svg viewBox="0 0 24 24" aria-hidden="true" role="presentation" class="SvgIcon_root__B2saD mr-2"><path d="M15.293 15.793L13 18.086V10.5a1 1 0 10-2 0v7.586l-2.293-2.293a.999.999 0 10-1.414 1.414l3.999 3.999a.99.99 0 00.326.217.991.991 0 001.09-.217l3.999-3.999a.999.999 0 10-1.414-1.414zm4.669-6.061C19.569 5.679 16.148 2.5 12 2.5S4.431 5.679 4.038 9.732A5.484 5.484 0 000 15.02a5.496 5.496 0 004.889 5.474.994.994 0 001.104-.884 1 1 0 00-.884-1.104A3.499 3.499 0 012 15.02a3.49 3.49 0 013.114-3.464C5.62 11.5 6 11.021 6 10.512 6 7.197 8.691 4.5 12 4.5s6 2.697 5.999 6.005a1 1 0 00.887 1.051A3.49 3.49 0 0122 15.02a3.498 3.498 0 01-3.109 3.486 1.001 1.001 0 00.22 1.988A5.497 5.497 0 0024 15.02a5.484 5.484 0 00-4.038-5.288z"></path></svg>\n'," Access Now"),"Look for the Access Now button to find resources available through TpT School Access."],"v1":["View resource details then access it, without paying out of pocket.","View Resource","This resource and all others with this TpT School Access logo are available as part of your subscription."]}["v0"],3),d=l[0],u=l[1],p=l[2],h=document.createElement("div");h.className="".concat(t,"-box"),"v0"==e?h.innerHTML='\n    <div class="'.concat(t,'-modal-box">\n      <div class="header">\n        <img src="//cdn.optimizely.com/img/11000223989/405a26d73afd439cbb2615b0adac4370.png"/>\n      </div>\n      <div class="content">\n        <h2>').concat(d,'</h2>\n        <div class="tooltip-wrapper show">\n          <a href="javascript:;" class="link-btn">').concat(u,'</a>\n          <div class="cro-tooltip">\n            <a href="javascript:;" class="dismiss icon">').concat(c,"</a>\n            <h4>See whats included in your subscription!</h4>\n            <span>").concat(p,"</span>\n          </div>\n          </div>\n      </div>\n    </div>\n  "):"v1"==e&&(h.innerHTML='\n    <div class="'.concat(t,'-modal-box">\n      <div class="content">\n        <div class="tooltip-wrapper show">\n          <a href="javascript:;" class="link-btn">').concat(u,'</a>\n          <div class="cro-tooltip">\n            <button type="button" class="dismiss icon" title="close tooltip">').concat(c,"</button>\n            <h4>See whats included in your subscription!</h4>\n            <span>").concat(p,"</span>\n          </div>\n          </div>\n      </div>\n    </div>\n  "));var m=window.__TPT__hashedUserId,w=!1,v="",y=!1;fetch("https://tpt-tptsa-mapping-prod.s3.amazonaws.com/lookup-by-hashed-user-id/".concat(m),{"method":"GET","headers":{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){t&&(t.hashed_user_id||t.hashed_tpt_user_id)&&(y=!0,t.registration_link&&null!==t.registration_link&&"null"!==t.registration_link&&""!==t.registration_link&&(v=new URL(sessionStorage.getItem("cro_registration_link"))),null!==t.audience&&"non-registered"===t.audience&&(w=!0))}))["catch"](i),a.waitForElement(".tpt-frontend").then((function(t){return a.waitUntil((function(){return t._reactRootContainer&&y}))})).then((function(){a.waitForElement('[data-testid="sticky-price-box-wrapper"] .PriceBox').then((function(n){if(!document.querySelector(".".concat(t,"-modal-box"))){if("v1"==e)n.querySelector(".PriceBox__text").insertAdjacentElement("afterend",h);else"v0"==e&&n.insertAdjacentElement("beforebegin",h);(function(t){for(var e=t+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){var a=n[o].trim();if(0===a.indexOf(e))return a.substring(e.length,a.length)}return null})("cro_saw_".concat(t))&&(h.querySelector(".tooltip-wrapper").classList.remove("show"),h.querySelector(".tooltip-wrapper").classList.add("hide"));var o="?utm_source=tptcoremarketplace&utm_medium=matchedusersbanner&utm_campaign=optimizely".concat(t).concat(e).concat(s);h.querySelector(".link-btn").addEventListener("click",(function(){if(location.pathname.toLowerCase().indexOf("product")>-1){var n=document.querySelector('[itemprop="productID"]').content;n&&!w?window.open("https://www.tptschoolaccess.com/resource/".concat(n).concat(o),"_blank"):w?(v.searchParams.append("utm_campaign","optimizely".concat(t).concat(e)),v.searchParams.append("utm_source","tptcoremarketplace"),v.searchParams.append("utm_medium","matchedusersbanner"),v.searchParams.append("cro_oeuid","".concat(optimizely.get("visitor").visitorId)),window.open(v,"_blank")):window.open("https://www.tptschoolaccess.com".concat(o),"_blank")}})),h.querySelector(".dismiss.icon").addEventListener("click",(function(){!function(t,e,n){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"."+window.location.hostname.split(".").slice(-2).join("."),r=t+"="+e+"; path=/";n instanceof Date?o=n:n>0&&(o=new Date).setTime(o.getTime()+24*n*60*60*1e3),o&&(r+="; expires="+o.toGMTString()),a&&(r+="; domain="+a),document.cookie=r}("cro_saw_".concat(t),!0),h.querySelector(".tooltip-wrapper").classList.remove("show"),h.querySelector(".tooltip-wrapper").classList.add("hide")}))}}))["catch"](i)}))["catch"](i)}}("tpt1015");
}}, {"value": "<style>.tpt1015-box{overflow:visible}.tpt1015.tpt960 .tpt960-box{display:none}.tpt1015 .DigitalActivityBadgeWithTooltip .Tooltip.Tooltip--left.DigitalActivityTooltip__left{display:none !important}.tpt1015 .DigitalActivityBadgeWithTooltip .Tooltip{display:none !important}.tpt1015-modal-box{max-width:100%;height:auto;background:#E8EDF7;padding:0 20px;margin-bottom:15px;text-align:center;-webkit-transition:all 0.3s;-o-transition:all 0.3s;transition:all 0.3s;color:black;border:2px solid transparent}.tpt1015-modal-box h2{font-family:Proxima Nova;font-size:14px;line-height:16px;text-align:center;color:black;padding:20px 0;font-weight:600}.tpt1015-modal-box .link-btn{font-family:Proxima Nova;font-size:16px;font-weight:600;color:#FFFFFF;text-align:center;line-height:1;border-radius:3px;background-color:#2C358B;width:100%;height:42px;padding:12px 18px;display:inline-block;-webkit-transition:background 0.3s;-o-transition:background 0.3s;transition:background 0.3s}.tpt1015-modal-box .link-btn:hover,.tpt1015-modal-box .link-btn:active,.tpt1015-modal-box .link-btn:focus{text-decoration:none;background-color:#202664}.tpt1015-modal-box .link-btn svg{display:inline-block;padding-right:.5em;width:1.85em;line-height:1em}.tpt1015-modal-box img{height:15px;width:125px}.tpt1015-modal-box .header{padding:20px 0px 0px 0px}.tpt1015 .tooltip-wrapper{position:relative;padding-bottom:20px}.tpt1015 .tooltip-wrapper .cro-tooltip{background:#2C358B;color:#fff;display:block;padding:27px 26px 24px 24px;position:absolute;width:302px;-webkit-transition:all .25s ease-out;-o-transition:all .25s ease-out;transition:all .25s ease-out;-webkit-box-shadow:0px 1px 5px rgba(0,0,0,0.1);box-shadow:0px 1px 5px rgba(0,0,0,0.1);right:calc(100% + 20px);top:0;text-align:left;border-radius:6px}.tpt1015 .tooltip-wrapper .cro-tooltip h4{font-size:17px}.tpt1015 .tooltip-wrapper .cro-tooltip span{display:inline-block;margin:5px 0px}.tpt1015 .tooltip-wrapper .cro-tooltip .dismiss.icon{position:absolute;top:9px;right:14px;cursor:pointer;-webkit-transition:all .3s ease;-o-transition:all .3s ease;transition:all .3s ease}.tpt1015 .tooltip-wrapper .cro-tooltip .dismiss.icon:hover,.tpt1015 .tooltip-wrapper .cro-tooltip .dismiss.icon:active,.tpt1015 .tooltip-wrapper .cro-tooltip .dismiss.icon:focus{opacity:.5}@media (max-width: 767px){.tpt1015 .tooltip-wrapper .cro-tooltip{top:-275px;bottom:initial;right:0;left:0}}.tpt1015 .tooltip-wrapper .cro-tooltip:after{border-left:solid transparent 12px;border-right:solid transparent 12px;border-top:solid #2C358B 12px;content:\" \";height:0;right:-17px;position:absolute;width:0;bottom:calc(50% - 7px);-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg);top:20px}.tpt1015 .tooltip-wrapper.show .cro-tooltip{display:block}.tpt1015 .tooltip-wrapper.hide .cro-tooltip{display:none !important}.tpt1015 .StickyProductPageSideColumnLayout{z-index:202}.tpt1015v1 .tpt1015-modal-box{background:transparent;margin-bottom:0;padding:0}.tpt1015v1 .tooltip-wrapper{padding-top:20px;padding-bottom:0}.tpt1015v1 .dismiss.icon{top:8px}.tpt1015v1 .tooltip-wrapper .cro-tooltip:after{top:32px}.tpt1015v1 .tpt-frontend .CartButton{background-color:#fff;border:1px solid #4BA571;color:#4BA571}.tpt1015v1 .tpt-frontend .CartButton:hover,.tpt1015v1 .tpt-frontend .CartButton:active,.tpt1015v1 .tpt-frontend .CartButton:focus{border:1px solid #07794d;background-color:#07794d;color:#fff}</style>", "selector": "head", "dependencies": [], "type": "append", "id": "6b863e6d307d41babe1bab7c14da10fe"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["20142284864"], "experiments": [{"weightDistributions": [{"entityId": "21121293150", "endOfRange": 5000}, {"entityId": "21169070516", "endOfRange": 10000}], "audienceName": "[QA] Cro Metrics Test Cookie (OLI)", "name": "[TEST COOKIE] TPT-1160 [Easel][Opened Activity LP] FTUX Onboarding Appcues Test", "bucketingStrategy": null, "variations": [{"id": "21121293150", "actions": [{"viewId": "20142284864", "changes": []}], "name": "v0: Control (1160)"}, {"id": "21169070516", "actions": [{"viewId": "20142284864", "changes": [{"value": function($){!function(o,r,e){var i=21144071005,n=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),t=window.optimizely.get("utils"),w=t.error&&t.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v1","easel-open-resourceactivity")}catch(o){w(o)}}("tpt1160");
}, "dependencies": [], "type": "custom_code", "id": "c1527173-0030-42bb-87d8-ed8073fe70bb"}]}], "name": "v1: Step 1 Video"}], "audienceIds": ["and", "15737501278"], "changes": null, "id": "21144071005", "integrationSettings": null}], "id": "21119982371", "weightDistributions": null, "name": "[TEST COOKIE] TPT-1160 [Easel][Opened Activity LP] FTUX Onboarding Appcues Test", "groupId": null, "commitId": "21145970689", "decisionMetadata": {"experimentPriorities": [[{"entityId": "21144071005", "endOfRange": null}]], "offerConsistency": null}, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "3859b8ca-06d7-4d24-8bae-45c4445fa142", "value": function($){!function(n){var o=21144071005,c=window["CRO_SHARED_"+o]||(window["CRO_SHARED_"+o]={}),t=window.optimizely.get("utils"),i=t.log&&t.log.bind(window,"[".concat(n,"]"))||console.warn.bind(window,"[cro] [".concat(n,"]")),e=t.error&&t.error.bind(window,n)||console.error.bind(window,"[cro] [".concat(n,"]"));i("v0.1"),c.applyTreatment=function(o,c){!function(o,c){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;t.classList.add(n),t.classList.add(n+o),i("Variation ".concat(o,", page ").concat(c))}(o,c),t.cookie.get("".concat(n,"-seen"))||t.waitUntil((function(){return window.Appcues})).then((function(){window.Appcues.show("7292fe93-626d-4c68-b34f-c11f43c8e5a9"),t.cookie.set("".concat(n,"-seen"),!0)}))["catch"](e)}}("tpt1160");
}}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["18254187431"], "experiments": [{"weightDistributions": [{"entityId": "21151351484", "endOfRange": 5000}, {"entityId": "21165130431", "endOfRange": 10000}], "audienceName": "U.S. Only,Exclude Premium Sellers,Exclude Matched TPT SA Users", "name": "TPT-1148 [Teacher LP] Landing Page Refresh with new above the fold images", "bucketingStrategy": null, "variations": [{"id": "21151351484", "actions": [{"viewId": "18254187431", "changes": [{"value": function($){!function(o,r,n){var t=21157211103,c=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),e=window.optimizely.get("utils"),i=e.error&&e.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{c.applyTreatment("v0","school-access-teachers-lp")}catch(o){i(o)}}("tpt1148");
}, "dependencies": [], "type": "custom_code", "id": "841c2b7d-92cb-4a13-879f-b7cc666f8677"}]}], "name": "v0: Control 1148"}, {"id": "21165130431", "actions": [{"viewId": "18254187431", "changes": [{"value": function($){!function(o,r,n){var t=21157211103,c=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),e=window.optimizely.get("utils"),i=e.error&&e.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{c.applyTreatment("v1","school-access-teachers-lp")}catch(o){i(o)}}("tpt1148");
}, "dependencies": [], "type": "custom_code", "id": "0f2fef7c-d155-4a8d-8572-06811cfe417d"}]}], "name": "v1: Landing Page Refresh"}], "audienceIds": ["and", "16539970090", "16882670147", "20104667619"], "changes": null, "id": "21157211103", "integrationSettings": null}], "id": "21138830918", "weightDistributions": null, "name": "TPT-1148 [Teacher LP] Landing Page Refresh with new above the fold images", "groupId": null, "commitId": "21193830594", "decisionMetadata": {"experimentPriorities": [[{"entityId": "21157211103", "endOfRange": null}]], "offerConsistency": null}, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "f84afea4-e236-4312-bd3b-c06b656e7f8a", "value": function($){!function(n){var t=21157211103,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),o=i.log&&i.log.bind(window,"[".concat(n,"]"))||console.warn.bind(window,"[cro] [".concat(n,"]")),c=i.error&&i.error.bind(window,n)||console.error.bind(window,"[cro] [".concat(n,"]"));o("v1"),e.applyTreatment=function(t,e){i.waitUntil((function(){var n;return null===(n=document.querySelector(".tpt-frontend"))||void 0===n?void 0:n._reactRootContainer})).then((function(){if(o("Applying treatment"),"v0"===t)return i.waitForElement(".TeacherAdvocacyFormContainer__container h2").then((function(n){return n.textContent="Dont miss out on more resources, time, and savings in 2022!"}))["catch"](c),void o("v0 activated, returning");o("Running init"),function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;i.classList.add(n),i.classList.add(n+t),o("Variation ".concat(t,", page ").concat(e))}(t,e);var r=document.querySelector("#share .d-flex"),a='\n        <div class="TeacherAdvocacyFormContainer__container">\n          <div class="tpt1148-copy">\n            <h2 class="Text Text--h2 Text--alignLeft Text--colorTextPrimary SchoolsHeading SchoolsText">\n              To provide [TpT School Access] for our teachers, its a win-win situation . . .\n              But the big thing is, it\n              <span class="tpt1148-circled-text">engages children,\n              <img src="'.concat("//cdn.optimizely.com/img/11000223989/55baf3c5c243460ab686b9f978ad16ed.svg",'" alt=""/></span>\n              and thats what we really strive for.\n            </h2>\n            <h3 class="tpt1148-subheader">Tim, Principal in Ohio</h3>\n          </div>\n          <div class="tpt1148-imgboard">\n            <div class="img-row student">\n              <div class="img-wrapper">\n              </div>\n            </div>\n            <div class="img-row sp">\n              <div class="sp-wrapper">\n                <img class="img-star" src="').concat("//cdn.optimizely.com/img/11000223989/0073eba430364372923223f562926c90.png",'" alt="" />\n                <img class="img-principal" src="').concat("//cdn.optimizely.com/img/11000223989/29fce180cbca465e844c7bbb6820dbb4.png",'" alt="" />\n              </div>\n            </div>\n          </div>\n        </div>\n      ');i.waitUntil((function(){return null!==r})).then((function(){r.children[0].remove(),r.insertAdjacentHTML("beforeend",a)})).then((function(){return i.waitForElement(".TeacherAdvocacyFormContainer__form p")})).then((function(n){return n.textContent="Complete the form below to receive more information from a School Specialist."}))["catch"](c),i.observeSelector(".TeacherAdvocacyForm__submit button",(function(n){document.querySelector("#label_personalizedMessage")||(n.textContent="Sign Up")}))}))["catch"](c)}}("tpt1148");
}}, {"dependencies": [], "type": "append", "id": "85af7978-6b14-4d49-95cb-f8f8d26c9d7a", "value": "<style>.tpt1148 #share .SectionContainer{background-color:#FEF9EF !important}.tpt1148 #share .d-flex .TeacherAdvocacyFormContainer__container{width:100%;min-width:auto;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;height:-webkit-max-content;height:-moz-max-content;height:max-content}.tpt1148 .TeacherAdvocacyFormContainer__form>div>div>p{font-size:20px !important;font-weight:600}.tpt1148 .TeacherAdvocacyForm__submit>button{background-color:#3e51a2 !important}.tpt1148 .tpt1148-copy{margin-bottom:30px}.tpt1148 .tpt1148-copy h2{max-width:441px;font-family:\"Tiempos\", serif;font-weight:bold;font-size:30px !important}.tpt1148 .tpt1148-subheader{font-size:18px;font-weight:800;opacity:0.7;padding:10px 0px}.tpt1148 .tpt1148-circled-text{position:relative;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;z-index:1}.tpt1148 .tpt1148-circled-text img{position:absolute;width:calc(100% + 25px);height:calc(100% + 20px);left:-15px;top:-10px;z-index:-1}.tpt1148 .tpt1148-imgboard{position:relative}.tpt1148 .tpt1148-imgboard .sp-wrapper{position:relative}.tpt1148 .tpt1148-imgboard .img-row{width:100%}.tpt1148 .tpt1148-imgboard .img-row.student .img-wrapper{width:80%;overflow-x:hidden;border-radius:22px;background-image:url(\"//cdn.optimizely.com/img/11000223989/336345c65a034713bee9aa6fed15db60.png\");background-position:center;height:300px}.tpt1148 .tpt1148-imgboard .img-row.sp{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.tpt1148 .tpt1148-imgboard .img-row.sp .sp-wrapper{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-top:-90px;z-index:2;width:-webkit-max-content;width:-moz-max-content;width:max-content}@media screen and (max-width: 767px){.tpt1148 .tpt1148-imgboard .img-row.sp .sp-wrapper{margin-top:-50px}}.tpt1148 .tpt1148-imgboard .img-row.sp .sp-wrapper img{-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start}.tpt1148 .tpt1148-imgboard .img-row.sp .sp-wrapper .img-star{margin-top:80px;margin-right:30px;max-width:-webkit-max-content;max-width:-moz-max-content;max-width:max-content;width:30%}@media screen and (max-width: 767px){.tpt1148 .tpt1148-imgboard .img-row.sp .sp-wrapper .img-star{margin-top:40px}}.tpt1148 .tpt1148-imgboard .img-row.sp .sp-wrapper .img-principal{width:55%}</style>", "selector": "head"}]}, {"holdback": 0, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["20882500706"], "experiments": [{"weightDistributions": [{"entityId": "21100371986", "endOfRange": 5000}, {"entityId": "21108662646", "endOfRange": 10000}], "audienceName": "[QA] Cro Metrics Test Cookie (OLI),Exclude Premium Sellers,Device | Desktop,Exclude TpT Internal Admins,U.S. Only,Exclude Basic Sellers", "name": "[TEST COOKIE] [A/A] Exclude Basic Seller Testing", "bucketingStrategy": null, "variations": [{"id": "21100371986", "actions": [{"viewId": "20882500706", "changes": [{"dependencies": [], "type": "custom_code", "id": "F53E9AC9-7BEC-4A78-9FE6-CB746D4E5CF0", "value": function($){console.log("                       ");
console.log("                       ");console.log("                       ");console.log("                       ");console.log("                       ");console.log("                       ");console.log("                       ");console.log("                       ");console.log("                       ");console.log("                       ");console.log("                       ");console.log("                       ");console.log("activating v0");
}}]}], "name": "Original"}, {"id": "21108662646", "actions": [{"viewId": "20882500706", "changes": [{"dependencies": [], "type": "custom_code", "id": "EDDE9CAA-9CAF-450B-8638-304E08CD8B3F", "value": function($){console.log("                       ");
console.log("                       ");console.log("                       ");console.log("                       ");console.log("                       ");console.log("                       ");console.log("                       ");console.log("                       ");console.log("                       ");console.log("                       ");console.log("                       ");console.log("                       ");console.log("activating v1");
}}]}], "name": "Variation #1"}], "audienceIds": ["and", "15737501278", "16882670147", "12001380907", "20872913900", "16539970090", "21101772100"], "changes": null, "id": "21116441803", "integrationSettings": null}], "id": "21140520885", "weightDistributions": null, "name": "[TEST COOKIE] [A/A] Exclude Basic Seller Testing", "groupId": null, "commitId": "21137522167", "decisionMetadata": null, "policy": "single_experiment", "changes": null}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["20466119636"], "experiments": [{"weightDistributions": [{"entityId": "21182061035", "endOfRange": 10000}], "audienceName": "U.S. Only,[DCP Migration] TPTSA Linked Users (Marketplace),[QA] Cro Metrics Test Cookie (OLI)", "name": "[DCP Migration] [TEST COOKIE] [100% to v1]TPT-765 [Search/Browse] Matched User Add to Wishlist", "bucketingStrategy": null, "variations": [{"id": "21177491360", "actions": [{"viewId": "20466119636", "changes": []}], "name": "v0: No control"}, {"id": "21182061035", "actions": [{"viewId": "20466119636", "changes": [{"value": function($){!function(o,r,i){var t=20470147570,n=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),w=window.optimizely.get("utils"),d=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v1","pjs-browse-matched-wishlist-added")}catch(o){d(o)}}("tpt765");
//# sourceMappingURL=v1.pjs-browse-matched-wishlist-added.js.map
}, "dependencies": [], "type": "custom_code", "id": "6923ba307d2847e2b641403f02fbccd6"}]}], "name": "v1: Bookmark Now"}, {"id": "21203210694", "actions": [{"viewId": "20466119636", "changes": [{"value": function($){!function(o,r,i){var t=20470147570,n=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),w=window.optimizely.get("utils"),d=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v2","pjs-browse-matched-wishlist-added")}catch(o){d(o)}}("tpt765");
//# sourceMappingURL=v2.pjs-browse-matched-wishlist-added.js.map
}, "dependencies": [], "type": "custom_code", "id": "9b55f56a2a1f4d698692e6fce47379bd"}]}], "name": "v2: Access Now"}], "audienceIds": ["and", "16539970090", "21193201189", "15737501278"], "changes": null, "id": "21197610467", "integrationSettings": null}], "id": "21148761125", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] [100% to v1]TPT-765 [Search/Browse] Matched User Add to Wishlist", "groupId": null, "commitId": "21162431176", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "c53c404802404cf8a0e753667f665a81", "value": function($){!function(t){var e=20470147570,o=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),n=window.optimizely.get("utils"),c=n.log&&n.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),r=n.error&&n.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));c("v0.1");var i=function(e){return function(o){var c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=Object.keys(t).find((function(t){return t.startsWith("__reactInternalInstance$")})),n=t[o];if(null==n)return null;if(n._currentElement){for(var c=n._currentElement._owner,r=0;r<e;r++)c=c._currentElement._owner;return c._instance}for(var i=function(t){for(var e=t["return"];"string"==typeof e.type;)e=e["return"];return e},a=i(n),s=0;s<e;s++)a=i(a);return a}(o.closest(".SearchProductRowLayout"),1);try{!function(e){var o=e.productID,c=e.variation,r={"v1":{"badge":"Wait!","headline":"You should bookmark this resource on TpT School Access, too.","copy":"Bookmark this resource so you can access it later.","cta":"Bookmark This Resource"},"v2":{"badge":"Wish Granted!","headline":"This resource is available with your subscription.","copy":"Access it through your TpT School Access account now.","cta":"Access Now"}}[c],i="https://www.tptschoolaccess.com/resource/".concat(o,"?utm_source=tptcoremarketplace&utm_medium=matchedusersbanner&utm_campaign=optimizely").concat(t).concat(c,"&cro_oeuid=").concat(n.cookie.get("optimizelyEndUserId")),a=document.createElement("div");a.className="cro-modal",a.innerHTML='\n    <div class="cro-modal-mask"></div>\n    <div class="cro-modal-box">\n      <div class="cro-modal-box-inner">\n        <button class="cro-modal-close"><svg width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M17.5525 17.0915C16.7965 17.8474 15.5709 17.8474 14.8149 17.0915L9.33791 11.6145L3.86089 17.0915C3.10494 17.8474 1.8793 17.8474 1.12335 17.0915C0.367397 16.3355 0.367397 15.1099 1.12335 14.3539L6.60037 8.87691L1.12335 3.39989C0.367399 2.64394 0.367397 1.4183 1.12335 0.66235C1.8793 -0.093601 3.10494 -0.0936015 3.86089 0.66235L9.33791 6.13937L14.8149 0.662351C15.5709 -0.0935999 16.7965 -0.0936011 17.5525 0.66235C18.3084 1.4183 18.3084 2.64394 17.5525 3.39989L12.0755 8.87691L17.5525 14.3539C18.3084 15.1099 18.3084 16.3355 17.5525 17.0915Z" fill="white"/></svg></button>\n\n        <div class="cro-modal-badge">'.concat(r.badge,'</div>\n        <div class="cro-modal-title">').concat(r.headline,'</div>\n        <div class="cro-modal-copy">').concat(r.copy,'</div>\n        <a href="').concat(i,'" class="btn cro-modal-btn">').concat(r.cta,"</a>\n      </div>\n    </div>\n  "),[].forEach.call(a.querySelectorAll(".cro-modal-mask, .cro-modal-close"),(function(t){return t.addEventListener("click",(function(){window.optimizely.push({"type":"event","eventName":"tpt765_exits_modal"}),a.parentNode.removeChild(a)}))})),a.querySelector(".cro-modal-btn").addEventListener("click",(function(t){t.preventDefault(),window.optimizely.push({"type":"event","eventName":"tpt765_cta_clicks"}),setTimeout((function(){window.location.href=t.target.href}),0)})),document.body.appendChild(a),n.cookie.set("tpt765_modal_seen","true")}({"productID":c["return"].memoizedProps.product.id,"variation":e})}catch(t){r("Failed to find product ID")}}};o.applyTreatment=function(e,o){!function(e,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;n.classList.add(t),n.classList.add(t+e),c("Variation ".concat(e,", page ").concat(o))}(e,o);var a=n.params.parse().oli_host,s=i(e);if(!a&&n.cookie.get("tpt765_modal_seen"))return c("Not showing modal -- user has seen it already in session");a?n.waitForElement(".tpt-frontend").then((function(t){return n.waitUntil((function(){return t._reactRootContainer}))})).then((function(){return n.waitForElement('[data-crometrics-isavailablefordigital="true"] .AddToWishList')})).then((function(t){return s(t)}))["catch"](r):CRO_PJS.__browseWishListAddedButton?s(CRO_PJS.__browseWishListAddedButton):c("Experiment activated in an unknown environment. Not applying any changes")}}("tpt765");
//# sourceMappingURL=shared.js.map
}}, {"value": "<style>.tpt765 .ClassFundWishlistModal{display:none}.cro-modal{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;padding:20px;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;z-index:302;font-family:Proxima Nova, Helvetica Neue, Helvetica, Arial, sans-serif;color:#1D1B4B}.cro-modal,.cro-modal *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.cro-modal,.cro-modal-mask{position:fixed;top:0;left:0;width:100%;height:100%}.cro-modal-mask{background:rgba(0,0,0,0.5);z-index:1}.cro-modal-box{position:relative;margin:auto;background:#fff;z-index:2;max-width:600px;width:100%;border:3px solid #AFB9E1;border-radius:4px}@media screen and (min-width: 768px){.cro-modal-box{border-width:5px}}.cro-modal-box:after{content:'';display:block;width:100%;height:95px;background:#EFF2F9}@media screen and (min-width: 768px){.cro-modal-box:after{display:none}}.cro-modal-box-inner{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:90px 20px 60px}@media screen and (min-width: 768px){.cro-modal-box-inner{display:block;padding:30px 90px 30px 45px}}.cro-modal-close{cursor:pointer;border:0;background:transparent;position:absolute;top:14px;right:10px}.cro-modal-close svg{width:16px;height:16px}.cro-modal-close svg path{fill:#666666}@media screen and (min-width: 768px){.cro-modal-close{top:-5px;right:-58px;padding:15px;background:#000;line-height:0;border-radius:3px}.cro-modal-close svg{width:14px;height:14px}.cro-modal-close svg path{fill:#fff}}.cro-modal-badge{display:inline-block;margin-bottom:24px;padding:8px 18px;background:#FFF5E0;text-transform:uppercase;letter-spacing:0.125em;font-weight:bold}@media screen and (min-width: 768px){.cro-modal-badge{margin-bottom:16px}}.cro-modal-title{margin-bottom:16px;font-size:24px;font-weight:600;line-height:1.28;text-align:center}@media screen and (min-width: 768px){.cro-modal-title{margin-bottom:8px;text-align:left;font-size:28px;line-height:1.37}}.cro-modal-copy{margin-bottom:32px;font-size:20px;line-height:1.28;text-align:center}@media screen and (min-width: 768px){.cro-modal-copy{margin-bottom:16px;text-align:left;font-size:24px;line-height:1.37}}.cro-modal-btn{margin-bottom:16px;display:inline-block;padding:16px 24px;background:#0AA96C;border-radius:3px;color:#fff;text-decoration:none;font-weight:600;font-size:18px}@media screen and (min-width: 768px){.cro-modal-btn{font-size:16px}}</style>", "selector": "head", "dependencies": [], "type": "append", "id": "a89e6cbb4a42440eb567d3598c94751d"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["19186070224"], "experiments": [{"weightDistributions": [{"entityId": "21148030309", "endOfRange": 10000}], "audienceName": "Exclude Matched TPT SA Users [logged-in only],U.S. Only,Exclude Premium Sellers,Has DCP School Name,Device | Desktop", "name": "100% to v0: TPT-1087: [Unlinked][PDP] School name vs # of resources messaging", "bucketingStrategy": null, "variations": [{"id": "21148030309", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){!function(o,i,n){var r=21021870998,w=window["CRO_SHARED_"+r]||(window["CRO_SHARED_"+r]={}),t=window.optimizely.get("utils"),e=t.error&&t.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{w.applyBaseline("v0")}catch(o){e(o)}}("tpt1087");
}, "dependencies": [], "type": "custom_code", "id": "743d109d19944b5eb83edded29d49af7"}]}], "name": "v0: Control"}, {"id": "21169370384", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){!function(o,n,r){var t=21021870998,i=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),e=window.optimizely.get("utils"),w=e.error&&e.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{i.applyBaseline("v1"),i.applyTreatment("v1","pdp-tpt-sa-flagged")}catch(o){w(o)}}("tpt1087");
}, "dependencies": [], "type": "custom_code", "id": "cc9a2c8eb5b3425fbd6ee75334821d2a"}]}], "name": "v1: # of resources"}, {"id": "21126890372", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){!function(o,n,r){var t=21021870998,i=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),e=window.optimizely.get("utils"),w=e.error&&e.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{i.applyBaseline("v2"),i.applyTreatment("v2","pdp-tpt-sa-flagged")}catch(o){w(o)}}("tpt1087");
}, "dependencies": [], "type": "custom_code", "id": "f1352f1f439245109c2402cd33f8d5cd"}]}], "name": "v2: School name"}], "audienceIds": ["and", "19997272145", "16539970090", "16882670147", "20604890334", "12001380907"], "changes": null, "id": "21144840010", "integrationSettings": null}], "id": "21157890223", "weightDistributions": null, "name": "100% to v0: TPT-1087: [Unlinked][PDP] School name vs # of resources messaging", "groupId": null, "commitId": "21102162224", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "92c00b879c544270b84a5d520d0f227f", "value": function($){!function(t){var e=21021870998,n=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),o=window.optimizely.get("utils"),a=o.log&&o.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),c=o.error&&o.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));a("v2"),n.applyBaseline=function(e){o.waitForElement(".tpt661-banner .cta-link").then((function(t){t.addEventListener("click",(function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":t,"tags":e})}("tpt1087_pdp_tptsa_banner_clicks_on_learn_more")}))}))["catch"](c),o.waitForElement(".tpt661-banner .cta-link").then((function(n){n.href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplaceutm_medium=optimizely&utm_campaign=".concat(t+e)}))["catch"](c)},n.applyTreatment=function(e,n){!function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;o.classList.add(t),o.classList.add(t+e),a("Variation ".concat(e,", page ").concat(n))}(e,n);var i={"v1":"Save in 2022. Get access to more than last year's resources with a school subscription.","v2":"Save in 2022. Get access to more resources with a school subscription."};o.waitUntil((function(){var t;return null===(t=window.optimizely.get("dcp"))||void 0===t?void 0:t.getAttributeValue})).then((function(){try{var t=o.params.parse(),n=t.resourceParam,r=t.schoolParam;a(n,r);var s=null!=n?n:window.optimizely.get("dcp").getAttributeValue({"datasourceId":20144019866,"attributeId":20241655816}),l=(null!=r?r:window.optimizely.get("dcp").getAttributeValue({"datasourceId":20144019866,"attributeId":20234667484})).toLowerCase();l&&(i["v1"]="Save in 2022. Get access to more than last year's ".concat(s," resources with a school subscription.")),s&&(i["v2"]="Save in 2022. Get access to more resources with a school subscription for <span>".concat(l,"</span>."))}catch(t){}o.waitForElement(".tpt661-banner p").then((function(t){t.innerHTML=i[e]}))["catch"](c)}))["catch"](c)}}("tpt1087");
}}, {"dependencies": [], "type": "append", "id": "e48754d143d04c78bfbdc69bbbca64f7", "value": "<style>.tpt1087v2 .tpt661-banner p span{text-transform:capitalize}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["19186070224"], "experiments": [{"weightDistributions": [{"entityId": "21176370628", "endOfRange": 10000}], "audienceName": "U.S. Only,Exclude Premium Sellers,Has DCP School Name,Device | Desktop,[DCP Migration] TPTSA Acquisition (Unlinked users),[QA] Cro Metrics Test Cookie (OLI)", "name": "[DCP Migration] [TEST COOKIE] 100% to v0: TPT-1087: [Unlinked][PDP] School name vs # of resources messaging", "bucketingStrategy": null, "variations": [{"id": "21176370628", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){!function(o,i,n){var r=21021870998,w=window["CRO_SHARED_"+r]||(window["CRO_SHARED_"+r]={}),t=window.optimizely.get("utils"),e=t.error&&t.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{w.applyBaseline("v0")}catch(o){e(o)}}("tpt1087");
}, "dependencies": [], "type": "custom_code", "id": "7d51cde982964750b958dc4483e28824"}]}], "name": "v0: Control"}, {"id": "21191580681", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){!function(o,n,r){var t=21021870998,i=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),e=window.optimizely.get("utils"),w=e.error&&e.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{i.applyBaseline("v1"),i.applyTreatment("v1","pdp-tpt-sa-flagged")}catch(o){w(o)}}("tpt1087");
}, "dependencies": [], "type": "custom_code", "id": "cac54cfe4d9d4797adb49a42409ab04c"}]}], "name": "v1: # of resources"}, {"id": "21182070500", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){!function(o,n,r){var t=21021870998,i=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),e=window.optimizely.get("utils"),w=e.error&&e.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{i.applyBaseline("v2"),i.applyTreatment("v2","pdp-tpt-sa-flagged")}catch(o){w(o)}}("tpt1087");
}, "dependencies": [], "type": "custom_code", "id": "67e6fc4c80f943d6b7c9fe35bc8a9840"}]}], "name": "v2: School name"}], "audienceIds": ["and", "16539970090", "16882670147", "20604890334", "12001380907", "21160151169", "15737501278"], "changes": null, "id": "21183500702", "integrationSettings": null}], "id": "21158791212", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] 100% to v0: TPT-1087: [Unlinked][PDP] School name vs # of resources messaging", "groupId": null, "commitId": "21173891319", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "96c43db3dd8b41e7b8d219fe1fef4f7b", "value": function($){!function(t){var e=21021870998,n=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),o=window.optimizely.get("utils"),a=o.log&&o.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),c=o.error&&o.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));a("v2"),n.applyBaseline=function(e){o.waitForElement(".tpt661-banner .cta-link").then((function(t){t.addEventListener("click",(function(){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":t,"tags":e})}("tpt1087_pdp_tptsa_banner_clicks_on_learn_more")}))}))["catch"](c),o.waitForElement(".tpt661-banner .cta-link").then((function(n){n.href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplaceutm_medium=optimizely&utm_campaign=".concat(t+e)}))["catch"](c)},n.applyTreatment=function(e,n){!function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;o.classList.add(t),o.classList.add(t+e),a("Variation ".concat(e,", page ").concat(n))}(e,n);var i={"v1":"Save in 2022. Get access to more than last year's resources with a school subscription.","v2":"Save in 2022. Get access to more resources with a school subscription."};o.waitUntil((function(){var t;return null===(t=window.optimizely.get("dcp"))||void 0===t?void 0:t.getAttributeValue})).then((function(){try{var t=o.params.parse(),n=t.resourceParam,r=t.schoolParam;a(n,r);var s=null!=n?n:window.optimizely.get("dcp").getAttributeValue({"datasourceId":20144019866,"attributeId":20241655816}),l=(null!=r?r:window.optimizely.get("dcp").getAttributeValue({"datasourceId":20144019866,"attributeId":20234667484})).toLowerCase();l&&(i["v1"]="Save in 2022. Get access to more than last year's ".concat(s," resources with a school subscription.")),s&&(i["v2"]="Save in 2022. Get access to more resources with a school subscription for <span>".concat(l,"</span>."))}catch(t){}o.waitForElement(".tpt661-banner p").then((function(t){t.innerHTML=i[e]}))["catch"](c)}))["catch"](c)}}("tpt1087");
}}, {"dependencies": [], "type": "append", "id": "5fa6a911833a40118268203cddb30926", "value": "<style>.tpt1087v2 .tpt661-banner p span{text-transform:capitalize}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["19920403099"], "experiments": [{"weightDistributions": [{"entityId": "21175591088", "endOfRange": 10000}], "audienceName": "U.S. Only,[DCP Migration] TPTSA Linked Users (Marketplace),[QA] Cro Metrics Test Cookie (OLI)", "name": "[DCP Migration] [TEST COOKIE] 100% v0 TPT-754 [All Devices][Homepage] Matched User HP BTS Banners", "bucketingStrategy": null, "variations": [{"id": "21175591088", "actions": [{"viewId": "19920403099", "changes": [{"value": function($){!function(o,r,n){var t=20583230742,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v0","homepageMatched")}catch(o){w(o)}}("tpt754");
}, "dependencies": [], "type": "custom_code", "id": "a5d0273b551a45dbb284fa11aa3a497e"}]}], "name": "v0: control TPT-754"}, {"id": "21169931753", "actions": [{"viewId": "19920403099", "changes": [{"value": function($){!function(o,r,n){var t=20583230742,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v1","homepageMatched")}catch(o){w(o)}}("tpt754");
}, "dependencies": [], "type": "custom_code", "id": "d50673536efc432db5bb9e5991e07557"}]}], "name": "v1: BTS Urgent messaging test"}], "audienceIds": ["and", "16539970090", "21193201189", "15737501278"], "changes": null, "id": "21181211597", "integrationSettings": null}], "id": "21160381704", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] 100% v0 TPT-754 [All Devices][Homepage] Matched User HP BTS Banners", "groupId": null, "commitId": "21181621185", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "0a5f5d819d624b2f987787e8e9ba1780", "value": function($){!function(t){var n=20583230742,e=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),a=window.optimizely.get("utils"),o=a.log&&a.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),c=a.error&&a.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));o("v1");var s=function(){var n=document.createElement("div");n.className="".concat(t,"-box"),n.classList.add("cro-banner"),n.innerHTML='\n          <div class="mobile">\n            <img src="//cdn.optimizely.com/img/11000223989/c59c0e27259045358d54beb420780056.png"/>\n          </div>\n          <div class="desktop">\n            <img src="//cdn.optimizely.com/img/11000223989/a9c9887832b046b08c9d4ad5d5a2e2dc.png"/>\n          </div>\n        ';var e=window.__TPT__hashedUserId,s=!1,r="";o("Detected user ID",e),fetch("https://tpt-tptsa-mapping-prod.s3.amazonaws.com/lookup-by-hashed-user-id/".concat(e),{"method":"GET","headers":{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){t&&t.hashed_user_id?(localStorage.setItem("cro_matched_user",!0),"null"!==t.registration_link&&null!==t.registration_link&&""!==t.registration_link&&(r=new URL(sessionStorage.getItem("cro_registration_link")),o("Invite Link:",r)),"non-registered"===t.audience&&(s=!0),window.optimizely.push({"type":"user","attributes":{"tpt292_audience_status":t.audience}}),t.match_type?(window.optimizely.push({"type":"user","attributes":{"tpt292_match_type":t.match_type}}),window.optimizely.push({"type":"user","attributes":{"tpt292_match_set":!0}})):window.optimizely.push({"type":"user","attributes":{"tpt292_match_set":!1}}),window.optimizely.push({"type":"event","eventName":"attr_push"}),o("Attribute pushed!")):localStorage.setItem("cro_matched_user",!1)}))["catch"](c),a.waitForElement(".ResourcesYouMayLikeLayout").then((function(t){o("Found layout!"),t.insertAdjacentElement("beforebegin",n);n.addEventListener("click",(function(){s&&""!==r?(o("Custom invite link detected!"),r.searchParams.append("utm_campaign","optimizelytpt754v0"),r.searchParams.append("utm_source","tptcoremarketplace"),r.searchParams.append("utm_medium","matchedusersbanner"),o("Opening:",r),window.open(r,"_blank")):window.open("https://www.tptschoolaccess.com".concat("?utm_source=tptcoremarketplace&utm_medium=matchedusersbanner&utm_campaign=optimizelytpt754v0"),"_blank")}))}))["catch"](c)},r=function(){var t;t=function(t,n,e){var a,o,c,s,r,i=(a="August 31 2021 11:59:59 PM",o=Date.parse(a)-Date.parse(new Date),c=Math.floor(o/1e3%60),s=Math.floor(o/1e3/60%60),r=Math.floor(o/36e5%24),{"total":o,"days":Math.floor(o/864e5),"hours":r,"minutes":s,"seconds":c});t.innerText=i.days,n.innerText=i.hours,e.innerText=i.minutes},a.waitForElement(".HomePage .col-sm-12 > div").then((function(n){n.insertAdjacentHTML("beforebegin",'<div class="CroCountdownBannerLayout">\r\n\t<div class="CroCountdownBannerLayout__section">\r\n\t\t<svg viewBox="0 0 435 54" title="TpT School Access" role="img" height="24">\r\n\t\t\t<g fill="none"><path d="M80.78 54H0V0h80.78v54zM6.17 47.814h68.44V6.146H6.17v41.668z" fill="#00A86C"></path><path fill="#00AA6C" d="M18.51 22.71h-5V17.8h15.6v4.91h-5v13.7h-5.6zm13.87-4.91h9.93c4.36 0 6.7 2.9 6.7 6.39 0 3.49-2.34 6.25-6.7 6.25H38v6h-5.62V17.8zm9.21 4.69H38v3.26h3.57a1.63 1.63 0 100-3.26h.02zm15.07.22h-5V17.8h15.6v4.91h-5v13.7h-5.6z"></path><path d="M112.58 21.54c-3.81-.72-5.51-1.3-5.51-2.83s1.32-2.39 3.71-2.39a15.15 15.15 0 019.13 3.35l.14.11 4.82-6.31-.12-.1a20.21 20.21 0 00-13.43-4.61 14.91 14.91 0 00-9.8 3.11 9.49 9.49 0 00-3.44 7.33c0 7.77 7.41 9.25 12.83 10.33l.28.06c3.54.75 5.47 1.47 5.47 3.17s-1.85 2.63-4.5 2.63a14.72 14.72 0 01-10.35-4.27l-.14-.14L97 37.6l.11.1c3.65 3.49 8.58 5.26 14.66 5.26 8.66 0 13.84-4.16 13.84-11.13-.01-7.57-7.53-9.14-13.03-10.29zm32.66 12.16a5.18 5.18 0 01-4.34 2.23c-3.22 0-5.38-2.26-5.38-5.63s2.16-5.57 5.38-5.57a5 5 0 014.33 2.18l.12.16 5.16-4.8-.08-.12c-.7-1-3.49-4.45-9.87-4.45-7.62 0-13.15 5.3-13.15 12.6S132.82 43 140.56 43c6.31 0 9.15-3.41 9.87-4.45l.08-.12-5.16-4.85-.11.12zm24.31-16a11 11 0 00-8 3.22V9.25h-7.9v33.12h7.9V26.93a5.58 5.58 0 014.4-2.2c2.61 0 3.77 1.13 3.77 3.66v14h7.9v-17.1c-.04-4.82-2.96-7.59-8.07-7.59zm24.72 0c-7.59 0-13.1 5.3-13.1 12.6s5.51 12.7 13.1 12.7a13.11 13.11 0 009.67-3.79 12.59 12.59 0 003.47-8.87 12.52 12.52 0 00-3.47-8.84 13.15 13.15 0 00-9.67-3.8zm5 12.6c0 2.81-1.56 5.63-5 5.63s-4.94-2.82-4.94-5.63 1.53-5.57 4.94-5.57 5.04 2.8 5.04 5.57h-.04zm23.3-12.6c-7.59 0-13.09 5.3-13.09 12.6S215 43 222.57 43a13.09 13.09 0 009.67-3.79 12.6 12.6 0 003.48-8.87 12.52 12.52 0 00-3.48-8.84 13.15 13.15 0 00-9.67-3.8zm5 12.6c0 2.81-1.56 5.63-5 5.63s-4.94-2.82-4.94-5.63 1.53-5.57 4.94-5.57 5.04 2.8 5.04 5.57h-.04zm11.78-21.05h7.91v33.12h-7.91zM316 33.7a5.15 5.15 0 01-4.33 2.23c-3.22 0-5.38-2.26-5.38-5.63s2.16-5.57 5.38-5.57a5 5 0 014.33 2.18l.11.16 5.17-4.8-.08-.12c-.71-1-3.5-4.45-9.87-4.45-7.62 0-13.15 5.3-13.15 12.6S303.63 43 311.37 43c6.31 0 9.15-3.41 9.87-4.45l.08-.12-5.16-4.85-.16.12zm24.61 0a5.15 5.15 0 01-4.33 2.23c-3.22 0-5.38-2.26-5.38-5.63s2.16-5.57 5.38-5.57a5 5 0 014.33 2.18l.11.16 5.17-4.8-.08-.12c-.71-1-3.5-4.45-9.87-4.45-7.62 0-13.15 5.3-13.15 12.6S328.2 43 335.94 43c6.31 0 9.15-3.41 9.87-4.45l.08-.12-5.16-4.85-.12.12zm19.55-16a12.42 12.42 0 00-12.8 12.6c0 7.45 5.41 12.66 13.15 12.66 4 0 7.84-1.22 10-3.19l.11-.1-3.39-5-.14.13a9.29 9.29 0 01-5.69 2c-3.6 0-5.37-2.05-5.83-3.89h16.86v-1.82c.04-8.01-4.91-13.39-12.27-13.39zm0 6.19a4.38 4.38 0 014.72 3.74h-9.38a4.51 4.51 0 014.66-3.74zM386 26.81h-.07c-2.47-.44-3.64-.81-3.64-1.75s1.11-1.45 2.82-1.45a10.43 10.43 0 016.89 2.54l.16.15 3.06-5.3-.12-.09a16.78 16.78 0 00-10-3.18c-5 0-10.34 2.5-10.34 8 0 6 5.55 7 9.61 7.69h.27c2.49.4 3.93.84 3.93 1.9s-1.07 1.6-3 1.6a14.61 14.61 0 01-8.24-3.1l-.16-.14-3.25 5.38-.07.13.1.09c2.54 2.23 6.94 3.68 11.22 3.68 6.67 0 11-3.15 11-8-.06-6.43-6.17-7.47-10.17-8.15zm23.8 0h-.08c-2.47-.44-3.64-.81-3.64-1.75s1.11-1.45 2.83-1.45c2.52-.005 4.955.9 6.86 2.55l.15.15L419 21l-.12-.09a16.83 16.83 0 00-10-3.18c-5 0-10.35 2.5-10.35 8 0 6 5.56 7 9.61 7.69h.27c2.49.4 3.93.84 3.93 1.9s-1.07 1.6-3 1.6a14.64 14.64 0 01-8.24-3.1l-.16-.14-3.25 5.38-.07.13.11.09c2.53 2.23 6.94 3.68 11.22 3.68 6.67 0 11-3.15 11-8-.06-6.43-6.13-7.46-10.15-8.15zM284.84 9.14h-10.72l-12.45 33.1H271l1.68-5 .51-1.61a11.45 11.45 0 016.35-1.8 11.23 11.23 0 016.41 1.87l.48 1.54 1.69 5h9.28l-12.56-33.1zm-9.12 18.39l3.76-11 3.81 11a19.21 19.21 0 00-3.8-.39 19.51 19.51 0 00-3.77.39zM422.5 10h-2V8.7h5.34V10h-1.94v5.4h-1.4zm10.13.58l-1.89 4.82h-.62l-1.89-4.82v4.82h-1.43V8.7h2l1.63 4.18 1.62-4.18h2v6.7h-1.43z" fill="#191D3A"></path></g>\r\n\t\t</svg>\r\n\t\t<h1>Confidently take on the new school year. Find and access the resources you need with your TpT School Access subscription.</h1>\r\n\t</div>\r\n\t<div class="CroCountdownBannerLayout__section">\r\n\t\t<img class="CroCountdownBannerLayout__icon  desktop-only" src="//cdn.optimizely.com/img/11000223989/db16e21f5729410d82fb2b1afa14a106.png" />\r\n\t\t<div class="CroCountdownBannerLayout__stack">\r\n\t\t\t<h3>September is here in</h3>\r\n\t\t\t<div class="CroCountdownBannerLayout__countdown">\r\n\t\t\t\t<p><span class="js-countdown-days"></span> days</p>\r\n\t\t\t\t<p><span class="js-countdown-hours"></span> hours</p>\r\n\t\t\t\t<p><span class="js-countdown-minutes"></span> minutes</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="CroCountdownBannerLayout__stack">\r\n\r\n\t\t\t<a href="https://www.tptschoolaccess.com/?utm_source=tptcoremarketplace&utm_medium=matchedusersbanner&utm_campaign=optimizelytpt754v1">Access Resources Now</a>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n');var e=n.previousElementSibling,a=e.querySelector(".js-countdown-days"),o=e.querySelector(".js-countdown-hours"),c=e.querySelector(".js-countdown-minutes");t(a,o,c),setInterval((function(){return t(a,o,c)}),6e4)}))["catch"](c)};e.applyTreatment=function(n,e){!function(n,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;a.classList.add(t),a.classList.add(t+n),o("Variation ".concat(n,", page ").concat(e))}(n,e);var i="v1"===n?r:s;a.waitForElement(".tpt-frontend").then((function(t){return a.waitUntil((function(){return t._reactRootContainer}))})).then((function(){i()}))["catch"](c)}}("tpt754");
}}, {"dependencies": [], "type": "append", "id": "00b42da11cff4056b6861570b0cf6562", "value": "<style>.tpt754v0 .TeachForJusticeBannerLayout{display:none !important}.tpt754v0 .HomepageClassFundFeedLayout__bannerWrapper,.tpt754v0 .HomepageClassFundFeedLayout.LoggedInHomePageLayout__feedWrapper{display:none !important}.tpt754v0 .TpTSABannerLayout{display:none !important}.tpt754v0 .cro-banner{cursor:pointer}@media (max-width: 768px){.tpt754v0 .cro-banner .desktop{display:none}}.tpt754v0 .cro-banner .mobile{display:none}@media (max-width: 768px){.tpt754v0 .cro-banner .mobile{display:block}}.tpt754v0 .cro-banner img{-o-object-fit:contain;object-fit:contain;width:100%;height:100%}.tpt754v1 .LoggedOutHomePageBannerLayout,.tpt754v1 .TpTSABannerLayout{display:none}.tpt754v1 .CroCountdownBannerLayout{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;border:1px solid #3E51A2;border-radius:12px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;margin-bottom:20px;padding:40px 0 40px 40px}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout{-webkit-box-align:stretch;-webkit-align-items:stretch;-moz-box-align:stretch;-ms-flex-align:stretch;align-items:stretch;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:10px;padding:18px}}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout .desktop-only{display:none !important}}@media (min-width: 768px){.tpt754v1 .CroCountdownBannerLayout .mobile-only{display:none !important}}@media (min-width: 768px){.tpt754v1 .CroCountdownBannerLayout__section:first-child{border-right:1px solid #B1BFF4;-webkit-box-flex:0;-webkit-flex:0 0 57%;-moz-box-flex:0;-ms-flex:0 0 57%;flex:0 0 57%;padding:20px 30px 20px 0}}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout__section:first-child{border-bottom:1px solid #B1BFF4;margin-bottom:20px;padding-bottom:20px}}.tpt754v1 .CroCountdownBannerLayout__section:last-child{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;text-align:center}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout__section:last-child{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}}.tpt754v1 .CroCountdownBannerLayout h2{color:#1D1C4C;font-size:16px;font-weight:bold;margin:0}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout h2{font-size:16px;margin-bottom:3px}}.tpt754v1 .CroCountdownBannerLayout h1{color:#1D1C4C;font-size:21px;font-weight:900;line-height:1.2;margin:0}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout h1{font-size:15px;margin-top:20px}}.tpt754v1 .CroCountdownBannerLayout h3{font-size:14px;font-weight:bold;letter-spacing:1.5px;margin:0 0 8px;text-transform:uppercase}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout h3{font-size:11px;letter-spacing:1px;margin:0;-webkit-align-self:flex-start;-ms-flex-item-align:start;align-self:flex-start;white-space:nowrap}}@media (min-width: 768px){.tpt754v1 .CroCountdownBannerLayout svg{margin-bottom:15px}}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout svg{width:150px}}.tpt754v1 .CroCountdownBannerLayout__icon{margin-bottom:10px;width:40px;height:auto}.tpt754v1 .CroCountdownBannerLayout__stack{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}@media (min-width: 768px){.tpt754v1 .CroCountdownBannerLayout__stack{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout__stack{-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;width:60%;margin:0}.tpt754v1 .CroCountdownBannerLayout__stack:first-child{text-align:left;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start}.tpt754v1 .CroCountdownBannerLayout__stack:last-child{width:40%}}.tpt754v1 .CroCountdownBannerLayout__countdown{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}@media (min-width: 768px){.tpt754v1 .CroCountdownBannerLayout__countdown{margin-bottom:25px}}.tpt754v1 .CroCountdownBannerLayout__countdown p{color:#1D1C4C;font-size:18px;line-height:0.7}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout__countdown p{font-size:15px;line-height:0.9;text-align:left}}.tpt754v1 .CroCountdownBannerLayout__countdown p:not(:last-child){border-right:1px solid #B1BFF4;margin-right:8px;padding-right:8px}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout__countdown p:not(:last-child){margin-right:5px;padding-right:5px}}.tpt754v1 .CroCountdownBannerLayout a{background-color:#415294;border-radius:3px;color:#fff;display:block;font-size:16px;padding:8px 20px}@media (max-width: 767px){.tpt754v1 .CroCountdownBannerLayout a{font-size:14px;padding:6px 15px}}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["13715460482"], "experiments": [{"weightDistributions": [{"entityId": "21191341149", "endOfRange": 10000}], "audienceName": "U.S. Only,Exclude Premium Sellers,Device | Desktop, Tablet only,[DCP Migration] TPTSA Acquisition (Unlinked users),[QA] Cro Metrics Test Cookie (OLI)", "name": "[DCP Migration] [TEST COOKIE] 100% to v0: TPT-975 [Search/Browse] Tooltip Personalization Test", "bucketingStrategy": null, "variations": [{"id": "21191341149", "actions": [{"viewId": "13715460482", "changes": [{"value": function($){!function(r,o,n){var i=20900290223,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,r)||console.error.bind(window,"[cro] [".concat(r,"]"));try{t.applyTreatment("v0","browse-incl-search-substring")}catch(r){e(r)}}("tpt975");
}, "dependencies": [], "type": "custom_code", "id": "a68a9a0703914178b11683139b792a3c"}]}], "name": "v0: Control 975 - middle callout w/o tooltip"}, {"id": "21201560275", "actions": [{"viewId": "13715460482", "changes": [{"value": function($){!function(r,o,n){var i=20900290223,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,r)||console.error.bind(window,"[cro] [".concat(r,"]"));try{t.applyTreatment("v1","browse-incl-search-substring")}catch(r){e(r)}}("tpt975");
}, "dependencies": [], "type": "custom_code", "id": "d7299092f62240d4ab969a59eefb9ff2"}]}], "name": "v1: Middle callout w/ tooltip"}, {"id": "21162541593", "actions": [{"viewId": "13715460482", "changes": [{"value": function($){!function(r,o,n){var i=20900290223,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,r)||console.error.bind(window,"[cro] [".concat(r,"]"));try{t.applyTreatment("v2","browse-incl-search-substring")}catch(r){e(r)}}("tpt975");
}, "dependencies": [], "type": "custom_code", "id": "5718bb9c39b948bbb5930c60f666c2b8"}]}], "name": "v2: Right callout w/ Get a Subscription tooltip"}, {"id": "21164921433", "actions": [{"viewId": "13715460482", "changes": [{"value": function($){!function(r,o,n){var i=20900290223,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,r)||console.error.bind(window,"[cro] [".concat(r,"]"));try{t.applyTreatment("v3","browse-incl-search-substring")}catch(r){e(r)}}("tpt975");
}, "dependencies": [], "type": "custom_code", "id": "c2dfb22af0ef4f38a6b7b4df31446246"}]}], "name": "v3: Right callout w/ Dont Miss Out tooltip"}], "audienceIds": ["and", "16539970090", "16882670147", "20754791812", "21160151169", "15737501278"], "changes": null, "id": "21173591432", "integrationSettings": null}], "id": "21164481904", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] 100% to v0: TPT-975 [Search/Browse] Tooltip Personalization Test", "groupId": null, "commitId": "21166341630", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "bc5fc032e94b4ed1a01cbb04477dc569", "value": function($){!function(t){var e=20900290223,c=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":t,"tags":e})},i=window.optimizely.get("utils"),a=i.log&&i.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),n=i.error&&i.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));a("v3"),c.applyTreatment=function(e,c){!function(e,c){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;o.classList.add(t),o.classList.add(t+e),a("Variation ".concat(e,", page ").concat(c))}(e,c),i.waitUntil((function(){var t;return null===(t=document.querySelector(".tpt-frontend"))||void 0===t?void 0:t._reactRootContainer})).then((function(){var c="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign=".concat(t).concat(e);if("v0"===e||"v1"===e?i.observeSelector('.SearchProductRowLayout[data-crometrics-isavailableonschoolaccess="true"]',(function(t){t.querySelector(".NextSearchProductRowLayout__descriptionContainer").insertAdjacentHTML("beforeend",'\n            <div class="tpt-school-access">\n              <p>Also available with subscription</p>\n              <img src="https://static1.teacherspayteachers.com/tpt-frontend/releases/production/current/39fb476a33e22cce7ab89e516419b909.png" alt="TpT Schools Access" height="28">\n              <a class="Button Button--medium Button--fullWidth" href="'.concat(c,'">Refer Your Principal</a>\n            </div>\n          ')),t.querySelector(".tpt-school-access a").addEventListener("click",(function(){o("tpt975-search-on-page-tptsa-callout-cta-click"),window.heap.track("[TPT-975] Search | On-page TPTSA Callout CTA Click"),o("tpt975-search-all-tptsa-callout-cta-click"),window.heap.track("[TPT-975] Search | All TPTSA Callout CTA Click")}))})):"v2"!==e&&"v3"!==e||i.observeSelector("[data-crometrics-isavailableonschoolaccess='true'] .ProductRowPriceAndBundleText .ProductRowPriceBespoke",(function(e){"FREE"!==e.textContent&&(e=e.children[e.children.length-1]),e.classList.add("".concat(t,"-section")),e.insertAdjacentHTML("beforeend",'<a href="'.concat(c,'" class="').concat(t,'-house">').concat('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\r\n    <rect width="16" height="16" fill="url(#pattern0)"/>\r\n    <defs>\r\n        <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">\r\n            <use xlink:href="#image0_1215_5193" transform="scale(0.00900901)"/>\r\n        </pattern>\r\n        <image id="image0_1215_5193" width="111" height="111" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAABYlAAAWJQFJUiTwAAAIWElEQVR4nO2dT2wUVRzHfxhFsUUQ+dNqTEFoOJTE4gE5CIMGEkCMsBF6VNiDHPhT40EkQUEUuIjFcvCypR4bTCkJBGOMdMEDcKBrAgdTlN0QpVhBkBYbLpjv8LbZtuy8PzPvzbzt+ySTNrvz5+189/3m+97vN7MTHjx4QA47eczpZi9OPItx4lnM40luupfK7CaiTwNW2ZPtTO9m664lokYiWlbyfp6IurKd6S79rTVPog2LiHhMIKxXF7BegYiaK01E28PmZiI6whGO2PvHvFSmm/VQLl4q06i/+eFIdNgUYJbk+h4WL5X5F2ISUY4tpSDsvsd69LLg3cWL7eKp8gwRvcuWcuST/iGc27QYJ57FOPEsxolnMU48i3HiWYwTz2KceBbjxLMYJ57FOPEsphLnNrMl/3sxtkM7lSLeNSL6hCVebxdf9FKZqSzXtz3e5umhEsQ7BIFKRSvCXmv2UpkuJmJF9UTbxTue7Uw381bKdqa7kZtjCdZmlqfjJXBH5/kSh+3iSZ3gbGc6xxKtCKmziah0ARD5Nlsv8YzXZCyEzNuQcA3CDRUsJunVYz8Q0YqAVQqaek+LDZVmiRXPS2VaSiz+LSKaZrgJZV1sUkiceGxs1k5Eb496628imm64Ob/A4CTVwCRKPOYAEa5eLrPKPbSZiCYZbtoH2c50i+FjckmMeGwMBqs+RWD1OMLocdYLExNGE+E2vVQGY68eQeGICXdDc7NGgzCe91KZxBTixi4eMyZHFDZFtfQgEf2noVnlwJfrNGtz7MQWNgOMiQo3FErfwxK7mYml5zFj0h2RcMSEMx1GYapw4wp3blUXxnuepDGRBWF0iIie0/spxhCLmTHa85gxERZu3uxptGXTYplDVDHhrik3Uo1YzIyxnidwo+QIVr5eT1s3Labqqol05epN2nngR7rRPyBzyH+I6NlQjVZj+G5d3WgXjxmTFs7tVCN4Z02DL1wpA4P3aX/rGfr5QkG2CXGICDOzlmUutKFVPCZcd8CMyRh2bFlKq96oL/v+0ROX6XDbOdmm9BFRjexGIbnDbqVu13UAbeLJGpOqpyfS13tX07w5fK8RIow+QUTVMhtFgDYzo0U8ZkxaZIzJFztWUM1M8fMaIoz+SUTPy24UkgITsDvKnUYunqwxeW1RHX28dalvTFRQDKNwoy8qHTAckZqZyMSLypiogDCKXnglf0tm65tE9GQMYTQyMxOJeDqMiSwIo61t5+j7072ym8YRRu+wMBoqWx9aPJ3GRIVTP/X6Ig7euy+z9e9E9JKWBgXzLXOkSmYmlHgmjIkKimG0nyV5TYfRAguj0hPcyuKZNiayWBZGScXMSItnypig9/RevUV9/XepZsZkqp8zTSnUKobRP4joBemDhSfLroVCZkZKPBPGBKLhZOcu9415r7GhhjY2vUKNC2qF90fqYXSQ/a2SOlh4hM2MsHjMmHQJ1Pj7qBgT9JIDh89w11NxqiHCaEH0M0cM18wIiceelNcuY0xwfZMRDr0j/aG4c858udZkGI1LwMBsPTefxzLFx0SFQ2g7tPdN6RPbKjlLIrt+EfRYPyLMlio+q2NhdFBg3SjB5amnXLY+sOd5qUy7jDFBDg49Tpa+vwaoaXOH9HYd3zQpDztChNFfiWi+0kHDkWVDiuEw+sieB2PipTI5GeFwHVIRjnzx7hrdDmDIgvZ+/tFy//osAYT7TfnA6ngsWz/8sNcx4jFjkhN1lPjghz5bHelUl0mWvFpHbQfXyYbRuei8MRQ9TWFP7G1BBxtxf54JY5JEEHozB9f5YfS7E5dFW1jNltvM3psEOg0Ni8cuil+JNgDGBFNdUcyYqIof9ZcGEwmNDbX+mFDCjU5li2mG/LApKxyMCRxlVFNd2A/2KQOm23RMtSmG0VgoXvOEvzlhjEkQmDkRNQ5YL4o8YDmKYRTTeklGuG5TtzHBCcP4iydgceZGd2aCWBhVcKPGEBIPIQQnTHZOURZcwxCyyoVQvO6HNIMGqRhGJz2VvGcvCLUI30BTJww9CmEZS+7S9eHXdX9xeG2aP3f6IyfL4yTRj/KIUzAbGLfPYYmaWTOqI/UDmEDn1aU68SKidma175ijApcMnnjuIToW48SzGCeexST+mtfDhgu1MycbGZjbRKLEQ1L27IUCnT2fLzumwoQBxpxLFtX5A+jxTCLE6w2oGBsNKsCwIANeM+Ohw7M1lxiWWMVDKUJbx0WZHNoI+voHaP/hM3T0xCV/Rqbe8ryiLLEZFgi3bddJZeFKQU9E5RkGtuOJWHoehFv/fods+R2X/azmc7yEUeM9r9jjohauCAQ8e176blkrMS7ePvmyc6VjwLlWOkbFw5hN5h5yDAuQw9vYtNCvmRFNiqJX72vNCqxpN0aveSjsEQHlBxvWLBgxKN/Y9PAvTMmRjou+0wwCww58WRZWcFrJWM/DieSdcPQs3IOwbdPisrMpMCPIbKMAicfRCJxskjEm3ilOWXmxNkVkrIaqsX07lvuhNAiEaBikSsWYeDwHuOGtBulB9s6tHvc62FNSSlFpGBEPzi9oaAAB1q9ZIL1fhFbemO5K/qb0fm3BiHjXOTeEYIJZtYB2FadY1/W8kPDGXLUhUj3jbT6zFDPi9Qf3PNwf4JDHZdItxolnMU48i3HiWYwTz2KceBbjxLMYJ57FOPEsxolnMU48i3HiWYwTz2KECpB6Q5bq8VJCeNbmBE3nEGUQuQhyerxyCjxSefuuk6GPU7o/Hv4jG2Uf9i0L73GsYYXTvf+EsseFTYtx4lmMkaJb3WGrQsMiF9fzLMaJZzFOPIspXvMi/UXFCmUl53dnh9hv05oib/xH7h3R4cKmrRDR/3MdT7BBaAsrAAAAAElFTkSuQmCC"/>\r\n    </defs>\r\n</svg>\r\n',"</a>")),e.querySelector(".".concat(t,"-house")).addEventListener("click",(function(){o("tpt975-search-on-page-tptsa-callout-cta-click"),window.heap.track("[TPT-975] Search | On-page TPTSA Callout CTA Click"),o("tpt975-search-all-tptsa-callout-cta-click"),window.heap.track("[TPT-975] Search | All TPTSA Callout CTA Click")}))})),"v0"!==e&&!i.cookie.get("".concat(t,"-seen"))){var a={"v1":{"title":"Dont miss out!","body":"Get this resource with a school subscription.","link":"Learn More"},"v2":{"title":"Get a subscription for<br>your school","body":"","link":"Refer your Principal"},"v3":{"title":"Dont miss out!","body":"Get this resource with a school subscription.","link":"Learn More"}};i.waitForElement("v1"===e?".tpt-school-access":"[data-crometrics-isavailableonschoolaccess='true'] .ProductRowPriceAndBundleText").then((function(c){c.classList.add("".concat(t,"-section"));var n=a[e];c.insertAdjacentHTML("beforeend",'\n          <div class="'.concat(t,"-tooltip ").concat(t,"-tooltip-").concat(e,' cro-tooltip">\n            <button class="').concat(t,'-tooltip-close">').concat('<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.03098 9.0311C8.63657 9.42551 7.9971 9.42551 7.60269 9.0311L4.74512 6.17352L1.88754 9.0311C1.49313 9.42551 0.853668 9.42551 0.459259 9.0311C0.0648491 8.63669 0.0648492 7.99722 0.459259 7.60282L3.31683 4.74524L0.459258 1.88766C0.0648482 1.49325 0.0648491 0.85379 0.459259 0.459381C0.853668 0.0649712 1.49313 0.0649713 1.88754 0.459381L4.74512 3.31696L7.60269 0.45938C7.9971 0.0649703 8.63657 0.0649712 9.03098 0.459381C9.42539 0.85379 9.42539 1.49325 9.03098 1.88766L6.1734 4.74524L9.03098 7.60282C9.42539 7.99723 9.42539 8.63669 9.03098 9.0311Z" fill="white"/>\r\n</svg>\r\n','</button>\n            <div class="').concat(t,'-tooltip-title">').concat(n.title,'</div>\n            <div class="').concat(t,'-tooltip-body">').concat(n.body,'</div>\n            <a class="').concat(t,'-tooltip-link" href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign=').concat(t).concat(e,'">').concat(n.link,"</a>\n          </div>\n        "));var l=c.querySelector(".".concat(t,"-tooltip"));"v2"!==e&&"v3"!==e||("v3"===e&&l.classList.add("".concat(t,"-tooltip-tall")),c.querySelector(".ProductRowPriceBespoke__discountPriceToTheRight")||(l.classList.add("".concat(t,"-tooltip-pull-up")),"v3"===e&&l.classList.add("".concat(t,"-tooltip-pull-up-tall")))),c.querySelector(".".concat(t,"-tooltip-close")).addEventListener("click",(function(){l.remove(),i.cookie.set("".concat(t,"-seen"),!0,7)})),c.querySelector(".".concat(t,"-tooltip-link")).addEventListener("click",(function(){o("tpt975-search-in-line-tptsa-callout-clicks"),window.heap.track("[TPT-975] Search | In-line TpTSA Callout Clicks"),o("tpt975-search-all-tptsa-callout-cta-click"),window.heap.track("[TPT-975] Search | All TPTSA Callout CTA Click")}))}))["catch"](n)}}))["catch"](n)}}("tpt975");
//# sourceMappingURL=shared.js.map
}}, {"dependencies": [], "type": "append", "id": "c87f694ba75f41bb84003c29154a63de", "value": "<style>.tpt975 .tpt-school-access{position:relative;clear:both;padding-top:10px}.tpt975 .tpt-school-access p{font-size:14px;display:block;text-align:left;margin-bottom:5px;margin-top:20px}.tpt975 .tpt-school-access img{width:auto;height:20px;margin-right:50px;position:relative;top:-1px}.tpt975 .tpt-school-access .Button{background-color:#41539d;color:#fff;padding:8px 10px;position:relative;top:-10px;margin-left:10px}.tpt975-hidden{display:none}.tpt975 .tpt-school-access a.Button{font-size:11px;margin-left:10px}@media only screen and (min-width: 780px){.tpt975 .tpt-school-access a.Button{font-size:14px}}@media only screen and (min-width: 980px){.tpt975 .tpt-school-access a.Button{font-size:9px}}@media only screen and (min-width: 995px){.tpt975 .tpt-school-access a.Button{font-size:10px}}@media only screen and (min-width: 1019px){.tpt975 .tpt-school-access a.Button{font-size:11px}}@media only screen and (min-width: 1042px){.tpt975 .tpt-school-access a.Button{font-size:12px}}@media only screen and (min-width: 1065px){.tpt975 .tpt-school-access a.Button{font-size:13px}}@media only screen and (min-width: 1088px){.tpt975 .tpt-school-access a.Button{font-size:14px}}.tpt975-section{position:relative !important}.tpt975-house{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background-color:#E8EDF7;width:25px;height:25px;border-radius:50%;margin-left:6px}.tpt975-house svg{margin-bottom:3px}.tpt975-tooltip{position:absolute;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;background-color:#415294;color:white;font-weight:400;z-index:1;width:282px;left:-88px;top:-16px;padding:24px;border-radius:6px}.tpt975-tooltip::after{position:absolute;content:\"\";-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);top:calc(50% - 8px);right:-7px;border-top:8px solid #415294;border-right:8px solid #415294;border-bottom:8px solid transparent;border-left:8px solid transparent}.tpt975-tooltip-v2,.tpt975-tooltip-v3{left:-300px;top:-33px}.tpt975-tooltip-tall{top:-39px}.tpt975-tooltip-pull-up{top:-53px}.tpt975-tooltip-pull-up-tall{top:-59px}.tpt975-tooltip-close{position:absolute;min-height:auto !important;line-height:0;top:20px;right:20px;padding:5px}.tpt975-tooltip-title{font-size:19px;line-height:137.5%;margin-bottom:3px}.tpt975-tooltip-body{font-size:14px;line-height:137.5%}.tpt975-tooltip-link{font-size:14px;line-height:117%;font-weight:600;margin-top:11px}.tpt975-tooltip-link:hover{text-decoration:underline !important}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["17899101619"], "experiments": [{"weightDistributions": [{"entityId": "21193251354", "endOfRange": 10000}], "audienceName": "U.S. Only,Has DCP School Name,Exclude Premium Sellers,Schools with > 200 resources used this year,[DCP Migration] TPTSA Acquisition (Unlinked users),[QA] Cro Metrics Test Cookie (OLI)", "name": "[DCP Migration] [TEST COOKIE] 100% to v1: [TPT-1012][Unlinked][Post Purchase] Data Personalization Banner Messaging", "bucketingStrategy": null, "variations": [{"id": "21174451763", "actions": [{"viewId": "17899101619", "changes": [{"value": function($){!function(o,r,n){var t=20917333167,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v0","purchase-complete")}catch(o){w(o)}}("tpt1012");
}, "dependencies": [], "type": "custom_code", "id": "41712f93d5ed456180701a270f86bf18"}]}], "name": "v0: (Control 1012) School Name Personalization"}, {"id": "21193251354", "actions": [{"viewId": "17899101619", "changes": [{"value": function($){!function(o,r,n){var t=20917333167,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v1","purchase-complete")}catch(o){w(o)}}("tpt1012");
}, "dependencies": [], "type": "custom_code", "id": "616f097225c84701b790d2af7a79f76e"}]}], "name": "v1: School Name and School Data Personalization"}, {"id": "21197930153", "actions": [{"viewId": "17899101619", "changes": [{"value": function($){!function(o,r,n){var t=20917333167,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v2","purchase-complete")}catch(o){w(o)}}("tpt1012");
}, "dependencies": [], "type": "custom_code", "id": "9b712890d28a40ca9e6571373618bcd6"}]}], "name": "v2: School Data Personalization"}], "audienceIds": ["and", "16539970090", "20604890334", "16882670147", "20686301812", "21160151169", "15737501278"], "changes": null, "id": "21205380108", "integrationSettings": null}], "id": "21168640961", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] 100% to v1: [TPT-1012][Unlinked][Post Purchase] Data Personalization Banner Messaging", "groupId": null, "commitId": "21209180182", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "709ba861582c4f14a8000c5ec4638470", "value": function($){!function(t){var n=20917333167,c=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),e=window.optimizely.get("utils"),o=e.log&&e.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),a=e.error&&e.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));o("v0.1");var r=20144019866;c.applyTreatment=function(n,c){var i,s;!function(n,c){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;e.classList.add(t),e.classList.add(t+n),o("Variation ".concat(n,", page ").concat(c))}(n,c);var u=null!==(i=optimizely.get("dcp").getAttributeValue({"datasourceId":r,"attributeId":20234667484}))&&void 0!==i?i:"your",d=null!==(s=optimizely.get("dcp").getAttributeValue({"datasourceId":r,"attributeId":20243947993}))&&void 0!==s?s:0,l='\n    <div class="'.concat(t,'-banner cro-post-purchase-banner">\n      <div class="').concat(t,'-banner-logo">\n        <img src="//cdn.optimizely.com/img/11000223989/9d60cf99ff8f45e8bfc66473cf54f01b.png">\n      </div>\n      <div class="').concat(t,'-banner-content">\n        <div class="').concat(t,'-banner-text">Federal stimulus funding could help ').concat("your"===u?"your school":u,' access resources through a school subscription.</div>\n        <div class="').concat(t,'-banner-cta">\n          <a class="').concat(t,'-banner-button" href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplaceutm_medium=optimizely&utm_campaign=').concat(t).concat(n,'">Request a subscription</a>\n        </div>\n      </div>\n    </div>\n  ');if(e.waitForElement(".tpt-frontend").then((function(t){return e.waitUntil((function(){return t._reactRootContainer}))})).then((function(){e.waitForElement(".OrderReceiptPageLayout").then((function(n){n.querySelector(".".concat(t,"-banner"))||n.insertAdjacentHTML("afterbegin",l)}))["catch"](a)}))["catch"](a),"v0"!==n){var h={"v1":"".concat(u," teachers have used ").concat(d," TpT resources this year. Federal stimulus funding could help you access resources through a school subscription."),"v2":"Your school has used ".concat(d," TpT resources this year. Federal stimulus funding could help you access resources through a school subscription.")}[n];e.waitForElement(".".concat(t,"-banner-text")).then((function(t){return t.textContent=h}))["catch"](a)}}}("tpt1012");
}}, {"dependencies": [], "type": "append", "id": "84534d90b514496b81e5ce2e02b522c9", "value": "<style>.tpt1012-banner{margin:20px auto;padding:22px 30px;border:3px solid #415294;border-radius:10px;max-width:90%}@media screen and (min-width: 768px){.tpt1012-banner{width:900px;max-width:calc(100% - 60px)}}.tpt1012-banner-logo{margin-bottom:16px}.tpt1012-banner-logo img{width:186px;height:auto}.tpt1012-banner-content{font-family:'Proxima Nova', sans-serif}@media screen and (min-width: 768px){.tpt1012-banner-content{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}}.tpt1012-banner-text{margin-bottom:20px;color:#1D1C4C;font-size:18px;font-weight:600}@media screen and (min-width: 768px){.tpt1012-banner-text{margin-bottom:0}}.tpt1012-banner-cta a{display:block;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}@media screen and (min-width: 768px){.tpt1012-banner-cta{margin-left:10px}}.tpt1012-banner-button{white-space:nowrap;background:#415294;color:#fff !important;font-size:14px;font-weight:600;padding:10px 20px;border-radius:4px}.tpt1012-banner-button:hover{text-decoration:underline !important}.tpt1012 .PostPurchaseTpTSABannerLayout{display:none}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["19186070224"], "experiments": [{"weightDistributions": [{"entityId": "21170841579", "endOfRange": 10000}], "audienceName": "U.S. Only,Exclude Premium Sellers,No DCP School Name ,Device | Desktop,[DCP Migration] TPTSA Acquisition (Unlinked users),[QA] Cro Metrics Test Cookie (OLI)", "name": "[DCP Migration] [TEST COOKIE] 100% to v0: TPT-1096: [Unlinked][PDP][TPT-1087 No P13n] Subscription messaging", "bucketingStrategy": null, "variations": [{"id": "21170841579", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){!function(o,r,t){var n=20990491870,i=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),d=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{i.applyTreatment("v0","pdp-tpt-sa-flagged")}catch(o){d(o)}}("tpt1096");
}, "dependencies": [], "type": "custom_code", "id": "e7ec64075840444f96cc72b7e8752060"}]}], "name": "v0: Control 1096"}, {"id": "21166750272", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){!function(o,r,t){var n=20990491870,i=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),d=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{i.applyTreatment("v1","pdp-tpt-sa-flagged")}catch(o){d(o)}}("tpt1096");
}, "dependencies": [], "type": "custom_code", "id": "3dbf56a0494c48ca9f825988e55c0b77"}]}], "name": "v1: Resources Messaging"}, {"id": "21182981306", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){!function(o,r,t){var n=20990491870,i=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),d=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{i.applyTreatment("v2","pdp-tpt-sa-flagged")}catch(o){d(o)}}("tpt1096");
}, "dependencies": [], "type": "custom_code", "id": "1422a09cdd9e4028aa952735fafadb0d"}]}], "name": "v2: School name"}], "audienceIds": ["and", "16539970090", "16882670147", "20613054836", "12001380907", "21160151169", "15737501278"], "changes": null, "id": "21197790209", "integrationSettings": null}], "id": "21168671440", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] 100% to v0: TPT-1096: [Unlinked][PDP][TPT-1087 No P13n] Subscription messaging", "groupId": null, "commitId": "21200380003", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "d514fc31526343d5a71562e57438fcda", "value": function($){!function(t){var n=20990491870,e=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),o=window.optimizely.get("utils"),c=o.log&&o.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),a=o.error&&o.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));c("v0.2"),e.applyTreatment=function(n,e){if(function(n,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;o.classList.add(t),o.classList.add(t+n),c("Variation ".concat(n,", page ").concat(e))}(n,e),o.waitForElement(".tpt661-banner .cta-link").then((function(e){e.addEventListener("click",(function(){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":t,"tags":n})}("tpt1096_pdp_tptsa_banner_clicks_on_learn_more")})),e.href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplaceutm_medium=optimizely&utm_campaign=".concat(t+n)}))["catch"](a),"v0"!==n){var i={"v1":"Save in 2022. Get access to more resources than last year with a school subscription.","v2":"Save in 2022. Get access to more resources with a subscription for your school."}[n];o.waitForElement(".tpt661-banner > p").then((function(t){t.textContent=i}))["catch"](a)}}}("tpt1096");
}}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["19742136101"], "experiments": [{"weightDistributions": [{"entityId": "21150851328", "endOfRange": 10000}], "audienceName": "U.S. Only,[DCP Migration] TPTSA Linked Users (Marketplace),[QA] Cro Metrics Test Cookie (OLI)", "name": "[DCP Migration] [TEST COOKIE] [100% to v1]TPT-770 [PDP] Matched User Add to Wishlist", "bucketingStrategy": null, "variations": [{"id": "21199370484", "actions": [{"viewId": "19742136101", "changes": []}], "name": "v0: No control"}, {"id": "21150851328", "actions": [{"viewId": "19742136101", "changes": [{"value": function($){!function(o,r,t){var i=20458767793,n=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),d=window.optimizely.get("utils"),e=d.error&&d.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v1","pjs-pdp-tptsa-free-wishlist-added")}catch(o){e(o)}}("tpt770");
//# sourceMappingURL=v1.pjs-pdp-tptsa-free-wishlist-added.js.map
}, "dependencies": [], "type": "custom_code", "id": "4a723f13505f4006b6be025bc490dafa"}]}], "name": "v1: Bookmark Now"}, {"id": "21183091603", "actions": [{"viewId": "19742136101", "changes": [{"value": function($){!function(o,r,t){var i=20458767793,n=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),d=window.optimizely.get("utils"),e=d.error&&d.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v2","pjs-pdp-tptsa-free-wishlist-added")}catch(o){e(o)}}("tpt770");
//# sourceMappingURL=v2.pjs-pdp-tptsa-free-wishlist-added.js.map
}, "dependencies": [], "type": "custom_code", "id": "2885e2c4a15b4f6cbd78659631cc3678"}]}], "name": "v2: Access Now"}], "audienceIds": ["and", "16539970090", "21193201189", "15737501278"], "changes": null, "id": "21187960369", "integrationSettings": null}], "id": "21170160666", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] [100% to v1]TPT-770 [PDP] Matched User Add to Wishlist", "groupId": null, "commitId": "21183510516", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "52d3d1dae2b04c3695d8d0c41664352f", "value": function($){!function(o){var e=20458767793,t=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),c=window.optimizely.get("utils"),n=c.log&&c.log.bind(window,"[".concat(o,"]"))||console.warn.bind(window,"[cro] [".concat(o,"]"));c.error&&c.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));n("v0.1");t.applyTreatment=function(e,t){!function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;c.classList.add(o),c.classList.add(o+e),n("Variation ".concat(e,", page ").concat(t))}(e,t),c.waitForElement('meta[name="productID"]').then((function(t){var a=t.getAttribute("content"),i=c.cookie.get("tpt770_modal_seen");return a?i?n("Not showing modal -- user has seen it already in session"):void function(e){var t=e.productID,n=e.variation,a={"v1":{"badge":"Wait!","headline":"You should bookmark this resource on TpT School Access, too.","copy":"Bookmark this resource so you can access it later.","cta":"Bookmark This Resource"},"v2":{"badge":"Wish Granted!","headline":"This resource is available with your subscription.","copy":"Access it through your TpT School Access account now.","cta":"Access Now"}}[n],i="https://www.tptschoolaccess.com/resource/".concat(t,"?utm_source=tptcoremarketplace&utm_medium=matchedusersbanner&utm_campaign=optimizely").concat(o).concat(n,"&cro_oeuid=").concat(c.cookie.get("optimizelyEndUserId")),r=document.createElement("div");r.className="cro-modal",r.innerHTML='\n    <div class="cro-modal-mask"></div>\n    <div class="cro-modal-box">\n      <div class="cro-modal-box-inner">\n        <button class="cro-modal-close"><svg width="19" height="18" viewBox="0 0 19 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M17.5525 17.0915C16.7965 17.8474 15.5709 17.8474 14.8149 17.0915L9.33791 11.6145L3.86089 17.0915C3.10494 17.8474 1.8793 17.8474 1.12335 17.0915C0.367397 16.3355 0.367397 15.1099 1.12335 14.3539L6.60037 8.87691L1.12335 3.39989C0.367399 2.64394 0.367397 1.4183 1.12335 0.66235C1.8793 -0.093601 3.10494 -0.0936015 3.86089 0.66235L9.33791 6.13937L14.8149 0.662351C15.5709 -0.0935999 16.7965 -0.0936011 17.5525 0.66235C18.3084 1.4183 18.3084 2.64394 17.5525 3.39989L12.0755 8.87691L17.5525 14.3539C18.3084 15.1099 18.3084 16.3355 17.5525 17.0915Z" fill="white"/></svg></button>\n\n        <div class="cro-modal-badge">'.concat(a.badge,'</div>\n        <div class="cro-modal-title">').concat(a.headline,'</div>\n        <div class="cro-modal-copy">').concat(a.copy,'</div>\n        <a href="').concat(i,'" class="btn cro-modal-btn">').concat(a.cta,"</a>\n      </div>\n    </div>\n  "),[].forEach.call(r.querySelectorAll(".cro-modal-mask, .cro-modal-close"),(function(o){return o.addEventListener("click",(function(){window.optimizely.push({"type":"event","eventName":"tpt770_exits_modal"}),r.parentNode.removeChild(r)}))})),r.querySelector(".cro-modal-btn").addEventListener("click",(function(o){o.preventDefault(),window.optimizely.push({"type":"event","eventName":"tpt770_cta_clicks"}),setTimeout((function(){window.location.href=o.target.href}),0)})),document.body.appendChild(r),c.cookie.set("tpt770_modal_seen","true")}({"productID":a,"variation":e}):n("Not showing modal -- unknown product ID")}))}}("tpt770");
//# sourceMappingURL=shared.js.map
}}, {"value": "<style>.tpt770 .ClassFundWishlistModal{display:none}.cro-modal{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;padding:20px;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;z-index:302;font-family:Proxima Nova, Helvetica Neue, Helvetica, Arial, sans-serif;color:#1D1B4B}.cro-modal,.cro-modal *{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.cro-modal,.cro-modal-mask{position:fixed;top:0;left:0;width:100%;height:100%}.cro-modal-mask{background:rgba(0,0,0,0.5);z-index:1}.cro-modal-box{position:relative;margin:auto;background:#fff;z-index:2;max-width:600px;width:100%;border:3px solid #AFB9E1;border-radius:4px}@media screen and (min-width: 768px){.cro-modal-box{border-width:5px}}.cro-modal-box:after{content:'';display:block;width:100%;height:95px;background:#EFF2F9}@media screen and (min-width: 768px){.cro-modal-box:after{display:none}}.cro-modal-box-inner{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:90px 20px 60px}@media screen and (min-width: 768px){.cro-modal-box-inner{display:block;padding:30px 90px 30px 45px}}.cro-modal-close{cursor:pointer;border:0;background:transparent;position:absolute;top:14px;right:10px}.cro-modal-close svg{width:16px;height:16px}.cro-modal-close svg path{fill:#666666}@media screen and (min-width: 768px){.cro-modal-close{top:-5px;right:-58px;padding:15px;background:#000;line-height:0;border-radius:3px}.cro-modal-close svg{width:14px;height:14px}.cro-modal-close svg path{fill:#fff}}.cro-modal-badge{display:inline-block;margin-bottom:24px;padding:8px 18px;background:#FFF5E0;text-transform:uppercase;letter-spacing:0.125em;font-weight:bold}@media screen and (min-width: 768px){.cro-modal-badge{margin-bottom:16px}}.cro-modal-title{margin-bottom:16px;font-size:24px;font-weight:600;line-height:1.28;text-align:center}@media screen and (min-width: 768px){.cro-modal-title{margin-bottom:8px;text-align:left;font-size:28px;line-height:1.37}}.cro-modal-copy{margin-bottom:32px;font-size:20px;line-height:1.28;text-align:center}@media screen and (min-width: 768px){.cro-modal-copy{margin-bottom:16px;text-align:left;font-size:24px;line-height:1.37}}.cro-modal-btn{margin-bottom:16px;display:inline-block;padding:16px 24px;background:#0AA96C;border-radius:3px;color:#fff;text-decoration:none;font-weight:600;font-size:18px}@media screen and (min-width: 768px){.cro-modal-btn{font-size:16px}}</style>", "selector": "head", "dependencies": [], "type": "append", "id": "0bc807ecf3834970969771d41046b969"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["19186070224"], "experiments": [{"weightDistributions": [{"entityId": "21156821575", "endOfRange": 10000}], "audienceName": "Exclude Premium Sellers,United States Only,Device | Desktop,[DCP Migration] TPTSA Acquisition (Unlinked users),[QA] Cro Metrics Test Cookie (OLI)", "name": "[DCP Migration] [TEST COOKIE] 100% v1 TPT-660 [PDP | SA Flagged] Test iterations of marketplace form on PDP", "bucketingStrategy": null, "variations": [{"id": "21164831888", "actions": [{"viewId": "19186070224", "changes": []}], "name": "v0: Control - 660"}, {"id": "21156821575", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){window["CRO_SHARED_20315893226"].init("v1","pdp-tpt-sa-flagged");
//# sourceMappingURL=v1.pdp-tpt-sa-flagged.js.map
}, "dependencies": [], "type": "custom_code", "id": "5e79936223ac428ebf27e89dd0296884"}]}], "name": "v1: Form explanation modal"}], "audienceIds": ["and", "16882670147", "16931205087", "12001380907", "21160151169", "15737501278"], "changes": null, "id": "21179922253", "integrationSettings": null}], "id": "21172270053", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] 100% v1 TPT-660 [PDP | SA Flagged] Test iterations of marketplace form on PDP", "groupId": null, "commitId": "21177811775", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "45d6227b970a4e92b46d3d82b60bab2d", "value": function($){!function(t,o){var n=20315893226,i=(window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),window.optimizely.get("utils")),e=i.log&&i.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),c=i.error&&i.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));e("v0.3");var a=function(){i.observeSelector(".SchoolsHeading",(function(){null===document.querySelector(".tptsa-text")&&document.querySelector(".SchoolsHeading").insertAdjacentHTML("afterend",'\n      <div class="tptsa-text">\n        TpT School Access is a school-wide subscription that combines access to a catalog of nearly 4 million resources with a suite of easy-to-use digital tools. Fill out this form and well send an email to your principal with details about TpT School Access.\n      </div>')}))};o.init=function(o,n){!function(o,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;i.classList.add(t),i.classList.add(t+o),e("Variation ".concat(o,", page ").concat(n))}(o,n),a(),i.waitForElement(".tpt-frontend").then((function(t){return i.waitUntil((function(){return t._reactRootContainer}))})).then((function(){a()}))["catch"](c)}}("tpt660",window["CRO_SHARED_20315893226"]||(window["CRO_SHARED_20315893226"]={"id":20315893226,"tag":"tpt660"}));
//# sourceMappingURL=shared.js.map
}}, {"dependencies": [], "type": "append", "id": "6df26700eae44f1eaaebdd86bfaa389c", "value": "<style>.tpt660 .tptsa-text{margin-top:17px}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["17479550609"], "experiments": [{"weightDistributions": [{"entityId": "21171860741", "endOfRange": 10000}], "audienceName": "U.S. Only,Exclude Premium Sellers,[QA] Cro Metrics Test Cookie (OLI),[DCP Migration] TPTSA Linked Users (Marketplace)", "name": "[DCP Migration] [TEST COOKIE] 100% v1 [TPT-801] [Wishlist] Matched User Wishlist Callouts", "bucketingStrategy": null, "variations": [{"id": "21207450158", "actions": [{"viewId": "17479550609", "changes": [{"value": function($){!function(o,i,r){var t=20513105449,n=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),w=window.optimizely.get("utils"),c=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v0","wish-list-with-products")}catch(o){c(o)}}("tpt801");
//# sourceMappingURL=v0.wish-list-with-products.js.map
}, "dependencies": [], "type": "custom_code", "id": "6c2aee9dfffe496599fbed97ab486240"}]}], "name": "v0: Below the product description"}, {"id": "21171860741", "actions": [{"viewId": "17479550609", "changes": [{"value": function($){!function(o,i,r){var t=20513105449,n=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),w=window.optimizely.get("utils"),c=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v1","wish-list-with-products")}catch(o){c(o)}}("tpt801");
//# sourceMappingURL=v1.wish-list-with-products.js.map
}, "dependencies": [], "type": "custom_code", "id": "e8c1eb80a8864e5b82f60d2590753440"}]}], "name": "v1: Above the price description"}], "audienceIds": ["and", "16539970090", "16882670147", "15737501278", "21193201189"], "changes": null, "id": "21201370248", "integrationSettings": null}], "id": "21174600789", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] 100% v1 [TPT-801] [Wishlist] Matched User Wishlist Callouts", "groupId": null, "commitId": "21195830459", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "e184b86bd14f40b2bc64d4af620a831d", "value": function($){!function(t){var e=20513105449,o=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),n=window.optimizely.get("utils"),c=n.log&&n.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),i=n.error&&n.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]")),s=function(t){return window.optimizely.push({"type":"event","eventName":t})},r='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\r\n  <rect width="16" height="16" fill="url(#pattern0)"/>\r\n  <defs>\r\n  <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">\r\n  <use xlink:href="#image0" transform="scale(0.0625)"/>\r\n  </pattern>\r\n  <image id="image0" width="16" height="16" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJPSURBVHgBlVJfSFNhFP+d765NClshppg205ULSTR1gs216CGhGDYwwopSSCRfeql8kR6KHoqgejMEe6joJauHRgXFLAaVEBW4RQupbdGfReE212b3fl93d8bS5sofXO73nd855/5+51xCDjg6Rio543VMiBkI6bXnVvc7LABdrqACpZ4EbvL0hRTYdw1HGAmnZ/TQk/m5DHlB8uyhGItRkKkVQUmQU4GwEVGTGgnnTJsf0PyT4oaABZSmBc1mXitQ2MD92z0hLGTB0XmpnjNlrN2xbkNZaSFBiCwp0JUkPtbmurz5zxrp98HuGu6SSHevb3/zir4DVmx3mJFI/iR/4KtgDLKWS1jJwA+aLM4l1o2GRz6fT0hpiXZXxUljYcGFY4dttNVWhcEzDzAVS6F3XxOWLdXTZPC7lPghp/UITTXBHhfVLZVmp1fa4iq/uLrEePTU8W1ori9HMilj5Ppz6HQMjta1qK1ZhdbGNXj6IkyxeFJR69XtEidQldpqh2SydJwe6G8r3VRXplkxGHRod6yHzWqCXp9xaFxeAGOhAd7xEOvvbmHWhnJWUWZk/kBE+muNL32fcHX0Fbjg6N7doCooyUxbHYTECJ07a7W7700EN+5MzN3C58g0jpxww2IugrmyCINnHyKemEE+zGkwGfqGmupi9OxpRO/eJnUOEj58jP5/A1nmWYJl/h9F4XkbaDO463mLicAX9Wsx1UYcQ1fGNTI+ncKo24/Hz94jGJ6CwgXODXk1LhpNaW+ydwyfJwYT/g09uPoQ5GyIor8AoBfIQZT++fIAAAAASUVORK5CYII="/>\r\n  </defs>\r\n  </svg>\r\n';c("v5");o.applyTreatment=function(e,o){!function(e,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;n.classList.add(t),n.classList.add(t+e),c("Variation ".concat(e,", page ").concat(o))}(e,o),n.waitForElement(".tpt-frontend").then((function(t){return n.waitUntil((function(){return t._reactRootContainer}))})).then((function(){n.waitUntil((function(){return null!==sessionStorage.getItem("cro_school_name")})).then((function(){return function(e){"v0"===e&&n.observeSelector('.WishlistProductRowLayout[data-crometrics-isavailableonschoolaccess="true"]',(function(t){var e=function(e,o){var n,c;return(null===(n=t.querySelector(e))||void 0===n||null===(c=n.textContent)||void 0===c?void 0:c.toLowerCase().trim())===o};e("[class*='ProductRowFileTypeBespoke']","bundle")||e("[class='ProductRowPriceBespoke']","free")||t.querySelector(".row .col-xs-7").insertAdjacentHTML("beforeend",'\n        <div class="tpt-school-access">\n          <div class="access-link"><p><span class="icon">'.concat(r,"</span> Also available with your TpT School Access subscription</p></div>\n        </div>\n      "))}));var o=sessionStorage.getItem("cro_school_name"),c='\n    <div class="'.concat(t,'-tooltip">\n      <a class="Anchor Anchor--gray cro-close">\n        <div class="Tooltip__closeIcon">\n          <span class="tpticon tpticon-times"></span>\n        </div>\n      </a>\n      <div class="tooltip-inner">\n        <h2 class="tooltip-head"><span class="tooltip-underline">Access this resource now</span> with your subscription</h2>\n        <p class="tooltip-body">You can use ').concat(o,'\'s subscription to access this resource now!</p>\n        <a type="button" class="tooltip-cta Button Button--primary Button--small Button--link">View Resource</a>\n      </div>\n    </div>\n  '),a=function(o){var n=document.querySelector(".".concat(t,"-tooltip"));null!==n&&n.remove(),o.classList.add("tooltip-active"),o.insertAdjacentHTML("beforeend",c);var i=o.parentElement.parentElement.parentElement,r=i.querySelector("a[type='button']"),a=i.getAttribute("data-testid").split("-")[1];r.setAttribute("href","https://www.tptschoolaccess.com/resource/".concat(a,"?utm_source=tptcoremarketplace&utm_medium=matchedusersbanner&utm_campaign=optimizely").concat(t).concat(e)),r.addEventListener("click",(function(){return s("tpt801-tooltip-cta-click")}))},l="v0"===e?".tpt-school-access":".".concat(t,"-section");sessionStorage.getItem("".concat(t,"tooltip_dismissed"))||n.waitForElement(l).then((function(t){return a(t)}))["catch"](i),n.observeSelector(".cro-close, .".concat(t,"-tooltip .tooltip-cta, .tpt-school-access a"),(function(e){e.addEventListener("click",(function(){sessionStorage.setItem("".concat(t,"tooltip_dismissed"),!0);var e=document.querySelector(".".concat(t,"-tooltip"));e.parentNode.classList.remove("tooltip-active"),e.remove()}))})),n.observeSelector(".access-link",(function(t){t.addEventListener("click",(function(){return a(t.parentElement)}))})),n.observeSelector(".".concat(t,"-content"),(function(t){t.addEventListener("click",(function(){s("tpt801-callout-click"),a(t.parentElement)}))})),n.observeSelector(".cro-close",(function(t){t.addEventListener("click",(function(){return s("tpt801-tooltip-exits")}))})),"v1"===e&&n.observeSelector(".WishlistProductRowLayout[data-crometrics-isavailableonschoolaccess='true'] [class='ProductRowPriceAndBundleText']",(function(e){window.setTimeout((function(){var o=function(t,o){var n,c;return(null===(n=e.querySelector(t))||void 0===n||null===(c=n.textContent)||void 0===c?void 0:c.toLowerCase().trim())===o};o("[class*='ProductRowFileTypeBespoke']","bundle")||o("[class='ProductRowPriceBespoke']","free")||(document.createElement("div").classList.add("".concat(t,"-section")),e.insertAdjacentHTML("afterend",'<div class="'.concat(t,'-section"><div class="').concat(t,'-content">').concat(r,"<strong>1</strong> License</div></div>")))}),0)}))}(e)}))}))["catch"](i)}}("tpt801");
//# sourceMappingURL=shared.js.map
}}, {"dependencies": [], "type": "append", "id": "e91017089298489295f47686548509f3", "value": "<style>.tpt801-hidden{display:none}.tpt801-section{position:relative;margin-top:-5px;margin-bottom:10px}.tpt801-section .tpt801-content{cursor:pointer !important;background-color:#E8EDF7;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;border-radius:3px;padding:1px 5px}.tpt801-section .tpt801-content svg{margin-right:5px}.tpt801-section .tpt801-content strong{margin-right:3px}.tpt801-section .tpt801-tooltip{top:-15px !important;right:calc(100% + 20px) !important}.tpt801-section .tpt801-tooltip::before{-webkit-transform:none !important;-ms-transform:none !important;transform:none !important;border-left:none !important}.tpt801-section .tpt801-tooltip::after{-webkit-transform:translate(1.1px) !important;-ms-transform:translate(1.1px) !important;transform:translate(1.1px) !important}.tpt801-section .tpt801-tooltip::before,.tpt801-section .tpt801-tooltip::after{top:15px !important;left:auto !important;right:-7px}.tpt801 .tpt-school-access{clear:both;padding-top:20px}.tpt801 .tpt-school-access p{font-size:14px;display:block;text-align:left;margin-bottom:5px;margin-top:20px}.tpt801 .tpt-school-access img{width:auto;height:20px;margin-right:50px;position:relative;top:-1px}.tpt801 .tpt-school-access .Button{background-color:#41539d;color:#fff;font-size:14px;padding:8px 10px;position:relative;top:-10px;margin-left:10px}.tpt801v0 .tpt-school-access.tooltip-active,.tpt801v1 .tpt-school-access.tooltip-active{position:relative}.tpt801v0 .tpt-school-access div.access-link p,.tpt801v1 .tpt-school-access div.access-link p{cursor:pointer !important;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-top:0}.tpt801v0 .tpt-school-access div.access-link p .icon,.tpt801v1 .tpt-school-access div.access-link p .icon{width:25px;height:25px;background:#E8EDF7;border-radius:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:5px}.tpt801v0 .tpt-school-access div.access-link p .icon svg,.tpt801v1 .tpt-school-access div.access-link p .icon svg{margin:auto}.tpt801v0 .tpt801-tooltip,.tpt801v1 .tpt801-tooltip{position:absolute;right:50px;top:calc(100% + 14px);z-index:202;background:#2C358B;color:#fff;border-radius:6px;border:1px solid #ccc;padding:24px 36px 24px 24px;width:329px;-webkit-box-shadow:0px 4px 12px rgba(0,0,0,0.16);box-shadow:0px 4px 12px rgba(0,0,0,0.16)}.tpt801v0 .tpt801-tooltip:before,.tpt801v0 .tpt801-tooltip:after,.tpt801v1 .tpt801-tooltip:before,.tpt801v1 .tpt801-tooltip:after{content:\"\";position:absolute;width:0;height:0;border-style:solid;border-width:0;border-top:9px solid transparent;border-bottom:9px solid transparent;top:-14px;left:18px}.tpt801v0 .tpt801-tooltip:before,.tpt801v1 .tpt801-tooltip:before{border-left:9px solid #ccc;-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg)}.tpt801v0 .tpt801-tooltip:after,.tpt801v1 .tpt801-tooltip:after{border-left:9px solid #2C358B;-webkit-transform:translateY(1.1px) rotate(-90deg);-ms-transform:translateY(1.1px) rotate(-90deg);transform:translateY(1.1px) rotate(-90deg)}.tpt801v0 .tpt801-tooltip .Tooltip__closeIcon,.tpt801v1 .tpt801-tooltip .Tooltip__closeIcon{top:15px;right:15px;font-size:16px}.tpt801v0 .tpt801-tooltip .Tooltip__closeIcon .tpticon.tpticon-times:before,.tpt801v1 .tpt801-tooltip .Tooltip__closeIcon .tpticon.tpticon-times:before{color:#fff}.tpt801v0 .tpt801-tooltip .tooltip-inner,.tpt801v1 .tpt801-tooltip .tooltip-inner{text-align:left;line-height:1.375}.tpt801v0 .tpt801-tooltip .tooltip-inner .tooltip-head,.tpt801v1 .tpt801-tooltip .tooltip-inner .tooltip-head{font-size:16px;font-weight:600;margin:0 0 6px}.tpt801v0 .tpt801-tooltip .tooltip-inner .tooltip-body,.tpt801v1 .tpt801-tooltip .tooltip-inner .tooltip-body{font-size:14px;margin:0 0 12px 0}.tpt801v0 .tpt801-tooltip .tooltip-inner .tooltip-cta,.tpt801v1 .tpt801-tooltip .tooltip-inner .tooltip-cta{background-color:white !important;color:#2C358B;border-radius:16.5px;padding:6px 12px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;position:static;margin:0}.tpt801v0 .tpt801-tooltip .tooltip-inner .tooltip-cta svg,.tpt801v1 .tpt801-tooltip .tooltip-inner .tooltip-cta svg{margin-right:5px}.tpt801v0 .tpt801-tooltip .tooltip-underline,.tpt801v1 .tpt801-tooltip .tooltip-underline{position:relative}.tpt801v0 .tpt801-tooltip .tooltip-underline:after,.tpt801v1 .tpt801-tooltip .tooltip-underline:after{content:url(\"//cdn.optimizely.com/img/11000223989/9a64b0c1dfe64c32b104bfe188df8dd3.png\");display:block;position:absolute;bottom:7px;left:-8px;height:5px;width:144px;image-rendering:-webkit-optimize-contrast}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["19186070224"], "experiments": [{"weightDistributions": [{"entityId": "21168081540", "endOfRange": 5000}, {"entityId": "21160231144", "endOfRange": 10000}], "audienceName": "Device | Desktop,U.S. Only,Exclude Premium Sellers,[QA] Cro Metrics Test Cookie (OLI),[DCP Migration] TPTSA Linked Users (Marketplace)", "name": "[DCP Migration] [TEST COOKIE] [RERUN] TPT-1015 [Linked][Marketplace: PDP] [Matched User Catalog product button]", "bucketingStrategy": null, "variations": [{"id": "21168081540", "actions": [{"viewId": "19186070224", "changes": [{"dependencies": [], "type": "custom_code", "id": "800fcf7e80ff43608a557338f2c45695", "value": function($){!function(o,r,t){var n=20904602624,i=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),d=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{i.applyTreatment("v0","pdp-tpt-sa-flagged")}catch(o){d(o)}}("tpt1015");
}}]}], "name": "v0: (Control 1015) CTA Above Price"}, {"id": "21160231144", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){!function(o,r,t){var n=20904602624,i=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),d=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{i.applyTreatment("v1","pdp-tpt-sa-flagged")}catch(o){d(o)}}("tpt1015");
}, "dependencies": [], "type": "custom_code", "id": "01d7e17e972a47b1a16842e67dd8ade9"}]}], "name": "v1: CTA In Line With Price"}], "audienceIds": ["and", "12001380907", "16539970090", "16882670147", "15737501278", "21193201189"], "changes": null, "id": "21207400273", "integrationSettings": null}], "id": "21174690516", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] [RERUN] TPT-1015 [Linked][Marketplace: PDP] [Matched User Catalog product button]", "groupId": null, "commitId": "21193061418", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "72fe880460b54097ac584056270066d1", "value": function($){function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}!function(t){var e=20904602624,n=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":t,"tags":e})},a=window.optimizely.get("utils"),r=a.log&&a.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),i=a.error&&a.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]")),c='<svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.8098 9.08928C11.8098 9.3125 11.7205 9.53571 11.5598 9.69643L10.3455 10.9107C10.1848 11.0714 9.96158 11.1607 9.73836 11.1607C9.51515 11.1607 9.29193 11.0714 9.13122 10.9107L6.50621 8.28571L3.88121 10.9107C3.7205 11.0714 3.49728 11.1607 3.27407 11.1607C3.05085 11.1607 2.82764 11.0714 2.66692 10.9107L1.45264 9.69643C1.29192 9.53571 1.20264 9.3125 1.20264 9.08928C1.20264 8.86607 1.29192 8.64285 1.45264 8.48214L4.07764 5.85714L1.45264 3.23213C1.29192 3.07142 1.20264 2.8482 1.20264 2.62499C1.20264 2.40178 1.29192 2.17856 1.45264 2.01785L2.66692 0.803559C2.82764 0.642844 3.05085 0.553558 3.27407 0.553558C3.49728 0.553558 3.7205 0.642844 3.88121 0.803559L6.50621 3.42856L9.13122 0.803559C9.29193 0.642844 9.51515 0.553558 9.73836 0.553558C9.96158 0.553558 10.1848 0.642844 10.3455 0.803559L11.5598 2.01785C11.7205 2.17856 11.8098 2.40178 11.8098 2.62499C11.8098 2.8482 11.7205 3.07142 11.5598 3.23213L8.93479 5.85714L11.5598 8.48214C11.7205 8.64285 11.8098 8.86607 11.8098 9.08928Z" fill="#fff"/><mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="1" y="0" width="11" height="12"><path d="M11.8098 9.08928C11.8098 9.3125 11.7205 9.53571 11.5598 9.69643L10.3455 10.9107C10.1848 11.0714 9.96158 11.1607 9.73836 11.1607C9.51515 11.1607 9.29193 11.0714 9.13122 10.9107L6.50621 8.28571L3.88121 10.9107C3.7205 11.0714 3.49728 11.1607 3.27407 11.1607C3.05085 11.1607 2.82764 11.0714 2.66692 10.9107L1.45264 9.69643C1.29192 9.53571 1.20264 9.3125 1.20264 9.08928C1.20264 8.86607 1.29192 8.64285 1.45264 8.48214L4.07764 5.85714L1.45264 3.23213C1.29192 3.07142 1.20264 2.8482 1.20264 2.62499C1.20264 2.40178 1.29192 2.17856 1.45264 2.01785L2.66692 0.803559C2.82764 0.642844 3.05085 0.553558 3.27407 0.553558C3.49728 0.553558 3.7205 0.642844 3.88121 0.803559L6.50621 3.42856L9.13122 0.803559C9.29193 0.642844 9.51515 0.553558 9.73836 0.553558C9.96158 0.553558 10.1848 0.642844 10.3455 0.803559L11.5598 2.01785C11.7205 2.17856 11.8098 2.40178 11.8098 2.62499C11.8098 2.8482 11.7205 3.07142 11.5598 3.23213L8.93479 5.85714L11.5598 8.48214C11.7205 8.64285 11.8098 8.86607 11.8098 9.08928Z" fill="white"/></mask><g mask="url(#mask0)"></g></svg>\n';r("v0.1"),n.applyTreatment=function(e,n){a.waitForElement(".StickyProductPageSideColumnLayout .link-btn").then((function(e){var n=document.querySelector(".StickyProductPageSideColumnLayout .link-btn + .cro-tooltip .dismiss.icon");e.addEventListener("click",(function(){o("".concat(t,"_pdp_tptsa_access_now_cta"))})),n.addEventListener("click",(function(){o("".concat(t,"_pdp_tptsa_access_now_tooltip_exits"))}))}))["catch"](i),function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;o.classList.add(t),o.classList.add(t+e),r("Variation ".concat(e,", page ").concat(n))}(e,n);var s="&cro_oeuid=".concat(optimizely.get("visitor").visitorId),l=_slicedToArray({"v0":["Access this resource without using personal&nbsp;funds","".concat('<svg viewBox="0 0 24 24" aria-hidden="true" role="presentation" class="SvgIcon_root__B2saD mr-2"><path d="M15.293 15.793L13 18.086V10.5a1 1 0 10-2 0v7.586l-2.293-2.293a.999.999 0 10-1.414 1.414l3.999 3.999a.99.99 0 00.326.217.991.991 0 001.09-.217l3.999-3.999a.999.999 0 10-1.414-1.414zm4.669-6.061C19.569 5.679 16.148 2.5 12 2.5S4.431 5.679 4.038 9.732A5.484 5.484 0 000 15.02a5.496 5.496 0 004.889 5.474.994.994 0 001.104-.884 1 1 0 00-.884-1.104A3.499 3.499 0 012 15.02a3.49 3.49 0 013.114-3.464C5.62 11.5 6 11.021 6 10.512 6 7.197 8.691 4.5 12 4.5s6 2.697 5.999 6.005a1 1 0 00.887 1.051A3.49 3.49 0 0122 15.02a3.498 3.498 0 01-3.109 3.486 1.001 1.001 0 00.22 1.988A5.497 5.497 0 0024 15.02a5.484 5.484 0 00-4.038-5.288z"></path></svg>\n'," Access Now"),"Look for the Access Now button to find resources available through TpT School Access."],"v1":["View resource details then access it, without paying out of pocket.","View Resource","This resource and all others with this TpT School Access logo are available as part of your subscription."]}["v0"],3),d=l[0],u=l[1],p=l[2],h=document.createElement("div");h.className="".concat(t,"-box"),"v0"==e?h.innerHTML='\n    <div class="'.concat(t,'-modal-box">\n      <div class="header">\n        <img src="//cdn.optimizely.com/img/11000223989/405a26d73afd439cbb2615b0adac4370.png"/>\n      </div>\n      <div class="content">\n        <h2>').concat(d,'</h2>\n        <div class="tooltip-wrapper show">\n          <a href="javascript:;" class="link-btn">').concat(u,'</a>\n          <div class="cro-tooltip">\n            <a href="javascript:;" class="dismiss icon">').concat(c,"</a>\n            <h4>See whats included in your subscription!</h4>\n            <span>").concat(p,"</span>\n          </div>\n          </div>\n      </div>\n    </div>\n  "):"v1"==e&&(h.innerHTML='\n    <div class="'.concat(t,'-modal-box">\n      <div class="content">\n        <div class="tooltip-wrapper show">\n          <a href="javascript:;" class="link-btn">').concat(u,'</a>\n          <div class="cro-tooltip">\n            <button type="button" class="dismiss icon" title="close tooltip">').concat(c,"</button>\n            <h4>See whats included in your subscription!</h4>\n            <span>").concat(p,"</span>\n          </div>\n          </div>\n      </div>\n    </div>\n  "));var m=window.__TPT__hashedUserId,w=!1,v="",y=!1;fetch("https://tpt-tptsa-mapping-prod.s3.amazonaws.com/lookup-by-hashed-user-id/".concat(m),{"method":"GET","headers":{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){t&&(t.hashed_user_id||t.hashed_tpt_user_id)&&(y=!0,t.registration_link&&null!==t.registration_link&&"null"!==t.registration_link&&""!==t.registration_link&&(v=new URL(sessionStorage.getItem("cro_registration_link"))),null!==t.audience&&"non-registered"===t.audience&&(w=!0))}))["catch"](i),a.waitForElement(".tpt-frontend").then((function(t){return a.waitUntil((function(){return t._reactRootContainer&&y}))})).then((function(){a.waitForElement('[data-testid="sticky-price-box-wrapper"] .PriceBox').then((function(n){if(!document.querySelector(".".concat(t,"-modal-box"))){if("v1"==e)n.querySelector(".PriceBox__text").insertAdjacentElement("afterend",h);else"v0"==e&&n.insertAdjacentElement("beforebegin",h);(function(t){for(var e=t+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){var a=n[o].trim();if(0===a.indexOf(e))return a.substring(e.length,a.length)}return null})("cro_saw_".concat(t))&&(h.querySelector(".tooltip-wrapper").classList.remove("show"),h.querySelector(".tooltip-wrapper").classList.add("hide"));var o="?utm_source=tptcoremarketplace&utm_medium=matchedusersbanner&utm_campaign=optimizely".concat(t).concat(e).concat(s);h.querySelector(".link-btn").addEventListener("click",(function(){if(location.pathname.toLowerCase().indexOf("product")>-1){var n=document.querySelector('[itemprop="productID"]').content;n&&!w?window.open("https://www.tptschoolaccess.com/resource/".concat(n).concat(o),"_blank"):w?(v.searchParams.append("utm_campaign","optimizely".concat(t).concat(e)),v.searchParams.append("utm_source","tptcoremarketplace"),v.searchParams.append("utm_medium","matchedusersbanner"),v.searchParams.append("cro_oeuid","".concat(optimizely.get("visitor").visitorId)),window.open(v,"_blank")):window.open("https://www.tptschoolaccess.com".concat(o),"_blank")}})),h.querySelector(".dismiss.icon").addEventListener("click",(function(){!function(t,e,n){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"."+window.location.hostname.split(".").slice(-2).join("."),r=t+"="+e+"; path=/";n instanceof Date?o=n:n>0&&(o=new Date).setTime(o.getTime()+24*n*60*60*1e3),o&&(r+="; expires="+o.toGMTString()),a&&(r+="; domain="+a),document.cookie=r}("cro_saw_".concat(t),!0),h.querySelector(".tooltip-wrapper").classList.remove("show"),h.querySelector(".tooltip-wrapper").classList.add("hide")}))}}))["catch"](i)}))["catch"](i)}}("tpt1015");
}}, {"value": "<style>.tpt1015-box{overflow:visible}.tpt1015.tpt960 .tpt960-box{display:none}.tpt1015 .DigitalActivityBadgeWithTooltip .Tooltip.Tooltip--left.DigitalActivityTooltip__left{display:none !important}.tpt1015 .DigitalActivityBadgeWithTooltip .Tooltip{display:none !important}.tpt1015-modal-box{max-width:100%;height:auto;background:#E8EDF7;padding:0 20px;margin-bottom:15px;text-align:center;-webkit-transition:all 0.3s;-o-transition:all 0.3s;transition:all 0.3s;color:black;border:2px solid transparent}.tpt1015-modal-box h2{font-family:Proxima Nova;font-size:14px;line-height:16px;text-align:center;color:black;padding:20px 0;font-weight:600}.tpt1015-modal-box .link-btn{font-family:Proxima Nova;font-size:16px;font-weight:600;color:#FFFFFF;text-align:center;line-height:1;border-radius:3px;background-color:#2C358B;width:100%;height:42px;padding:12px 18px;display:inline-block;-webkit-transition:background 0.3s;-o-transition:background 0.3s;transition:background 0.3s}.tpt1015-modal-box .link-btn:hover,.tpt1015-modal-box .link-btn:active,.tpt1015-modal-box .link-btn:focus{text-decoration:none;background-color:#202664}.tpt1015-modal-box .link-btn svg{display:inline-block;padding-right:.5em;width:1.85em;line-height:1em}.tpt1015-modal-box img{height:15px;width:125px}.tpt1015-modal-box .header{padding:20px 0px 0px 0px}.tpt1015 .tooltip-wrapper{position:relative;padding-bottom:20px}.tpt1015 .tooltip-wrapper .cro-tooltip{background:#2C358B;color:#fff;display:block;padding:27px 26px 24px 24px;position:absolute;width:302px;-webkit-transition:all .25s ease-out;-o-transition:all .25s ease-out;transition:all .25s ease-out;-webkit-box-shadow:0px 1px 5px rgba(0,0,0,0.1);box-shadow:0px 1px 5px rgba(0,0,0,0.1);right:calc(100% + 20px);top:0;text-align:left;border-radius:6px}.tpt1015 .tooltip-wrapper .cro-tooltip h4{font-size:17px}.tpt1015 .tooltip-wrapper .cro-tooltip span{display:inline-block;margin:5px 0px}.tpt1015 .tooltip-wrapper .cro-tooltip .dismiss.icon{position:absolute;top:9px;right:14px;cursor:pointer;-webkit-transition:all .3s ease;-o-transition:all .3s ease;transition:all .3s ease}.tpt1015 .tooltip-wrapper .cro-tooltip .dismiss.icon:hover,.tpt1015 .tooltip-wrapper .cro-tooltip .dismiss.icon:active,.tpt1015 .tooltip-wrapper .cro-tooltip .dismiss.icon:focus{opacity:.5}@media (max-width: 767px){.tpt1015 .tooltip-wrapper .cro-tooltip{top:-275px;bottom:initial;right:0;left:0}}.tpt1015 .tooltip-wrapper .cro-tooltip:after{border-left:solid transparent 12px;border-right:solid transparent 12px;border-top:solid #2C358B 12px;content:\" \";height:0;right:-17px;position:absolute;width:0;bottom:calc(50% - 7px);-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg);top:20px}.tpt1015 .tooltip-wrapper.show .cro-tooltip{display:block}.tpt1015 .tooltip-wrapper.hide .cro-tooltip{display:none !important}.tpt1015 .StickyProductPageSideColumnLayout{z-index:202}.tpt1015v1 .tpt1015-modal-box{background:transparent;margin-bottom:0;padding:0}.tpt1015v1 .tooltip-wrapper{padding-top:20px;padding-bottom:0}.tpt1015v1 .dismiss.icon{top:8px}.tpt1015v1 .tooltip-wrapper .cro-tooltip:after{top:32px}.tpt1015v1 .tpt-frontend .CartButton{background-color:#fff;border:1px solid #4BA571;color:#4BA571}.tpt1015v1 .tpt-frontend .CartButton:hover,.tpt1015v1 .tpt-frontend .CartButton:active,.tpt1015v1 .tpt-frontend .CartButton:focus{border:1px solid #07794d;background-color:#07794d;color:#fff}</style>", "selector": "head", "dependencies": [], "type": "append", "id": "b6a4e254729a406ba165ac92a645ee52"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["11070712640"], "experiments": [{"weightDistributions": [{"entityId": "21164481525", "endOfRange": 3333}, {"entityId": "21168640798", "endOfRange": 6666}, {"entityId": "21196090359", "endOfRange": 10000}], "audienceName": "[QA] Cro Metrics Test Cookie (OLI),Matched TPT SA Users [logged-in only],Logged In,U.S. Only,Exclude user link type of 'state + exact name',Match_type of email or inst + name only  ,Exclude: All Sellers,[DCP Migration] TPTSA Linked Users (Marketplace)", "name": "[DCP Migration] [TEST COOKIE] TPT-1018 [Linked][Marketplace: Homepage] Popup Modal", "bucketingStrategy": null, "variations": [{"id": "21164481525", "actions": [{"viewId": "11070712640", "changes": []}], "name": "v0: Control (TPT-1018)"}, {"id": "21168640798", "actions": [{"viewId": "11070712640", "changes": [{"value": function($){!function(o,t,i){var r=20901803054,n=window["CRO_SHARED_"+r]||(window["CRO_SHARED_"+r]={}),e=window.optimizely.get("utils"),w=e.error&&e.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v1","optimizely-tpt-home-page")}catch(o){w(o)}}("tpt1018");
}, "dependencies": [], "type": "custom_code", "id": "ee9d68b0c88a46c3bb6ff87f20c31b95"}]}], "name": "v1: User Name Messaging Messaging"}, {"id": "21196090359", "actions": [{"viewId": "11070712640", "changes": [{"value": function($){!function(o,t,i){var r=20901803054,n=window["CRO_SHARED_"+r]||(window["CRO_SHARED_"+r]={}),e=window.optimizely.get("utils"),w=e.error&&e.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v2","optimizely-tpt-home-page")}catch(o){w(o)}}("tpt1018");
}, "dependencies": [], "type": "custom_code", "id": "decc2425d6b5455eb1d183547879786c"}]}], "name": "v2: School Name Messaging"}], "audienceIds": ["and", "15737501278", "20339405977", "12111314811", "16539970090", "20989540462", "21005344518", "16649800467", "21193201189"], "changes": null, "id": "21193191880", "integrationSettings": null}], "id": "21175871201", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] TPT-1018 [Linked][Marketplace: Homepage] Popup Modal", "groupId": null, "commitId": "21185040941", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "381370f18e904b1c9151ab335236d473", "value": function($){!function(e){var t=20901803054,o=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),n=window.optimizely.get("utils"),l=n.log&&n.log.bind(window,"[".concat(e,"]"))||console.warn.bind(window,"[cro] [".concat(e,"]")),i=n.error&&n.error.bind(window,e)||console.error.bind(window,"[cro] [".concat(e,"]"));l("v0.4");var a=function(t){n.waitUntil((function(){return!!window.optimizely.get("dcp")&&!!window.optimizely.get("dcp").getAttributeValue})).then((function(){var o,n=window.optimizely.get("dcp").getAttributeValue({"datasourceId":20144019866,"attributeId":20234667484}),l=null===(o=document.querySelector(".SellerDropdownBespoke__labelName, .BuyerDropdownBespoke__labelName"))||void 0===o?void 0:o.textContent,i={"v1":"".concat(l?'<span class="title-case">'.concat(l.toLowerCase(),"</span>, your"):"Your"," subscription can help you save!"),"v2":"".concat(n?'<span class="title-case">'.concat(n.toLowerCase(),"s</span>"):"Your school's"," subscription can help you save!")},a="&cro_oeuid=".concat(optimizely.get("visitor").visitorId),c="".concat(e).concat(t).concat(a),C=document.createElement("div");C.setAttribute("class","".concat(e,"-modal-overlay")),C.innerHTML='\n      <div class="'.concat(e,'-modal-body cro-modal">\n        <span class="modal-x js-modal-close"></span>\n        <span class="modal-logo">').concat('<svg width="108" height="13" viewBox="0 0 108 13" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 13H20.0996V0H0V13ZM18.5644 11.5109H1.53518V1.47972H18.5644V11.5109Z" fill="#00A86C"/><path d="M4.60567 5.44604H3.36157V4.26859H7.24315V5.44604H5.99906V8.73141H4.60567V5.44604Z" fill="#00AA6C"/><path fill-rule="evenodd" clip-rule="evenodd" d="M10.5274 4.26859H8.05664V8.73861H9.455V7.29976H10.5274C11.6123 7.29976 12.1945 6.63789 12.1945 5.80096C12.1945 4.96403 11.6123 4.26859 10.5274 4.26859ZM9.45502 5.39345H10.3433C10.4882 5.39345 10.6221 5.46796 10.6945 5.5889C10.767 5.70984 10.767 5.85884 10.6945 5.97978C10.6221 6.10072 10.4882 6.17523 10.3433 6.17523H9.45502V5.39345Z" fill="#00AA6C"/><path d="M14.0981 5.44604H12.854V4.26859H16.7356V5.44604H15.4915V8.73141H14.0981V5.44604Z" fill="#00AA6C"/><path d="M28.0121 5.16537C27.0641 4.99271 26.6411 4.85362 26.6411 4.48671C26.6411 4.11981 26.9695 3.91357 27.5642 3.91357C28.3925 3.93347 29.1909 4.21581 29.8359 4.71693L29.8708 4.74331L31.0701 3.23012L31.0402 3.20614C30.1017 2.46022 28.9145 2.06746 27.6986 2.10062C26.8197 2.06272 25.9555 2.32705 25.2602 2.84643C24.7168 3.27976 24.4028 3.92449 24.4042 4.60422C24.4042 6.46753 26.248 6.82245 27.5966 7.08144L27.6662 7.09583C28.5471 7.27568 29.0273 7.44835 29.0273 7.85602C29.0273 8.26369 28.567 8.48671 27.9076 8.48671C26.9427 8.48564 26.0173 8.11766 25.3323 7.46273L25.2975 7.42916L24.1355 9.01669L24.1629 9.04067C25.0711 9.8776 26.2977 10.3021 27.8106 10.3021C29.9653 10.3021 31.2542 9.30446 31.2542 7.633C31.2517 5.81765 29.3806 5.44115 28.0121 5.16537Z" fill="#1E1C4D"/><path d="M36.1386 8.08171C35.8937 8.42243 35.4887 8.62302 35.0587 8.61648C34.2575 8.61648 33.7201 8.07452 33.7201 7.26636C33.7201 6.45821 34.2575 5.93063 35.0587 5.93063C35.4873 5.91422 35.8945 6.11179 36.1361 6.45341L36.166 6.49178L37.4499 5.3407L37.43 5.31193C37.2558 5.07212 36.5616 4.24478 34.9741 4.24478C33.0781 4.24478 31.7021 5.51576 31.7021 7.26636C31.7021 9.01696 33.0483 10.3119 34.9741 10.3119C36.5442 10.3119 37.2508 9.49418 37.43 9.24478L37.4499 9.216L36.166 8.05294L36.1386 8.08171Z" fill="#1E1C4D"/><path d="M42.1872 4.24479C41.4423 4.23034 40.7234 4.50919 40.1966 5.01698V2.21841H38.231V10.1609H40.1966V6.45822C40.4571 6.12845 40.8614 5.93361 41.2914 5.93065C41.9409 5.93065 42.2295 6.20163 42.2295 6.80834V10.1657H44.1952V6.06494C44.1852 4.90906 43.4587 4.24479 42.1872 4.24479Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M45.0786 7.26636C45.0786 5.51576 46.4496 4.24478 48.3381 4.24478C49.236 4.21735 50.106 4.54686 50.7442 5.15605C51.3097 5.72599 51.6198 6.48746 51.6076 7.27596C51.6199 8.0666 51.3099 8.83035 50.7442 9.40306C50.1062 10.0123 49.2358 10.3411 48.3381 10.3119C46.4496 10.3119 45.0786 9.01696 45.0786 7.26636ZM48.3382 8.61657C49.1941 8.61657 49.5823 7.94031 49.5823 7.26645H49.5922C49.5922 6.60218 49.1866 5.93072 48.3382 5.93072C47.4897 5.93072 47.109 6.59259 47.109 7.26645C47.109 7.94031 47.4822 8.61657 48.3382 8.61657Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M52.1226 7.26636C52.1226 5.51576 53.4911 4.24478 55.3796 4.24478C56.2774 4.21735 57.1474 4.54686 57.7857 5.15605C58.3521 5.7256 58.6631 6.48712 58.6516 7.27596C58.663 8.06689 58.3521 8.83059 57.7857 9.40305C57.148 10.0128 56.2774 10.3417 55.3796 10.3119C53.496 10.3119 52.1226 9.01696 52.1226 7.26636ZM55.3796 8.61657C56.2356 8.61657 56.6237 7.94031 56.6237 7.26645H56.6337C56.6337 6.60218 56.2281 5.93072 55.3796 5.93072C54.5312 5.93072 54.1505 6.59259 54.1505 7.26645C54.1505 7.94031 54.5237 8.61657 55.3796 8.61657Z" fill="#1E1C4D"/><rect x="59.5549" y="2.21841" width="1.96816" height="7.94245" fill="#1E1C4D"/><path d="M78.6268 8.08171C78.3834 8.42272 77.9789 8.6235 77.5494 8.61648C76.7482 8.61648 76.2108 8.07452 76.2108 7.26636C76.2108 6.45821 76.7482 5.93063 77.5494 5.93063C77.9781 5.91422 78.3852 6.11179 78.6268 6.45341L78.6542 6.49178L79.9406 5.3407L79.9207 5.31193C79.744 5.07212 79.0498 4.24478 77.4648 4.24478C75.5688 4.24478 74.1929 5.51576 74.1929 7.26636C74.1929 9.01696 75.5489 10.3119 77.4748 10.3119C79.0448 10.3119 79.7515 9.49418 79.9306 9.24478L79.9505 9.216L78.6666 8.05294L78.6268 8.08171Z" fill="#1E1C4D"/><path d="M84.7504 8.08171C84.5069 8.42272 84.1024 8.6235 83.673 8.61648C82.8718 8.61648 82.3343 8.07452 82.3343 7.26636C82.3343 6.45821 82.8718 5.93063 83.673 5.93063C84.1016 5.91422 84.5088 6.11179 84.7504 6.45341L84.7777 6.49178L86.0641 5.3407L86.0442 5.31193C85.8676 5.07212 85.1734 4.24478 83.5884 4.24478C81.6924 4.24478 80.3164 5.51576 80.3164 7.26636C80.3164 9.01696 81.6625 10.3119 83.5884 10.3119C85.1584 10.3119 85.8651 9.49418 86.0442 9.24478L86.0641 9.216L84.7802 8.05294L84.7504 8.08171Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M87.3519 5.09904C87.9534 4.52834 88.771 4.21962 89.6147 4.2446C91.446 4.2446 92.6777 5.53477 92.6677 7.45563V7.89208H88.4726C88.5871 8.33333 89.0275 8.82494 89.9232 8.82494C90.4374 8.82127 90.9356 8.6525 91.339 8.34532L91.3738 8.31415L92.2173 9.51319L92.19 9.53717C91.6525 10.0096 90.697 10.3022 89.7018 10.3022C87.7759 10.3022 86.4298 9.05275 86.4298 7.26618C86.4172 6.45275 86.7503 5.66974 87.3519 5.09904ZM90.7891 6.62581C90.7067 6.07375 90.1911 5.67996 89.6146 5.72893C89.0486 5.70285 88.5512 6.08758 88.4551 6.62581H90.7891Z" fill="#1E1C4D"/><path d="M96.0442 6.42925H96.0267C95.4122 6.32374 95.121 6.23501 95.121 6.00959C95.121 5.78417 95.3972 5.66187 95.8227 5.66187C96.4519 5.6579 97.0611 5.87436 97.5371 6.27098L97.5769 6.30695L98.3383 5.03597L98.3084 5.01438C97.5849 4.51035 96.7129 4.24308 95.8202 4.25179C94.5761 4.25179 93.2474 4.85131 93.2474 6.17026C93.2474 7.60911 94.6284 7.84892 95.6386 8.01438H95.7058C96.3253 8.11031 96.6836 8.21582 96.6836 8.47002C96.6836 8.72422 96.4174 8.85371 95.9372 8.85371C95.1907 8.81498 94.4747 8.55539 93.8869 8.11031L93.8471 8.07673L93.0384 9.3669L93.021 9.39808L93.0459 9.41966C93.6779 9.95443 94.7727 10.3022 95.8376 10.3022C97.4973 10.3022 98.5747 9.54676 98.5747 8.38369C98.5597 6.84172 97.0394 6.59232 96.0442 6.42925Z" fill="#1E1C4D"/><path d="M101.966 6.42909H101.946C101.332 6.32358 101.041 6.23485 101.041 6.00943C101.041 5.78401 101.317 5.66171 101.745 5.66171C102.372 5.66058 102.978 5.87774 103.452 6.27322L103.489 6.30919L104.255 5.03581L104.225 5.01422C103.502 4.51096 102.63 4.24377 101.737 4.25163C100.493 4.25163 99.162 4.85115 99.162 6.1701C99.162 7.60895 100.545 7.84876 101.553 8.01422H101.62C102.24 8.11015 102.598 8.21566 102.598 8.46986C102.598 8.72406 102.332 8.85355 101.852 8.85355C101.105 8.81436 100.39 8.55482 99.8014 8.11015L99.7616 8.07657L98.953 9.36674L98.9355 9.39792L98.9629 9.4195C99.5924 9.95427 100.69 10.302 101.755 10.302C103.414 10.302 104.492 9.5466 104.492 8.38353C104.477 6.84156 102.966 6.59456 101.966 6.42909Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M68.2064 2.19168H70.8738L73.9989 10.1293H71.6899L71.2694 8.93029L71.15 8.56099C70.6778 8.25911 70.1216 8.10271 69.555 8.11254C68.9958 8.10384 68.4463 8.25396 67.975 8.5442L67.8481 8.93029L67.4301 10.1293H65.1086L68.2064 2.19168ZM69.5401 3.96404L68.6045 6.60193C68.9133 6.54149 69.2275 6.51017 69.5426 6.50841C69.8602 6.50923 70.1769 6.54056 70.4881 6.60193L69.5401 3.96404Z" fill="#1E1C4D"/><path d="M105.126 2.39799H104.628V2.08624H105.957V2.39799H105.474V3.69296H105.126V2.39799Z" fill="#1E1C4D"/><path d="M107.647 2.53708L107.176 3.69296H107.022L106.552 2.53708V3.69296H106.196V2.08624H106.694L107.099 3.08864L107.502 2.08624H108V3.69296H107.644L107.647 2.53708Z" fill="#1E1C4D"/></svg>\n','</span>\n        <h2 class="modal-heading">').concat(i[t],'</h2>\n        <p class="modal-copy">Access TpT resources with licenses your administrator already purchased for you.</p>\n        <a href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers#share?utm_source=marketplace&utm_medium=optimizely&utm_campaign=').concat(c,'" class="modal-cta">Go to TpT School Access</a>\n      </div>\n    '),document.body.insertAdjacentElement("beforeend",C),C.querySelector(".js-modal-close").addEventListener("click",(function(){!function(e,t,o){var n,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"."+window.location.hostname.split(".").slice(-2).join("."),i=e+"="+t+"; path=/";o instanceof Date?n=o:o>0&&(n=new Date).setTime(n.getTime()+24*o*60*60*1e3),n&&(i+="; expires="+n.toGMTString()),l&&(i+="; domain="+l),document.cookie=i}("".concat(e,"-modal-dismissed"),!0,365),C.remove()}))}))["catch"](i)};o.applyTreatment=function(t,o){!function(t,o){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;n.classList.add(e),n.classList.add(e+t),l("Variation ".concat(t,", page ").concat(o))}(t,o),function(e){for(var t=e+"=",o=document.cookie.split(";"),n=0;n<o.length;n++){var l=o[n].trim();if(0===l.indexOf(t))return l.substring(t.length,l.length)}return null}("".concat(e,"-modal-dismissed"))||n.waitForElement(".tpt-frontend").then((function(e){return n.waitUntil((function(){return e._reactRootContainer}))})).then((function(){a(t)}))["catch"](i)}}("tpt1018");
}}, {"value": "<style>.tpt1018-modal-overlay{position:fixed;z-index:301;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,0.5)}.tpt1018-modal-body{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);transform:translate(-50%, -50%);width:707px;max-width:80vw;padding:60px 3% 68px;background:#fff;border-radius:18px;border:4px solid #3D52A2;font-family:'Proxima Nova', 'Helvetica Neue', Helvetica, Arial, sans-serif;color:#1D1C4C;text-align:center;position:relative}@media (max-width: 498px){.tpt1018-modal-body{max-width:initial;width:calc(100vw - 12px);padding:48px 23px}}.tpt1018-modal-body .modal-x{position:absolute;top:4px;right:calc((28px * -1) - 8px);height:28px;width:28px;background:rgba(0,0,0,0.8);border-radius:3px}.tpt1018-modal-body .modal-x:before{content:'\\00d7';color:#fff;font-size:28px;font-weight:400;height:28px;width:28px;vertical-align:middle;line-height:1}.tpt1018-modal-body .modal-x:hover{cursor:pointer}@media (max-width: 498px){.tpt1018-modal-body .modal-x{background:none;right:10px;top:5px}.tpt1018-modal-body .modal-x:before{color:#777;font-size:40px}}.tpt1018-modal-body .modal-logo svg{width:65%;height:auto}.tpt1018-modal-body .modal-heading{font-size:42px;line-height:1.157}@media (max-width: 498px){.tpt1018-modal-body .modal-heading{font-size:28px}}.tpt1018-modal-body .modal-heading .title-case{text-transform:capitalize}.tpt1018-modal-body .modal-copy{font-size:26px;line-height:1.425;max-width:90%;margin:1em auto}@media (max-width: 498px){.tpt1018-modal-body .modal-copy{font-size:20px}}.tpt1018-modal-body .modal-cta{background:#3D52A2;color:#fff;text-decoration:none;border-radius:3px;font-size:20px;display:inline-block;padding:1rem 1.5rem;margin-top:10px}@media (max-width: 498px){.tpt1018-modal-body .modal-cta{width:100%;max-width:calc(305px - 3rem)}}</style>", "selector": "head", "dependencies": [], "type": "append", "id": "b2b42486ae63489aa79f9743ebdb1c6b"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["19186070224"], "experiments": [{"weightDistributions": [{"entityId": "21181851256", "endOfRange": 10000}], "audienceName": "Exclude Premium Sellers,United States Only,Device | Desktop,[DCP Migration] TPTSA Acquisition (Unlinked users),[QA] Cro Metrics Test Cookie (OLI)", "name": "[DCP Migration] [TEST COOKIE] [100% v0] TPT-661 [PDP] Banner Placement Optimization for PDP Pages", "bucketingStrategy": null, "variations": [{"id": "21181851256", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){window["CRO_SHARED_20268701848"].init("v0","pdp-tpt-sa-flagged");
//# sourceMappingURL=v0.pdp-tpt-sa-flagged.js.map
}, "dependencies": [], "type": "custom_code", "id": "4eef2955e14041459fdfbf5bddb5af41"}]}], "name": "v0: Control - current placement above price box on right hand rail"}, {"id": "21189610931", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){window["CRO_SHARED_20268701848"].init("v1","pdp-tpt-sa-flagged");
//# sourceMappingURL=v1.pdp-tpt-sa-flagged.js.map
}, "dependencies": [], "type": "custom_code", "id": "4aa0ae01ce514d0fa36076bae26ddeed"}]}], "name": "v1: top banner"}], "audienceIds": ["and", "16882670147", "16931205087", "12001380907", "21160151169", "15737501278"], "changes": null, "id": "21156901492", "integrationSettings": null}], "id": "21178340116", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] [100% v0] TPT-661 [PDP] Banner Placement Optimization for PDP Pages", "groupId": null, "commitId": "21171421620", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "fc0426e1e6e141fa8798fecaf5fc3513", "value": function($){function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==c["return"]||c["return"]()}finally{if(a)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}!function(e,t){var n=20268701848,r=(window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),window.optimizely.get("utils")),a=r.log&&r.log.bind(window,"[".concat(e,"]"))||console.warn.bind(window,"[cro] [".concat(e,"]")),o=r.error&&r.error.bind(window,e)||console.error.bind(window,"[cro] [".concat(e,"]"));a("v0.1");var i=function(t){var n=_slicedToArray({"v0":["price-box__tptsa","//cdn.optimizely.com/img/11000223989/2a950034f69f4696853cb15b1b84646b.svg",'.StickyProductPageSideColumnLayout [data-testid="sticky-price-box-wrapper"]',"beforebegin",""],"v1":["top-banner","//cdn.optimizely.com/img/11000223989/f5aec95c0c994b1ba40e1014eafbb97f.png",".ProductPageLayout__outerGridContainer","afterbegin",'<a href="#" class="banner-close"><img src="//cdn.optimizely.com/img/11000223989/b9244dc59d9b4672b56a0ee918d55ef0.svg" alt="close-banner"></a>']}[t],5),i=n[0],c=n[1],l=n[2],s=n[3],d=n[4],u='\n    <div class="'.concat(e,"-banner ").concat(i,'">\n      <img src="').concat(c,'" class="banner-logo" alt="TPT School Access">\n      <p>Get a school-funded subscription</p>\n      <a href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign=').concat(e).concat(t,'" class="cta-link" target="_blank">Learn More</a>\n      ').concat(d,"\n    </div>\n  ");r.waitForElement(l).then((function(n){n.insertAdjacentHTML(s,u);var i=document.querySelector(".".concat(e,"-banner"));i.querySelector(".cta-link").addEventListener("click",(function(t){t.preventDefault();try{window.__displayTeacherAdvocacyModal(),r.waitForElement('[form="TEACHER_ADVOCACY_PARDOT"] .TeacherAdvocacyForm').then((function(t){var n=window.__TPT__&&window.__TPT__.getConfig()&&window.__TPT__.getConfig().isLoggedIn;a(n?"short form loaded!":"long form loaded!");var i=t.querySelector(".TeacherAdvocacyForm__submit");i.classList.add("js-hidden");var c=t.querySelector("#label_personalizedMessage"),l=t.querySelectorAll(".row"),s=Array.from(l),d=n?s.slice(0,3):s.slice(0,6),u=n?s.slice(3):s.slice(6);u.push(c),t.insertAdjacentHTML("beforeend",'\n      <div align="center">\n        <a id="'.concat(e,'-next-btn" class="DSButton DSButton--primary DSButton--medium DSButton--contained LandingPageButton DSButton--disabled" disabled><span class="DSButton__content"><span class="DSButton__text">Next</span></span></a>\n      </div>\n    ')),u.forEach((function(e){e.classList.add("js-hidden")})),r.waitForElement("#".concat(e,"-next-btn")).then((function(e){var r=t.querySelector("#teacherFirstName"),o=t.querySelector("#teacherLastName"),c=t.querySelector("#teacherEmail"),l=t.querySelector("#firstName"),s=t.querySelector("#lastName"),f=t.querySelector("#email");t.addEventListener("keyup",(function(){!n&&r.value&&o.value&&c.value&&l.value&&s.value||n&&l.value&&s.value?(a("all required fields are filled"),t.querySelector(".Input--error")?(a("there is an active field error"),e.classList.add("DSButton--disabled"),e.disabled=!0):(a("all fields are valid"),e.classList.remove("DSButton--disabled"),e.disabled=!1)):(a("a required field is unfilled"),e.classList.add("DSButton--disabled"),e.disabled=!0)})),e.addEventListener("click",(function(){e.classList.contains("DSButton--disabled")||(d.forEach((function(e){e.classList.add("js-hidden")})),u.forEach((function(e){e.classList.remove("js-hidden")})),f.focus(),i.classList.remove("js-hidden"),e.classList.add("js-hidden"))}))}))["catch"](o)}))["catch"](o)}catch(t){window.location.href=t.target.href}})),"v0"!==t&&i.querySelector(".banner-close").addEventListener("click",(function(e){e.preventDefault(),i.remove()}))}))["catch"](o)};t.init=function(t,n){!function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;r.classList.add(e),r.classList.add(e+t),a("Variation ".concat(t,", page ").concat(n))}(t,n),r.waitForElement(".tpt-frontend").then((function(e){return r.waitUntil((function(){return e._reactRootContainer}))})).then((function(){i(t)}))["catch"](o)}}("tpt661",window["CRO_SHARED_20268701848"]||(window["CRO_SHARED_20268701848"]={"id":20268701848,"tag":"tpt661"}));
//# sourceMappingURL=shared.js.map
}}, {"dependencies": [], "type": "append", "id": "e0606b8e44d44d83898accbab1816d2d", "value": "<style>.tpt661-banner.price-box__tptsa{margin-bottom:17px;background-color:#E8EDF7;border-radius:3px;padding:24px;text-align:center}.tpt661-banner.price-box__tptsa p{font-size:14px;font-weight:700;margin:12px 0;color:#1E1C4D}.tpt661-banner.price-box__tptsa .cta-link{background-color:#3E51A2;color:#fff;padding:12px 18px;font-size:16px;display:inline-block;width:100%;border-radius:28px;line-height:1;font-weight:600}.tpt661-banner.top-banner{background:-webkit-gradient(linear, left top, right top, color-stop(4.41%, #E5E6FE), color-stop(96.99%, rgba(255,255,255,0))),#E8E9FF;background:-o-linear-gradient(left, #E5E6FE 4.41%, rgba(255,255,255,0) 96.99%),#E8E9FF;background:linear-gradient(90deg, #E5E6FE 4.41%, rgba(255,255,255,0) 96.99%),#E8E9FF;min-height:70px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;border-radius:4px;padding:24px 46px;margin-bottom:24px}@media (max-width: 768px){.tpt661-banner.top-banner{display:none}}.tpt661-banner.top-banner .banner-logo{width:188px}.tpt661-banner.top-banner p{font-weight:700;font-size:21px;color:#1D1B4B}.tpt661-banner.top-banner .cta-link{text-decoration:underline;color:#0AA96C;font-weight:700;font-size:20px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.tpt661-banner.top-banner .cta-link:hover{color:#07794d}.tpt661 .TeacherAdvocacyForm .js-hidden{display:none !important}.tpt661 .TeacherAdvocacyForm [class^=\"js-form\"]{display:none}.tpt661 .TeacherAdvocacyForm [class^=\"js-form\"].active{display:block}.tpt661 .TeacherAdvocacyForm [class^=\"js-form\"][class*=\"--status\"]{display:block}.tpt661 .TeacherAdvocacyForm .DSButton{width:100%;padding:18px}.tpt661 .tpt-frontend .DSButton--disabled,.tpt661 .tpt-frontend .DSButton--loading,.tpt661 .tpt-frontend .DSButton:disabled{background-color:#f5f5f5 !important;border:1px solid #ddd !important;cursor:not-allowed !important}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["20683830014"], "experiments": [{"weightDistributions": [{"entityId": "21185631344", "endOfRange": 10000}], "audienceName": "Device | Desktop,U.S. Only,Logged In", "name": "100% to v1: TPT-1089 [Desktop][Easel][My Purchases] Holdback Easel Banner v2", "bucketingStrategy": null, "variations": [{"id": "21197361031", "actions": [{"viewId": "20683830014", "changes": []}], "name": "v0: Original"}, {"id": "21185631344", "actions": [{"viewId": "20683830014", "changes": [{"value": function($){!function(o,r,n){var t=20999932080,i=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),e=window.optimizely.get("utils"),w=e.error&&e.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{i.applyTreatment("v1","pjs-my-purchases-not-empty")}catch(o){w(o)}}("tpt1089");
}, "dependencies": [], "type": "custom_code", "id": "e8dcadbca1b74b0a99360d3ff31e581c"}]}], "name": "v1: Holdback for tpt"}], "audienceIds": ["and", "12001380907", "16539970090", "12111314811"], "changes": null, "id": "21164671632", "integrationSettings": null}], "id": "21180171216", "weightDistributions": null, "name": "100% to v1: TPT-1089 [Desktop][Easel][My Purchases] Holdback Easel Banner v2", "groupId": null, "commitId": "21179681484", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "f6e8251df08449508506a3db7f56fdf7", "value": function($){function _slicedToArray(e,n){return _arrayWithHoles(e)||_iterableToArrayLimit(e,n)||_unsupportedIterableToArray(e,n)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,n){if(e){if("string"==typeof e)return _arrayLikeToArray(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,n):void 0}}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var a=0,t=new Array(n);a<n;a++)t[a]=e[a];return t}function _iterableToArrayLimit(e,n){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var t,o,i=[],r=!0,s=!1;try{for(a=a.call(e);!(r=(t=a.next()).done)&&(i.push(t.value),!n||i.length!==n);r=!0);}catch(e){s=!0,o=e}finally{try{r||null==a["return"]||a["return"]()}finally{if(s)throw o}}return i}}function _arrayWithHoles(e){if(Array.isArray(e))return e}!function(e){var n=20999932080,a=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),t=window.optimizely.get("utils"),o=t.log&&t.log.bind(window,"[".concat(e,"]"))||console.warn.bind(window,"[cro] [".concat(e,"]")),i=t.error&&t.error.bind(window,e)||console.error.bind(window,"[cro] [".concat(e,"]")),r=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push_attribute";window.optimizely.push({"type":"user","attributes":e}),window.optimizely.push({"type":"event","eventName":n})},s=function(e,n,a,t){var o=e[n];e[n]=function(){var e=t||this,n="function"==typeof o&&o.apply(e,arguments);try{a.apply(e,arguments)}catch(e){console.log(e)}return n};return function(){e[n]=o}},c={"students":{"image":"//cdn.optimizely.com/img/11000223989/7198d01af2e14291920578cd711c0dc2.png","heading":"Students can highlight, type, add images, move objects, and more","description":"The resource (including text boxes) and your edits stay locked, so students only interact with what you want."},"movable":{"image":"//cdn.optimizely.com/img/11000223989/34e66d192bde4ae2a45a204f43b4b81e.png","heading":"Make content movable","description":"Movable shapes and images can be used for virtual manipulatives, sorting exercises, stickers, and more."},"teacher-authors":{"image":"//cdn.optimizely.com/img/11000223989/4fdff4eede9649048ac5716065542b57.png","heading":"Prepared in Easel by Teacher-Authors ","description":"Resources that include an Easel Activity or Assessment have already been prepared in Easel by the Teacher-Author and are ready to assign."},"edit-pages":{"image":"//cdn.optimizely.com/img/11000223989/dc637a3d5d4f4d698008d6d3c0cda651.png","heading":"Edit pages","description":"You can add, remove, and re-arrange pages in bulk or one-at-a-time. "},"google-classroom":{"image":"//cdn.optimizely.com/img/11000223989/81f5bfa02ef040e6b28eb44678718b3e.png","heading":"Assign to Google Classroom without leaving TpT","description":"Simply choose your class and assign. <br><strong>Dont use Google?</strong> Share a link with students instead (e.g., on Seesaw, Canvas, or via email)"},"google-classroom2":{"image":"//cdn.optimizely.com/img/11000223989/81f5bfa02ef040e6b28eb44678718b3e.png","heading":"Assign via Google Classroom, or by sharing a link","description":"Simply choose your class and assign. <br><strong>Dont use Google?</strong> Share a link with students instead (e.g., on Seesaw, Canvas, or via email)"},"google-classroom3":{"image":"//cdn.optimizely.com/img/11000223989/81f5bfa02ef040e6b28eb44678718b3e.png","heading":"Assign via Google Classroom, or by sharing a link","description":"Assign to your Google Class without leaving TpT.<br><strong>Dont use Google?</strong> You can now share a link with students anywhere, like email, Seasaw, Canvas or text message."},"student-login":{"image":"//cdn.optimizely.com/img/11000223989/da092e38ed7647aeb57e645488b7b7c6.png","heading":"Students log in through any email account","description":"Students can use their existing Google account, or make a new account with any email."},"student-devices":{"image":"//cdn.optimizely.com/img/11000223989/e628f53d9d854e9b9f6e5ee40e4428ca.png","heading":"Works on student devices","description":'Students simply open the activity in any browser  like Chrome, Safari or Internet Explorer  on any desktop, laptop or tablet.<br><br><span style="font-size: 14px; font-weight: 600; color: #595959">No applications to download</span>'},"in-progress-returned":{"image":"//cdn.optimizely.com/img/11000223989/505c9088201b4e1e8f84c7ce7678e84d.png","heading":"View in-progress and returned student work","description":"See what your students are working on at any given moment, and revisit returned student work. "},"certified":{"image":"//cdn.optimizely.com/img/11000223989/5ccbf1f122ee4294993456f73d1fdc84.png","heading":"Certified as research-based by Digital Promise","description":'Easel Activities has been awarded the Research-Based Design Product Certification from Digital Promise.<br> <a href="https://blog.teacherspayteachers.com/easel-activities-certified-as-research-based-by-digital-promise/" target="_blank" rel="noopener" style="text-decoration: underline">Learn more</a>.'},"images":{"image":"//cdn.optimizely.com/img/11000223989/6f2f118bb1134f4e894782676d976904.png","heading":"Add static and movable images","description":"You and your students can now add your own images to your activities! Enhance your resources with all kinds of virtual manipulatives, sorting exercises, stickers, and more."},"student-login-now":{"image":"//cdn.optimizely.com/img/11000223989/da092e38ed7647aeb57e645488b7b7c6.png","heading":"Students can now log in through <em>any</em> email account","description":"Students can use their existing Google account, or make a new account with any email (e.g., Yahoo)."},"student-login-now2":{"image":"//cdn.optimizely.com/img/11000223989/da092e38ed7647aeb57e645488b7b7c6.png","heading":"Students can now log in through <em>any</em> email account","description":"Students can access the activities just by loggining into their existing email account - Google, Yahoo, or others!"},"in-progress":{"image":"//cdn.optimizely.com/img/11000223989/505c9088201b4e1e8f84c7ce7678e84d.png","heading":"View in-progress student work","description":"See what your students are working on at any given moment, and revisit returned student work. "},"bulk-edit-pages":{"image":"//cdn.optimizely.com/img/11000223989/dc637a3d5d4f4d698008d6d3c0cda651.png","heading":"Bulk edit pages","description":"You can add, remove, and re-arrange pages in bulk or one-at-a-time. "},"bulk-edit-pages2":{"image":"//cdn.optimizely.com/img/11000223989/dc637a3d5d4f4d698008d6d3c0cda651.png","heading":"Bulk edit pages","description":"You can add, remove, and re-arrange pages. Change one page, or many at once. "},"self-grading":{"image":"//cdn.optimizely.com/img/11000223989/6f3071255e124cc5b3dd809a95d77116.png","heading":"Self-grading quizzes","description":"We launched Easel Assessments - quizzes with auto-grading, and real-time student data!"}};o("v0.13");var l=window.CRO_PJS;window.CRO_SHARED=window.CRO_SHARED||{},window.CRO_SHARED.pluralizePhrase=function(e,n,a){return 1===e?n:n+a};var d=window.CRO_SHARED.myPurchasesEaselBanner={"clear":function(){var e=document.querySelector(".croEaselBanner-container");e&&e.parentNode.removeChild(e)},"insert":function(e){var n=e.hasModal,a=void 0!==n&&n,o=e.content,r=(o=void 0===o?{}:o).bannerClassName,s=void 0===r?"":r,l=o.containerClassName,u=void 0===l?"":l,g=o.imageHtml,m=void 0===g?"":g,h=o.imageContainerClassName,p=void 0===h?"":h,v=o.labelText,f=void 0===v?"Time Saving Tip":v,w=o.headingHtml,y=void 0===w?"":w,b=o.descriptionHtml,E=void 0===b?"":b,_=o.ctaClassName,k=void 0===_?"":_,A=o.ctaText,S=void 0===A?"":A,C=o.linkClassName,T=void 0===C?"":C,M=o.linkText,x=void 0===M?"":M,L=o.linkHref,B=void 0===L?"":L,z=e.modalContent,H=(z=void 0===z?{}:z).modalHeadingHtml,P=void 0===H?"":H,R=z.features,D=void 0===R?[]:R,I=z.footerHeadingHtml,O=void 0===I?"":I,Z=z.footerCtaText,G=void 0===Z?"":Z;d.clear(),t.waitForElement(".tpt-frontend").then((function(e){return t.waitUntil((function(){return e._reactRootContainer})).then((function(){return t.waitForElement(".ResultsContainer__results ").then((function(e){e.insertAdjacentHTML("beforebegin",'\n          <aside class="croEaselBanner-container '.concat(u,'" data-has-modal="').concat(!!a,'">\n            <div class="croEaselBanner ').concat(s,'">\n              <div class="croEaselBanner-image ').concat(p,'">\n                ').concat(m,'\n              </div>\n              <div class="croEaselBanner-content">\n                <div class="croEaselBanner-content-label">').concat(f,'</div>\n                <div class="croEaselBanner-content-heading">').concat(y,'</div>\n                <div class="croEaselBanner-content-description">').concat(E,'</div>\n\n                <div class="croEaselBanner-content-button-group">\n                  <a class="croEaselBanner-button ').concat(k,'" href="https://www.teacherspayteachers.com/My-Purchases/Easel" rel="noopener">').concat(S,'</button>\n                  <a class="croEaselBanner-link ').concat(T,'" href="').concat(B,'" rel="noopener" target="_blank">').concat(x," ").concat(a?'<svg class="svg-caret" fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 6"><path fill-rule="evenodd" clip-rule="evenodd" d="m7.533.219-3.06 3.053L1.413.22l-.94.94 4 4 4-4-.94-.94Z" fill="#067C64"/></svg>':"",'</a>\n                </div>\n              </div>\n\n              <div class="croEaselBanner-logo"><svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 114 20"><g clip-path="url(#a)"><path d="M12.21 19.442H.049V1.375h12.16v3.232H3.89v4.215h5.706v2.992H3.89v4.397h8.32v3.23ZM62.082 19.48h-12.16V1.409h12.16v3.23h-8.318V8.86h5.706v2.995h-5.706v4.395h8.318v3.232ZM77.236 19.422H64.922V1.345h3.84v14.78h8.474v3.297ZM47.208 12.13a3.895 3.895 0 0 0-.948-1.453 5.581 5.581 0 0 0-1.641-1.071 11.823 11.823 0 0 0-2.384-.732l-2.206-.464c-1.078-.226-1.852-.51-2.32-.852a1.61 1.61 0 0 1-.527-.588 1.582 1.582 0 0 1-.18-.764 1.925 1.925 0 0 1 .229-.933c.157-.285.38-.53.65-.714a3.14 3.14 0 0 1 .999-.451 5.034 5.034 0 0 1 1.31-.164c1.349 0 2.64.56 3.283 1.785 1.016-.588 2.032-1.18 3.047-1.772A5.363 5.363 0 0 0 45.149 2.4a6.947 6.947 0 0 0-2.2-1.123 9.227 9.227 0 0 0-2.786-.393 9.74 9.74 0 0 0-2.887.4 6.52 6.52 0 0 0-2.214 1.148 5.191 5.191 0 0 0-1.418 1.785 5.253 5.253 0 0 0-.5 2.317c0 2.756 1.662 4.476 4.985 5.16l2.39.502c.49.097.973.229 1.445.393.35.119.681.285.986.493.234.162.426.377.56.626.12.242.18.508.176.776.003.33-.084.654-.253.939a2.322 2.322 0 0 1-.707.733 3.563 3.563 0 0 1-1.074.476c-.449.115-.91.17-1.374.164-.501.006-1.001-.049-1.488-.164a4.063 4.063 0 0 1-1.176-.483c-.721-.45-1.011-.95-1.273-1.282l-3.088 1.804c.833 1.393 2.22 2.373 3.846 2.837.969.266 1.97.394 2.975.382a10.95 10.95 0 0 0 3.104-.407 6.935 6.935 0 0 0 2.34-1.165 5.085 5.085 0 0 0 1.48-1.849c.354-.772.53-1.613.514-2.46a5.4 5.4 0 0 0-.304-1.877ZM32.158 12.554 30.66 9.731c-.662.342-1.345.645-2.044.905l-3.27-9.261h-4.77l-3.294 9.351c-.662-.24-1.3-.54-1.906-.897l-1.73 2.702c.818.48 1.68.88 2.576 1.195l-2.012 5.716h4.164l1.45-4.632.048-.164a19.183 19.183 0 0 0 6.194-.035l.06.19 1.447 4.632h4.165l-2.063-5.781c.85-.315 1.68-.681 2.484-1.098ZM20.83 11.57l2.018-6.45h.241l2 6.415a16.055 16.055 0 0 1-4.267.04l.009-.005Z" fill="#2D2E32"/><path d="M80.798 12.877h2.572c1.43 0 2.165.578 2.165 1.677v.036c0 .676-.333 1.172-1.062 1.38.851.164 1.31.656 1.31 1.514v.036c0 1.182-.789 1.805-2.298 1.805h-2.687v-6.448Zm2.332 2.65c.715 0 1-.251 1-.829v-.034c0-.541-.31-.784-1-.784h-.88v1.647h.88Zm.128 2.79c.733 0 1.063-.329 1.063-.912v-.036c0-.593-.333-.9-1.136-.9h-.943v1.847h1.016ZM88.909 16.546l-2.166-3.669h1.63l1.332 2.471 1.3-2.47h1.437l-2.04 3.668v2.777h-1.5l.007-2.777ZM98.046 14.008h-1.767v-1.13h5.025v1.13h-1.767v5.315h-1.5l.009-5.315ZM102.596 12.877h2.26c1.593 0 2.499.694 2.499 2.056v.036c0 1.362-.961 2.01-2.454 2.01h-.833v2.344h-1.472v-6.446Zm2.223 3.083c.723 0 1.108-.343 1.108-.984v-.036c0-.684-.403-.955-1.108-.955h-.751v1.969l.751.006ZM109.79 14.008h-1.765v-1.13h5.024v1.13h-1.766v5.315h-1.499l.006-5.315Z" fill="#058466"/></g><defs><clipPath id="a"><path fill="#fff" transform="translate(.049 .883)" d="M0 0h113v19H0z"/></clipPath></defs></svg></div>\n\n              <button class="croEaselBanner-close"><svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.34.973a1 1 0 1 1 1.414 1.414L7.675 6.466l4.082 4.081a1 1 0 1 1-1.415 1.414L6.262 7.88 2.18 11.96a1 1 0 0 1-1.414-1.414l4.08-4.081-4.078-4.08A1 1 0 1 1 2.182.974l4.08 4.078L10.34.973Z" fill="#000"/></svg></button>\n            </div>\n\n            ').concat(a?'\n              <div class="croEaselModal-container">\n                <div class="croEaselModal-mask"></div>\n                <div class="croEaselModal">\n                  <div class="croEaselModal-close"><svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 13 13"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.34.973a1 1 0 1 1 1.414 1.414L7.675 6.466l4.082 4.081a1 1 0 1 1-1.415 1.414L6.262 7.88 2.18 11.96a1 1 0 0 1-1.414-1.414l4.08-4.081-4.078-4.08A1 1 0 1 1 2.182.974l4.08 4.078L10.34.973Z" fill="#fff"/></svg></div>\n                  <div class="croEaselModal-box">\n                    <div class="croEaselModal-heading">'.concat(P,'</div>\n                    <div class="croEaselModal-features">\n                      ').concat(D.map((function(e){return c[e]})).filter((function(e){return e})).map((function(e){return'\n                        <div class="croEaselModal-feature">\n                          <div class="croEaselModal-feature-graphic">\n                            <img src="'.concat(e.image,'">\n                          </div>\n                          <div class="croEaselModal-feature-content">\n                            <div class="croEaselModal-feature-heading">').concat(e.heading,'</div>\n                            <div class="croEaselModal-feature-description">').concat(e.description,"</div>\n                          </div>\n                        </div>")})).join(""),'\n                    </div>\n\n                    <div class="croEaselModal-footer">\n                      <p>... and more!</p>\n\n                      <div class="croEaselModal-footer-cta">\n                        <div class="croEaselModal-footer-label">Give it a try</div>\n                        <div class="croEaselModal-footer-heading">').concat(O,'</div>\n                        <a class="croEaselModal-footer-button" href="https://www.teacherspayteachers.com/My-Purchases/Easel" rel="noopener">').concat(G,'</a>\n                      </div>\n\n                      <div class="croEaselModal-footer-free">\n                        <svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <mask id="mask0" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="2" y="3" width="13" height="11">\n                        <path d="M9.05684 4.52215C9.73359 3.88844 10.5145 3.54432 11.3853 3.50603L11.5496 3.50244C13.4439 3.50244 14.9902 5.0386 14.9902 6.93278C14.9902 8.70803 14.369 9.58883 11.6464 11.7695L11.0865 12.2133L9.66796 13.3189C9.26951 13.6294 8.71096 13.6294 8.3125 13.3189L6.69969 12.0603C3.66663 9.66373 2.99023 8.78522 2.99023 6.93278C2.99023 5.0386 4.53653 3.50244 6.43086 3.50244C7.355 3.50244 8.18777 3.84807 8.91359 4.51945L8.98663 4.59024L9.05684 4.52215Z" fill="black"/>\n                        </mask>\n                        <g mask="url(#mask0)">\n                        <rect x="0.990234" y="0.527344" width="16" height="16" fill="#666666"/>\n                        </g>\n                        </svg>\n\n                        Easel is free to use\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            '):"","\n          </aside>\n        "));var n=document.querySelector(".croEaselBanner-container");n.querySelector(".croEaselBanner-close").addEventListener("click",(function(){n.parentNode.removeChild(n),t.cookie.set("croEaselBanner","closed")}));var o=document.querySelectorAll(".croEaselBanner-button, .croEaselModal-footer-button");Array.from(o).forEach((function(e){e.addEventListener("click",(function(){return sessionStorage.setItem("croEaselBanner_button_clicked",!0)}))}));var i=n.querySelector(".croEaselBanner-link");if(a){var r=n.querySelector(".croEaselModal-container"),l=r.querySelectorAll(".croEaselModal-close, .croEaselModal-mask");i.addEventListener("click",(function(e){e.preventDefault(),document.body.style.overflow="hidden",r.classList.add("is-active")})),Array.from(l).forEach((function(e){return e.addEventListener("click",(function(e){e.preventDefault(),r.classList.remove("is-active"),document.body.style.overflow=null}))}))}}))}))}))["catch"](i)}};a.applyTreatment=function(n,a){if(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push_attribute",a=window.optimizely.get("visitor"),t=Object.values(a.custom||{}),o=Object.entries(e).reduce((function(e,n){var a=_slicedToArray(n,2),o=a[0],i=a[1];return t.find((function(e){return e.id===o||e.name===o}))||(e[o]=i),e}),{});Object.keys(o).length&&r(o,n)}({"tpt1089_saw_easel_banner":"false"}),"closed"===t.cookie.get("croEaselBanner"))return o("Banner has been closed in session. Not proceeding with experiment");window.location.pathname.toLowerCase().indexOf("/my-purchases/easel")>-1&&sessionStorage.getItem("croEaselBanner_button_clicked")&&(sessionStorage.removeItem("croEaselBanner_button_clicked"),t.waitForElement(".tpt-frontend").then((function(e){return t.waitUntil((function(){return e._reactRootContainer}))})).then((function(){return t.waitForElement('.MyPurchasesAndDownloadsDropdown__dropdownButton[data-testid="type-dropdown-button"]')})).then((function(e){e.parentNode.parentNode.insertAdjacentHTML("afterend",'\n          <aside class="ResultsContainer__filterTooltip cro__tooltip">\n            <div class="Tooltip Tooltip--top">\n              <div class="Tooltip__container">\n                <div class="Tooltip__content">\n                  <h3 class="Tooltip__header">\n                    <h4 class="Text Text--h4 Text--colorTextPrimary ResultsContainer__filterTooltip--tooltipHeader">You\'re seeing Easel formats</h4>\n                  </h3>\n                  <div class="Tooltip__bodyCopy">To see all formats again, change this filter.</div>\n                  <div class="Tooltip__ctaContainer Tooltip__ctaContainer--flexEnd"><a data-testid="cro_EaselTooltip" class="Anchor Anchor--green"><span class="Tooltip__secondaryCta">Okay. Got it!</span></a></div>\n                </div>\n              </div>\n            </div>\n          </aside>\n        '),document.body.classList.add("cro__tooltip-shown"),document.querySelector('a[data-testid="cro_EaselTooltip"]').addEventListener("click",(function(){var e=document.querySelector(".cro__tooltip");e.parentNode.removeChild(e),document.body.classList.remove("cro__tooltip-shown")}))}))["catch"](i)),(l.tptAPI.data&&l.tptAPI.data.GetPurchasesAndDownloads?Promise.resolve(l.tptAPI.data.GetPurchasesAndDownloads):l.tptAPI.GetPurchasesAndDownloads({"filter":"EASEL"}).then((function(e){var n=e.data.member.myPurchasesAndDownloads;return n?(l.tptAPI.data=l.tptAPI.data||{},l.tptAPI.data.GetPurchasesAndDownloads=n,n):{}}))["catch"]((function(e){i("Something went wrong with detecting Easel purchases.",e)}))).then((function(t){try{if(t.pageInfo){var c=t.pageInfo.totalResultsCount;if(!c||c<1)return o("No Easel purchases detected");!function(n,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;t.classList.add(e),t.classList.add(e+n),o("Variation ".concat(n,", page ").concat(a))}(n,a),d.insert({"content":{"imageHtml":'<img alt="Easel graphic" src="https://cdn.optimizely.com/img/11000223989/7a70ac7f885c4b96b1f113f4856cc418.png">',"labelText":"Time Saving Tip","headingHtml":"Assign <mark>your ".concat(c," ready-to-go</mark> digital ").concat(window.CRO_SHARED.pluralizePhrase(c,"resource","s")," without leaving TpT"),"ctaText":"See your ".concat(c," ").concat(window.CRO_SHARED.pluralizePhrase(c,"resource","s")),"linkText":"What is Easel?","linkHref":"https://www.teacherspayteachers.com/easel/learn-more"}}),r({"tpt1089_saw_easel_banner":"true"});var l=function(){setTimeout((function(){window.location.pathname.toLowerCase().indexOf("/my-purchases/easel")>-1?document.body.classList.add("croEaselBanner__hidden"):document.body.classList.remove("croEaselBanner__hidden")}),0)};s(window.history,"pushState",l),s(window.history,"replaceState",l),window.addEventListener("onpopstate",l),l()}}catch(e){i("Something went wrong with getting Easel purchases data. Aborting experiment",e)}}))["catch"](i)}}("tpt1089");
}}, {"dependencies": [], "type": "append", "id": "772ba6e4047343bf93128ffca411cfa9", "value": "<style>@font-face{font-family:Tiempos;font-style:normal;font-display:swap;font-weight:400;src:url(https://www.teacherspayteachers.com/easel/learn-more/fonts/tiempos-text-web-regular.woff) format(\"woff\"),url(https://www.teacherspayteachers.com/easel/learn-more/fonts/tiempos-text-web-regular.woff2) format(\"woff2\")}.tpt1089 body:not(.croEaselBanner__hidden) .MyPurchasesPageLayout__rightColumn{margin-top:370px}.tpt1089 .cro__tooltip-shown .ResultsContainer__filterTooltip:not(.cro__tooltip){display:none !important}.tpt1089 .highlight{position:relative;z-index:0}.tpt1089 .highlight:before{content:'';position:absolute;left:-2%;bottom:0;width:102%;height:100%;background:#FFF2AA;z-index:-1}.tpt1089 .highlight--withpen:before{width:140%;height:60%}.tpt1089 .highlight--withpen:after{content:'';position:absolute;width:40px;height:40px;right:-122px;top:6px;background-image:url(\"data:image/svg+xml,%3Csvg fill='none' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 38 38'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='m32.351 1.943 4.312 4.535c1.398 1.471 1.469 3.832.16 5.392L25.228 26.156 13.646 13.97l13.58-12.197c1.483-1.376 3.727-1.302 5.125.169ZM9.149 18.012c-.734.68-1.022 1.75-.736 2.734l.89 3.074-3.475 3.655 6.565 6.906 3.47-3.65 2.916.939c.937.301 1.955 0 2.603-.774l2.425-2.988-11.826-12.44-2.832 2.544ZM.646 35.237l6.817 2.298 2.419-2.544-4.574-4.811-4.662 5.057Z' fill='%23222'/%3E%3C/svg%3E\");background-repeat:no-repeat;background-size:36px}.tpt1089:not(.tpt1093) .croEaselBanner-content-heading{max-width:400px}.croEaselBanner{position:relative;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background:#FEF9EF;margin-bottom:38px;margin-top:-38px;padding:24px}.croEaselBanner__hidden .croEaselBanner{display:none}.croEaselBanner-container{border-bottom:1px solid #DDDDDD}@media screen and (max-width: 767px){.croEaselBanner-container{display:none !important}}.croEaselBanner-content{margin-left:24px}.croEaselBanner-content mark{display:inline;background-color:#FFF2AA}.croEaselBanner-content-label{margin-bottom:6px;text-transform:uppercase;font-size:12px;font-weight:600;letter-spacing:0.065em;color:#4F63AD}.croEaselBanner-content-heading{font-size:23px;line-height:1.25;font-weight:700;margin-bottom:6px}.croEaselBanner-content-description{margin-bottom:12px;font-size:14px;line-height:19.25px;color:#000}.croEaselBanner-content-description .strong{font-weight:600}.croEaselBanner-content-button-group{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.croEaselBanner-content-button-group .croEaselBanner-button{margin-right:16px;padding:12px 18px;background:#0AA96C;border-radius:3px;color:#fff;font-weight:600;font-size:16px;line-height:1.37;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.croEaselBanner-content-button-group .croEaselBanner-button:hover,.croEaselBanner-content-button-group .croEaselBanner-button:focus{background:#07794d}.croEaselBanner-content-button-group .croEaselBanner-link{font-size:14px;font-weight:600;color:#067C64;text-decoration:underline}.croEaselBanner-content-button-group .croEaselBanner-link:hover,.croEaselBanner-content-button-group .croEaselBanner-link:focus{color:#222;text-decoration:underline}.croEaselBanner-logo{position:absolute;width:78px;height:20px;bottom:24px;right:24px}.croEaselBanner-close{position:absolute;width:12px;height:12px;top:18px;right:18px}.croEaselBanner-container[data-has-modal=\"true\"] .croEaselBanner-link{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;text-decoration:none}.croEaselBanner-container[data-has-modal=\"true\"] .croEaselBanner-link:hover .svg-caret path{fill:#222}.croEaselBanner-container[data-has-modal=\"true\"] .croEaselBanner-link .svg-caret{margin-left:7px;width:10px}.croEaselBanner-image img{max-width:230px;height:auto;image-rendering:-webkit-optimize-contrast;image-rendering:crisp-edges}.croEaselModal{position:absolute;width:100%;min-height:750px;max-width:860px;height:50vh;margin:auto;background:#fff;z-index:5;-webkit-transform:translateX(-50%);-ms-transform:translateX(-50%);transform:translateX(-50%);left:50%}.croEaselModal-container,.croEaselModal-mask{position:fixed;display:none;top:0;left:0;width:100%;height:100%;max-height:100vh;z-index:4;overflow-y:auto;padding:120px 40px}.croEaselModal-container.is-active,.croEaselModal-mask.is-active{display:block}.croEaselModal-mask{display:block;background:rgba(0,0,0,0.4)}.croEaselModal-box{padding:86px 44px;overflow-y:auto;height:100%;width:100%;-webkit-box-shadow:0px 4px 28px rgba(0,0,0,0.25);box-shadow:0px 4px 28px rgba(0,0,0,0.25)}.croEaselModal-heading{font-family:Tiempos, serif;font-weight:600;font-size:41px;line-height:52px;text-align:center;margin-bottom:24px}.croEaselModal-features{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;max-width:572px;margin:0 auto 60px}.croEaselModal-feature{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:30px 0}.croEaselModal-feature-graphic{margin-right:38px;max-width:250px;-webkit-box-flex:0;-webkit-flex:0 0 250px;-moz-box-flex:0;-ms-flex:0 0 250px;flex:0 0 250px}.croEaselModal-feature-graphic img{width:100%;height:auto}.croEaselModal-feature-heading{margin-bottom:6px;font-weight:600;font-size:19px;line-height:1.375}.croEaselModal-feature-description{font-size:16px;line-height:1.375}.croEaselModal-footer{text-align:center}.croEaselModal-footer p{font-size:19px}.croEaselModal-footer mark{display:inline;background-color:#FFF2AA}.croEaselModal-footer-label{font-weight:600;font-size:16px;margin-bottom:6px;color:#222;opacity:0.66;text-transform:uppercase}.croEaselModal-footer-heading{margin-bottom:32px;font-size:27px;line-height:32px;font-weight:600;color:#222}.croEaselModal-footer-cta{margin-top:100px;margin-bottom:32px}.croEaselModal-footer .croEaselModal-footer-button{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;padding:12px 18px;background:#0AA96C;border-radius:3px;color:#fff;font-weight:600;font-size:16px;line-height:1.37;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.croEaselModal-footer .croEaselModal-footer-button:hover,.croEaselModal-footer .croEaselModal-footer-button:focus{background:#07794d}.croEaselModal-footer-free{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;color:#666;font-size:14px;line-height:22px;letter-spacing:0.03px}.croEaselModal-footer-free svg{margin-right:6px;margin-bottom:2px;fill:#666}.croEaselModal-close{position:absolute;top:0;right:-60px;background:#000;width:50px;height:50px;border-radius:4px;z-index:5;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:pointer}.croEaselModal-close svg{width:20px;height:20px}.cro__tooltip{margin-top:40px;margin-left:20px}.cro__tooltip .Text--h4{margin-bottom:4px;font-size:16px}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["12371712421"], "experiments": [{"weightDistributions": [{"entityId": "21192000272", "endOfRange": 10000}], "audienceName": "Exclude Matched TPT SA Users [logged-in only],Logged In,U.S. Only,Exclude Premium Sellers,Has DCP School Name,Device | Desktop,Schools with > 10 FTE,[DCP Migration] TPTSA Acquisition (Unlinked users),[QA] Cro Metrics Test Cookie (OLI)", "name": "[DCP Migration] [TEST COOKIE] 100% to v0: TPT-1014 [Unlinked][Post Free Download] Personalization and Urgency Winter", "bucketingStrategy": null, "variations": [{"id": "21192000272", "actions": [{"viewId": "12371712421", "changes": [{"value": function($){!function(o,r,n){var i=20934660130,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v0","freedownload")}catch(o){e(o)}}("tpt1014");
}, "dependencies": [], "type": "custom_code", "id": "a766c3abebd24b928088681533c166c4"}]}], "name": "v0: Control - winner of TPT812"}, {"id": "21158591173", "actions": [{"viewId": "12371712421", "changes": [{"value": function($){!function(o,r,n){var i=20934660130,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v1","freedownload")}catch(o){e(o)}}("tpt1014");
}, "dependencies": [], "type": "custom_code", "id": "8fd673683baa461a87930de8f8210803"}]}], "name": "v1: School Name Included"}], "audienceIds": ["and", "19997272145", "12111314811", "16539970090", "16882670147", "20604890334", "12001380907", "20581671055", "21160151169", "15737501278"], "changes": null, "id": "21168281072", "integrationSettings": null}], "id": "21182931191", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] 100% to v0: TPT-1014 [Unlinked][Post Free Download] Personalization and Urgency Winter", "groupId": null, "commitId": "21171950696", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "047bf9062bd944dea17be9b7405d650a", "value": function($){!function(n){var t=20934660130,c=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),o=window.optimizely.get("utils"),e=o.log&&o.log.bind(window,"[".concat(n,"]"))||console.warn.bind(window,"[cro] [".concat(n,"]")),a=o.error&&o.error.bind(window,n)||console.error.bind(window,"[cro] [".concat(n,"]"));e("v0.2");c.utils=o,c.applyTreatment=function(t,c){!function(t,c){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;o.classList.add(n),o.classList.add(n+t),e("Variation ".concat(t,", page ").concat(c))}(t,c);var i=o.params.parse().school_name,s=i||optimizely.get("dcp").getAttributeValue({"datasourceId":20144019866,"attributeId":20234667484});o.waitForElement("#content_layout").then((function(c){var o="&cro_oeuid=".concat(optimizely.get("visitor").visitorId),e="".concat(n).concat(t).concat(o),a=s?s.split(" ").map((function(n){return n.length>1?n[0].toUpperCase()+n.substring(1,n.length).toLowerCase():n})).join(" ")+" teachers":"you",i={"v0":"Federal stimulus funding could help ".concat(a," access resources through a school subscription."),"v1":"Wait! You could save on the resources ".concat(a," need for the new semester. Ask your principal for a school subscription.")},r='\n      <div class="'.concat(n,'-banner">\n        <div class="').concat(n,'-banner-logo"><img src="//cdn.optimizely.com/img/11000223989/9d60cf99ff8f45e8bfc66473cf54f01b.png"></div>\n        <div class="').concat(n,'-banner-content">\n          <div class="').concat(n,'-banner-text">').concat(i[t],'</div>\n          <div class="').concat(n,'-banner-cta">\n            <a class="').concat(n,'-banner-button" href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign=').concat(e,'#share">Request a subscription</a>\n          </div>\n        </div>\n      </div>\n    ');c.insertAdjacentHTML("afterbegin",r)}))["catch"](a)}}("tpt1014");
}}, {"dependencies": [], "type": "append", "id": "5ef386b7f25b42c082bc3d2579ef9b92", "value": "<style>.tpt1014-banner{padding:22px 30px;border:3px solid #415294;border-radius:10px;max-width:90%;margin:20px auto}@media screen and (min-width: 768px){.tpt1014-banner{max-width:800px}}.tpt1014-banner-logo{margin-bottom:16px}.tpt1014-banner-logo img{width:186px;height:auto}.tpt1014-banner-content{font-family:'Proxima Nova', sans-serif}@media screen and (min-width: 768px){.tpt1014-banner-content{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}}.tpt1014-banner-text{margin-bottom:20px;color:#1D1C4C;font-size:18px;font-weight:600}@media screen and (min-width: 768px){.tpt1014-banner-text{margin-bottom:0}}@media screen and (min-width: 768px){.tpt1014-banner-cta{margin-left:10px}}.tpt1014-banner-button{white-space:nowrap;background:#415294;color:#fff;font-size:14px;font-weight:600;padding:10px 20px;border-radius:4px}.tpt1014v1.tpt364 .tpt364-banner{display:none}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["13715460482"], "experiments": [{"weightDistributions": [{"entityId": "21199440398", "endOfRange": 10000}], "audienceName": "Exclude Matched TPT SA Users [logged-in only],U.S. Only,Exclude Premium Sellers,Device | Desktop", "name": "100% to v0: TPT-1122 [Search/Browse][Unlinked] Hover Personalization Test", "bucketingStrategy": null, "variations": [{"id": "21199440398", "actions": [{"viewId": "13715460482", "changes": [{"value": function($){!function(r,o,n){var i=21089181644,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,r)||console.error.bind(window,"[cro] [".concat(r,"]"));try{t.applyTreatment("v0","browse-incl-search-substring")}catch(r){e(r)}}("tpt1122");
}, "dependencies": [], "type": "custom_code", "id": "3220f24b170f45669b998d05a39fec56"}]}], "name": "v0: Control (1122)"}, {"id": "21201410057", "actions": [{"viewId": "13715460482", "changes": [{"value": function($){!function(r,o,n){var i=21089181644,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,r)||console.error.bind(window,"[cro] [".concat(r,"]"));try{t.applyTreatment("v1","browse-incl-search-substring")}catch(r){e(r)}}("tpt1122");
}, "dependencies": [], "type": "custom_code", "id": "d6c73a87d68643fcafccc3d59bbdbda0"}]}], "name": "v1: Middle callout w/ tooltip"}, {"id": "21189940295", "actions": [{"viewId": "13715460482", "changes": [{"value": function($){!function(r,o,n){var i=21089181644,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,r)||console.error.bind(window,"[cro] [".concat(r,"]"));try{t.applyTreatment("v2","browse-incl-search-substring")}catch(r){e(r)}}("tpt1122");
}, "dependencies": [], "type": "custom_code", "id": "493be5b607434826ae3fdc1e2cfa03e5"}]}], "name": "v2: Right callout w/ Get a Subscription tooltip"}, {"id": "21195680361", "actions": [{"viewId": "13715460482", "changes": [{"value": function($){!function(r,o,n){var i=21089181644,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,r)||console.error.bind(window,"[cro] [".concat(r,"]"));try{t.applyTreatment("v3","browse-incl-search-substring")}catch(r){e(r)}}("tpt1122");
}, "dependencies": [], "type": "custom_code", "id": "0eeae9afe69f44598ee38a685ec26f03"}]}], "name": "v3: Right callout w/ Dont Miss Out tooltip"}], "audienceIds": ["and", "19997272145", "16539970090", "16882670147", "12001380907"], "changes": null, "id": "21178040370", "integrationSettings": null}], "id": "21183600518", "weightDistributions": null, "name": "100% to v0: TPT-1122 [Search/Browse][Unlinked] Hover Personalization Test", "groupId": null, "commitId": "21193580577", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "95ca1d0c5df249e6a89150edbf2df94c", "value": function($){!function(t){var e=21089181644,o=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":t,"tags":e})},i=window.optimizely.get("utils"),n=i.log&&i.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]"));i.error&&i.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));n("v1"),o.applyTreatment=function(e,o){!function(e,o){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;c.classList.add(t),c.classList.add(t+e),n("Variation ".concat(e,", page ").concat(o))}(e,o);var a="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign=".concat(t).concat(e);if("v0"===e||"v1"===e?i.observeSelector('.SearchProductRowLayout[data-crometrics-isavailableonschoolaccess="true"]',(function(t){var e,o,i;t.querySelector(".NextSearchProductRowLayout__descriptionContainer").insertAdjacentHTML("beforeend",'\n        <div class="tpt-school-access">\n          <p>Also available with subscription</p>\n          <img src="//cdn.optimizely.com/img/20328970170/e30c72021d9e4233afa2ec0b2101f6a8.png" alt="TpT Schools Access" height="28">\n          <a class="Button Button--medium Button--fullWidth" href="'.concat(a,'">Learn More</a>\n        </div>\n      ')),null===(e=t.querySelector(".tpt-school-access a"))||void 0===e||e.addEventListener("click",(function(){c("tpt1122-search-in-line-tptsa-callout-clicks"),window.heap.track("[TPT-1122] Search | In-Line TPTSA Callout Clicks")})),null===(o=t.querySelector(".tpt-school-access .cro-tooltip a"))||void 0===o||o.addEventListener("click",(function(){c("tpt1122-search-tptsa-tooltip-cta-click"),window.heap.track("TPT-1122 Search | TPTSA Tooltip CTA Click")})),null===(i=t.querySelector(".tpt-school-access > a"))||void 0===i||i.addEventListener("click",(function(){c("tpt1122-search-on-page-tptsa-callout-cta-click"),window.heap.track("TPT-1122 Search | On-page TPTSA Callout CTA Click")}))})):"v2"!==e&&"v3"!==e||i.observeSelector("[data-crometrics-isavailableonschoolaccess='true'] .ProductRowPriceAndBundleText .ProductRowPriceBespoke",(function(e){var o,i,l;"FREE"!==e.textContent&&(e=e.children[e.children.length-1]),e.classList.add("".concat(t,"-section")),e.insertAdjacentHTML("beforeend",'<a href="'.concat(a,'" class="').concat(t,'-house">').concat('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\r\n    <rect width="16" height="16" fill="url(#pattern0)"/>\r\n    <defs>\r\n        <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">\r\n            <use xlink:href="#image0_1215_5193" transform="scale(0.00900901)"/>\r\n        </pattern>\r\n        <image id="image0_1215_5193" width="111" height="111" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAABYlAAAWJQFJUiTwAAAIWElEQVR4nO2dT2wUVRzHfxhFsUUQ+dNqTEFoOJTE4gE5CIMGEkCMsBF6VNiDHPhT40EkQUEUuIjFcvCypR4bTCkJBGOMdMEDcKBrAgdTlN0QpVhBkBYbLpjv8LbZtuy8PzPvzbzt+ySTNrvz5+189/3m+97vN7MTHjx4QA47eczpZi9OPItx4lnM40luupfK7CaiTwNW2ZPtTO9m664lokYiWlbyfp6IurKd6S79rTVPog2LiHhMIKxXF7BegYiaK01E28PmZiI6whGO2PvHvFSmm/VQLl4q06i/+eFIdNgUYJbk+h4WL5X5F2ISUY4tpSDsvsd69LLg3cWL7eKp8gwRvcuWcuST/iGc27QYJ57FOPEsxolnMU48i3HiWYwTz2KceBbjxLMYJ57FOPEsphLnNrMl/3sxtkM7lSLeNSL6hCVebxdf9FKZqSzXtz3e5umhEsQ7BIFKRSvCXmv2UpkuJmJF9UTbxTue7Uw381bKdqa7kZtjCdZmlqfjJXBH5/kSh+3iSZ3gbGc6xxKtCKmziah0ARD5Nlsv8YzXZCyEzNuQcA3CDRUsJunVYz8Q0YqAVQqaek+LDZVmiRXPS2VaSiz+LSKaZrgJZV1sUkiceGxs1k5Eb496628imm64Ob/A4CTVwCRKPOYAEa5eLrPKPbSZiCYZbtoH2c50i+FjckmMeGwMBqs+RWD1OMLocdYLExNGE+E2vVQGY68eQeGICXdDc7NGgzCe91KZxBTixi4eMyZHFDZFtfQgEf2noVnlwJfrNGtz7MQWNgOMiQo3FErfwxK7mYml5zFj0h2RcMSEMx1GYapw4wp3blUXxnuepDGRBWF0iIie0/spxhCLmTHa85gxERZu3uxptGXTYplDVDHhrik3Uo1YzIyxnidwo+QIVr5eT1s3Labqqol05epN2nngR7rRPyBzyH+I6NlQjVZj+G5d3WgXjxmTFs7tVCN4Z02DL1wpA4P3aX/rGfr5QkG2CXGICDOzlmUutKFVPCZcd8CMyRh2bFlKq96oL/v+0ROX6XDbOdmm9BFRjexGIbnDbqVu13UAbeLJGpOqpyfS13tX07w5fK8RIow+QUTVMhtFgDYzo0U8ZkxaZIzJFztWUM1M8fMaIoz+SUTPy24UkgITsDvKnUYunqwxeW1RHX28dalvTFRQDKNwoy8qHTAckZqZyMSLypiogDCKXnglf0tm65tE9GQMYTQyMxOJeDqMiSwIo61t5+j7072ym8YRRu+wMBoqWx9aPJ3GRIVTP/X6Ig7euy+z9e9E9JKWBgXzLXOkSmYmlHgmjIkKimG0nyV5TYfRAguj0hPcyuKZNiayWBZGScXMSItnypig9/RevUV9/XepZsZkqp8zTSnUKobRP4joBemDhSfLroVCZkZKPBPGBKLhZOcu9415r7GhhjY2vUKNC2qF90fqYXSQ/a2SOlh4hM2MsHjMmHQJ1Pj7qBgT9JIDh89w11NxqiHCaEH0M0cM18wIiceelNcuY0xwfZMRDr0j/aG4c858udZkGI1LwMBsPTefxzLFx0SFQ2g7tPdN6RPbKjlLIrt+EfRYPyLMlio+q2NhdFBg3SjB5amnXLY+sOd5qUy7jDFBDg49Tpa+vwaoaXOH9HYd3zQpDztChNFfiWi+0kHDkWVDiuEw+sieB2PipTI5GeFwHVIRjnzx7hrdDmDIgvZ+/tFy//osAYT7TfnA6ngsWz/8sNcx4jFjkhN1lPjghz5bHelUl0mWvFpHbQfXyYbRuei8MRQ9TWFP7G1BBxtxf54JY5JEEHozB9f5YfS7E5dFW1jNltvM3psEOg0Ni8cuil+JNgDGBFNdUcyYqIof9ZcGEwmNDbX+mFDCjU5li2mG/LApKxyMCRxlVFNd2A/2KQOm23RMtSmG0VgoXvOEvzlhjEkQmDkRNQ5YL4o8YDmKYRTTeklGuG5TtzHBCcP4iydgceZGd2aCWBhVcKPGEBIPIQQnTHZOURZcwxCyyoVQvO6HNIMGqRhGJz2VvGcvCLUI30BTJww9CmEZS+7S9eHXdX9xeG2aP3f6IyfL4yTRj/KIUzAbGLfPYYmaWTOqI/UDmEDn1aU68SKidma175ijApcMnnjuIToW48SzGCeexST+mtfDhgu1MycbGZjbRKLEQ1L27IUCnT2fLzumwoQBxpxLFtX5A+jxTCLE6w2oGBsNKsCwIANeM+Ohw7M1lxiWWMVDKUJbx0WZHNoI+voHaP/hM3T0xCV/Rqbe8ryiLLEZFgi3bddJZeFKQU9E5RkGtuOJWHoehFv/fods+R2X/azmc7yEUeM9r9jjohauCAQ8e176blkrMS7ePvmyc6VjwLlWOkbFw5hN5h5yDAuQw9vYtNCvmRFNiqJX72vNCqxpN0aveSjsEQHlBxvWLBgxKN/Y9PAvTMmRjou+0wwCww58WRZWcFrJWM/DieSdcPQs3IOwbdPisrMpMCPIbKMAicfRCJxskjEm3ilOWXmxNkVkrIaqsX07lvuhNAiEaBikSsWYeDwHuOGtBulB9s6tHvc62FNSSlFpGBEPzi9oaAAB1q9ZIL1fhFbemO5K/qb0fm3BiHjXOTeEYIJZtYB2FadY1/W8kPDGXLUhUj3jbT6zFDPi9Qf3PNwf4JDHZdItxolnMU48i3HiWYwTz2KceBbjxLMYJ57FOPEsxolnMU48i3HiWYwTz2KECpB6Q5bq8VJCeNbmBE3nEGUQuQhyerxyCjxSefuuk6GPU7o/Hv4jG2Uf9i0L73GsYYXTvf+EsseFTYtx4lmMkaJb3WGrQsMiF9fzLMaJZzFOPIspXvMi/UXFCmUl53dnh9hv05oib/xH7h3R4cKmrRDR/3MdT7BBaAsrAAAAAElFTkSuQmCC"/>\r\n    </defs>\r\n</svg>\r\n',"</a>")),null===(o=e.querySelector(".".concat(t,"-house")))||void 0===o||o.addEventListener("click",(function(){c("tpt1122-search-in-line-tptsa-callout-clicks"),window.heap.track("[TPT-1122] Search | In-Line TPTSA Callout Clicks"),c("tpt1122-search-on-page-tptsa-callout-cta-click"),window.heap.track("TPT-1122 Search | On-page TPTSA Callout CTA Click")})),null===(i=e.querySelector(".".concat(t,"-house")))||void 0===i||i.addEventListener("mouseenter",(function(){var o=e.querySelector(".".concat(t,"-house")).parentElement.parentElement.parentElement.querySelector(".cro-tooltip");n("Mouse entered"),n(o),o&&setTimeout((function(){return o.classList.add("".concat(t,"-tooltip--show"))}),10)})),null===(l=e.querySelector(".".concat(t,"-house")))||void 0===l||l.addEventListener("mouseleave",(function(){var o=e.querySelector(".".concat(t,"-house")).parentElement.parentElement.parentElement.querySelector(".cro-tooltip");n("Mouse exit"),n(o),o&&setTimeout((function(){return o.classList.remove("".concat(t,"-tooltip--show"))}),50)}))})),"v0"!==e&&!i.cookie.get("".concat(t,"-seen"))){var l={"v1":{"title":"Dont miss out!","body":"Get this resource with a school subscription.","link":"Learn More"},"v2":{"title":"Get a subscription for<br>your school","body":"","link":"Refer your Principal"},"v3":{"title":"Dont miss out!","body":"Get this resource with a school subscription.","link":"Learn More"}};i.observeSelector("v1"===e?".tpt-school-access":"[data-crometrics-isavailableonschoolaccess='true'] .ProductRowPriceAndBundleText",(function(o){if(o.classList.add("".concat(t,"-section")),n(o),!o.parentElement.querySelector(".cro-tooltip")){var a=l[e];o.insertAdjacentHTML("beforeend",'\n      <div class="'.concat(t,"-tooltip ").concat(t,"-tooltip-").concat(e,' cro-tooltip">\n        <button class="').concat(t,'-tooltip-close">').concat('<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.03098 9.0311C8.63657 9.42551 7.9971 9.42551 7.60269 9.0311L4.74512 6.17352L1.88754 9.0311C1.49313 9.42551 0.853668 9.42551 0.459259 9.0311C0.0648491 8.63669 0.0648492 7.99722 0.459259 7.60282L3.31683 4.74524L0.459258 1.88766C0.0648482 1.49325 0.0648491 0.85379 0.459259 0.459381C0.853668 0.0649712 1.49313 0.0649713 1.88754 0.459381L4.74512 3.31696L7.60269 0.45938C7.9971 0.0649703 8.63657 0.0649712 9.03098 0.459381C9.42539 0.85379 9.42539 1.49325 9.03098 1.88766L6.1734 4.74524L9.03098 7.60282C9.42539 7.99723 9.42539 8.63669 9.03098 9.0311Z" fill="white"/>\r\n</svg>\r\n','</button>\n        <div class="').concat(t,'-tooltip-title">').concat(a.title,'</div>\n        <div class="').concat(t,'-tooltip-body">').concat(a.body,'</div>\n        <a class="').concat(t,'-tooltip-link" href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign=').concat(t).concat(e,'">').concat(a.link,"</a>\n      </div>\n    "));var r=o.querySelector(".".concat(t,"-tooltip"));"v2"!==e&&"v3"!==e||("v3"===e&&r.classList.add("".concat(t,"-tooltip-tall")),o.querySelector(".ProductRowPriceBespoke__discountPriceToTheRight")||(r.classList.add("".concat(t,"-tooltip-pull-up")),"v3"===e&&r.classList.add("".concat(t,"-tooltip-pull-up-tall")))),o.querySelector(".".concat(t,"-tooltip-close")).addEventListener("click",(function(){r.remove(),i.cookie.set("".concat(t,"-seen"),!0,7)})),o.querySelector(".".concat(t,"-tooltip-link")).addEventListener("click",(function(){c("tpt1122-search-tptsa-tooltip-cta-click"),window.heap.track("TPT-1122 Search | TPTSA Tooltip CTA Click"),c("tpt1122-search-in-line-tptsa-callout-clicks"),window.heap.track("[TPT-1122] Search | In-Line TPTSA Callout Clicks")}))}}))}}}("tpt1122");
}}, {"dependencies": [], "type": "append", "id": "5c6c880ecc0947a988cc634408e47f39", "value": "<style>.tpt1122 .tpt-school-access{position:relative;clear:both;padding-top:10px}.tpt1122 .tpt-school-access p{font-size:14px;display:block;text-align:left;margin-bottom:5px;margin-top:20px}.tpt1122 .tpt-school-access img{width:auto;height:20px;margin-right:50px;position:relative;top:-1px}.tpt1122 .tpt-school-access .Button{background-color:#41539d;color:#fff;padding:8px 10px;position:relative;top:-10px;margin-left:10px}.tpt1122-hidden{display:none}.tpt1122 .tpt-school-access a.Button{font-size:11px;margin-left:10px}@media only screen and (min-width: 780px){.tpt1122 .tpt-school-access a.Button{font-size:14px}}@media only screen and (min-width: 980px){.tpt1122 .tpt-school-access a.Button{font-size:9px}}@media only screen and (min-width: 995px){.tpt1122 .tpt-school-access a.Button{font-size:10px}}@media only screen and (min-width: 1019px){.tpt1122 .tpt-school-access a.Button{font-size:11px}}@media only screen and (min-width: 1042px){.tpt1122 .tpt-school-access a.Button{font-size:12px}}@media only screen and (min-width: 1065px){.tpt1122 .tpt-school-access a.Button{font-size:13px}}@media only screen and (min-width: 1088px){.tpt1122 .tpt-school-access a.Button{font-size:14px}}.tpt1122-section{position:relative !important}.tpt1122-house{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background-color:#E8EDF7;width:25px;height:25px;border-radius:50%;margin-left:6px;-webkit-transition-delay:0.2s;-o-transition-delay:0.2s;transition-delay:0.2s}.tpt1122-house svg{margin-bottom:3px}a:hover ~ .tpt1122-tooltip{opacity:1;visibility:visible;-webkit-transition:all;-o-transition:all;transition:all}.tpt1122-tooltip{position:absolute;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;background-color:#415294;color:white;font-weight:400;z-index:1;width:282px;left:-88px;top:-16px;padding:24px;border-radius:6px;-webkit-transition:all;-o-transition:all;transition:all;-webkit-transition-delay:0.3s;-o-transition-delay:0.3s;transition-delay:0.3s;opacity:0;visibility:hidden}.tpt1122-tooltip--show{opacity:1;visibility:visible}.tpt1122-tooltip:hover{opacity:1;visibility:visible}.tpt1122-tooltip::after{position:absolute;content:\"\";-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);top:calc(50% - 8px);right:-7px;border-top:8px solid #415294;border-right:8px solid #415294;border-bottom:8px solid transparent;border-left:8px solid transparent}.tpt1122-tooltip-v2,.tpt1122-tooltip-v3{left:-300px;top:-33px}.tpt1122-tooltip-tall{top:-39px}.tpt1122-tooltip-pull-up{top:-53px}.tpt1122-tooltip-pull-up-tall{top:-59px}.tpt1122-tooltip-close{position:absolute;min-height:auto !important;line-height:0;top:20px;right:20px;padding:5px}.tpt1122-tooltip-title{font-size:19px;line-height:137.5%;margin-bottom:3px}.tpt1122-tooltip-body{font-size:14px;line-height:137.5%}.tpt1122-tooltip-link{font-size:14px;line-height:117%;font-weight:600;margin-top:11px}.tpt1122-tooltip-link:hover{text-decoration:underline !important}</style>", "selector": "head"}]}, {"holdback": 0, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["20683830014"], "experiments": [{"weightDistributions": [{"entityId": "21189360297", "endOfRange": 10000}], "audienceName": "Device | Desktop,U.S. Only,Logged In,[DCP] Active or Regular Users of Easel", "name": "Easel Banner - Active User", "bucketingStrategy": null, "variations": [{"id": "21189360297", "actions": [{"viewId": "20683830014", "changes": [{"dependencies": [], "type": "custom_code", "id": "d4ebae077edc4e059e6dbdfd1b02b297", "value": function($){!function(o,r,n){var t=21012681235,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("exp3-v1","pjs-my-purchases-not-empty")}catch(o){w(o)}}("tpt1093");
}}]}], "name": "v1: General value prop + landing page"}, {"id": "21183240214", "actions": [{"viewId": "20683830014", "changes": [{"dependencies": [], "type": "custom_code", "id": "0071459c05484152ada07dba151a27a8", "value": function($){!function(o,r,n){var t=21012681235,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("exp3-v2","pjs-my-purchases-not-empty")}catch(o){w(o)}}("tpt1093");
}}]}], "name": "v2: Highlight 1 feature + modal"}], "audienceIds": ["and", "12001380907", "16539970090", "12111314811", "21022111747"], "changes": null, "id": "21171690252", "integrationSettings": null}, {"weightDistributions": [{"entityId": "21191270327", "endOfRange": 10000}], "audienceName": "Device | Desktop,U.S. Only,Logged In,[DCP] Never Used OR Are New to Easel", "name": "Easel Banner - New User", "bucketingStrategy": null, "variations": [{"id": "21191270327", "actions": [{"viewId": "20683830014", "changes": [{"dependencies": [], "type": "custom_code", "id": "59d177e1204a4ccb8751774784d0aafa", "value": function($){!function(o,r,n){var t=21012681235,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("exp1-v1","pjs-my-purchases-not-empty")}catch(o){w(o)}}("tpt1093");
}}]}], "name": "v1: General value prop + landing page"}, {"id": "21189350306", "actions": [{"viewId": "20683830014", "changes": [{"dependencies": [], "type": "custom_code", "id": "9a22a24fafe34d8a9433133df277e7b2", "value": function($){!function(o,r,n){var t=21012681235,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("exp1-v2","pjs-my-purchases-not-empty")}catch(o){w(o)}}("tpt1093");
}}]}], "name": "v2: Highlight 1 feature + modal"}, {"id": "21193170259", "actions": [{"viewId": "20683830014", "changes": [{"dependencies": [], "type": "custom_code", "id": "97321418ab1e4b39a611bda50d686cd7", "value": function($){!function(o,r,n){var t=21012681235,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("exp1-v3","pjs-my-purchases-not-empty")}catch(o){w(o)}}("tpt1093");
}}]}], "name": "v3: Gmail Login Callout"}], "audienceIds": ["and", "12001380907", "16539970090", "12111314811", "21013123249"], "changes": null, "id": "21179740346", "integrationSettings": null}, {"weightDistributions": [{"entityId": "21193120307", "endOfRange": 10000}], "audienceName": "Device | Desktop,U.S. Only,Logged In,[DCP] Churned from Easel", "name": "Easel Banner - Churned User", "bucketingStrategy": null, "variations": [{"id": "21193120307", "actions": [{"viewId": "20683830014", "changes": [{"dependencies": [], "type": "custom_code", "id": "5e355125906846ed9035b54044a2c53d", "value": function($){!function(o,r,n){var t=21012681235,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("exp2-v1","pjs-my-purchases-not-empty")}catch(o){w(o)}}("tpt1093");
}}]}], "name": "v1: General value prop + landing page"}, {"id": "21196930281", "actions": [{"viewId": "20683830014", "changes": [{"dependencies": [], "type": "custom_code", "id": "60102966ad364d45926c9ed77732a849", "value": function($){!function(o,r,n){var t=21012681235,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("exp2-v2","pjs-my-purchases-not-empty")}catch(o){w(o)}}("tpt1093");
}}]}], "name": "v2: Highlight 1 feature + modal"}], "audienceIds": ["and", "12001380907", "16539970090", "12111314811", "21001703314"], "changes": null, "id": "21187240399", "integrationSettings": null}], "id": "21187330414", "weightDistributions": null, "name": "100% to v1: TPT-1093 [Desktop][Easel][My Purchases] Personalization Easel Banner v2", "groupId": null, "commitId": "21175780278", "decisionMetadata": {"experimentPriorities": [[{"entityId": "21179740346", "endOfRange": null}], [{"entityId": "21187240399", "endOfRange": null}], [{"entityId": "21171690252", "endOfRange": null}]], "offerConsistency": null}, "policy": "equal_priority", "changes": [{"value": "<style>.tpt1093 .croEaselBanner-content-button-group .croEaselBanner-link{text-decoration:none}.tpt1093 .nowrap{white-space:nowrap}@media screen and (min-width: 980px){.tpt1093 .croEaselBanner-container.croEaselBanner-container--wide{width:calc(133.333% + 10px)}}.tpt1093 .croEaselBanner-container.croEaselBanner-container--wide .croEaselBanner-logo{display:none}.tpt1093 .croEaselBanner-container.croEaselBanner-container--wide .croEaselBanner-image{padding-top:20px;-webkit-box-ordinal-group:2;-webkit-order:1;-moz-box-ordinal-group:2;-ms-flex-order:1;order:1}.tpt1093 .croEaselBanner-container.croEaselBanner-container--wide .croEaselBanner-image-grid{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.tpt1093 .croEaselBanner-container.croEaselBanner-container--wide .croEaselBanner-image-item{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;width:33.33333%;padding:0 1.75%;font-size:14px;font-weight:600;text-align:center}.tpt1093 .croEaselBanner-container.croEaselBanner-container--wide .croEaselBanner-image-item img{max-width:100%;width:100%;height:auto;margin-bottom:12px}.tpt1093 .croEaselBanner-container.croEaselBanner-container--wide .croEaselBanner-image-item>span{padding:0 12px}.tpt1093 .croEaselBanner-container.croEaselBanner-container--wide .croEaselBanner-content{margin-left:0;width:270px;-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.tpt1093 .croEaselBanner-container.croEaselBanner-container--wide .croEaselBanner-content-button-group{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start}.tpt1093 .croEaselBanner-container.croEaselBanner-container--wide .croEaselBanner-content-button-group .croEaselBanner-button{margin-bottom:12px}.tpt1093exp1-v1 .croEaselBanner-image,.tpt1093exp2-v1 .croEaselBanner-image{position:relative;padding:0 4px 0 73px}.tpt1093exp1-v1 .croEaselBanner-image-icons--left,.tpt1093exp2-v1 .croEaselBanner-image-icons--left{position:absolute;width:93px;height:100%;left:0;top:0}.tpt1093exp1-v1 .croEaselBanner-image-icons--left svg,.tpt1093exp2-v1 .croEaselBanner-image-icons--left svg{width:93px;height:120px}.tpt1093exp1-v1 .croEaselBanner-image img,.tpt1093exp2-v1 .croEaselBanner-image img{border-radius:8px;border:2px solid #232323;max-width:134px;image-rendering:-webkit-optimize-contrast;image-rendering:crisp-edges}.tpt1093exp1-v1 .croEaselBanner-content-heading,.tpt1093exp2-v1 .croEaselBanner-content-heading{margin-bottom:12px}.tpt1093exp1-v2 .croEaselBanner{padding:26px 26px 26px 16px}.tpt1093exp1-v2 .croEaselBanner-image{padding-top:8px}.tpt1093exp1-v2 .croEaselBanner-content-heading{max-width:400px}.tpt1093exp1-v2 .croEaselBanner-image img,.tpt1093exp2-v2 .croEaselBanner-image img,.tpt1093exp3-v2 .croEaselBanner-image img{width:193px}.tpt1093exp1-v3.tpt921 body:not(.croEaselBanner__hidden) .MyPurchasesPageLayout__rightColumn,.tpt1093exp2-v3.tpt921 body:not(.croEaselBanner__hidden) .MyPurchasesPageLayout__rightColumn{margin-top:450px}.tpt1093exp2-v1 .croEaselBanner-content-heading{max-width:430px}.tpt1093exp2-v2 .croEaselBanner-content-heading{max-width:470px}.tpt1093exp2-v3 .croEaselBanner-image{width:100%}.tpt1093exp2-v3 .croEaselBanner-content-label{display:none}.tpt1093exp3-v1 .croEaselBanner{padding-bottom:14px}.tpt1093exp3-v1 .croEaselBanner-image img{border-radius:8px;border:2px solid #232323;max-width:134px}.tpt1093exp3-v1 .croEaselBanner-content-heading{font-size:19px}.tpt1093exp3-v2 .croEaselBanner-content-heading{max-width:470px}</style>", "selector": "head", "dependencies": [], "type": "append", "id": "57cd29c427fa4bbb982fcf4cf9b48f06"}, {"dependencies": [], "type": "custom_code", "id": "f579664c39df4124af8717fee5223d34", "value": function($){!function(e){var a=21012681235,t=window["CRO_SHARED_"+a]||(window["CRO_SHARED_"+a]={}),r=window.optimizely.get("utils"),n=r.log&&r.log.bind(window,"[".concat(e,"]"))||console.warn.bind(window,"[cro] [".concat(e,"]")),o=r.error&&r.error.bind(window,e)||console.error.bind(window,"[cro] [".concat(e,"]")),l=function(a,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;r.classList.add(e),r.classList.add(e+a),n("Variation ".concat(a,", page ").concat(t))};n("v0.1");var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"medium";if(!e)return"";try{for(var t=0;t<e.length;t++)if(e[t].images&&e[t].images[0]&&e[t].images[0][a])return e[t].images[0][a]}catch(e){o("Error retrieving an Easel image",e)}return""};t.applyTreatment=function(e,a){if(l(e,a),"closed"===r.cookie.get("croEaselBanner"))return n("Banner has been closed in session. Not proceeding with experiment");var t={"exp1-v1":function(e){var a=e.data,t=e.totalResults;return{"content":{"bannerClassName":"","containerClassName":"","imageHtml":'\n          <div class="croEaselBanner-image-icons--left">\n            <svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 93 120"><rect x="31" y="33" width="30.212" height="27.795" rx="3" fill="#323232"/><path fill-rule="evenodd" clip-rule="evenodd" d="m52.305 38.073 2.148 2.26c.697.734.732 1.91.08 2.688l-5.778 7.12-5.773-6.073 6.768-6.08a1.8 1.8 0 0 1 2.555.085Zm-11.563 8.01c-.366.34-.51.872-.367 1.363l.444 1.532-1.732 1.822 3.272 3.442 1.73-1.82 1.453.468c.466.15.974 0 1.297-.385l1.208-1.49-5.893-6.2-1.412 1.268Zm-4.238 8.584 3.397 1.145 1.206-1.268-2.28-2.398-2.323 2.52Z" fill="#fff"/><rect x="31" width="30.212" height="27.795" rx="3" fill="#323232"/><circle cx="48.522" cy="10.271" r="3.021" fill="#fff"/><path d="M33.417 23.774v-1.65a1 1 0 0 1 .24-.652l6.308-7.358a1 1 0 0 1 1.466-.057l5.826 5.826a1 1 0 0 0 1.366.046l3.425-2.998a1 1 0 0 1 1.366.046l4.484 4.483a1 1 0 0 1 .293.707v1.607a1 1 0 0 1-1 1H34.417a1 1 0 0 1-1-1Z" fill="#fff"/><rect x="4.5" y="71.5" width="83" height="44" rx="1.5" fill="#F2F1FF" stroke="#323232" stroke-width="3"/><circle cx="5" cy="72" r="5" fill="#778CD9"/><circle cx="88" cy="72" r="5" fill="#778CD9"/><circle cx="46" cy="72" r="5" fill="#778CD9"/><circle cx="88" cy="115" r="5" fill="#778CD9"/><circle cx="5" cy="115" r="5" fill="#778CD9"/><circle cx="46" cy="115" r="5" fill="#778CD9"/><path fill-rule="evenodd" clip-rule="evenodd" d="M62.282 92.071h2.855v14.989h-2.855V92.071Zm2.857-1.07h4.282v2.14H65.14v-2.14Zm0 14.988h4.282v2.142H65.14v-2.142ZM58 91h4.283v2.141H58V91Zm0 14.989h4.283v2.142H58v-2.142Z" fill="#323232"/><path d="M13 85h59M14 93h38" stroke="#A7A3CD" stroke-width="3"/></svg>\n          </div>\n          <img src="'.concat(s(a.purchasesAndDownloads,"large"),'">\n        '),"imageContainerClassName":"","labelText":"Time Saving Tip","headingHtml":"Assign <mark>your ".concat(t," ready-to-go</mark> digital ").concat(window.CRO_SHARED.pluralizePhrase(t,"resource","s")," without leaving TpT"),"ctaClassName":"","ctaText":"See your ".concat(t," ").concat(window.CRO_SHARED.pluralizePhrase(t,"resource","s")),"linkClassName":"","linkText":"What is Easel?","linkHref":"https://www.teacherspayteachers.com/easel/learn-more"}}},"exp1-v2":function(e){var a=e.totalResults;return{"content":{"imageHtml":'<img src="https://cdn.optimizely.com/img/11000223989/5674859722c049098b0fc548c1d2cc36.png">',"headingHtml":"Assign <mark>your ".concat(a," Easel ").concat(window.CRO_SHARED.pluralizePhrase(a,"resource","s"),"</mark> in Google Classroom without leaving TpT"),"descriptionHtml":'<span class="strong">Dont use Google?</span> Assign anywhere by sharing a link.',"ctaText":"See your ".concat(a," ").concat(window.CRO_SHARED.pluralizePhrase(a,"resource","s")),"linkText":"Show more features","linkHref":"https://www.teacherspayteachers.com/easel/learn-more"},"hasModal":!0,"modalContent":{"modalHeadingHtml":'Top features in<br> <span class="highlight highlight--withpen">Easel by TpT</span>',"features":["students","movable","teacher-authors","edit-pages","google-classroom","student-login","student-devices","in-progress-returned","certified"],"footerHeadingHtml":"<mark>You have ".concat(a,"</mark> ready-to-assign <br> Easel ").concat(window.CRO_SHARED.pluralizePhrase(a,"resource","s")),"footerCtaText":"See your ".concat(a," ").concat(window.CRO_SHARED.pluralizePhrase(a,"resource","s"))}}},"exp1-v3":function(e){var a=e.totalResults;return{"content":{"imageHtml":'<img src="//cdn.optimizely.com/img/11000223989/4b27f61a44744e4ca9d5aaa9f9b1393e.png">',"headingHtml":'Students can log in to complete your <span class="nowrap">'.concat(a," Easel ").concat(window.CRO_SHARED.pluralizePhrase(a,"resource","s"),"</span> with <mark>any email account</mark>"),"labelText":"Did you know","ctaText":"See your ".concat(a," ").concat(window.CRO_SHARED.pluralizePhrase(a,"resource","s")),"linkText":"Show more features","linkHref":"https://www.teacherspayteachers.com/easel/learn-more"},"hasModal":!0,"modalContent":{"modalHeadingHtml":'Top features in<br> <span class="highlight highlight--withpen">Easel by TpT</span>',"features":["students","movable","teacher-authors","edit-pages","google-classroom","student-login","student-devices","in-progress-returned","certified"],"footerHeadingHtml":"<mark>You have ".concat(a,"</mark> ready-to-assign <br> Easel ").concat(window.CRO_SHARED.pluralizePhrase(a,"resource","s")),"footerCtaText":"See your ".concat(a," ").concat(window.CRO_SHARED.pluralizePhrase(a,"resource","s"))}}},"exp2-v1":function(e){var a=e.data,t=e.totalResults;return{"content":{"imageHtml":'\n          <div class="croEaselBanner-image-icons--left">\n            <svg fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 93 120"><rect x="31" y="33" width="30.212" height="27.795" rx="3" fill="#323232"/><path fill-rule="evenodd" clip-rule="evenodd" d="m52.305 38.073 2.148 2.26c.697.734.732 1.91.08 2.688l-5.778 7.12-5.773-6.073 6.768-6.08a1.8 1.8 0 0 1 2.555.085Zm-11.563 8.01c-.366.34-.51.872-.367 1.363l.444 1.532-1.732 1.822 3.272 3.442 1.73-1.82 1.453.468c.466.15.974 0 1.297-.385l1.208-1.49-5.893-6.2-1.412 1.268Zm-4.238 8.584 3.397 1.145 1.206-1.268-2.28-2.398-2.323 2.52Z" fill="#fff"/><rect x="31" width="30.212" height="27.795" rx="3" fill="#323232"/><circle cx="48.522" cy="10.271" r="3.021" fill="#fff"/><path d="M33.417 23.774v-1.65a1 1 0 0 1 .24-.652l6.308-7.358a1 1 0 0 1 1.466-.057l5.826 5.826a1 1 0 0 0 1.366.046l3.425-2.998a1 1 0 0 1 1.366.046l4.484 4.483a1 1 0 0 1 .293.707v1.607a1 1 0 0 1-1 1H34.417a1 1 0 0 1-1-1Z" fill="#fff"/><rect x="4.5" y="71.5" width="83" height="44" rx="1.5" fill="#F2F1FF" stroke="#323232" stroke-width="3"/><circle cx="5" cy="72" r="5" fill="#778CD9"/><circle cx="88" cy="72" r="5" fill="#778CD9"/><circle cx="46" cy="72" r="5" fill="#778CD9"/><circle cx="88" cy="115" r="5" fill="#778CD9"/><circle cx="5" cy="115" r="5" fill="#778CD9"/><circle cx="46" cy="115" r="5" fill="#778CD9"/><path fill-rule="evenodd" clip-rule="evenodd" d="M62.282 92.071h2.855v14.989h-2.855V92.071Zm2.857-1.07h4.282v2.14H65.14v-2.14Zm0 14.988h4.282v2.142H65.14v-2.142ZM58 91h4.283v2.141H58V91Zm0 14.989h4.283v2.142H58v-2.142Z" fill="#323232"/><path d="M13 85h59M14 93h38" stroke="#A7A3CD" stroke-width="3"/></svg>\n          </div>\n          <img src="'.concat(s(a.purchasesAndDownloads,"large"),'">\n        '),"labelText":"New Features","headingHtml":"Try Easels top-requested features on <mark>your ".concat(t," ready-to-assign</mark> digital ").concat(window.CRO_SHARED.pluralizePhrase(t,"resource","s")),"ctaClassName":"","ctaText":"See your ".concat(t," ").concat(window.CRO_SHARED.pluralizePhrase(t,"resource","s")),"linkClassName":"","linkText":"What is Easel?","linkHref":"https://www.teacherspayteachers.com/easel/learn-more"}}},"exp2-v2":function(e){var a=e.totalResults;return{"content":{"labelText":"New Feature","imageHtml":'<img src="https://cdn.optimizely.com/img/11000223989/98771956c6dd429eab9e9bbe19591433.png">',"headingHtml":"You can now <mark>view in-progress student work</mark> on your ".concat(a," Easel ").concat(window.CRO_SHARED.pluralizePhrase(a,"resource","s")),"ctaText":"See your ".concat(a," ").concat(window.CRO_SHARED.pluralizePhrase(a,"resource","s")),"linkText":"What else is new?","linkHref":"https://www.teacherspayteachers.com/easel/learn-more"},"hasModal":!0,"modalContent":{"modalHeadingHtml":'Top new features in<br> <span class="highlight highlight--withpen">Easel by TpT</span>',"features":["images","student-login-now","in-progress","google-classroom2","bulk-edit-pages","self-grading","certified"],"footerHeadingHtml":"<mark>You have ".concat(a,"</mark> ready-to-assign <br> Easel ").concat(window.CRO_SHARED.pluralizePhrase(a,"resource","s")),"footerCtaText":"See your ".concat(a," ").concat(window.CRO_SHARED.pluralizePhrase(a,"resource","s"))}}},"exp3-v1":function(e){var a=e.data,t=e.totalResults;return{"content":{"imageHtml":'\n          <img src="'.concat(s(a.purchasesAndDownloads,"large"),'">\n        '),"labelText":"Did you know?","headingHtml":"".concat(t," of your resources ").concat(1===t?"has":"have"," <mark>already been prepped in Easel</mark>"),"ctaClassName":"","ctaText":"See your ".concat(t," ").concat(window.CRO_SHARED.pluralizePhrase(t,"resource","s")),"linkClassName":"","linkText":"What is Easel?","linkHref":"https://www.teacherspayteachers.com/easel/learn-more"}}},"exp3-v2":function(e){var a=e.totalResults;return{"content":{"labelText":"New Feature","imageHtml":'<img src="https://cdn.optimizely.com/img/11000223989/98771956c6dd429eab9e9bbe19591433.png">',"headingHtml":"You can now <mark>view in-progress student work</mark> on your ".concat(a," Easel ").concat(window.CRO_SHARED.pluralizePhrase(a,"resource","s")),"ctaText":"See your ".concat(a," ").concat(window.CRO_SHARED.pluralizePhrase(a,"resource","s")),"linkText":"What else is new?","linkHref":"https://www.teacherspayteachers.com/easel/learn-more"},"hasModal":!0,"modalContent":{"modalHeadingHtml":'Top new features in<br> <span class="highlight highlight--withpen">Easel by TpT</span>',"features":["images","student-login-now2","in-progress","google-classroom2","bulk-edit-pages2","self-grading","certified"],"footerHeadingHtml":"<mark>You have ".concat(a,"</mark> ready-to-assign <br> Easel ").concat(window.CRO_SHARED.pluralizePhrase(a,"resource","s")),"footerCtaText":"See your ".concat(a," ").concat(window.CRO_SHARED.pluralizePhrase(a,"resource","s"))}}}}[e];r.waitForElement(".tpt1089 .croEaselBanner-container").then((function(){var r=window.CRO_SHARED&&window.CRO_SHARED.myPurchasesEaselBanner;if(!r)return o("Missing banner module. Check that tpt921 is running correctly");try{var s=window.CRO_PJS.tptAPI.data.GetPurchasesAndDownloads;if(s.pageInfo){var i=s.pageInfo.totalResultsCount;if(!i||i<1)return n("No Easel purchases detected");l(e,a),r.insert(t({"data":s,"totalResults":i}))}}catch(e){o("Something went wrong with getting Easel purchases data. Aborting experiment",e)}}))["catch"](o)}}("tpt1093");
}}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["17772951069"], "experiments": [{"weightDistributions": [{"entityId": "21195500681", "endOfRange": 10000}], "audienceName": "Logged In,U.S. Only,Exclude Premium Sellers,Device | Desktop,[DCP Migration] TPTSA Acquisition (Unlinked users),[QA] Cro Metrics Test Cookie (OLI)", "name": "[DCP Migration] [TEST COOKIE] 100% to v0: TPT-1108 [Unlinked][My Purchases] CTA Test", "bucketingStrategy": null, "variations": [{"id": "21195500681", "actions": [{"viewId": "17772951069", "changes": [{"value": function($){!function(o,r,n){var i=21015813345,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v0","my-purchases")}catch(o){e(o)}}("tpt1108");
}, "dependencies": [], "type": "custom_code", "id": "f341ad186d064794af4b7b5357f00ede"}]}], "name": "v0: Control (1108)"}, {"id": "21207490083", "actions": [{"viewId": "17772951069", "changes": [{"value": function($){!function(o,r,n){var i=21015813345,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v1","my-purchases")}catch(o){e(o)}}("tpt1108");
}, "dependencies": [], "type": "custom_code", "id": "ca37f4ba9c934bc88faf7719b08bd3fa"}]}], "name": "v1: Get a School Subscription"}, {"id": "21189271178", "actions": [{"viewId": "17772951069", "changes": [{"value": function($){!function(o,r,n){var i=21015813345,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v2","my-purchases")}catch(o){e(o)}}("tpt1108");
}, "dependencies": [], "type": "custom_code", "id": "d439efbd2c854d2e940f2cb8b1ae84b3"}]}], "name": "v2: Request a Subscription"}, {"id": "21171321456", "actions": [{"viewId": "17772951069", "changes": [{"value": function($){!function(o,r,n){var i=21015813345,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v3","my-purchases")}catch(o){e(o)}}("tpt1108");
}, "dependencies": [], "type": "custom_code", "id": "bab5921d7b6744f99bc2c1133c555388"}]}], "name": "v3: Share With Your Admin"}], "audienceIds": ["and", "12111314811", "16539970090", "16882670147", "12001380907", "21160151169", "15737501278"], "changes": null, "id": "21190400007", "integrationSettings": null}], "id": "21188200195", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] 100% to v0: TPT-1108 [Unlinked][My Purchases] CTA Test", "groupId": null, "commitId": "21198981294", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "8b8239d6bf5b483a93e57fe199f4afb3", "value": function($){!function(t){var n=21015813345,e=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),o=window.optimizely.get("utils"),i=o.log&&o.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),r=o.error&&o.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));i("v0.7");var a={"v0":"Share the Details","v1":"Get a School Subscription","v2":"Request a Subscription","v3":"Share With Your Admin"};e.applyTreatment=function(n,e){!function(n,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;o.classList.add(t),o.classList.add(t+n),i("Variation ".concat(n,", page ").concat(e))}(n,e),o.waitForElement(".tpt-frontend").then((function(t){return o.waitUntil((function(){return t._reactRootContainer}))})).then((function(){!function(n){o.observeSelector('.MyPurchasesPageLayout__rightColumn--content [data-testid="classfund-banner-link"]',(function(e){var c="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign=".concat(t).concat(n);document.querySelector(".".concat(t,"-cf-banner"))||o.waitForElement(".ResultsContainer__resultsCount--desktop").then((function(s){o.waitUntil((function(){return s.childNodes.length>1})).then((function(){var o=parseInt(s.textContent),r=1===o?"":"s";i("total resources",o);var l="Does your principal know you purchased ".concat(o?o+" ":"","resource").concat(r," out of pocket?"),h='\n       <div class="'.concat(t,'-cf-banner">\n         <h2>').concat(l,"</h2>\n         <p>").concat("Tell them about TpT School Access  the subscription that's funded by schools, not teachers.","</p>\n         ").concat('<svg width="88" height="9" viewBox="0 0 88 9" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M1 2.41614C7.24006 1.95891 13.3504 1.53183 19.7077 1.36247C29.7172 1.09581 39.7612 1.02879 49.7863 1.01312C58.1223 1.00009 66.6937 0.90295 74.9484 1.52587C77.1019 1.68838 86.5122 2.51343 81.012 3.90932C77.8113 4.72161 74.0621 5.22121 70.5488 5.67296C62.2715 6.73725 53.6965 7.42955 45.122 7.78031C40.3079 7.97724 35.2679 8.1179 30.4483 7.85919C27.9169 7.72332 25.0539 7.37638 23.124 6.58013C22.6017 6.36463 21.7108 5.94256 22.5315 5.66169C23.5335 5.31879 25.3232 5.036 26.3512 4.87284C30.5849 4.20086 34.969 3.77408 39.4239 3.52053C53.2425 2.73404 68.5139 2.54724 81.781 4.73197C83.0563 4.94198 86.4773 5.36652 87 6.06738" stroke="#0AA96C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="transparent"/>\n  </svg>\n','\n         <a href="').concat(c,'" class="Button Button--medium Button--link Button--primary" target="_blank">').concat(a[n],"</a>\n         ").concat('<svg width="127" height="80" viewBox="0 0 127 80" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path opacity="0.7" d="M63.5 79.5056C98.5701 79.5056 127 76.444 127 72.6673C127 68.8907 98.5701 65.8291 63.5 65.8291C28.4299 65.8291 0 68.8907 0 72.6673C0 76.444 28.4299 79.5056 63.5 79.5056Z" fill="#9CAACA"/>\n  <path d="M110.99 67.5052L16.0082 67.4382V5.42474C16.0082 2.9442 18.0177 1 20.4291 1H106.502C108.981 1 110.923 3.01125 110.923 5.42474L110.99 67.5052Z" fill="white" stroke="#2C3A81" stroke-width="1.5" stroke-miterlimit="10"/>\n  <path d="M102.483 62.2089H24.3137C23.3089 62.2089 22.4381 61.4044 22.4381 60.3317V9.17904C22.4381 8.17342 23.2419 7.30188 24.3137 7.30188H102.483C103.488 7.30188 104.359 8.10638 104.359 9.17904V60.3317C104.292 61.4044 103.488 62.2089 102.483 62.2089Z" fill="#E5E8F2" stroke="#2C3A81" stroke-width="1.5" stroke-miterlimit="10"/>\n  <path d="M104.359 11.6596H22.5052V9.24612C22.5052 8.2405 23.309 7.36896 24.3807 7.36896H102.55C103.555 7.36896 104.426 8.17346 104.426 9.24612L104.359 11.6596Z" fill="#2C3A81"/>\n  <path d="M11.3863 67.5721C11.3863 70.4549 13.6637 72.7343 16.544 72.7343L110.454 72.8013C113.335 72.8013 115.612 70.5219 115.612 67.6391L11.3863 67.5721Z" fill="#E0E3EB"/>\n  <path d="M11.3863 67.5721C11.3863 70.4549 13.6637 72.7343 16.544 72.7343L110.454 72.8013C113.335 72.8013 115.612 70.5219 115.612 67.6391L11.3863 67.5721Z" stroke="#2C3A83" stroke-width="1.5" stroke-miterlimit="10" fill="transparent"/>\n  <path d="M85.7386 38.7443H68.9929V57.4489H85.7386V38.7443Z" fill="white"/>\n  <path d="M72.7438 57.516H41.6636V38.9455L56.4669 26.5428L72.7438 38.9455V57.516Z" fill="white" stroke="#415294" stroke-width="1.5" stroke-miterlimit="10"/>\n  <path d="M56.6679 39.7499C58.2586 39.7499 59.5481 38.4593 59.5481 36.8672C59.5481 35.275 58.2586 33.9844 56.6679 33.9844C55.0771 33.9844 53.7876 35.275 53.7876 36.8672C53.7876 38.4593 55.0771 39.7499 56.6679 39.7499Z" fill="white" stroke="#415294" stroke-width="1.5" stroke-miterlimit="10"/>\n  <path d="M64.0364 23.1908C64.0364 23.1908 62.1609 23.7941 60.2854 22.6544C58.8117 21.7159 57.1371 23.1908 57.1371 23.1908V19.3024C57.1371 19.3024 58.8117 17.8945 60.4193 18.8331C62.4288 19.9728 64.0364 19.3024 64.0364 19.3024V23.1908Z" fill="#415294"/>\n  <path d="M51.9125 57.3147V49.7391C51.9125 46.9903 54.19 44.7109 56.9363 44.7109C59.6826 44.7109 61.96 46.9903 61.96 49.7391V57.3147" stroke="#415294" stroke-width="1.5" stroke-miterlimit="10" fill="transparent"/>\n  <path d="M75.4234 37.8058H72.878V39.1466H75.4234V37.8058Z" fill="#415294"/>\n  <path d="M86.4079 39.1466V38.6773L69.5951 25.6042H56.3994L73.2792 39.1466H84.5323" fill="#415294"/>\n  <path d="M72.6097 57.5831H85.6714V38.8115" stroke="#415294" stroke-width="1.5" stroke-miterlimit="10" fill="transparent"/>\n  <path d="M56.4665 18.0284V26.4757" stroke="#415294" stroke-width="1.5" stroke-miterlimit="10" fill="transparent"/>\n  </svg>\n',"\n       </div>\n     ");e.insertAdjacentHTML("afterend",h)}))["catch"](r)}))["catch"](r)}))}(n)}))["catch"](r)}}("tpt1108");
}}, {"dependencies": [], "type": "append", "id": "8f1eb11fff2c4aaab5468d67099090a5", "value": "<style>.tpt1108 .MyPurchasesPageLayout__rightColumn--content [data-testid=\"classfund-banner-link\"]{display:none}.tpt1108-cf-banner{text-align:center;max-width:212px;margin:0 auto;background:#E5E8F5;padding:19px 19px 11px 20px}.tpt1108-cf-banner h2{font-size:18px;font-weight:700;line-height:137.5%;color:#1D1B4B;margin:12px 0 6px}.tpt1108-cf-banner p{font-size:14px;font-weight:500;line-height:137.5%;color:#1D1B4B}.tpt1108-cf-banner>a{padding:8px 14px !important;margin-top:21px}.tpt1108-cf-banner a+svg{max-width:80%;margin-top:14px}.tpt1108-cf-banner>img{margin-left:16px}.tpt1108-cf-banner a+span{display:block;font-size:12px;color:#666666 !important;margin:6px 0 15px}.tpt1108-cf-banner a+span a:hover{text-decoration:underline}.tpt1108:not(.tpt1108v0) .tpt1108-cf-banner .Button{font-size:12px}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["19186070224"], "experiments": [{"weightDistributions": [{"entityId": "21192150177", "endOfRange": 10000}], "audienceName": "Exclude Premium Sellers,United States Only,Logged In,Device | Desktop,[DCP Migration] TPTSA Linked Users (Marketplace),[QA] Cro Metrics Test Cookie (OLI)", "name": "[DCP Migration] [TEST COOKIE] 100% v0 TPT-960 [PDP][Desktop] Matched User Catalog product button iteration", "bucketingStrategy": null, "variations": [{"id": "21192150177", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){!function(o,r,t){var n=20837800419,i=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),d=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{i.applyTreatment("v0","pdp-tpt-sa-flagged")}catch(o){d(o)}}("tpt960");
}, "dependencies": [], "type": "custom_code", "id": "c294943822c646209ad25ed2ccb83334"}]}], "name": "v0: Control - 960"}, {"id": "21189191108", "actions": [{"viewId": "19186070224", "changes": [{"value": function($){!function(o,r,t){var n=20837800419,i=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),d=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{i.applyTreatment("v1","pdp-tpt-sa-flagged")}catch(o){d(o)}}("tpt960");
}, "dependencies": [], "type": "custom_code", "id": "fba7fc07c6f54992a5e1a77798425edc"}]}], "name": "v1: View details"}], "audienceIds": ["and", "16882670147", "16931205087", "12111314811", "12001380907", "21193201189", "15737501278"], "changes": null, "id": "21160741231", "integrationSettings": null}], "id": "21189331720", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] 100% v0 TPT-960 [PDP][Desktop] Matched User Catalog product button iteration", "groupId": null, "commitId": "21197910295", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "45c26a00d512458a9a1dec2d897baa62", "value": function($){function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var o,a,r=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!e||r.length!==e);i=!0);}catch(t){c=!0,a=t}finally{try{i||null==n["return"]||n["return"]()}finally{if(c)throw a}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}!function(t){var e=20837800419,n=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":t,"tags":e})},a=window.optimizely.get("utils"),r=a.log&&a.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),i=a.error&&a.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));r("v0.1"),n.applyTreatment=function(e,n){!function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;o.classList.add(t),o.classList.add(t+e),r("Variation ".concat(e,", page ").concat(n))}(e,n);var c="&cro_oeuid=".concat(optimizely.get("visitor").visitorId),s=_slicedToArray({"v0":["Access this resource without using personal&nbsp;funds","".concat('<svg viewBox="0 0 24 24" aria-hidden="true" role="presentation" class="SvgIcon_root__B2saD mr-2"><path d="M15.293 15.793L13 18.086V10.5a1 1 0 10-2 0v7.586l-2.293-2.293a.999.999 0 10-1.414 1.414l3.999 3.999a.99.99 0 00.326.217.991.991 0 001.09-.217l3.999-3.999a.999.999 0 10-1.414-1.414zm4.669-6.061C19.569 5.679 16.148 2.5 12 2.5S4.431 5.679 4.038 9.732A5.484 5.484 0 000 15.02a5.496 5.496 0 004.889 5.474.994.994 0 001.104-.884 1 1 0 00-.884-1.104A3.499 3.499 0 012 15.02a3.49 3.49 0 013.114-3.464C5.62 11.5 6 11.021 6 10.512 6 7.197 8.691 4.5 12 4.5s6 2.697 5.999 6.005a1 1 0 00.887 1.051A3.49 3.49 0 0122 15.02a3.498 3.498 0 01-3.109 3.486 1.001 1.001 0 00.22 1.988A5.497 5.497 0 0024 15.02a5.484 5.484 0 00-4.038-5.288z"></path></svg>\n'," Access Now"),"Look for the Access Now button to find resources available through TpT School Access."],"v1":["View resource details then access it, without paying out of pocket.","View Resource","This resource and all others with this TpT School Access logo are available as part of your subscription."]}[e],3),l=s[0],d=s[1],p=s[2],u=document.createElement("div");u.className="".concat(t,"-box"),u.innerHTML='\n    <div class="'.concat(t,'-modal-box">\n      <div class="header">\n        <img src="//cdn.optimizely.com/img/11000223989/405a26d73afd439cbb2615b0adac4370.png"/>\n      </div>\n      <div class="content">\n        <h2>').concat(l,'</h2>\n        <div class="tooltip-wrapper show">\n          <a href="javascript:;" class="link-btn">').concat(d,'</a>\n          <div class="cro-tooltip">\n            <a href="javascript:;" class="dismiss icon">').concat('<svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.8098 9.08928C11.8098 9.3125 11.7205 9.53571 11.5598 9.69643L10.3455 10.9107C10.1848 11.0714 9.96158 11.1607 9.73836 11.1607C9.51515 11.1607 9.29193 11.0714 9.13122 10.9107L6.50621 8.28571L3.88121 10.9107C3.7205 11.0714 3.49728 11.1607 3.27407 11.1607C3.05085 11.1607 2.82764 11.0714 2.66692 10.9107L1.45264 9.69643C1.29192 9.53571 1.20264 9.3125 1.20264 9.08928C1.20264 8.86607 1.29192 8.64285 1.45264 8.48214L4.07764 5.85714L1.45264 3.23213C1.29192 3.07142 1.20264 2.8482 1.20264 2.62499C1.20264 2.40178 1.29192 2.17856 1.45264 2.01785L2.66692 0.803559C2.82764 0.642844 3.05085 0.553558 3.27407 0.553558C3.49728 0.553558 3.7205 0.642844 3.88121 0.803559L6.50621 3.42856L9.13122 0.803559C9.29193 0.642844 9.51515 0.553558 9.73836 0.553558C9.96158 0.553558 10.1848 0.642844 10.3455 0.803559L11.5598 2.01785C11.7205 2.17856 11.8098 2.40178 11.8098 2.62499C11.8098 2.8482 11.7205 3.07142 11.5598 3.23213L8.93479 5.85714L11.5598 8.48214C11.7205 8.64285 11.8098 8.86607 11.8098 9.08928Z" fill="#fff"/><mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="1" y="0" width="11" height="12"><path d="M11.8098 9.08928C11.8098 9.3125 11.7205 9.53571 11.5598 9.69643L10.3455 10.9107C10.1848 11.0714 9.96158 11.1607 9.73836 11.1607C9.51515 11.1607 9.29193 11.0714 9.13122 10.9107L6.50621 8.28571L3.88121 10.9107C3.7205 11.0714 3.49728 11.1607 3.27407 11.1607C3.05085 11.1607 2.82764 11.0714 2.66692 10.9107L1.45264 9.69643C1.29192 9.53571 1.20264 9.3125 1.20264 9.08928C1.20264 8.86607 1.29192 8.64285 1.45264 8.48214L4.07764 5.85714L1.45264 3.23213C1.29192 3.07142 1.20264 2.8482 1.20264 2.62499C1.20264 2.40178 1.29192 2.17856 1.45264 2.01785L2.66692 0.803559C2.82764 0.642844 3.05085 0.553558 3.27407 0.553558C3.49728 0.553558 3.7205 0.642844 3.88121 0.803559L6.50621 3.42856L9.13122 0.803559C9.29193 0.642844 9.51515 0.553558 9.73836 0.553558C9.96158 0.553558 10.1848 0.642844 10.3455 0.803559L11.5598 2.01785C11.7205 2.17856 11.8098 2.40178 11.8098 2.62499C11.8098 2.8482 11.7205 3.07142 11.5598 3.23213L8.93479 5.85714L11.5598 8.48214C11.7205 8.64285 11.8098 8.86607 11.8098 9.08928Z" fill="white"/></mask><g mask="url(#mask0)"></g></svg>\n',"</a>\n            <h4>See whats included in your subscription!</h4>\n            <span>").concat(p,"</span>\n          </div>\n          </div>\n      </div>\n    </div>\n  ");var h=window.__TPT__hashedUserId,m=!1,w="",_=!1;r("Detected user ID",h),fetch("https://tpt-tptsa-mapping-prod.s3.amazonaws.com/lookup-by-hashed-user-id/".concat(h),{"method":"GET","headers":{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(t){t&&(t.hashed_user_id||t.hashed_tpt_user_id)&&(_=!0,t.registration_link&&null!==t.registration_link&&"null"!==t.registration_link&&""!==t.registration_link&&(w=new URL(sessionStorage.getItem("cro_registration_link")),r("Invite Link:",w)),null!==t.audience&&"non-registered"===t.audience&&(m=!0))}))["catch"](i),a.waitForElement(".tpt-frontend").then((function(t){return a.waitUntil((function(){return t._reactRootContainer&&_}))})).then((function(){a.waitForElement('[data-testid="sticky-price-box-wrapper"] .PriceBox').then((function(n){r("Found price box!"),n.insertAdjacentElement("beforebegin",u),r("Added cro box desktop!"),function(t){for(var e=t+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){var a=n[o].trim();if(0===a.indexOf(e))return a.substring(e.length,a.length)}return null}("cro_saw_".concat(t))&&(r("User already dismissed tooltip!"),u.querySelector(".tooltip-wrapper").classList.remove("show"),u.querySelector(".tooltip-wrapper").classList.add("hide"));var a="?utm_source=tptcoremarketplace&utm_medium=matchedusersbanner&utm_campaign=optimizely".concat(t).concat(e).concat(c);u.querySelector(".link-btn").addEventListener("click",(function(){if(location.pathname.toLowerCase().indexOf("product")>-1){o("".concat(t,"_pdp_tptsa_access_now_cta")),r("Detected user is on a product page!");var n=document.querySelector('[itemprop="productID"]').content;r("Directing user to","https://www.tptschoolaccess.com/resource/".concat(n).concat(a)),n&&!m?window.open("https://www.tptschoolaccess.com/resource/".concat(n).concat(a),"_blank"):m?(r("Custom invite link detected!"),r("Before appending:",w),w.searchParams.append("utm_campaign","optimizely".concat(t).concat(e)),w.searchParams.append("utm_source","tptcoremarketplace"),w.searchParams.append("utm_medium","matchedusersbanner"),w.searchParams.append("cro_oeuid","".concat(optimizely.get("visitor").visitorId)),r("Opening:",w),window.open(w,"_blank")):window.open("https://www.tptschoolaccess.com".concat(a),"_blank")}})),u.querySelector(".dismiss.icon").addEventListener("click",(function(){o("".concat(t,"_pdp_tptsa_access_now_tooltip_exits")),function(t,e,n){var o,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"."+window.location.hostname.split(".").slice(-2).join("."),r=t+"="+e+"; path=/";n instanceof Date?o=n:n>0&&(o=new Date).setTime(o.getTime()+24*n*60*60*1e3),o&&(r+="; expires="+o.toGMTString()),a&&(r+="; domain="+a),document.cookie=r}("cro_saw_".concat(t),!0,7),u.querySelector(".tooltip-wrapper").classList.remove("show"),u.querySelector(".tooltip-wrapper").classList.add("hide")}))}))["catch"](i)}))["catch"](i)}}("tpt960");
}}, {"dependencies": [], "type": "append", "id": "b5f9d374dd3d4e8daac2055fa1606f25", "value": "<style>.tpt960-box{overflow:visible}.tpt960 .DigitalActivityBadgeWithTooltip .Tooltip.Tooltip--left.DigitalActivityTooltip__left{display:none !important}.tpt960 .DigitalActivityBadgeWithTooltip .Tooltip{display:none !important}.tpt960-modal-box{max-width:100%;height:auto;background:#E8EDF7;margin-bottom:15px;text-align:center;-webkit-transition:all 0.3s;-o-transition:all 0.3s;transition:all 0.3s;color:black;border:2px solid transparent}.tpt960-modal-box h2{font-family:Proxima Nova;font-size:14px;line-height:16px;text-align:center;color:black;padding:20px 20px;font-weight:600}.tpt960-modal-box .link-btn{font-family:Proxima Nova;font-size:16px;font-weight:600;color:#FFFFFF;text-align:center;line-height:1;border-radius:3px;background:#2C358B;max-width:calc(100% - 40px);width:100%;height:42px;padding:12px 18px;display:inline-block;-webkit-transition:background 0.3s;-o-transition:background 0.3s;transition:background 0.3s}.tpt960-modal-box .link-btn:hover{text-decoration:none;background:#2b3665}.tpt960-modal-box .link-btn svg{display:inline-block;padding-right:.5em;width:1.85em;line-height:1em}.tpt960-modal-box img{height:15px;width:125px}.tpt960-modal-box .header{padding:20px 0px 0px 0px}.tpt960 .tooltip-wrapper{position:relative;padding-bottom:20px}.tpt960 .tooltip-wrapper .cro-tooltip{background:#2C358B;color:#fff;display:block;padding:27px 26px 24px 24px;position:absolute;width:302px;-webkit-transition:all .25s ease-out;-o-transition:all .25s ease-out;transition:all .25s ease-out;-webkit-box-shadow:0px 1px 5px rgba(0,0,0,0.1);box-shadow:0px 1px 5px rgba(0,0,0,0.1);right:calc(100% + 20px);top:0;text-align:left;border-radius:6px}.tpt960 .tooltip-wrapper .cro-tooltip h4{font-size:17px}.tpt960 .tooltip-wrapper .cro-tooltip span{display:inline-block;margin:5px 0px}.tpt960 .tooltip-wrapper .cro-tooltip .dismiss.icon{position:absolute;top:9px;right:14px;cursor:pointer}@media (max-width: 767px){.tpt960 .tooltip-wrapper .cro-tooltip{top:-275px;bottom:initial;right:0;left:0}}.tpt960 .tooltip-wrapper .cro-tooltip:after{border-left:solid transparent 12px;border-right:solid transparent 12px;border-top:solid #2C358B 12px;content:\" \";height:0;right:-17px;position:absolute;width:0;bottom:calc(50% - 7px);-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg);top:20px}.tpt960 .tooltip-wrapper.show .cro-tooltip{display:block}.tpt960 .tooltip-wrapper.hide .cro-tooltip{display:none !important}.tpt960 .StickyProductPageSideColumnLayout{z-index:202}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["17479550609"], "experiments": [{"weightDistributions": [{"entityId": "21154771612", "endOfRange": 10000}], "audienceName": "U.S. Only,Exclude Premium Sellers,Device | Desktop,[QA] Cro Metrics Test Cookie (OLI),[DCP Migration] TPTSA Acquisition (Unlinked users)", "name": "[DCP Migration] [TEST COOKIE] 100% to v0: TPT-980 [Unlinked][Wishlist] Tooltip Callout Test", "bucketingStrategy": null, "variations": [{"id": "21154771612", "actions": [{"viewId": "17479550609", "changes": [{"value": function($){!function(o,i,r){var t=20872090086,n=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),w=window.optimizely.get("utils"),c=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v0","wish-list-with-products")}catch(o){c(o)}}("tpt980");
}, "dependencies": [], "type": "custom_code", "id": "3c7e8f9c6be743338842d9a57d596198"}]}], "name": "v0: Control 980 - middle callout w/o tooltip"}, {"id": "21156731764", "actions": [{"viewId": "17479550609", "changes": [{"value": function($){!function(o,i,r){var t=20872090086,n=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),w=window.optimizely.get("utils"),c=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v1","wish-list-with-products")}catch(o){c(o)}}("tpt980");
}, "dependencies": [], "type": "custom_code", "id": "2a1dd0482ae4401a892dff7315cfadd0"}]}], "name": "v1: Middle callout w/ tooltip"}, {"id": "21156431145", "actions": [{"viewId": "17479550609", "changes": [{"value": function($){!function(o,i,r){var t=20872090086,n=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),w=window.optimizely.get("utils"),c=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v2","wish-list-with-products")}catch(o){c(o)}}("tpt980");
}, "dependencies": [], "type": "custom_code", "id": "7229b95895ab46aeb2840234d7cc2b8b"}]}], "name": "v2: Right callout w/ Get a Subscription tooltip"}, {"id": "21209240365", "actions": [{"viewId": "17479550609", "changes": [{"value": function($){!function(o,i,r){var t=20872090086,n=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),w=window.optimizely.get("utils"),c=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{n.applyTreatment("v3","wish-list-with-products")}catch(o){c(o)}}("tpt980");
}, "dependencies": [], "type": "custom_code", "id": "00122ab8ea104deea0298005e66991f1"}]}], "name": "v3: Right callout w/ Dont Miss Out tooltip"}], "audienceIds": ["and", "16539970090", "16882670147", "12001380907", "15737501278", "21160151169"], "changes": null, "id": "21173651400", "integrationSettings": null}], "id": "21189551041", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] 100% to v0: TPT-980 [Unlinked][Wishlist] Tooltip Callout Test", "groupId": null, "commitId": "21187201535", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "bd183d8b9b6e4fa8991c2758744479eb", "value": function($){!function(t){var e=20872090086,o=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":t,"tags":e})},c=window.optimizely.get("utils"),n=c.log&&c.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),a=c.error&&c.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));n("v3");var l=function(e){var o,n="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign=".concat(t).concat(e);if("v0"===e||"v1"===e?c.observeSelector('.WishlistProductRowLayout[data-crometrics-isavailableonschoolaccess="true"]',(function(t){t.querySelector(".TruncatedTextBox").insertAdjacentHTML("afterend",'\n        <div class="tpt-school-access">\n          <p>Also available with subscription</p>\n          <img src="https://static1.teacherspayteachers.com/tpt-frontend/releases/production/current/39fb476a33e22cce7ab89e516419b909.png" alt="TpT Schools Access" height="28">\n          <a class="Button Button--medium Button--fullWidth" href="'.concat(n,'">Refer Your Principal</a>\n        </div>\n      ')),t.querySelector(".tpt-school-access a").addEventListener("click",(function(){i("tpt980-wishlist-on-page-tptsa-callout-cta-click"),window.heap.track("[TPT-980] Wishlist | On-page TPTSA Callout CTA Click"),i("tpt980-wishlist-all-tptsa-callout-cta-click"),window.heap.track("[TPT-980] Wishlist | All TPTSA Callout CTA Click")}))})):"v2"!==e&&"v3"!==e||c.observeSelector("[data-crometrics-isavailableonschoolaccess='true'] .ProductRowPriceAndBundleText .ProductRowPriceBespoke",(function(e){"FREE"!==e.textContent&&(e=e.children[e.children.length-1]),e.classList.add("".concat(t,"-section")),e.insertAdjacentHTML("beforeend",'<a href="'.concat(n,'" class="').concat(t,'-house">').concat('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\r\n    <rect width="16" height="16" fill="url(#pattern0)"/>\r\n    <defs>\r\n        <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">\r\n            <use xlink:href="#image0_1215_5193" transform="scale(0.00900901)"/>\r\n        </pattern>\r\n        <image id="image0_1215_5193" width="111" height="111" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAABYlAAAWJQFJUiTwAAAIWElEQVR4nO2dT2wUVRzHfxhFsUUQ+dNqTEFoOJTE4gE5CIMGEkCMsBF6VNiDHPhT40EkQUEUuIjFcvCypR4bTCkJBGOMdMEDcKBrAgdTlN0QpVhBkBYbLpjv8LbZtuy8PzPvzbzt+ySTNrvz5+189/3m+97vN7MTHjx4QA47eczpZi9OPItx4lnM40luupfK7CaiTwNW2ZPtTO9m664lokYiWlbyfp6IurKd6S79rTVPog2LiHhMIKxXF7BegYiaK01E28PmZiI6whGO2PvHvFSmm/VQLl4q06i/+eFIdNgUYJbk+h4WL5X5F2ISUY4tpSDsvsd69LLg3cWL7eKp8gwRvcuWcuST/iGc27QYJ57FOPEsxolnMU48i3HiWYwTz2KceBbjxLMYJ57FOPEsphLnNrMl/3sxtkM7lSLeNSL6hCVebxdf9FKZqSzXtz3e5umhEsQ7BIFKRSvCXmv2UpkuJmJF9UTbxTue7Uw381bKdqa7kZtjCdZmlqfjJXBH5/kSh+3iSZ3gbGc6xxKtCKmziah0ARD5Nlsv8YzXZCyEzNuQcA3CDRUsJunVYz8Q0YqAVQqaek+LDZVmiRXPS2VaSiz+LSKaZrgJZV1sUkiceGxs1k5Eb496628imm64Ob/A4CTVwCRKPOYAEa5eLrPKPbSZiCYZbtoH2c50i+FjckmMeGwMBqs+RWD1OMLocdYLExNGE+E2vVQGY68eQeGICXdDc7NGgzCe91KZxBTixi4eMyZHFDZFtfQgEf2noVnlwJfrNGtz7MQWNgOMiQo3FErfwxK7mYml5zFj0h2RcMSEMx1GYapw4wp3blUXxnuepDGRBWF0iIie0/spxhCLmTHa85gxERZu3uxptGXTYplDVDHhrik3Uo1YzIyxnidwo+QIVr5eT1s3Labqqol05epN2nngR7rRPyBzyH+I6NlQjVZj+G5d3WgXjxmTFs7tVCN4Z02DL1wpA4P3aX/rGfr5QkG2CXGICDOzlmUutKFVPCZcd8CMyRh2bFlKq96oL/v+0ROX6XDbOdmm9BFRjexGIbnDbqVu13UAbeLJGpOqpyfS13tX07w5fK8RIow+QUTVMhtFgDYzo0U8ZkxaZIzJFztWUM1M8fMaIoz+SUTPy24UkgITsDvKnUYunqwxeW1RHX28dalvTFRQDKNwoy8qHTAckZqZyMSLypiogDCKXnglf0tm65tE9GQMYTQyMxOJeDqMiSwIo61t5+j7072ym8YRRu+wMBoqWx9aPJ3GRIVTP/X6Ig7euy+z9e9E9JKWBgXzLXOkSmYmlHgmjIkKimG0nyV5TYfRAguj0hPcyuKZNiayWBZGScXMSItnypig9/RevUV9/XepZsZkqp8zTSnUKobRP4joBemDhSfLroVCZkZKPBPGBKLhZOcu9415r7GhhjY2vUKNC2qF90fqYXSQ/a2SOlh4hM2MsHjMmHQJ1Pj7qBgT9JIDh89w11NxqiHCaEH0M0cM18wIiceelNcuY0xwfZMRDr0j/aG4c858udZkGI1LwMBsPTefxzLFx0SFQ2g7tPdN6RPbKjlLIrt+EfRYPyLMlio+q2NhdFBg3SjB5amnXLY+sOd5qUy7jDFBDg49Tpa+vwaoaXOH9HYd3zQpDztChNFfiWi+0kHDkWVDiuEw+sieB2PipTI5GeFwHVIRjnzx7hrdDmDIgvZ+/tFy//osAYT7TfnA6ngsWz/8sNcx4jFjkhN1lPjghz5bHelUl0mWvFpHbQfXyYbRuei8MRQ9TWFP7G1BBxtxf54JY5JEEHozB9f5YfS7E5dFW1jNltvM3psEOg0Ni8cuil+JNgDGBFNdUcyYqIof9ZcGEwmNDbX+mFDCjU5li2mG/LApKxyMCRxlVFNd2A/2KQOm23RMtSmG0VgoXvOEvzlhjEkQmDkRNQ5YL4o8YDmKYRTTeklGuG5TtzHBCcP4iydgceZGd2aCWBhVcKPGEBIPIQQnTHZOURZcwxCyyoVQvO6HNIMGqRhGJz2VvGcvCLUI30BTJww9CmEZS+7S9eHXdX9xeG2aP3f6IyfL4yTRj/KIUzAbGLfPYYmaWTOqI/UDmEDn1aU68SKidma175ijApcMnnjuIToW48SzGCeexST+mtfDhgu1MycbGZjbRKLEQ1L27IUCnT2fLzumwoQBxpxLFtX5A+jxTCLE6w2oGBsNKsCwIANeM+Ohw7M1lxiWWMVDKUJbx0WZHNoI+voHaP/hM3T0xCV/Rqbe8ryiLLEZFgi3bddJZeFKQU9E5RkGtuOJWHoehFv/fods+R2X/azmc7yEUeM9r9jjohauCAQ8e176blkrMS7ePvmyc6VjwLlWOkbFw5hN5h5yDAuQw9vYtNCvmRFNiqJX72vNCqxpN0aveSjsEQHlBxvWLBgxKN/Y9PAvTMmRjou+0wwCww58WRZWcFrJWM/DieSdcPQs3IOwbdPisrMpMCPIbKMAicfRCJxskjEm3ilOWXmxNkVkrIaqsX07lvuhNAiEaBikSsWYeDwHuOGtBulB9s6tHvc62FNSSlFpGBEPzi9oaAAB1q9ZIL1fhFbemO5K/qb0fm3BiHjXOTeEYIJZtYB2FadY1/W8kPDGXLUhUj3jbT6zFDPi9Qf3PNwf4JDHZdItxolnMU48i3HiWYwTz2KceBbjxLMYJ57FOPEsxolnMU48i3HiWYwTz2KECpB6Q5bq8VJCeNbmBE3nEGUQuQhyerxyCjxSefuuk6GPU7o/Hv4jG2Uf9i0L73GsYYXTvf+EsseFTYtx4lmMkaJb3WGrQsMiF9fzLMaJZzFOPIspXvMi/UXFCmUl53dnh9hv05oib/xH7h3R4cKmrRDR/3MdT7BBaAsrAAAAAElFTkSuQmCC"/>\r\n    </defs>\r\n</svg>\r\n',"</a>")),e.querySelector(".".concat(t,"-house")).addEventListener("click",(function(){i("tpt980-wishlist-on-page-tptsa-callout-cta-click"),window.heap.track("[TPT-980] Wishlist | On-page TPTSA Callout CTA Click"),i("tpt980-wishlist-all-tptsa-callout-cta-click"),window.heap.track("[TPT-980] Wishlist | All TPTSA Callout CTA Click")}))})),"v0"!==e&&!c.cookie.get("".concat(t,"-seen"))){var l=null!==(o=window.optimizely.get("dcp").getAttributeValue({"datasourceId":20144019866,"attributeId":20234667484}))&&void 0!==o?o:"your school";!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push_attribute";window.optimizely.push({"type":"user","attributes":t}),window.optimizely.push({"type":"event","eventName":e})}({"tpt980-personalization-data-available":"your school"!==l});var s={"v1":{"title":"Dont miss out on this resource!","body":"Ask your principal for a school subscription for ".concat(l," to unlock this resource and more."),"link":"Ask Your Principal"},"v2":{"title":"Get a subscription for<br>your school","body":"","link":"Refer your Principal"},"v3":{"title":"Dont miss out on this resource!","body":"Ask your principal for a school subscription for ".concat(l," to unlock this resource and more."),"link":"Ask Your Principal"}};c.waitForElement("v1"===e?".tpt-school-access":"[data-crometrics-isavailableonschoolaccess='true'] .ProductRowPriceAndBundleText").then((function(o){o.classList.add("".concat(t,"-section"));var n=s[e];o.insertAdjacentHTML("beforeend",'\n      <div class="'.concat(t,"-tooltip ").concat(t,"-tooltip-").concat(e,' cro-tooltip">\n        <button class="').concat(t,'-tooltip-close">').concat('<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.03098 9.0311C8.63657 9.42551 7.9971 9.42551 7.60269 9.0311L4.74512 6.17352L1.88754 9.0311C1.49313 9.42551 0.853668 9.42551 0.459259 9.0311C0.0648491 8.63669 0.0648492 7.99722 0.459259 7.60282L3.31683 4.74524L0.459258 1.88766C0.0648482 1.49325 0.0648491 0.85379 0.459259 0.459381C0.853668 0.0649712 1.49313 0.0649713 1.88754 0.459381L4.74512 3.31696L7.60269 0.45938C7.9971 0.0649703 8.63657 0.0649712 9.03098 0.459381C9.42539 0.85379 9.42539 1.49325 9.03098 1.88766L6.1734 4.74524L9.03098 7.60282C9.42539 7.99723 9.42539 8.63669 9.03098 9.0311Z" fill="white"/>\r\n</svg>\r\n','</button>\n        <div class="').concat(t,'-tooltip-title">\n          <div>').concat('<svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n<path d="M21.9769 12.7549C21.9769 12.5925 21.8869 12.4429 21.743 12.3668C21.7327 12.3617 20.7381 11.8264 19.5738 10.8118C18.5098 9.88585 17.0808 8.35621 16.3072 6.33191C16.2404 6.15941 16.0759 6.0478 15.8909 6.0478C15.7058 6.0478 15.5388 6.16195 15.4745 6.33191C14.7009 8.35621 13.2694 9.88585 12.2079 10.8118C11.0437 11.8264 10.0491 12.3617 10.0388 12.3668C9.89486 12.4429 9.80491 12.5925 9.80491 12.7549C9.80491 12.9172 9.89486 13.0669 10.0388 13.143C10.0491 13.1481 11.0257 13.6732 12.19 14.6802C13.2591 15.6087 14.6984 17.1409 15.4771 19.1753C15.5439 19.3478 15.7084 19.4594 15.8935 19.4594C16.0785 19.4594 16.2456 19.3453 16.3098 19.1753C17.0834 17.151 18.515 15.6214 19.5764 14.6955C20.7407 13.6808 21.7353 13.1455 21.7456 13.1405C21.8869 13.0644 21.9769 12.9147 21.9769 12.7549ZM11.2621 4.55367C11.239 4.54099 8.86425 3.24726 7.96729 0.900801C7.87477 0.659813 7.64089 0.5 7.38131 0.5C7.12173 0.5 6.88785 0.659813 6.79533 0.900801C5.89836 3.24726 3.5236 4.54099 3.50047 4.55367C3.29743 4.66021 3.1715 4.87076 3.1715 5.09653C3.1715 5.3223 3.29743 5.53284 3.50047 5.64192C3.5236 5.65461 5.89836 6.94833 6.79533 9.29479C6.88785 9.53578 7.12173 9.6956 7.38131 9.6956C7.64089 9.6956 7.87477 9.53578 7.96729 9.29479C8.86425 6.94833 11.239 5.65461 11.2621 5.64192C11.4652 5.53538 11.5911 5.32483 11.5911 5.09907C11.5911 4.8733 11.4626 4.66021 11.2621 4.55367ZM7.19626 14.528C7.19112 14.5255 6.60771 14.2109 5.92663 13.6174C5.30724 13.077 4.47196 12.1841 4.01963 11.0045C3.96822 10.8701 3.83715 10.7813 3.69065 10.7813C3.54416 10.7813 3.41308 10.8701 3.36168 11.0045C2.91192 12.1841 2.07664 13.077 1.45467 13.6174C0.773598 14.2109 0.190187 14.5255 0.185047 14.528C0.0719626 14.5889 0 14.7056 0 14.8324C0 14.9593 0.0719626 15.0785 0.185047 15.1369C0.208178 15.1495 2.49042 16.3824 3.36168 18.6603C3.41308 18.7948 3.54416 18.8836 3.69065 18.8836C3.83715 18.8836 3.96822 18.7948 4.01963 18.6603C4.46939 17.4808 5.30467 16.5879 5.92663 16.0475C6.60771 15.4539 7.19112 15.1394 7.19626 15.1369C7.30935 15.076 7.38131 14.9593 7.38131 14.8324C7.38131 14.7056 7.30935 14.5889 7.19626 14.528Z" fill="#FFD74B"/>\r\n</svg>\r\n',"</div>\n          <div>").concat(n.title,'</div>\n        </div>\n        <div class="').concat(t,'-tooltip-body">').concat(n.body,'</div>\n        <a class="').concat(t,'-tooltip-link" href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign=').concat(t).concat(e,'">').concat(n.link,"</a>\n      </div>\n    "));var a=o.querySelector(".".concat(t,"-tooltip")),l="v1"===e?15:59;"v1"!==e&&a.parentElement.querySelector("[class*='discountPriceToTheRight']")&&(l=41),a.setAttribute("style","top: calc((143px - ".concat(a.offsetHeight,"px) / 2 - ").concat(l,"px);")),o.querySelector(".".concat(t,"-tooltip-close")).addEventListener("click",(function(){a.remove(),c.cookie.set("".concat(t,"-seen"),!0,7)})),o.querySelector(".".concat(t,"-tooltip-link")).addEventListener("click",(function(){i("tpt980-wishlist-tooltip-tptsa-callout-cta-click"),window.heap.track("[TPT-980] Wishlist | Tooltip TPTSA Callout CTA Click"),i("tpt980-wishlist-all-tptsa-callout-cta-click"),window.heap.track("[TPT-980] Wishlist | All TPTSA Callout CTA Click")}))}))["catch"](a)}};o.applyTreatment=function(e,o){!function(e,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;i.classList.add(t),i.classList.add(t+e),n("Variation ".concat(e,", page ").concat(o))}(e,o),c.waitUntil((function(){var t;return null===(t=document.querySelector(".tpt-frontend"))||void 0===t?void 0:t._reactRootContainer})).then((function(){return l(e)}))["catch"](a)}}("tpt980");
}}, {"dependencies": [], "type": "append", "id": "cbbcb6d0daab4ee68751b500d2d717f2", "value": "<style>.tpt980 .tpt-school-access{position:relative;clear:both;padding-top:10px}.tpt980 .tpt-school-access p{font-size:14px;display:block;text-align:left;margin-bottom:5px;margin-top:20px}.tpt980 .tpt-school-access img{width:auto;height:20px;margin-right:50px;position:relative;top:-1px}.tpt980 .tpt-school-access .Button{background-color:#41539d;color:#fff;padding:8px 10px;position:relative;top:-10px;margin-left:10px}.tpt980-hidden{display:none}.tpt980 .tpt-school-access a.Button{font-size:11px;margin-left:10px}@media only screen and (min-width: 780px){.tpt980 .tpt-school-access a.Button{font-size:14px}}@media only screen and (min-width: 980px){.tpt980 .tpt-school-access a.Button{font-size:9px}}@media only screen and (min-width: 995px){.tpt980 .tpt-school-access a.Button{font-size:10px}}@media only screen and (min-width: 1019px){.tpt980 .tpt-school-access a.Button{font-size:11px}}@media only screen and (min-width: 1042px){.tpt980 .tpt-school-access a.Button{font-size:12px}}@media only screen and (min-width: 1065px){.tpt980 .tpt-school-access a.Button{font-size:13px}}@media only screen and (min-width: 1088px){.tpt980 .tpt-school-access a.Button{font-size:14px}}.tpt980-section{position:relative !important}.tpt980-house{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background-color:#E8EDF7;width:25px;height:25px;border-radius:50%;margin-left:6px}.tpt980-house svg{margin-bottom:3px}.tpt980-tooltip{position:absolute;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;background-color:#415294;color:white;font-weight:400;z-index:1;width:282px;left:-88px;padding:24px;border-radius:6px}.tpt980-tooltip::after{position:absolute;content:\"\";-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);top:calc(50% - 8px);right:-7px;border-top:8px solid #415294;border-right:8px solid #415294;border-bottom:8px solid transparent;border-left:8px solid transparent}.tpt980-tooltip-v1,.tpt980-tooltip-v3{width:370px;left:-172px}.tpt980-tooltip-v2{width:303px;left:-262px}.tpt980-tooltip-v3{left:-329px}.tpt980-tooltip-close{position:absolute;min-height:auto !important;line-height:0;top:20px;right:20px;padding:5px}.tpt980-tooltip-title{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;font-size:19px;line-height:137.5%;margin-bottom:3px}.tpt980-tooltip-title div:first-child{margin-right:6px}.tpt980-tooltip-body{font-size:14px;line-height:137.5%}.tpt980-tooltip-link{font-size:14px;line-height:117%;font-weight:600;margin-top:11px}.tpt980-tooltip-link:hover{text-decoration:underline !important}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["17899101619"], "experiments": [{"weightDistributions": [{"entityId": "21182670098", "endOfRange": 10000}], "audienceName": "U.S. Only,[DCP Migration] TPTSA Linked Users (Marketplace),[QA] Cro Metrics Test Cookie (OLI)", "name": "[DCP Migration] [TEST COOKIE] 100% v2 TPT-758 [Post Purchase Page] Matched User Post-purchase Banners", "bucketingStrategy": null, "variations": [{"id": "21197091472", "actions": [{"viewId": "17899101619", "changes": []}], "name": "v0: Original"}, {"id": "21200180207", "actions": [{"viewId": "17899101619", "changes": [{"value": function($){!function(o,r,n){var t=20467908274,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v1","purchase-complete")}catch(o){w(o)}}("tpt758");
//# sourceMappingURL=v1.purchase-complete.js.map
}, "dependencies": [], "type": "custom_code", "id": "8174f5a688174d74a9b8a5af1576a691"}]}], "name": "v1: BTS Banner"}, {"id": "21182670098", "actions": [{"viewId": "17899101619", "changes": [{"value": function($){!function(o,r,n){var t=20467908274,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v2","purchase-complete")}catch(o){w(o)}}("tpt758");
//# sourceMappingURL=v2.purchase-complete.js.map
}, "dependencies": [], "type": "custom_code", "id": "18c15ea1a00748d09199f6b2d22b1e30"}]}], "name": "v2: Standard Banner"}], "audienceIds": ["and", "16539970090", "21193201189", "15737501278"], "changes": null, "id": "21189161293", "integrationSettings": null}], "id": "21191011805", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] 100% v2 TPT-758 [Post Purchase Page] Matched User Post-purchase Banners", "groupId": null, "commitId": "21205090555", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "94b96a21fa89438781ecaf67def1a53c", "value": function($){!function(c){var n=20467908274,t=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),a=window.optimizely.get("utils"),o=a.log&&a.log.bind(window,"[".concat(c,"]"))||console.warn.bind(window,"[cro] [".concat(c,"]")),e=a.error&&a.error.bind(window,c)||console.error.bind(window,"[cro] [".concat(c,"]"));o("v0.1"),t.utils=a,t.applyTreatment=function(n,t){!function(n,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;a.classList.add(c),a.classList.add(c+n),o("Variation ".concat(n,", page ").concat(t))}(n,t);var s={"v1":{"title":'This back to school, your subscription can <span class="emph">help you save</span>.',"content":"Access resources  without paying out of pocket  on TpT School Access."},"v2":{"title":'Want more TpT? Your subscription can <span class="emph">help you save</span>.',"content":"Access resources  without paying out of pocket  on TpT School Access."}}[n],l='\n    <aside class="'.concat(c,'-banner">\n      <div class="').concat(c,'-banner-logo"><svg viewBox="0 0 435 54" class="LoggedInHeader_logoLayout__1_HNg" title="TpT School Access" role="img"><g fill="none"><path d="M80.78 54H0V0h80.78v54zM6.17 47.814h68.44V6.146H6.17v41.668z" fill="#00A86C"></path><path fill="#00AA6C" d="M18.51 22.71h-5V17.8h15.6v4.91h-5v13.7h-5.6zm13.87-4.91h9.93c4.36 0 6.7 2.9 6.7 6.39 0 3.49-2.34 6.25-6.7 6.25H38v6h-5.62V17.8zm9.21 4.69H38v3.26h3.57a1.63 1.63 0 100-3.26h.02zm15.07.22h-5V17.8h15.6v4.91h-5v13.7h-5.6z"></path><path d="M112.58 21.54c-3.81-.72-5.51-1.3-5.51-2.83s1.32-2.39 3.71-2.39a15.15 15.15 0 019.13 3.35l.14.11 4.82-6.31-.12-.1a20.21 20.21 0 00-13.43-4.61 14.91 14.91 0 00-9.8 3.11 9.49 9.49 0 00-3.44 7.33c0 7.77 7.41 9.25 12.83 10.33l.28.06c3.54.75 5.47 1.47 5.47 3.17s-1.85 2.63-4.5 2.63a14.72 14.72 0 01-10.35-4.27l-.14-.14L97 37.6l.11.1c3.65 3.49 8.58 5.26 14.66 5.26 8.66 0 13.84-4.16 13.84-11.13-.01-7.57-7.53-9.14-13.03-10.29zm32.66 12.16a5.18 5.18 0 01-4.34 2.23c-3.22 0-5.38-2.26-5.38-5.63s2.16-5.57 5.38-5.57a5 5 0 014.33 2.18l.12.16 5.16-4.8-.08-.12c-.7-1-3.49-4.45-9.87-4.45-7.62 0-13.15 5.3-13.15 12.6S132.82 43 140.56 43c6.31 0 9.15-3.41 9.87-4.45l.08-.12-5.16-4.85-.11.12zm24.31-16a11 11 0 00-8 3.22V9.25h-7.9v33.12h7.9V26.93a5.58 5.58 0 014.4-2.2c2.61 0 3.77 1.13 3.77 3.66v14h7.9v-17.1c-.04-4.82-2.96-7.59-8.07-7.59zm24.72 0c-7.59 0-13.1 5.3-13.1 12.6s5.51 12.7 13.1 12.7a13.11 13.11 0 009.67-3.79 12.59 12.59 0 003.47-8.87 12.52 12.52 0 00-3.47-8.84 13.15 13.15 0 00-9.67-3.8zm5 12.6c0 2.81-1.56 5.63-5 5.63s-4.94-2.82-4.94-5.63 1.53-5.57 4.94-5.57 5.04 2.8 5.04 5.57h-.04zm23.3-12.6c-7.59 0-13.09 5.3-13.09 12.6S215 43 222.57 43a13.09 13.09 0 009.67-3.79 12.6 12.6 0 003.48-8.87 12.52 12.52 0 00-3.48-8.84 13.15 13.15 0 00-9.67-3.8zm5 12.6c0 2.81-1.56 5.63-5 5.63s-4.94-2.82-4.94-5.63 1.53-5.57 4.94-5.57 5.04 2.8 5.04 5.57h-.04zm11.78-21.05h7.91v33.12h-7.91zM316 33.7a5.15 5.15 0 01-4.33 2.23c-3.22 0-5.38-2.26-5.38-5.63s2.16-5.57 5.38-5.57a5 5 0 014.33 2.18l.11.16 5.17-4.8-.08-.12c-.71-1-3.5-4.45-9.87-4.45-7.62 0-13.15 5.3-13.15 12.6S303.63 43 311.37 43c6.31 0 9.15-3.41 9.87-4.45l.08-.12-5.16-4.85-.16.12zm24.61 0a5.15 5.15 0 01-4.33 2.23c-3.22 0-5.38-2.26-5.38-5.63s2.16-5.57 5.38-5.57a5 5 0 014.33 2.18l.11.16 5.17-4.8-.08-.12c-.71-1-3.5-4.45-9.87-4.45-7.62 0-13.15 5.3-13.15 12.6S328.2 43 335.94 43c6.31 0 9.15-3.41 9.87-4.45l.08-.12-5.16-4.85-.12.12zm19.55-16a12.42 12.42 0 00-12.8 12.6c0 7.45 5.41 12.66 13.15 12.66 4 0 7.84-1.22 10-3.19l.11-.1-3.39-5-.14.13a9.29 9.29 0 01-5.69 2c-3.6 0-5.37-2.05-5.83-3.89h16.86v-1.82c.04-8.01-4.91-13.39-12.27-13.39zm0 6.19a4.38 4.38 0 014.72 3.74h-9.38a4.51 4.51 0 014.66-3.74zM386 26.81h-.07c-2.47-.44-3.64-.81-3.64-1.75s1.11-1.45 2.82-1.45a10.43 10.43 0 016.89 2.54l.16.15 3.06-5.3-.12-.09a16.78 16.78 0 00-10-3.18c-5 0-10.34 2.5-10.34 8 0 6 5.55 7 9.61 7.69h.27c2.49.4 3.93.84 3.93 1.9s-1.07 1.6-3 1.6a14.61 14.61 0 01-8.24-3.1l-.16-.14-3.25 5.38-.07.13.1.09c2.54 2.23 6.94 3.68 11.22 3.68 6.67 0 11-3.15 11-8-.06-6.43-6.17-7.47-10.17-8.15zm23.8 0h-.08c-2.47-.44-3.64-.81-3.64-1.75s1.11-1.45 2.83-1.45c2.52-.005 4.955.9 6.86 2.55l.15.15L419 21l-.12-.09a16.83 16.83 0 00-10-3.18c-5 0-10.35 2.5-10.35 8 0 6 5.56 7 9.61 7.69h.27c2.49.4 3.93.84 3.93 1.9s-1.07 1.6-3 1.6a14.64 14.64 0 01-8.24-3.1l-.16-.14-3.25 5.38-.07.13.11.09c2.53 2.23 6.94 3.68 11.22 3.68 6.67 0 11-3.15 11-8-.06-6.43-6.13-7.46-10.15-8.15zM284.84 9.14h-10.72l-12.45 33.1H271l1.68-5 .51-1.61a11.45 11.45 0 016.35-1.8 11.23 11.23 0 016.41 1.87l.48 1.54 1.69 5h9.28l-12.56-33.1zm-9.12 18.39l3.76-11 3.81 11a19.21 19.21 0 00-3.8-.39 19.51 19.51 0 00-3.77.39zM422.5 10h-2V8.7h5.34V10h-1.94v5.4h-1.4zm10.13.58l-1.89 4.82h-.62l-1.89-4.82v4.82h-1.43V8.7h2l1.63 4.18 1.62-4.18h2v6.7h-1.43z" fill="#191D3A"></path></g></svg></div>\n      <div class="').concat(c,'-banner-content">\n        <div class="').concat(c,'-banner-text">\n          <div class="').concat(c,'-banner-title">\n            ').concat(s.title,"\n          </div>\n          ").concat(s.content,'\n        </div>\n        <div class="').concat(c,'-banner-cta">\n          <a class="').concat(c,'-banner-button" href="https://www.tptschoolaccess.com/?utm_source=marketplace&utm_medium=optimizely&utm_campaign=optimizely').concat(c).concat(n,"&cro_oeuid=").concat(a.cookie.get("optimizelyEndUserId"),'">Go to TpT School Access</a>\n        </div>\n      </div>\n    </aside>\n  '),i=function(){a.waitForElement(".OrderReceiptPageLayout").then((function(n){n.querySelector(".".concat(c,"-banner"))||n.insertAdjacentHTML("afterbegin",l)}))["catch"](e)};i(),a.waitForElement(".tpt-frontend").then((function(c){return a.waitUntil((function(){return c._reactRootContainer}))})).then(i)["catch"](e)}}("tpt758");
//# sourceMappingURL=shared.js.map
}}, {"dependencies": [], "type": "append", "id": "355697d8e85248519a6a96904a7d1731", "value": "<style>.tpt758 .PostPurchaseTpTSABannerLayout{display:none}.tpt758-banner{margin:20px auto;padding:22px 30px;border:3px solid #415294;border-radius:10px;max-width:90%}@media screen and (min-width: 768px){.tpt758-banner{width:900px;max-width:calc(100% - 60px)}}.tpt758-banner-logo{margin-bottom:16px}.tpt758-banner-logo svg{width:186px;height:auto}.tpt758-banner-content{width:100%;font-family:'Proxima Nova', sans-serif}@media screen and (min-width: 768px){.tpt758-banner-content{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}}.tpt758-banner-title{font-weight:700;color:#1D1C4C;font-size:22px}.tpt758-banner-title .emph{text-decoration:underline}.tpt758-banner-text{margin-bottom:20px;color:#1D1C4C;font-size:18px;font-weight:400;line-height:1.2}@media screen and (min-width: 768px){.tpt758-banner-text{margin-bottom:0}}@media screen and (min-width: 768px){.tpt758-banner-cta{margin-left:10px}}.tpt758-banner-button{white-space:nowrap;background:#415294;color:#fff !important;font-size:16px;font-weight:600;padding:10px 20px;border-radius:4px}.tpt758-banner-button:hover{text-decoration:underline !important}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["11070712640"], "experiments": [{"weightDistributions": [{"entityId": "21182700135", "endOfRange": 5000}, {"entityId": "21183231460", "endOfRange": 10000}], "audienceName": "U.S. Only,Exclude: All Sellers,[DCP Migration] TPTSA Acquisition (Unlinked users),[QA] Cro Metrics Test Cookie (OLI)", "name": "[DCP Migration] [TEST COOKIE] TPT-1063 [Homepage] Pop-up Schools User and Name Messaging with on-page modal", "bucketingStrategy": null, "variations": [{"id": "21182700135", "actions": [{"viewId": "11070712640", "changes": [{"value": function($){!function(o,i,t){var n=20985570895,r=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{r.init("v0","optimizely-tpt-home-page")}catch(o){e(o)}}("tpt1063");
}, "dependencies": [], "type": "custom_code", "id": "699ccb748ed14e4c8644a9eb4621faca"}]}], "name": "v0: Original"}, {"id": "21183231460", "actions": [{"viewId": "11070712640", "changes": [{"value": function($){!function(o,i,t){var n=20985570895,r=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{r.init("v1","optimizely-tpt-home-page")}catch(o){e(o)}}("tpt1063");
}, "dependencies": [], "type": "custom_code", "id": "ff47046d929b4a7d9a1e0861894256f6"}]}], "name": "v1: User and School Personalized info"}], "audienceIds": ["and", "16539970090", "16649800467", "21160151169", "15737501278"], "changes": null, "id": "21189191187", "integrationSettings": null}], "id": "21191441040", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] TPT-1063 [Homepage] Pop-up Schools User and Name Messaging with on-page modal", "groupId": null, "commitId": "21174910996", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "6ae6d37a2f9a4a669a5718487c835fd0", "value": function($){function _defineProperty(e,o,n){return o in e?Object.defineProperty(e,o,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[o]=n,e}!function(e){var o=20985570895,n=window["CRO_SHARED_"+o]||(window["CRO_SHARED_"+o]={}),t=window.optimizely.get("utils"),a=t.log&&t.log.bind(window,"[".concat(e,"]"))||console.warn.bind(window,"[cro] [".concat(e,"]")),i=t.error&&t.error.bind(window,e)||console.error.bind(window,"[cro] [".concat(e,"]")),r=[{"abbr":"CA","name":"California","stimulus":"over $15 billion"},{"abbr":"NY","name":"New York","stimulus":"over $8.9 billion"},{"abbr":"NJ","name":"New Jersey","stimulus":"over $2.7 billion"},{"abbr":"PA","name":"Pennsylvania","stimulus":"over $4.9 billion"},{"abbr":"TX","name":"Texas","stimulus":"over $12 billion"},{"abbr":"IL","name":"Illinois","stimulus":"over $5 billion"},{"abbr":"OH","name":"Ohio","stimulus":"over $4.4 billion"},{"abbr":"MA","name":"Massachusetts","stimulus":"over $1.8 billion"},{"abbr":"FL","name":"Florida","stimulus":"over $7 billion"},{"abbr":"MI","name":"Michigan","stimulus":"over $3.7 billion"},{"abbr":"NC","name":"North Carolina","stimulus":"over $3.5 billion"},{"abbr":"GA","name":"Georgia","stimulus":"over $4 billion"},{"abbr":"MO","name":"Missouri","stimulus":"over $1.9 billion"},{"abbr":"VA","name":"Virginia","stimulus":"over $761 million"},{"abbr":"IN","name":"Indiana","stimulus":"over 1.9 billion"},{"abbr":"WI","name":"Wisconsin","stimulus":"over $1.5 billion"},{"abbr":"MN","name":"Minnesota","stimulus":"over $1.3 billion"},{"abbr":"CT","name":"Connecticut","stimulus":"over $1.1 billion"},{"abbr":"AZ","name":"Arizona","stimulus":"over $2.5 billion"},{"abbr":"CO","name":"Colorado","stimulus":"over $1.1 billion"},{"abbr":"OK","name":"Oklahoma","stimulus":"over $1.4 billion"},{"abbr":"KY","name":"Kentucky","stimulus":"over $2 billion"},{"abbr":"OR","name":"Oregon","stimulus":"over $1.1 billion"},{"abbr":"WA","name":"Washington","stimulus":"over $1.8 billion"},{"abbr":"MD","name":"Maryland","stimulus":"over $1.9 billion"},{"abbr":"KS","name":"Kansas","stimulus":"over $830 million"},{"abbr":"ME","name":"Maine","stimulus":"over $411 million"},{"abbr":"SC","name":"South Carolina","stimulus":"over $2.1 billion"},{"abbr":"HI","name":"Hawaii","stimulus":"over $412 million"},{"abbr":"TN","name":"Tennessee","stimulus":"over $2.4 billion"},{"abbr":"AL","name":"Alabama","stimulus":"over $2 billion"},{"abbr":"LA","name":"Louisiana","stimulus":"over $2.6 billion"},{"abbr":"IA","name":"Iowa","stimulus":"over $774 million"},{"abbr":"WV","name":"West Virginia","stimulus":"over $761 million"},{"abbr":"AR","name":"Arkansas","stimulus":"over $1.2 billion"},{"abbr":"NH","name":"New Hampshire","stimulus":"over $350 million"},{"abbr":"NM","name":"New Mexico","stimulus":"over $979 million"},{"abbr":"MS","name":"Mississippi","stimulus":"over $1.6 billion"},{"abbr":"NE","name":"Nebraska","stimulus":"over $545 million"},{"abbr":"NV","name":"Nevada","stimulus":"over $1 billion"},{"abbr":"UT","name":"Utah","stimulus":"over $615 million"},{"abbr":"ID","name":"Idaho","stimulus":"over $439 million"},{"abbr":"RI","name":"Rhode Island","stimulus":"over $415 million"},{"abbr":"ND","name":"North Dakota","stimulus":"over $305 million"},{"abbr":"AK","name":"Alaska","stimulus":"over $358 million"},{"abbr":"SD","name":"South Dakota","stimulus":"over $382 million"},{"abbr":"PR","name":"Puerto Rico","stimulus":"over $2.9 billion"},{"abbr":"MT","name":"Montana","stimulus":"over $382 million"},{"abbr":"DE","name":"Delaware","stimulus":"over $410 million"},{"abbr":"VT","name":"Vermont","stimulus":"over $285 million"},{"abbr":"WY","name":"Wyoming","stimulus":"over $303 million"},{"abbr":"DC","name":"District of Columbia","stimulus":"over $386 million"}],s=function(){return e="UserProfile",o='{"operationName":"UserProfile","variables":{},"extensions":{},"query":"query UserProfile {\n  member {\n    id\n    groupId\n    userProfile {\n      fullName\n      grades\n      subjects\n      role\n      populations\n      languages\n      standards\n      other\n      address\n      address2\n      city\n      state\n      country\n      postalCode\n      allowShowCity\n      hasPayoutMethod\n      customTaxonomy {\n        standards {\n          id\n          customValue\n          __typename\n        }\n        __typename\n      }\n      selectedSchool {\n        id\n        name\n        address\n        city\n        state\n        stateAbbr\n        zip\n        __typename\n      }\n      __typename\n    }\n    organizations {\n      organizations {\n        id\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n"}',n=window.optimizely.get("utils").cookie.get("csrfToken"),fetch("https://www.teacherspayteachers.com/graph/graphql?opname=".concat(e),{"credentials":"include","headers":{"accept":"application/json","cache-control":"no-cache","content-type":"application/json","pragma":"no-cache","x-csrf-token":n,"x-requested-with":"XMLHttpRequest"},"referrerPolicy":"no-referrer-when-downgrade","body":o,"method":"POST","mode":"cors"}).then((function(e){return e.json()}));var e,o,n},l=function(e,o,n){var t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"."+window.location.hostname.split(".").slice(-2).join("."),i=e+"="+o+"; path=/";n instanceof Date?t=n:n>0&&(t=new Date).setTime(t.getTime()+24*n*60*60*1e3),t&&(i+="; expires="+t.toGMTString()),a&&(i+="; domain="+a),document.cookie=i};function c(o,n){window.optimizely.push({"type":"user","attributes":_defineProperty({},"".concat(e,"_dcp_dat_set"),"true")}),t.waitForElement(".FooterLayout").then((function(r){if(n.school){var s="".concat(n.school," teachers could use more TpT resources this year");n.resourcesDownloaded&&"0"!==n.resourcesDownloaded&&(s="".concat(n.school,' teachers have used <span class="green">').concat(n.resourcesDownloaded,"</span> TpT resources this&nbsp;year"));var c,u="Your principal needs to know about TpT School Access  the school subscription that unlocks a library of 3M+ resources.",m="Share the Details";if("v1"===o)s="".concat(n.name,", do you need more support this school year?"),u="".concat(n.state.name," will be recieving ").concat(n.state.stimulus,"* in stimulus funding for K-12 schools, so ").concat(null!==(c=n.school)&&void 0!==c?c:"your school"," may have additional funds for a school subscription."),m="Ask for Support";var d='\n        <div id="'.concat(e,'-modal" class="cro-modal">\n          <div class="cro-modal__content">\n            <a href="#" class="cro-modal__closeBtn">\n              <img src="//cdn.optimizely.com/img/11000223989/328de7f686dd419eb98f0fc6a4c4e085.png" alt="close">\n            </a>\n            <div class="cro-modal__content__copy_top">\n              ').concat("v1"===o?'\n                <a href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign='.concat(e).concat(o,'">\n                  <img src="//cdn.optimizely.com/img/11000223989/ca959061157440a5817fa531b3acb30d.png">\n                </a>\n              '):"","\n              <h2>").concat(s,'</h2>\n            </div>\n            <div class="cro-modal__content__copy_bottom">\n              <p>').concat(u,'</p>\n              <div class="row">\n                ').concat("v1"===o?"\n                  <div>*US Department of Education. (March, 2021). Department of Education Announces American Rescue Plan Funds for All 50 States, Puerto Rico, and the District of Columbia to Help Schools Reopen</div>\n                ":'\n                  <a href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign='.concat(e).concat(o,'">\n                    <img src="//cdn.optimizely.com/img/11000223989/ca959061157440a5817fa531b3acb30d.png">\n                  </a>\n                '),'\n                <button class="btn">').concat(m,"</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      ");r.insertAdjacentHTML("afterend",d),a("Added!")}t.waitForElement("#".concat(e,"-modal")).then((function(o){var n;null===(n=o.querySelector("#".concat(e,"-modal button")))||void 0===n||n.addEventListener("click",(function(){return function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":e,"tags":o})}("tpt1063-clicks-on-modal-cta")})),function(e){for(var o=e+"=",n=document.cookie.split(";"),t=0;t<n.length;t++){var a=n[t].trim();if(0===a.indexOf(o))return a.substring(o.length,a.length)}return null}("".concat(e,"_modal_shown"))||(o.classList.add("cro-modal--show"),l("".concat(e,"_modal_shown"),"true",14)),t.waitForElement(".cro-modal__content__copy_bottom .btn").then((function(n){n.addEventListener("click",(function(){l("".concat(e,"_modal_shown"),"true",14),o.classList.remove("cro-modal--show"),window.__displayTeacherAdvocacyModal(e)}))}))["catch"](i),document.querySelector(".cro-modal__closeBtn").addEventListener("click",(function(){o.classList.remove("cro-modal--show")}))}))["catch"](i),t.waitForElement("#".concat(e,"-modal.cro-modal--show")).then((function(o){window.addEventListener("click",(function(n){n.target.matches("#".concat(e,"-modal"))&&(n.preventDefault(),o.classList.remove("cro-modal--show"))}),!1)}))["catch"](i)}))["catch"](i)}a("v1"),n.init=function(o,n){!function(o,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;t.classList.add(e),t.classList.add(e+o),a("Variation ".concat(o,", page ").concat(n))}(o,n),t.waitForElement(".tpt-frontend").then((function(e){return t.waitUntil((function(){return e._reactRootContainer}))})).then((function(){var n=!1;document.location.search.indexOf("".concat(e,"Copy"))>-1&&(n=!0),a("Waiting for DCP"),t.waitUntil(function(){var e=window.optimizely.get("visitor"),o=e.dcpData&&e.dcpData.attributes;return o&&Object.keys(o).length>0}||n).then((function(){a("DCP data or query param found!");var l={};l.school=window.optimizely.get("dcp").getAttributeValue({"datasourceId":20144019866,"attributeId":20234667484}),l.teachers=window.optimizely.get("dcp").getAttributeValue({"datasourceId":20144019866,"attributeId":20222687010}),l.penetration=window.optimizely.get("dcp").getAttributeValue({"datasourceId":20144019866,"attributeId":20239886934}),l.resourcesDownloaded=window.optimizely.get("dcp").getAttributeValue({"datasourceId":20144019866,"attributeId":20251361885}),t.waitUntil((function(){return n||l.school&&l.teachers&&l.penetration&&l.resourcesDownloaded})).then((function(){var t,a;n&&(l.school="Isla Academy",l.teachers="78",l.penetration="90",l.resourcesDownloaded="371"),l.penetration>=50&&l.penetration<=60?a="50%-60% of teachers use TPT ":l.penetration>=61&&l.penetration<=70?a="61%-70%, of teachers use TPT ":l.penetration>=71&&l.penetration<=80?a="71%-80% of teachers use TPT ":l.penetration>=81&&l.penetration<=90?a="81%-90% of teachers use TPT ":l.penetration>=91&&l.penetration<=100&&(a="91%-100% of teachers use TPT"),l.resourcesDownloaded>=200&&l.resourcesDownloaded<500?t="School Resource Count 200-500":l.resourcesDownloaded>=500&&l.resourcesDownloaded<1e3?t="School Resource Count 500-1k":l.resourcesDownloaded>=1e3&&l.resourcesDownloaded<2e3?t="School Resource Count 1k-2k":l.resourcesDownloaded>=2e3&&l.resourcesDownloaded<3e3?t="School Resource Count 2k-3k":l.resourcesDownloaded>=3e3&&(t="School Resource Count 3k+"),window.optimizely.push({"type":"user","attributes":_defineProperty({},"".concat(e,"_school_resource_count"),t)}),window.optimizely.push({"type":"user","attributes":_defineProperty({},"".concat(e,"_teacher_penetration"),a)}),s().then((function(e){var n,t,a,i,s,u,m,d,b,h,p,v=(null==e||null===(n=e.data)||void 0===n||null===(t=n.member)||void 0===t||null===(a=t.userProfile)||void 0===a||null===(i=a.selectedSchool)||void 0===i?void 0:i.stateAbbr)||(null==e||null===(s=e.data)||void 0===s||null===(u=s.member)||void 0===u||null===(m=u.userProfile)||void 0===m?void 0:m.state),w=r.find((function(e){return e.abbr===v}));l.state=w,l.name=null==e||null===(d=e.data)||void 0===d||null===(b=d.member)||void 0===b||null===(h=b.userProfile)||void 0===h||null===(p=h.fullName)||void 0===p?void 0:p.split(" ")[0],c(o,l)}))["catch"](i)}))["catch"](i)}))["catch"](i)}))["catch"](i)}}("tpt1063");
}}, {"dependencies": [], "type": "append", "id": "9537c9df1eca402a927165f6bc170081", "value": "<style>.tpt1063 .cro-modal{z-index:601;display:none;position:fixed;left:0;top:0;height:100%;width:100%;overflow:auto;background-color:rgba(0,0,0,0.6)}.tpt1063 .cro-modal .cro-modal__content__copy_bottom{background:#EEF6FF;padding-bottom:50px;border-radius:0px 0px 20px 20px}@media (max-width: 767px){.tpt1063 .cro-modal .cro-modal__content__copy_bottom{padding-bottom:20px}}.tpt1063 .cro-modal h2{width:85%;margin:0 auto;font-size:37px;line-height:1.625;padding:45px 0px;font-weight:600;color:#1D1C4C;font-family:Proxima Nova;text-align:left}@media (max-width: 767px){.tpt1063 .cro-modal h2{text-align:center;font-size:26px;line-height:1.33;padding:35px 0}}.tpt1063 .cro-modal p{width:85%;margin:0 auto;font-family:Proxima Nova;font-style:normal;font-weight:400;letter-spacing:0px;text-align:left;font-size:26px;line-height:1.62;margin:0 auto;padding-top:45px;padding-bottom:50px}@media (max-width: 767px){.tpt1063 .cro-modal p{text-align:center;font-size:20px;padding-top:35px;padding-bottom:25px}}.tpt1063 .cro-modal .row{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;width:85%;margin:0 auto}.tpt1063 .cro-modal .row img{max-width:250px;margin-left:20px}@media (max-width: 767px){.tpt1063 .cro-modal .row img{width:65%;margin-left:0}}.tpt1063 .cro-modal .row a:not(.btn){-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;text-align:left}.tpt1063 .cro-modal .row .btn{border-radius:3px;-webkit-transition:all .2s ease-in-out;-o-transition:all .2s ease-in-out;transition:all .2s ease-in-out;line-height:1;cursor:pointer;font-weight:600;font-family:Proxima Nova, Helvetica Neue, Helvetica, Arial, sans-serif;text-align:center;background:#0aa96c;border:1px solid transparent;color:#fff;padding:16px 20px;font-size:20px;width:40%;max-width:343px;background-color:#3D52A2 !important;border-radius:100px}@media (max-width: 767px){.tpt1063 .cro-modal .row{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-webkit-flex-direction:column-reverse;-moz-box-orient:vertical;-moz-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse;width:100%}.tpt1063 .cro-modal .row .btn{font-size:18px;padding:16px 30px;width:auto}.tpt1063 .cro-modal .row a:not(.btn){width:100%;border-top:1px solid rgba(29,28,76,0.25);margin-top:35px;padding-top:25px;padding-bottom:0px;text-align:center}}@media (max-width: 767px){.tpt1063 .cro-modal-desktop{display:none}}.tpt1063 .cro-modal-mobile{display:none}@media (max-width: 767px){.tpt1063 .cro-modal-mobile{display:block}}.tpt1063 .cro-modal--show{display:block}.tpt1063 .cro-modal__content{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%, -50%);-ms-transform:translate(-50%, -50%);transform:translate(-50%, -50%);width:649px;height:517px;background-color:white;border-radius:20px;-webkit-box-shadow:0 5px 8px 0 rgba(0,0,0,0.2),0 7px 20px 0 rgba(0,0,0,0.2);box-shadow:0 5px 8px 0 rgba(0,0,0,0.2),0 7px 20px 0 rgba(0,0,0,0.2);text-align:center}.tpt1063 .cro-modal__content__image img{width:100%}@media (max-width: 767px){.tpt1063 .cro-modal__content{width:75%;height:auto}}.tpt1063 .cro-modal__closeBtn{float:right;margin-right:-45px;background-color:black;color:white;border-radius:3px;width:35px;height:35px;text-align:center}@media (max-width: 767px){.tpt1063 .cro-modal__closeBtn{position:absolute;top:-30px;right:30px}}.tpt1063 .cro-modal__closeBtn img{width:20px;padding-top:7px;margin-left:-1px}@media (max-width: 767px){.tpt1063 .cro-modal__closeBtn img{width:15px;margin-left:0;padding-top:50%;-webkit-transform:translateY(-25%);-ms-transform:translateY(-25%);transform:translateY(-25%)}}@media (max-width: 767px){.tpt1063 .cro-modal__closeBtn{width:25px;height:25px;margin-right:-30px}}.tpt1063 .cro-modal__closeBtn:hover,.tpt1063 .cro-modal .closeBtn:focus{text-decoration:none;cursor:pointer}.tpt1063v1 .cro-modal .cro-modal__content{border:4px solid #3D52A2}.tpt1063v1 .cro-modal .cro-modal__content__copy_top{background:white;border-radius:20px 20px 0px 0px}.tpt1063v1 .cro-modal .cro-modal__content__copy_top a{padding-top:75px}.tpt1063v1 .cro-modal .cro-modal__content__copy_top a img{height:32px}.tpt1063v1 .cro-modal .cro-modal__content__copy_top h2{padding:35px 0 20px;font-weight:800;line-height:44px}@media (max-width: 767px){.tpt1063v1 .cro-modal .cro-modal__content__copy_top a{margin:auto !important}.tpt1063v1 .cro-modal .cro-modal__content__copy_top h2{padding:20px 0;line-height:28px}}.tpt1063v1 .cro-modal .cro-modal__content__copy_bottom{background:#EEF6FF;padding-bottom:50px;border-radius:0px 0px 20px 20px}.tpt1063v1 .cro-modal .cro-modal__content__copy_bottom p{color:#1D1C4C;padding-top:0;line-height:32px}.tpt1063v1 .cro-modal .cro-modal__content__copy_bottom .row div{max-width:285px}.tpt1063v1 .cro-modal .cro-modal__content__copy_bottom .row .btn{border-radius:0}@media (max-width: 767px){.tpt1063v1 .cro-modal .cro-modal__content__copy_bottom{padding-bottom:20px}.tpt1063v1 .cro-modal .cro-modal__content__copy_bottom p{padding-bottom:40px;line-height:24px}.tpt1063v1 .cro-modal .cro-modal__content__copy_bottom .row{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.tpt1063v1 .cro-modal .cro-modal__content__copy_bottom .row>div{margin:auto;text-align:center !important;max-width:90%;margin-bottom:25px}.tpt1063v1 .cro-modal .cro-modal__content__copy_bottom a{margin-top:20px}}.tpt1063v1 .cro-modal .cro-modal__content{height:auto;border-radius:20px}.tpt1063v1 .cro-modal .cro-modal__content .cro-modal__content__copy_top{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start}.tpt1063v1 .cro-modal .cro-modal__content .cro-modal__content__copy_top a{margin-left:48px}.tpt1063v1 .cro-modal .cro-modal__content .cro-modal__content__copy_bottom{background:white}.tpt1063v1 .cro-modal .cro-modal__content .cro-modal__content__copy_bottom .row>div{color:#9A9EA0;text-align:left;font-size:12px;line-height:14px;margin-right:auto}@media (max-width: 767px){.tpt1063v1 .cro-modal .cro-modal__content{width:90%}}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["13715460482"], "experiments": [{"weightDistributions": [{"entityId": "21186040471", "endOfRange": 10000}], "audienceName": "U.S. Only,Exclude Premium Sellers,Device | Desktop,[DCP Migration] TPTSA Acquisition (Unlinked users),[QA] Cro Metrics Test Cookie (OLI)", "name": "[DCP Migration] [TEST COOKIE] 100% to v0: TPT-1122 [Search/Browse][Unlinked] Hover Personalization Test", "bucketingStrategy": null, "variations": [{"id": "21186040471", "actions": [{"viewId": "13715460482", "changes": [{"value": function($){!function(r,o,n){var i=21089181644,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,r)||console.error.bind(window,"[cro] [".concat(r,"]"));try{t.applyTreatment("v0","browse-incl-search-substring")}catch(r){e(r)}}("tpt1122");
}, "dependencies": [], "type": "custom_code", "id": "4f5f34fbd6004652b91ab955a6ad9bc0"}]}], "name": "v0: Control (1122)"}, {"id": "21183500676", "actions": [{"viewId": "13715460482", "changes": [{"value": function($){!function(r,o,n){var i=21089181644,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,r)||console.error.bind(window,"[cro] [".concat(r,"]"));try{t.applyTreatment("v1","browse-incl-search-substring")}catch(r){e(r)}}("tpt1122");
}, "dependencies": [], "type": "custom_code", "id": "6ffda5e0527641f5995eafc1a1a8677c"}]}], "name": "v1: Middle callout w/ tooltip"}, {"id": "21191021374", "actions": [{"viewId": "13715460482", "changes": [{"value": function($){!function(r,o,n){var i=21089181644,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,r)||console.error.bind(window,"[cro] [".concat(r,"]"));try{t.applyTreatment("v2","browse-incl-search-substring")}catch(r){e(r)}}("tpt1122");
}, "dependencies": [], "type": "custom_code", "id": "3b6e18c3fbc64685812766b294d1ac37"}]}], "name": "v2: Right callout w/ Get a Subscription tooltip"}, {"id": "21179452556", "actions": [{"viewId": "13715460482", "changes": [{"value": function($){!function(r,o,n){var i=21089181644,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,r)||console.error.bind(window,"[cro] [".concat(r,"]"));try{t.applyTreatment("v3","browse-incl-search-substring")}catch(r){e(r)}}("tpt1122");
}, "dependencies": [], "type": "custom_code", "id": "b0436954b4e244bc9b6a6197deb5783c"}]}], "name": "v3: Right callout w/ Dont Miss Out tooltip"}], "audienceIds": ["and", "16539970090", "16882670147", "12001380907", "21160151169", "15737501278"], "changes": null, "id": "21166151427", "integrationSettings": null}], "id": "21191540835", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] 100% to v0: TPT-1122 [Search/Browse][Unlinked] Hover Personalization Test", "groupId": null, "commitId": "21199370488", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "d8424e0196364f4bb746dc68475e875c", "value": function($){!function(t){var e=21089181644,o=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),c=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":t,"tags":e})},i=window.optimizely.get("utils"),n=i.log&&i.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]"));i.error&&i.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));n("v1"),o.applyTreatment=function(e,o){!function(e,o){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;c.classList.add(t),c.classList.add(t+e),n("Variation ".concat(e,", page ").concat(o))}(e,o);var a="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign=".concat(t).concat(e);if("v0"===e||"v1"===e?i.observeSelector('.SearchProductRowLayout[data-crometrics-isavailableonschoolaccess="true"]',(function(t){var e,o,i;t.querySelector(".NextSearchProductRowLayout__descriptionContainer").insertAdjacentHTML("beforeend",'\n        <div class="tpt-school-access">\n          <p>Also available with subscription</p>\n          <img src="//cdn.optimizely.com/img/20328970170/e30c72021d9e4233afa2ec0b2101f6a8.png" alt="TpT Schools Access" height="28">\n          <a class="Button Button--medium Button--fullWidth" href="'.concat(a,'">Learn More</a>\n        </div>\n      ')),null===(e=t.querySelector(".tpt-school-access a"))||void 0===e||e.addEventListener("click",(function(){c("tpt1122-search-in-line-tptsa-callout-clicks"),window.heap.track("[TPT-1122] Search | In-Line TPTSA Callout Clicks")})),null===(o=t.querySelector(".tpt-school-access .cro-tooltip a"))||void 0===o||o.addEventListener("click",(function(){c("tpt1122-search-tptsa-tooltip-cta-click"),window.heap.track("TPT-1122 Search | TPTSA Tooltip CTA Click")})),null===(i=t.querySelector(".tpt-school-access > a"))||void 0===i||i.addEventListener("click",(function(){c("tpt1122-search-on-page-tptsa-callout-cta-click"),window.heap.track("TPT-1122 Search | On-page TPTSA Callout CTA Click")}))})):"v2"!==e&&"v3"!==e||i.observeSelector("[data-crometrics-isavailableonschoolaccess='true'] .ProductRowPriceAndBundleText .ProductRowPriceBespoke",(function(e){var o,i,l;"FREE"!==e.textContent&&(e=e.children[e.children.length-1]),e.classList.add("".concat(t,"-section")),e.insertAdjacentHTML("beforeend",'<a href="'.concat(a,'" class="').concat(t,'-house">').concat('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\r\n    <rect width="16" height="16" fill="url(#pattern0)"/>\r\n    <defs>\r\n        <pattern id="pattern0" patternContentUnits="objectBoundingBox" width="1" height="1">\r\n            <use xlink:href="#image0_1215_5193" transform="scale(0.00900901)"/>\r\n        </pattern>\r\n        <image id="image0_1215_5193" width="111" height="111" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAABvCAYAAADixZ5gAAAACXBIWXMAABYlAAAWJQFJUiTwAAAIWElEQVR4nO2dT2wUVRzHfxhFsUUQ+dNqTEFoOJTE4gE5CIMGEkCMsBF6VNiDHPhT40EkQUEUuIjFcvCypR4bTCkJBGOMdMEDcKBrAgdTlN0QpVhBkBYbLpjv8LbZtuy8PzPvzbzt+ySTNrvz5+189/3m+97vN7MTHjx4QA47eczpZi9OPItx4lnM40luupfK7CaiTwNW2ZPtTO9m664lokYiWlbyfp6IurKd6S79rTVPog2LiHhMIKxXF7BegYiaK01E28PmZiI6whGO2PvHvFSmm/VQLl4q06i/+eFIdNgUYJbk+h4WL5X5F2ISUY4tpSDsvsd69LLg3cWL7eKp8gwRvcuWcuST/iGc27QYJ57FOPEsxolnMU48i3HiWYwTz2KceBbjxLMYJ57FOPEsphLnNrMl/3sxtkM7lSLeNSL6hCVebxdf9FKZqSzXtz3e5umhEsQ7BIFKRSvCXmv2UpkuJmJF9UTbxTue7Uw381bKdqa7kZtjCdZmlqfjJXBH5/kSh+3iSZ3gbGc6xxKtCKmziah0ARD5Nlsv8YzXZCyEzNuQcA3CDRUsJunVYz8Q0YqAVQqaek+LDZVmiRXPS2VaSiz+LSKaZrgJZV1sUkiceGxs1k5Eb496628imm64Ob/A4CTVwCRKPOYAEa5eLrPKPbSZiCYZbtoH2c50i+FjckmMeGwMBqs+RWD1OMLocdYLExNGE+E2vVQGY68eQeGICXdDc7NGgzCe91KZxBTixi4eMyZHFDZFtfQgEf2noVnlwJfrNGtz7MQWNgOMiQo3FErfwxK7mYml5zFj0h2RcMSEMx1GYapw4wp3blUXxnuepDGRBWF0iIie0/spxhCLmTHa85gxERZu3uxptGXTYplDVDHhrik3Uo1YzIyxnidwo+QIVr5eT1s3Labqqol05epN2nngR7rRPyBzyH+I6NlQjVZj+G5d3WgXjxmTFs7tVCN4Z02DL1wpA4P3aX/rGfr5QkG2CXGICDOzlmUutKFVPCZcd8CMyRh2bFlKq96oL/v+0ROX6XDbOdmm9BFRjexGIbnDbqVu13UAbeLJGpOqpyfS13tX07w5fK8RIow+QUTVMhtFgDYzo0U8ZkxaZIzJFztWUM1M8fMaIoz+SUTPy24UkgITsDvKnUYunqwxeW1RHX28dalvTFRQDKNwoy8qHTAckZqZyMSLypiogDCKXnglf0tm65tE9GQMYTQyMxOJeDqMiSwIo61t5+j7072ym8YRRu+wMBoqWx9aPJ3GRIVTP/X6Ig7euy+z9e9E9JKWBgXzLXOkSmYmlHgmjIkKimG0nyV5TYfRAguj0hPcyuKZNiayWBZGScXMSItnypig9/RevUV9/XepZsZkqp8zTSnUKobRP4joBemDhSfLroVCZkZKPBPGBKLhZOcu9415r7GhhjY2vUKNC2qF90fqYXSQ/a2SOlh4hM2MsHjMmHQJ1Pj7qBgT9JIDh89w11NxqiHCaEH0M0cM18wIiceelNcuY0xwfZMRDr0j/aG4c858udZkGI1LwMBsPTefxzLFx0SFQ2g7tPdN6RPbKjlLIrt+EfRYPyLMlio+q2NhdFBg3SjB5amnXLY+sOd5qUy7jDFBDg49Tpa+vwaoaXOH9HYd3zQpDztChNFfiWi+0kHDkWVDiuEw+sieB2PipTI5GeFwHVIRjnzx7hrdDmDIgvZ+/tFy//osAYT7TfnA6ngsWz/8sNcx4jFjkhN1lPjghz5bHelUl0mWvFpHbQfXyYbRuei8MRQ9TWFP7G1BBxtxf54JY5JEEHozB9f5YfS7E5dFW1jNltvM3psEOg0Ni8cuil+JNgDGBFNdUcyYqIof9ZcGEwmNDbX+mFDCjU5li2mG/LApKxyMCRxlVFNd2A/2KQOm23RMtSmG0VgoXvOEvzlhjEkQmDkRNQ5YL4o8YDmKYRTTeklGuG5TtzHBCcP4iydgceZGd2aCWBhVcKPGEBIPIQQnTHZOURZcwxCyyoVQvO6HNIMGqRhGJz2VvGcvCLUI30BTJww9CmEZS+7S9eHXdX9xeG2aP3f6IyfL4yTRj/KIUzAbGLfPYYmaWTOqI/UDmEDn1aU68SKidma175ijApcMnnjuIToW48SzGCeexST+mtfDhgu1MycbGZjbRKLEQ1L27IUCnT2fLzumwoQBxpxLFtX5A+jxTCLE6w2oGBsNKsCwIANeM+Ohw7M1lxiWWMVDKUJbx0WZHNoI+voHaP/hM3T0xCV/Rqbe8ryiLLEZFgi3bddJZeFKQU9E5RkGtuOJWHoehFv/fods+R2X/azmc7yEUeM9r9jjohauCAQ8e176blkrMS7ePvmyc6VjwLlWOkbFw5hN5h5yDAuQw9vYtNCvmRFNiqJX72vNCqxpN0aveSjsEQHlBxvWLBgxKN/Y9PAvTMmRjou+0wwCww58WRZWcFrJWM/DieSdcPQs3IOwbdPisrMpMCPIbKMAicfRCJxskjEm3ilOWXmxNkVkrIaqsX07lvuhNAiEaBikSsWYeDwHuOGtBulB9s6tHvc62FNSSlFpGBEPzi9oaAAB1q9ZIL1fhFbemO5K/qb0fm3BiHjXOTeEYIJZtYB2FadY1/W8kPDGXLUhUj3jbT6zFDPi9Qf3PNwf4JDHZdItxolnMU48i3HiWYwTz2KceBbjxLMYJ57FOPEsxolnMU48i3HiWYwTz2KECpB6Q5bq8VJCeNbmBE3nEGUQuQhyerxyCjxSefuuk6GPU7o/Hv4jG2Uf9i0L73GsYYXTvf+EsseFTYtx4lmMkaJb3WGrQsMiF9fzLMaJZzFOPIspXvMi/UXFCmUl53dnh9hv05oib/xH7h3R4cKmrRDR/3MdT7BBaAsrAAAAAElFTkSuQmCC"/>\r\n    </defs>\r\n</svg>\r\n',"</a>")),null===(o=e.querySelector(".".concat(t,"-house")))||void 0===o||o.addEventListener("click",(function(){c("tpt1122-search-in-line-tptsa-callout-clicks"),window.heap.track("[TPT-1122] Search | In-Line TPTSA Callout Clicks"),c("tpt1122-search-on-page-tptsa-callout-cta-click"),window.heap.track("TPT-1122 Search | On-page TPTSA Callout CTA Click")})),null===(i=e.querySelector(".".concat(t,"-house")))||void 0===i||i.addEventListener("mouseenter",(function(){var o=e.querySelector(".".concat(t,"-house")).parentElement.parentElement.parentElement.querySelector(".cro-tooltip");n("Mouse entered"),n(o),o&&setTimeout((function(){return o.classList.add("".concat(t,"-tooltip--show"))}),10)})),null===(l=e.querySelector(".".concat(t,"-house")))||void 0===l||l.addEventListener("mouseleave",(function(){var o=e.querySelector(".".concat(t,"-house")).parentElement.parentElement.parentElement.querySelector(".cro-tooltip");n("Mouse exit"),n(o),o&&setTimeout((function(){return o.classList.remove("".concat(t,"-tooltip--show"))}),50)}))})),"v0"!==e&&!i.cookie.get("".concat(t,"-seen"))){var l={"v1":{"title":"Dont miss out!","body":"Get this resource with a school subscription.","link":"Learn More"},"v2":{"title":"Get a subscription for<br>your school","body":"","link":"Refer your Principal"},"v3":{"title":"Dont miss out!","body":"Get this resource with a school subscription.","link":"Learn More"}};i.observeSelector("v1"===e?".tpt-school-access":"[data-crometrics-isavailableonschoolaccess='true'] .ProductRowPriceAndBundleText",(function(o){if(o.classList.add("".concat(t,"-section")),n(o),!o.parentElement.querySelector(".cro-tooltip")){var a=l[e];o.insertAdjacentHTML("beforeend",'\n      <div class="'.concat(t,"-tooltip ").concat(t,"-tooltip-").concat(e,' cro-tooltip">\n        <button class="').concat(t,'-tooltip-close">').concat('<svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M9.03098 9.0311C8.63657 9.42551 7.9971 9.42551 7.60269 9.0311L4.74512 6.17352L1.88754 9.0311C1.49313 9.42551 0.853668 9.42551 0.459259 9.0311C0.0648491 8.63669 0.0648492 7.99722 0.459259 7.60282L3.31683 4.74524L0.459258 1.88766C0.0648482 1.49325 0.0648491 0.85379 0.459259 0.459381C0.853668 0.0649712 1.49313 0.0649713 1.88754 0.459381L4.74512 3.31696L7.60269 0.45938C7.9971 0.0649703 8.63657 0.0649712 9.03098 0.459381C9.42539 0.85379 9.42539 1.49325 9.03098 1.88766L6.1734 4.74524L9.03098 7.60282C9.42539 7.99723 9.42539 8.63669 9.03098 9.0311Z" fill="white"/>\r\n</svg>\r\n','</button>\n        <div class="').concat(t,'-tooltip-title">').concat(a.title,'</div>\n        <div class="').concat(t,'-tooltip-body">').concat(a.body,'</div>\n        <a class="').concat(t,'-tooltip-link" href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign=').concat(t).concat(e,'">').concat(a.link,"</a>\n      </div>\n    "));var r=o.querySelector(".".concat(t,"-tooltip"));"v2"!==e&&"v3"!==e||("v3"===e&&r.classList.add("".concat(t,"-tooltip-tall")),o.querySelector(".ProductRowPriceBespoke__discountPriceToTheRight")||(r.classList.add("".concat(t,"-tooltip-pull-up")),"v3"===e&&r.classList.add("".concat(t,"-tooltip-pull-up-tall")))),o.querySelector(".".concat(t,"-tooltip-close")).addEventListener("click",(function(){r.remove(),i.cookie.set("".concat(t,"-seen"),!0,7)})),o.querySelector(".".concat(t,"-tooltip-link")).addEventListener("click",(function(){c("tpt1122-search-tptsa-tooltip-cta-click"),window.heap.track("TPT-1122 Search | TPTSA Tooltip CTA Click"),c("tpt1122-search-in-line-tptsa-callout-clicks"),window.heap.track("[TPT-1122] Search | In-Line TPTSA Callout Clicks")}))}}))}}}("tpt1122");
}}, {"dependencies": [], "type": "append", "id": "51ea99dca4e64333b4f966849de0e82e", "value": "<style>.tpt1122 .tpt-school-access{position:relative;clear:both;padding-top:10px}.tpt1122 .tpt-school-access p{font-size:14px;display:block;text-align:left;margin-bottom:5px;margin-top:20px}.tpt1122 .tpt-school-access img{width:auto;height:20px;margin-right:50px;position:relative;top:-1px}.tpt1122 .tpt-school-access .Button{background-color:#41539d;color:#fff;padding:8px 10px;position:relative;top:-10px;margin-left:10px}.tpt1122-hidden{display:none}.tpt1122 .tpt-school-access a.Button{font-size:11px;margin-left:10px}@media only screen and (min-width: 780px){.tpt1122 .tpt-school-access a.Button{font-size:14px}}@media only screen and (min-width: 980px){.tpt1122 .tpt-school-access a.Button{font-size:9px}}@media only screen and (min-width: 995px){.tpt1122 .tpt-school-access a.Button{font-size:10px}}@media only screen and (min-width: 1019px){.tpt1122 .tpt-school-access a.Button{font-size:11px}}@media only screen and (min-width: 1042px){.tpt1122 .tpt-school-access a.Button{font-size:12px}}@media only screen and (min-width: 1065px){.tpt1122 .tpt-school-access a.Button{font-size:13px}}@media only screen and (min-width: 1088px){.tpt1122 .tpt-school-access a.Button{font-size:14px}}.tpt1122-section{position:relative !important}.tpt1122-house{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;background-color:#E8EDF7;width:25px;height:25px;border-radius:50%;margin-left:6px;-webkit-transition-delay:0.2s;-o-transition-delay:0.2s;transition-delay:0.2s}.tpt1122-house svg{margin-bottom:3px}a:hover ~ .tpt1122-tooltip{opacity:1;visibility:visible;-webkit-transition:all;-o-transition:all;transition:all}.tpt1122-tooltip{position:absolute;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;background-color:#415294;color:white;font-weight:400;z-index:1;width:282px;left:-88px;top:-16px;padding:24px;border-radius:6px;-webkit-transition:all;-o-transition:all;transition:all;-webkit-transition-delay:0.3s;-o-transition-delay:0.3s;transition-delay:0.3s;opacity:0;visibility:hidden}.tpt1122-tooltip--show{opacity:1;visibility:visible}.tpt1122-tooltip:hover{opacity:1;visibility:visible}.tpt1122-tooltip::after{position:absolute;content:\"\";-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);top:calc(50% - 8px);right:-7px;border-top:8px solid #415294;border-right:8px solid #415294;border-bottom:8px solid transparent;border-left:8px solid transparent}.tpt1122-tooltip-v2,.tpt1122-tooltip-v3{left:-300px;top:-33px}.tpt1122-tooltip-tall{top:-39px}.tpt1122-tooltip-pull-up{top:-53px}.tpt1122-tooltip-pull-up-tall{top:-59px}.tpt1122-tooltip-close{position:absolute;min-height:auto !important;line-height:0;top:20px;right:20px;padding:5px}.tpt1122-tooltip-title{font-size:19px;line-height:137.5%;margin-bottom:3px}.tpt1122-tooltip-body{font-size:14px;line-height:137.5%}.tpt1122-tooltip-link{font-size:14px;line-height:117%;font-weight:600;margin-top:11px}.tpt1122-tooltip-link:hover{text-decoration:underline !important}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["13715460482"], "experiments": [{"weightDistributions": [{"entityId": "21181950670", "endOfRange": 10000}], "audienceName": "U.S. Only,Exclude Premium Sellers,Device | Desktop,[DCP Migration] TPTSA Linked Users (Marketplace),[QA] Cro Metrics Test Cookie (OLI)", "name": "[DCP Migration] [TEST COOKIE] 100% to v0: [RERUN] TPT-1011 [Search/Browse][Desktop][TpT Marketplace] Linked User Catalog product button above ATC", "bucketingStrategy": null, "variations": [{"id": "21181950670", "actions": [{"viewId": "13715460482", "changes": [{"value": function($){!function(r,o,n){var i=21100170137,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,r)||console.error.bind(window,"[cro] [".concat(r,"]"));try{t.applyTreatment("v0","browse-incl-search-substring")}catch(r){e(r)}}("tpt1011");
}, "dependencies": [], "type": "custom_code", "id": "ea253b34afbb4159b82be2c8b5eab804"}]}], "name": "v0: (Control 1011) CTA Above Price"}, {"id": "21148731397", "actions": [{"viewId": "13715460482", "changes": [{"value": function($){!function(r,o,n){var i=21100170137,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,r)||console.error.bind(window,"[cro] [".concat(r,"]"));try{t.applyTreatment("v1","browse-incl-search-substring")}catch(r){e(r)}}("tpt1011");
}, "dependencies": [], "type": "custom_code", "id": "c7b1e98c7f244d30ac4684406a13a170"}]}], "name": "v1: CTA In line with Add to Cart"}], "audienceIds": ["and", "16539970090", "16882670147", "12001380907", "21193201189", "15737501278"], "changes": null, "id": "21178340017", "integrationSettings": null}], "id": "21193450718", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] 100% to v0: [RERUN] TPT-1011 [Search/Browse][Desktop][TpT Marketplace] Linked User Catalog product button above ATC", "groupId": null, "commitId": "21173611392", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "b95b69f5b0284cf5bf3b48d192a847fc", "value": function($){function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function _iterableToArrayLimit(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var n,o,r=[],i=!0,c=!1;try{for(a=a.call(t);!(i=(n=a.next()).done)&&(r.push(n.value),!e||r.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==a["return"]||a["return"]()}finally{if(c)throw o}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}!function(t){var e=21100170137,a=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),n=window.optimizely.get("utils"),o=n.log&&n.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),r=n.error&&n.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]")),i='<svg viewBox="0 0 24 24" aria-hidden="true" role="presentation" class="SvgIcon_root__B2saD mr-2"><path d="M15.293 15.793L13 18.086V10.5a1 1 0 10-2 0v7.586l-2.293-2.293a.999.999 0 10-1.414 1.414l3.999 3.999a.99.99 0 00.326.217.991.991 0 001.09-.217l3.999-3.999a.999.999 0 10-1.414-1.414zm4.669-6.061C19.569 5.679 16.148 2.5 12 2.5S4.431 5.679 4.038 9.732A5.484 5.484 0 000 15.02a5.496 5.496 0 004.889 5.474.994.994 0 001.104-.884 1 1 0 00-.884-1.104A3.499 3.499 0 012 15.02a3.49 3.49 0 013.114-3.464C5.62 11.5 6 11.021 6 10.512 6 7.197 8.691 4.5 12 4.5s6 2.697 5.999 6.005a1 1 0 00.887 1.051A3.49 3.49 0 0122 15.02a3.498 3.498 0 01-3.109 3.486 1.001 1.001 0 00.22 1.988A5.497 5.497 0 0024 15.02a5.484 5.484 0 00-4.038-5.288z"></path></svg>\n';o("v0.1");var c="&cro_oeuid=".concat(optimizely.get("visitor").visitorId),l=function(e){var a=_slicedToArray({"v0":["See whats included in your subscription!","Look for the Access Now button to find resources available through TpT School Access."],"v1":["Included in your subscription!","This resource and all others with this TpT School Access logo are available as part of your subscription."]}["v0"],2),l=a[0],s=a[1],d='\n  <div class="'.concat(t,'-sa--message" role="tooltip" aria-labelledby="tooltip">\n    <div class="').concat(t,'-sa--close-x" title="close tooltip" tabindex=0>').concat('<svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.8098 9.08928C11.8098 9.3125 11.7205 9.53571 11.5598 9.69643L10.3455 10.9107C10.1848 11.0714 9.96158 11.1607 9.73836 11.1607C9.51515 11.1607 9.29193 11.0714 9.13122 10.9107L6.50621 8.28571L3.88121 10.9107C3.7205 11.0714 3.49728 11.1607 3.27407 11.1607C3.05085 11.1607 2.82764 11.0714 2.66692 10.9107L1.45264 9.69643C1.29192 9.53571 1.20264 9.3125 1.20264 9.08928C1.20264 8.86607 1.29192 8.64285 1.45264 8.48214L4.07764 5.85714L1.45264 3.23213C1.29192 3.07142 1.20264 2.8482 1.20264 2.62499C1.20264 2.40178 1.29192 2.17856 1.45264 2.01785L2.66692 0.803559C2.82764 0.642844 3.05085 0.553558 3.27407 0.553558C3.49728 0.553558 3.7205 0.642844 3.88121 0.803559L6.50621 3.42856L9.13122 0.803559C9.29193 0.642844 9.51515 0.553558 9.73836 0.553558C9.96158 0.553558 10.1848 0.642844 10.3455 0.803559L11.5598 2.01785C11.7205 2.17856 11.8098 2.40178 11.8098 2.62499C11.8098 2.8482 11.7205 3.07142 11.5598 3.23213L8.93479 5.85714L11.5598 8.48214C11.7205 8.64285 11.8098 8.86607 11.8098 9.08928Z" fill="#fff"/><mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="1" y="0" width="11" height="12"><path d="M11.8098 9.08928C11.8098 9.3125 11.7205 9.53571 11.5598 9.69643L10.3455 10.9107C10.1848 11.0714 9.96158 11.1607 9.73836 11.1607C9.51515 11.1607 9.29193 11.0714 9.13122 10.9107L6.50621 8.28571L3.88121 10.9107C3.7205 11.0714 3.49728 11.1607 3.27407 11.1607C3.05085 11.1607 2.82764 11.0714 2.66692 10.9107L1.45264 9.69643C1.29192 9.53571 1.20264 9.3125 1.20264 9.08928C1.20264 8.86607 1.29192 8.64285 1.45264 8.48214L4.07764 5.85714L1.45264 3.23213C1.29192 3.07142 1.20264 2.8482 1.20264 2.62499C1.20264 2.40178 1.29192 2.17856 1.45264 2.01785L2.66692 0.803559C2.82764 0.642844 3.05085 0.553558 3.27407 0.553558C3.49728 0.553558 3.7205 0.642844 3.88121 0.803559L6.50621 3.42856L9.13122 0.803559C9.29193 0.642844 9.51515 0.553558 9.73836 0.553558C9.96158 0.553558 10.1848 0.642844 10.3455 0.803559L11.5598 2.01785C11.7205 2.17856 11.8098 2.40178 11.8098 2.62499C11.8098 2.8482 11.7205 3.07142 11.5598 3.23213L8.93479 5.85714L11.5598 8.48214C11.7205 8.64285 11.8098 8.86607 11.8098 9.08928Z" fill="white"/></mask><g mask="url(#mask0)"></g></svg>\n','</div>\n    <div class="').concat(t,'-sa--headline">').concat(l,'</div>\n    <div class="').concat(t,'-sa--subheadline">').concat(s,"</div>\n  </div>\n  "),C=window.__TPT__hashedUserId,u=!1,h="",p="";"BBA19CDC3939D019828E4756603AA846194F882302CCDC8D51BAB9DFBED12DA8"===C&&(C="006AAF14ECE7368B4C01A7C59BE70099A76D8A12C0AFEF60169EFD19931B1B3F"),fetch("https://tpt-tptsa-mapping-prod.s3.amazonaws.com/lookup-by-hashed-user-id/".concat(C),{"method":"GET","headers":{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(a){a&&a.hashed_user_id?(o("hash",a.hashed_user_id),localStorage.setItem("cro_matched_user",!0),"null"!==a.registration_link&&null!==a.registration_link&&""!==a.registration_link&&(h=new URL(sessionStorage.getItem("cro_registration_link")),o("Invite Link:",h)),"non-registered"===a.audience&&(u=!0)):localStorage.setItem("cro_matched_user",!1),n.observeSelector(".NextSearchPage .container .SearchProductRowLayout:first-child",(function(){n.waitForElement('[data-testid="SearchResultView"]').then((function(a){for(var o=a.querySelectorAll('[data-crometrics-isavailableonschoolaccess="true"]'),l=0;l<o.length;l++){var s=o[l].querySelector(".tpt895-sa");s&&s.remove();var C=o[l].getAttribute("data-crometrics-resourceid");if(u)h.searchParams.append("utm_campaign","optimizely".concat(t).concat(e)),h.searchParams.append("utm_source","tptcoremarketplace"),h.searchParams.append("utm_medium","matchedusersbanner"),h.searchParams.append("cro_oeuid","".concat(optimizely.get("visitor").visitorId)),p=h;else{p="https://www.tptschoolaccess.com/resource/".concat(C);var L="?utm_source=tptcoremarketplace&utm_medium=matchedusersbanner";L="".concat(L,"&utm_campaign=optimizely").concat(t).concat(e).concat(c),p+=L}var v=o[l].querySelector(".CartButtonContainer"),f=o[l].querySelector(".NextSearchProductRowLayout__priceContainer"),m='\n            <div class="'.concat(t,"-sa js-").concat(t,'-desktop" data-').concat(t,'-sa="').concat(l,'">\n              <div class="').concat(t,'-sa--logo">').concat('<svg width="108" height="13" viewBox="0 0 108 13" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 13H20.0996V0H0V13ZM18.5644 11.5109H1.53518V1.47972H18.5644V11.5109Z" fill="#00A86C"/><path d="M4.60567 5.44604H3.36157V4.26859H7.24315V5.44604H5.99906V8.73141H4.60567V5.44604Z" fill="#00AA6C"/><path fill-rule="evenodd" clip-rule="evenodd" d="M10.5274 4.26859H8.05664V8.73861H9.455V7.29976H10.5274C11.6123 7.29976 12.1945 6.63789 12.1945 5.80096C12.1945 4.96403 11.6123 4.26859 10.5274 4.26859ZM9.45502 5.39345H10.3433C10.4882 5.39345 10.6221 5.46796 10.6945 5.5889C10.767 5.70984 10.767 5.85884 10.6945 5.97978C10.6221 6.10072 10.4882 6.17523 10.3433 6.17523H9.45502V5.39345Z" fill="#00AA6C"/><path d="M14.0981 5.44604H12.854V4.26859H16.7356V5.44604H15.4915V8.73141H14.0981V5.44604Z" fill="#00AA6C"/><path d="M28.0121 5.16537C27.0641 4.99271 26.6411 4.85362 26.6411 4.48671C26.6411 4.11981 26.9695 3.91357 27.5642 3.91357C28.3925 3.93347 29.1909 4.21581 29.8359 4.71693L29.8708 4.74331L31.0701 3.23012L31.0402 3.20614C30.1017 2.46022 28.9145 2.06746 27.6986 2.10062C26.8197 2.06272 25.9555 2.32705 25.2602 2.84643C24.7168 3.27976 24.4028 3.92449 24.4042 4.60422C24.4042 6.46753 26.248 6.82245 27.5966 7.08144L27.6662 7.09583C28.5471 7.27568 29.0273 7.44835 29.0273 7.85602C29.0273 8.26369 28.567 8.48671 27.9076 8.48671C26.9427 8.48564 26.0173 8.11766 25.3323 7.46273L25.2975 7.42916L24.1355 9.01669L24.1629 9.04067C25.0711 9.8776 26.2977 10.3021 27.8106 10.3021C29.9653 10.3021 31.2542 9.30446 31.2542 7.633C31.2517 5.81765 29.3806 5.44115 28.0121 5.16537Z" fill="#1E1C4D"/><path d="M36.1386 8.08171C35.8937 8.42243 35.4887 8.62302 35.0587 8.61648C34.2575 8.61648 33.7201 8.07452 33.7201 7.26636C33.7201 6.45821 34.2575 5.93063 35.0587 5.93063C35.4873 5.91422 35.8945 6.11179 36.1361 6.45341L36.166 6.49178L37.4499 5.3407L37.43 5.31193C37.2558 5.07212 36.5616 4.24478 34.9741 4.24478C33.0781 4.24478 31.7021 5.51576 31.7021 7.26636C31.7021 9.01696 33.0483 10.3119 34.9741 10.3119C36.5442 10.3119 37.2508 9.49418 37.43 9.24478L37.4499 9.216L36.166 8.05294L36.1386 8.08171Z" fill="#1E1C4D"/><path d="M42.1872 4.24479C41.4423 4.23034 40.7234 4.50919 40.1966 5.01698V2.21841H38.231V10.1609H40.1966V6.45822C40.4571 6.12845 40.8614 5.93361 41.2914 5.93065C41.9409 5.93065 42.2295 6.20163 42.2295 6.80834V10.1657H44.1952V6.06494C44.1852 4.90906 43.4587 4.24479 42.1872 4.24479Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M45.0786 7.26636C45.0786 5.51576 46.4496 4.24478 48.3381 4.24478C49.236 4.21735 50.106 4.54686 50.7442 5.15605C51.3097 5.72599 51.6198 6.48746 51.6076 7.27596C51.6199 8.0666 51.3099 8.83035 50.7442 9.40306C50.1062 10.0123 49.2358 10.3411 48.3381 10.3119C46.4496 10.3119 45.0786 9.01696 45.0786 7.26636ZM48.3382 8.61657C49.1941 8.61657 49.5823 7.94031 49.5823 7.26645H49.5922C49.5922 6.60218 49.1866 5.93072 48.3382 5.93072C47.4897 5.93072 47.109 6.59259 47.109 7.26645C47.109 7.94031 47.4822 8.61657 48.3382 8.61657Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M52.1226 7.26636C52.1226 5.51576 53.4911 4.24478 55.3796 4.24478C56.2774 4.21735 57.1474 4.54686 57.7857 5.15605C58.3521 5.7256 58.6631 6.48712 58.6516 7.27596C58.663 8.06689 58.3521 8.83059 57.7857 9.40305C57.148 10.0128 56.2774 10.3417 55.3796 10.3119C53.496 10.3119 52.1226 9.01696 52.1226 7.26636ZM55.3796 8.61657C56.2356 8.61657 56.6237 7.94031 56.6237 7.26645H56.6337C56.6337 6.60218 56.2281 5.93072 55.3796 5.93072C54.5312 5.93072 54.1505 6.59259 54.1505 7.26645C54.1505 7.94031 54.5237 8.61657 55.3796 8.61657Z" fill="#1E1C4D"/><rect x="59.5549" y="2.21841" width="1.96816" height="7.94245" fill="#1E1C4D"/><path d="M78.6268 8.08171C78.3834 8.42272 77.9789 8.6235 77.5494 8.61648C76.7482 8.61648 76.2108 8.07452 76.2108 7.26636C76.2108 6.45821 76.7482 5.93063 77.5494 5.93063C77.9781 5.91422 78.3852 6.11179 78.6268 6.45341L78.6542 6.49178L79.9406 5.3407L79.9207 5.31193C79.744 5.07212 79.0498 4.24478 77.4648 4.24478C75.5688 4.24478 74.1929 5.51576 74.1929 7.26636C74.1929 9.01696 75.5489 10.3119 77.4748 10.3119C79.0448 10.3119 79.7515 9.49418 79.9306 9.24478L79.9505 9.216L78.6666 8.05294L78.6268 8.08171Z" fill="#1E1C4D"/><path d="M84.7504 8.08171C84.5069 8.42272 84.1024 8.6235 83.673 8.61648C82.8718 8.61648 82.3343 8.07452 82.3343 7.26636C82.3343 6.45821 82.8718 5.93063 83.673 5.93063C84.1016 5.91422 84.5088 6.11179 84.7504 6.45341L84.7777 6.49178L86.0641 5.3407L86.0442 5.31193C85.8676 5.07212 85.1734 4.24478 83.5884 4.24478C81.6924 4.24478 80.3164 5.51576 80.3164 7.26636C80.3164 9.01696 81.6625 10.3119 83.5884 10.3119C85.1584 10.3119 85.8651 9.49418 86.0442 9.24478L86.0641 9.216L84.7802 8.05294L84.7504 8.08171Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M87.3519 5.09904C87.9534 4.52834 88.771 4.21962 89.6147 4.2446C91.446 4.2446 92.6777 5.53477 92.6677 7.45563V7.89208H88.4726C88.5871 8.33333 89.0275 8.82494 89.9232 8.82494C90.4374 8.82127 90.9356 8.6525 91.339 8.34532L91.3738 8.31415L92.2173 9.51319L92.19 9.53717C91.6525 10.0096 90.697 10.3022 89.7018 10.3022C87.7759 10.3022 86.4298 9.05275 86.4298 7.26618C86.4172 6.45275 86.7503 5.66974 87.3519 5.09904ZM90.7891 6.62581C90.7067 6.07375 90.1911 5.67996 89.6146 5.72893C89.0486 5.70285 88.5512 6.08758 88.4551 6.62581H90.7891Z" fill="#1E1C4D"/><path d="M96.0442 6.42925H96.0267C95.4122 6.32374 95.121 6.23501 95.121 6.00959C95.121 5.78417 95.3972 5.66187 95.8227 5.66187C96.4519 5.6579 97.0611 5.87436 97.5371 6.27098L97.5769 6.30695L98.3383 5.03597L98.3084 5.01438C97.5849 4.51035 96.7129 4.24308 95.8202 4.25179C94.5761 4.25179 93.2474 4.85131 93.2474 6.17026C93.2474 7.60911 94.6284 7.84892 95.6386 8.01438H95.7058C96.3253 8.11031 96.6836 8.21582 96.6836 8.47002C96.6836 8.72422 96.4174 8.85371 95.9372 8.85371C95.1907 8.81498 94.4747 8.55539 93.8869 8.11031L93.8471 8.07673L93.0384 9.3669L93.021 9.39808L93.0459 9.41966C93.6779 9.95443 94.7727 10.3022 95.8376 10.3022C97.4973 10.3022 98.5747 9.54676 98.5747 8.38369C98.5597 6.84172 97.0394 6.59232 96.0442 6.42925Z" fill="#1E1C4D"/><path d="M101.966 6.42909H101.946C101.332 6.32358 101.041 6.23485 101.041 6.00943C101.041 5.78401 101.317 5.66171 101.745 5.66171C102.372 5.66058 102.978 5.87774 103.452 6.27322L103.489 6.30919L104.255 5.03581L104.225 5.01422C103.502 4.51096 102.63 4.24377 101.737 4.25163C100.493 4.25163 99.162 4.85115 99.162 6.1701C99.162 7.60895 100.545 7.84876 101.553 8.01422H101.62C102.24 8.11015 102.598 8.21566 102.598 8.46986C102.598 8.72406 102.332 8.85355 101.852 8.85355C101.105 8.81436 100.39 8.55482 99.8014 8.11015L99.7616 8.07657L98.953 9.36674L98.9355 9.39792L98.9629 9.4195C99.5924 9.95427 100.69 10.302 101.755 10.302C103.414 10.302 104.492 9.5466 104.492 8.38353C104.477 6.84156 102.966 6.59456 101.966 6.42909Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M68.2064 2.19168H70.8738L73.9989 10.1293H71.6899L71.2694 8.93029L71.15 8.56099C70.6778 8.25911 70.1216 8.10271 69.555 8.11254C68.9958 8.10384 68.4463 8.25396 67.975 8.5442L67.8481 8.93029L67.4301 10.1293H65.1086L68.2064 2.19168ZM69.5401 3.96404L68.6045 6.60193C68.9133 6.54149 69.2275 6.51017 69.5426 6.50841C69.8602 6.50923 70.1769 6.54056 70.4881 6.60193L69.5401 3.96404Z" fill="#1E1C4D"/><path d="M105.126 2.39799H104.628V2.08624H105.957V2.39799H105.474V3.69296H105.126V2.39799Z" fill="#1E1C4D"/><path d="M107.647 2.53708L107.176 3.69296H107.022L106.552 2.53708V3.69296H106.196V2.08624H106.694L107.099 3.08864L107.502 2.08624H108V3.69296H107.644L107.647 2.53708Z" fill="#1E1C4D"/></svg>\n','</div>\n              <a class="').concat(t,'-sa--button" href="').concat(p,'" target="_blank">').concat("v0"===e?"<i>".concat(i,"</i>Access Now"):"View Details","</a>\n            </div>\n          "),g='\n          <div class="'.concat(t,"-sa js-").concat(t,'-desktop" data-').concat(t,'-sa="').concat(l,'">\n            <a class="').concat(t,'-sa--button" href="').concat(p,'" target="_blank">',"<i>".concat(i,"</i>Access Now"),"</a>\n          </div>\n          ");document.querySelector("".concat(t,"-sa"))||"v1"!=e?document.querySelector("".concat(t,"-sa"))||"v0"!=e||f.insertAdjacentHTML("beforebegin",m):v.insertAdjacentHTML("afterbegin",g)}n.waitForElement("[data-".concat(t,'-sa="0"].js-').concat(t,"-desktop")).then((function(e){if(e.insertAdjacentHTML("beforeend",d),!function(t){for(var e=t+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){var o=a[n].trim();if(0===o.indexOf(e))return o.substring(e.length,o.length)}return null}("".concat(t,"-tootltip-dismissed"))){var a=e.querySelector(".".concat(t,"-sa--message"));a.classList.add("active"),a.setAttribute("aria-hidden",!1);var n=function(){a.classList.remove("active"),a.setAttribute("aria-hidden",!0),function(t,e,a){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"."+window.location.hostname.split(".").slice(-2).join("."),r=t+"="+e+"; path=/";a instanceof Date?n=a:a>0&&(n=new Date).setTime(n.getTime()+24*a*60*60*1e3),n&&(r+="; expires="+n.toGMTString()),o&&(r+="; domain="+o),document.cookie=r}("".concat(t,"-tootltip-dismissed"),"true",7)},o=a.querySelector(".".concat(t,"-sa--close-x"));o.addEventListener("click",n),o.addEventListener("keypress",(function(t){13===(t.which||t.keyCode||0)&&n()}))}}))["catch"](r)}))["catch"](r)}))}))["catch"](r)};a.applyTreatment=function(e,a){!function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;n.classList.add(t),n.classList.add(t+e),o("Variation ".concat(e,", page ").concat(a))}(e,a),n.waitForElement(".tpt-frontend").then((function(t){return n.waitUntil((function(){return t._reactRootContainer}))})).then((function(){l(e)}))["catch"](r)}}("tpt1011");
}}, {"dependencies": [], "type": "append", "id": "7f0e999f9dc6470895379d064b78ed9f", "value": "<style>.tpt1011 .tpt895-sa{display:none}@media (max-width: 580px){.tpt1011 .js-tpt1011-desktop{display:none !important}}.tpt1011 svg{width:100%;height:auto}.tpt1011-sa{position:relative}.tpt1011-sa--message{pointer-events:none;opacity:0;z-index:-100;-webkit-transition:.2s ease all;-o-transition:.2s ease all;transition:.2s ease all;-webkit-box-shadow:0 0 5px rgba(0,0,0,0.2);box-shadow:0 0 5px rgba(0,0,0,0.2);border-radius:6px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:27px 26px 24px 24px;width:302px;position:absolute;left:-327px;top:25px;background:#2C358B;color:#fff;z-index:5}.tpt1011-sa--message.active{pointer-events:auto;opacity:1;z-index:5}.tpt1011-sa--message:before{content:\"\";-webkit-box-shadow:0 0 5px rgba(0,0,0,0.2);box-shadow:0 0 5px rgba(0,0,0,0.2);border-bottom:0;border-left:0;background:#2C358B;width:16px;height:16px;display:block;position:absolute;top:25px;right:-8px;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center}.tpt1011-sa--close-x{position:absolute;top:8px;right:.75rem;cursor:pointer;width:14px;height:14px;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;-webkit-transition:all .2s ease;-o-transition:all .2s ease;transition:all .2s ease}.tpt1011-sa--close-x:hover,.tpt1011-sa--close-x:active,.tpt1011-sa--close-x:focus{opacity:.5}.tpt1011-sa--headline{color:#fff;font-size:17px;font-weight:700}.tpt1011-sa--subheadline{font-size:14px;margin-top:.5em}.tpt1011-sa--logo{width:115px;margin:auto}.tpt1011-sa--button{background:#2C358B;color:#fff !important;display:block;padding:10px .25em;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border-radius:3px;text-align:center;margin:.5em auto 2em auto;font-weight:600;cursor:pointer;font-size:16px;height:42px;-webkit-transition:all .2s ease;-o-transition:all .2s ease;transition:all .2s ease}.tpt1011-sa--button i{display:inline-block;padding-right:.5em;width:1.85em;line-height:1em}.tpt1011-sa--button:hover,.tpt1011-sa--button:active,.tpt1011-sa--button:focus{background-color:#1a1f51}.tpt1011v1 .tpt1011-sa--message{top:-16px}.tpt1011v1 .tpt1011-sa+.CartButton{background-color:#fff;border:1px solid #4BA571;color:#4BA571}.tpt1011v1 .tpt1011-sa+.CartButton:hover,.tpt1011v1 .tpt1011-sa+.CartButton:active,.tpt1011v1 .tpt1011-sa+.CartButton:focus{border:1px solid #07794d;background-color:#07794d;color:#fff}.tpt1011v1 .tpt1011-sa--button{margin:.5em auto .5em auto}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["17899101619"], "experiments": [{"weightDistributions": [{"entityId": "21194961609", "endOfRange": 10000}], "audienceName": "U.S. Only,Exclude Premium Sellers,No DCP school name OR less than 200 resources,[DCP Migration] TPTSA Acquisition (Unlinked users),[QA] Cro Metrics Test Cookie (OLI)", "name": "[DCP Migration] [TEST COOKIE] 100% to v1: TPT-1017 [Unlinked][Post Purchase][No P13n] Banner Messaging", "bucketingStrategy": null, "variations": [{"id": "21177732025", "actions": [{"viewId": "17899101619", "changes": [{"value": function($){!function(o,r,n){var t=20905651854,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v0","purchase-complete")}catch(o){w(o)}}("tpt1017");
}, "dependencies": [], "type": "custom_code", "id": "6b47496bdede4bfa95f2b7f7662e9c53"}]}], "name": "v0: (Control 1017) Stimulus Messaging"}, {"id": "21194961609", "actions": [{"viewId": "17899101619", "changes": [{"value": function($){!function(o,r,n){var t=20905651854,e=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),i=window.optimizely.get("utils"),w=i.error&&i.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{e.applyTreatment("v1","purchase-complete")}catch(o){w(o)}}("tpt1017");
}, "dependencies": [], "type": "custom_code", "id": "ce85eee576714d73bc00cdb9c5fa2fba"}]}], "name": "v1: Resource + Stimulus Messaging"}], "audienceIds": ["and", "16539970090", "16882670147", "21154020485", "21160151169", "15737501278"], "changes": null, "id": "21183291922", "integrationSettings": null}], "id": "21197041594", "weightDistributions": null, "name": "[DCP Migration] [TEST COOKIE] 100% to v1: TPT-1017 [Unlinked][Post Purchase][No P13n] Banner Messaging", "groupId": null, "commitId": "21185332022", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "ce6e8e60a2fa485a88c0d23f9cba4415", "value": function($){!function(n){var t=20905651854,c=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),e=window.optimizely.get("utils"),o=e.log&&e.log.bind(window,"[".concat(n,"]"))||console.warn.bind(window,"[cro] [".concat(n,"]")),a=e.error&&e.error.bind(window,n)||console.error.bind(window,"[cro] [".concat(n,"]"));o("v0.1"),c.applyTreatment=function(t,c){!function(t,c){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;e.classList.add(n),e.classList.add(n+t),o("Variation ".concat(t,", page ").concat(c))}(t,c);var r='\n    <div class="'.concat(n,'-banner cro-post-purchase-banner">\n      <div class="').concat(n,'-banner-logo">\n        <img src="//cdn.optimizely.com/img/11000223989/9d60cf99ff8f45e8bfc66473cf54f01b.png">\n      </div>\n      <div class="').concat(n,'-banner-content">\n        <div class="').concat(n,'-banner-text">Federal stimulus funding could help you access resources through a school subscription.</div>\n        <div class="').concat(n,'-banner-cta">\n          <a class="').concat(n,'-banner-button" href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplaceutm_medium=optimizely&utm_campaign=').concat(n).concat(t,'">Request a subscription</a>\n        </div>\n      </div>\n    </div>\n  ');e.waitForElement(".tpt-frontend").then((function(n){return e.waitUntil((function(){return n._reactRootContainer}))})).then((function(){e.waitForElement(".OrderReceiptPageLayout").then((function(t){t.querySelector(".".concat(n,"-banner"))||t.insertAdjacentHTML("afterbegin",r)}))["catch"](a)}))["catch"](a),"v0"!==t&&e.waitForElement(".".concat(n,"-banner-text")).then((function(n){return n.textContent="Your school has used TpT resources this year. Federal stimulus funding could help you access resources through a school subscription."}))["catch"](a)}}("tpt1017");
}}, {"dependencies": [], "type": "append", "id": "0e39494fdf79483fb2190567d915c890", "value": "<style>.tpt1017-banner{margin:20px auto;padding:22px 30px;border:3px solid #415294;border-radius:10px;max-width:90%}@media screen and (min-width: 768px){.tpt1017-banner{width:900px;max-width:calc(100% - 60px)}}.tpt1017-banner-logo{margin-bottom:16px}.tpt1017-banner-logo img{width:186px;height:auto}.tpt1017-banner-content{font-family:'Proxima Nova', sans-serif}@media screen and (min-width: 768px){.tpt1017-banner-content{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}}.tpt1017-banner-text{margin-bottom:20px;color:#1D1C4C;font-size:18px;font-weight:600}@media screen and (min-width: 768px){.tpt1017-banner-text{margin-bottom:0}}.tpt1017-banner-cta a{display:block;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}@media screen and (min-width: 768px){.tpt1017-banner-cta{margin-left:10px}}.tpt1017-banner-button{white-space:nowrap;background:#415294;color:#fff !important;font-size:14px;font-weight:600;padding:10px 20px;border-radius:4px}.tpt1017-banner-button:hover{text-decoration:underline !important}.tpt1017 .PostPurchaseTpTSABannerLayout{display:none}</style>", "selector": "head"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["13715460482"], "experiments": [{"weightDistributions": [{"entityId": "21162610590", "endOfRange": 10000}], "audienceName": "Matched TPT SA Users [logged-in only],U.S. Only,Exclude Premium Sellers,Device | Desktop", "name": "100% to v0: [RERUN] TPT-1011 [Search/Browse][Desktop][TpT Marketplace] Linked User Catalog product button above ATC", "bucketingStrategy": null, "variations": [{"id": "21162610590", "actions": [{"viewId": "13715460482", "changes": [{"value": function($){!function(r,o,n){var i=21100170137,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,r)||console.error.bind(window,"[cro] [".concat(r,"]"));try{t.applyTreatment("v0","browse-incl-search-substring")}catch(r){e(r)}}("tpt1011");
}, "dependencies": [], "type": "custom_code", "id": "b1a92c1fbd1346fd86e314b5e0333057"}]}], "name": "v0: (Control 1011) CTA Above Price"}, {"id": "21168310316", "actions": [{"viewId": "13715460482", "changes": [{"value": function($){!function(r,o,n){var i=21100170137,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,r)||console.error.bind(window,"[cro] [".concat(r,"]"));try{t.applyTreatment("v1","browse-incl-search-substring")}catch(r){e(r)}}("tpt1011");
}, "dependencies": [], "type": "custom_code", "id": "2b9bc664703e40f6aa02e11f9b13a4af"}]}], "name": "v1: CTA In line with Add to Cart"}], "audienceIds": ["and", "20339405977", "16539970090", "16882670147", "12001380907"], "changes": null, "id": "21175840646", "integrationSettings": null}], "id": "21197220141", "weightDistributions": null, "name": "100% to v0: [RERUN] TPT-1011 [Search/Browse][Desktop][TpT Marketplace] Linked User Catalog product button above ATC", "groupId": null, "commitId": "21187260651", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "fe3ac34521e543ff80c6504b2b9599b4", "value": function($){function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function _iterableToArrayLimit(t,e){var a=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=a){var n,o,r=[],i=!0,c=!1;try{for(a=a.call(t);!(i=(n=a.next()).done)&&(r.push(n.value),!e||r.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==a["return"]||a["return"]()}finally{if(c)throw o}}return r}}function _arrayWithHoles(t){if(Array.isArray(t))return t}!function(t){var e=21100170137,a=window["CRO_SHARED_"+e]||(window["CRO_SHARED_"+e]={}),n=window.optimizely.get("utils"),o=n.log&&n.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),r=n.error&&n.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]")),i='<svg viewBox="0 0 24 24" aria-hidden="true" role="presentation" class="SvgIcon_root__B2saD mr-2"><path d="M15.293 15.793L13 18.086V10.5a1 1 0 10-2 0v7.586l-2.293-2.293a.999.999 0 10-1.414 1.414l3.999 3.999a.99.99 0 00.326.217.991.991 0 001.09-.217l3.999-3.999a.999.999 0 10-1.414-1.414zm4.669-6.061C19.569 5.679 16.148 2.5 12 2.5S4.431 5.679 4.038 9.732A5.484 5.484 0 000 15.02a5.496 5.496 0 004.889 5.474.994.994 0 001.104-.884 1 1 0 00-.884-1.104A3.499 3.499 0 012 15.02a3.49 3.49 0 013.114-3.464C5.62 11.5 6 11.021 6 10.512 6 7.197 8.691 4.5 12 4.5s6 2.697 5.999 6.005a1 1 0 00.887 1.051A3.49 3.49 0 0122 15.02a3.498 3.498 0 01-3.109 3.486 1.001 1.001 0 00.22 1.988A5.497 5.497 0 0024 15.02a5.484 5.484 0 00-4.038-5.288z"></path></svg>\n';o("v0.1");var c="&cro_oeuid=".concat(optimizely.get("visitor").visitorId),l=function(e){var a=_slicedToArray({"v0":["See whats included in your subscription!","Look for the Access Now button to find resources available through TpT School Access."],"v1":["Included in your subscription!","This resource and all others with this TpT School Access logo are available as part of your subscription."]}["v0"],2),l=a[0],s=a[1],d='\n  <div class="'.concat(t,'-sa--message" role="tooltip" aria-labelledby="tooltip">\n    <div class="').concat(t,'-sa--close-x" title="close tooltip" tabindex=0>').concat('<svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.8098 9.08928C11.8098 9.3125 11.7205 9.53571 11.5598 9.69643L10.3455 10.9107C10.1848 11.0714 9.96158 11.1607 9.73836 11.1607C9.51515 11.1607 9.29193 11.0714 9.13122 10.9107L6.50621 8.28571L3.88121 10.9107C3.7205 11.0714 3.49728 11.1607 3.27407 11.1607C3.05085 11.1607 2.82764 11.0714 2.66692 10.9107L1.45264 9.69643C1.29192 9.53571 1.20264 9.3125 1.20264 9.08928C1.20264 8.86607 1.29192 8.64285 1.45264 8.48214L4.07764 5.85714L1.45264 3.23213C1.29192 3.07142 1.20264 2.8482 1.20264 2.62499C1.20264 2.40178 1.29192 2.17856 1.45264 2.01785L2.66692 0.803559C2.82764 0.642844 3.05085 0.553558 3.27407 0.553558C3.49728 0.553558 3.7205 0.642844 3.88121 0.803559L6.50621 3.42856L9.13122 0.803559C9.29193 0.642844 9.51515 0.553558 9.73836 0.553558C9.96158 0.553558 10.1848 0.642844 10.3455 0.803559L11.5598 2.01785C11.7205 2.17856 11.8098 2.40178 11.8098 2.62499C11.8098 2.8482 11.7205 3.07142 11.5598 3.23213L8.93479 5.85714L11.5598 8.48214C11.7205 8.64285 11.8098 8.86607 11.8098 9.08928Z" fill="#fff"/><mask id="mask0" mask-type="alpha" maskUnits="userSpaceOnUse" x="1" y="0" width="11" height="12"><path d="M11.8098 9.08928C11.8098 9.3125 11.7205 9.53571 11.5598 9.69643L10.3455 10.9107C10.1848 11.0714 9.96158 11.1607 9.73836 11.1607C9.51515 11.1607 9.29193 11.0714 9.13122 10.9107L6.50621 8.28571L3.88121 10.9107C3.7205 11.0714 3.49728 11.1607 3.27407 11.1607C3.05085 11.1607 2.82764 11.0714 2.66692 10.9107L1.45264 9.69643C1.29192 9.53571 1.20264 9.3125 1.20264 9.08928C1.20264 8.86607 1.29192 8.64285 1.45264 8.48214L4.07764 5.85714L1.45264 3.23213C1.29192 3.07142 1.20264 2.8482 1.20264 2.62499C1.20264 2.40178 1.29192 2.17856 1.45264 2.01785L2.66692 0.803559C2.82764 0.642844 3.05085 0.553558 3.27407 0.553558C3.49728 0.553558 3.7205 0.642844 3.88121 0.803559L6.50621 3.42856L9.13122 0.803559C9.29193 0.642844 9.51515 0.553558 9.73836 0.553558C9.96158 0.553558 10.1848 0.642844 10.3455 0.803559L11.5598 2.01785C11.7205 2.17856 11.8098 2.40178 11.8098 2.62499C11.8098 2.8482 11.7205 3.07142 11.5598 3.23213L8.93479 5.85714L11.5598 8.48214C11.7205 8.64285 11.8098 8.86607 11.8098 9.08928Z" fill="white"/></mask><g mask="url(#mask0)"></g></svg>\n','</div>\n    <div class="').concat(t,'-sa--headline">').concat(l,'</div>\n    <div class="').concat(t,'-sa--subheadline">').concat(s,"</div>\n  </div>\n  "),C=window.__TPT__hashedUserId,u=!1,h="",p="";"BBA19CDC3939D019828E4756603AA846194F882302CCDC8D51BAB9DFBED12DA8"===C&&(C="006AAF14ECE7368B4C01A7C59BE70099A76D8A12C0AFEF60169EFD19931B1B3F"),fetch("https://tpt-tptsa-mapping-prod.s3.amazonaws.com/lookup-by-hashed-user-id/".concat(C),{"method":"GET","headers":{"Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function(a){a&&a.hashed_user_id?(o("hash",a.hashed_user_id),localStorage.setItem("cro_matched_user",!0),"null"!==a.registration_link&&null!==a.registration_link&&""!==a.registration_link&&(h=new URL(sessionStorage.getItem("cro_registration_link")),o("Invite Link:",h)),"non-registered"===a.audience&&(u=!0)):localStorage.setItem("cro_matched_user",!1),n.observeSelector(".NextSearchPage .container .SearchProductRowLayout:first-child",(function(){n.waitForElement('[data-testid="SearchResultView"]').then((function(a){for(var o=a.querySelectorAll('[data-crometrics-isavailableonschoolaccess="true"]'),l=0;l<o.length;l++){var s=o[l].querySelector(".tpt895-sa");s&&s.remove();var C=o[l].getAttribute("data-crometrics-resourceid");if(u)h.searchParams.append("utm_campaign","optimizely".concat(t).concat(e)),h.searchParams.append("utm_source","tptcoremarketplace"),h.searchParams.append("utm_medium","matchedusersbanner"),h.searchParams.append("cro_oeuid","".concat(optimizely.get("visitor").visitorId)),p=h;else{p="https://www.tptschoolaccess.com/resource/".concat(C);var L="?utm_source=tptcoremarketplace&utm_medium=matchedusersbanner";L="".concat(L,"&utm_campaign=optimizely").concat(t).concat(e).concat(c),p+=L}var v=o[l].querySelector(".CartButtonContainer"),f=o[l].querySelector(".NextSearchProductRowLayout__priceContainer"),m='\n            <div class="'.concat(t,"-sa js-").concat(t,'-desktop" data-').concat(t,'-sa="').concat(l,'">\n              <div class="').concat(t,'-sa--logo">').concat('<svg width="108" height="13" viewBox="0 0 108 13" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 13H20.0996V0H0V13ZM18.5644 11.5109H1.53518V1.47972H18.5644V11.5109Z" fill="#00A86C"/><path d="M4.60567 5.44604H3.36157V4.26859H7.24315V5.44604H5.99906V8.73141H4.60567V5.44604Z" fill="#00AA6C"/><path fill-rule="evenodd" clip-rule="evenodd" d="M10.5274 4.26859H8.05664V8.73861H9.455V7.29976H10.5274C11.6123 7.29976 12.1945 6.63789 12.1945 5.80096C12.1945 4.96403 11.6123 4.26859 10.5274 4.26859ZM9.45502 5.39345H10.3433C10.4882 5.39345 10.6221 5.46796 10.6945 5.5889C10.767 5.70984 10.767 5.85884 10.6945 5.97978C10.6221 6.10072 10.4882 6.17523 10.3433 6.17523H9.45502V5.39345Z" fill="#00AA6C"/><path d="M14.0981 5.44604H12.854V4.26859H16.7356V5.44604H15.4915V8.73141H14.0981V5.44604Z" fill="#00AA6C"/><path d="M28.0121 5.16537C27.0641 4.99271 26.6411 4.85362 26.6411 4.48671C26.6411 4.11981 26.9695 3.91357 27.5642 3.91357C28.3925 3.93347 29.1909 4.21581 29.8359 4.71693L29.8708 4.74331L31.0701 3.23012L31.0402 3.20614C30.1017 2.46022 28.9145 2.06746 27.6986 2.10062C26.8197 2.06272 25.9555 2.32705 25.2602 2.84643C24.7168 3.27976 24.4028 3.92449 24.4042 4.60422C24.4042 6.46753 26.248 6.82245 27.5966 7.08144L27.6662 7.09583C28.5471 7.27568 29.0273 7.44835 29.0273 7.85602C29.0273 8.26369 28.567 8.48671 27.9076 8.48671C26.9427 8.48564 26.0173 8.11766 25.3323 7.46273L25.2975 7.42916L24.1355 9.01669L24.1629 9.04067C25.0711 9.8776 26.2977 10.3021 27.8106 10.3021C29.9653 10.3021 31.2542 9.30446 31.2542 7.633C31.2517 5.81765 29.3806 5.44115 28.0121 5.16537Z" fill="#1E1C4D"/><path d="M36.1386 8.08171C35.8937 8.42243 35.4887 8.62302 35.0587 8.61648C34.2575 8.61648 33.7201 8.07452 33.7201 7.26636C33.7201 6.45821 34.2575 5.93063 35.0587 5.93063C35.4873 5.91422 35.8945 6.11179 36.1361 6.45341L36.166 6.49178L37.4499 5.3407L37.43 5.31193C37.2558 5.07212 36.5616 4.24478 34.9741 4.24478C33.0781 4.24478 31.7021 5.51576 31.7021 7.26636C31.7021 9.01696 33.0483 10.3119 34.9741 10.3119C36.5442 10.3119 37.2508 9.49418 37.43 9.24478L37.4499 9.216L36.166 8.05294L36.1386 8.08171Z" fill="#1E1C4D"/><path d="M42.1872 4.24479C41.4423 4.23034 40.7234 4.50919 40.1966 5.01698V2.21841H38.231V10.1609H40.1966V6.45822C40.4571 6.12845 40.8614 5.93361 41.2914 5.93065C41.9409 5.93065 42.2295 6.20163 42.2295 6.80834V10.1657H44.1952V6.06494C44.1852 4.90906 43.4587 4.24479 42.1872 4.24479Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M45.0786 7.26636C45.0786 5.51576 46.4496 4.24478 48.3381 4.24478C49.236 4.21735 50.106 4.54686 50.7442 5.15605C51.3097 5.72599 51.6198 6.48746 51.6076 7.27596C51.6199 8.0666 51.3099 8.83035 50.7442 9.40306C50.1062 10.0123 49.2358 10.3411 48.3381 10.3119C46.4496 10.3119 45.0786 9.01696 45.0786 7.26636ZM48.3382 8.61657C49.1941 8.61657 49.5823 7.94031 49.5823 7.26645H49.5922C49.5922 6.60218 49.1866 5.93072 48.3382 5.93072C47.4897 5.93072 47.109 6.59259 47.109 7.26645C47.109 7.94031 47.4822 8.61657 48.3382 8.61657Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M52.1226 7.26636C52.1226 5.51576 53.4911 4.24478 55.3796 4.24478C56.2774 4.21735 57.1474 4.54686 57.7857 5.15605C58.3521 5.7256 58.6631 6.48712 58.6516 7.27596C58.663 8.06689 58.3521 8.83059 57.7857 9.40305C57.148 10.0128 56.2774 10.3417 55.3796 10.3119C53.496 10.3119 52.1226 9.01696 52.1226 7.26636ZM55.3796 8.61657C56.2356 8.61657 56.6237 7.94031 56.6237 7.26645H56.6337C56.6337 6.60218 56.2281 5.93072 55.3796 5.93072C54.5312 5.93072 54.1505 6.59259 54.1505 7.26645C54.1505 7.94031 54.5237 8.61657 55.3796 8.61657Z" fill="#1E1C4D"/><rect x="59.5549" y="2.21841" width="1.96816" height="7.94245" fill="#1E1C4D"/><path d="M78.6268 8.08171C78.3834 8.42272 77.9789 8.6235 77.5494 8.61648C76.7482 8.61648 76.2108 8.07452 76.2108 7.26636C76.2108 6.45821 76.7482 5.93063 77.5494 5.93063C77.9781 5.91422 78.3852 6.11179 78.6268 6.45341L78.6542 6.49178L79.9406 5.3407L79.9207 5.31193C79.744 5.07212 79.0498 4.24478 77.4648 4.24478C75.5688 4.24478 74.1929 5.51576 74.1929 7.26636C74.1929 9.01696 75.5489 10.3119 77.4748 10.3119C79.0448 10.3119 79.7515 9.49418 79.9306 9.24478L79.9505 9.216L78.6666 8.05294L78.6268 8.08171Z" fill="#1E1C4D"/><path d="M84.7504 8.08171C84.5069 8.42272 84.1024 8.6235 83.673 8.61648C82.8718 8.61648 82.3343 8.07452 82.3343 7.26636C82.3343 6.45821 82.8718 5.93063 83.673 5.93063C84.1016 5.91422 84.5088 6.11179 84.7504 6.45341L84.7777 6.49178L86.0641 5.3407L86.0442 5.31193C85.8676 5.07212 85.1734 4.24478 83.5884 4.24478C81.6924 4.24478 80.3164 5.51576 80.3164 7.26636C80.3164 9.01696 81.6625 10.3119 83.5884 10.3119C85.1584 10.3119 85.8651 9.49418 86.0442 9.24478L86.0641 9.216L84.7802 8.05294L84.7504 8.08171Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M87.3519 5.09904C87.9534 4.52834 88.771 4.21962 89.6147 4.2446C91.446 4.2446 92.6777 5.53477 92.6677 7.45563V7.89208H88.4726C88.5871 8.33333 89.0275 8.82494 89.9232 8.82494C90.4374 8.82127 90.9356 8.6525 91.339 8.34532L91.3738 8.31415L92.2173 9.51319L92.19 9.53717C91.6525 10.0096 90.697 10.3022 89.7018 10.3022C87.7759 10.3022 86.4298 9.05275 86.4298 7.26618C86.4172 6.45275 86.7503 5.66974 87.3519 5.09904ZM90.7891 6.62581C90.7067 6.07375 90.1911 5.67996 89.6146 5.72893C89.0486 5.70285 88.5512 6.08758 88.4551 6.62581H90.7891Z" fill="#1E1C4D"/><path d="M96.0442 6.42925H96.0267C95.4122 6.32374 95.121 6.23501 95.121 6.00959C95.121 5.78417 95.3972 5.66187 95.8227 5.66187C96.4519 5.6579 97.0611 5.87436 97.5371 6.27098L97.5769 6.30695L98.3383 5.03597L98.3084 5.01438C97.5849 4.51035 96.7129 4.24308 95.8202 4.25179C94.5761 4.25179 93.2474 4.85131 93.2474 6.17026C93.2474 7.60911 94.6284 7.84892 95.6386 8.01438H95.7058C96.3253 8.11031 96.6836 8.21582 96.6836 8.47002C96.6836 8.72422 96.4174 8.85371 95.9372 8.85371C95.1907 8.81498 94.4747 8.55539 93.8869 8.11031L93.8471 8.07673L93.0384 9.3669L93.021 9.39808L93.0459 9.41966C93.6779 9.95443 94.7727 10.3022 95.8376 10.3022C97.4973 10.3022 98.5747 9.54676 98.5747 8.38369C98.5597 6.84172 97.0394 6.59232 96.0442 6.42925Z" fill="#1E1C4D"/><path d="M101.966 6.42909H101.946C101.332 6.32358 101.041 6.23485 101.041 6.00943C101.041 5.78401 101.317 5.66171 101.745 5.66171C102.372 5.66058 102.978 5.87774 103.452 6.27322L103.489 6.30919L104.255 5.03581L104.225 5.01422C103.502 4.51096 102.63 4.24377 101.737 4.25163C100.493 4.25163 99.162 4.85115 99.162 6.1701C99.162 7.60895 100.545 7.84876 101.553 8.01422H101.62C102.24 8.11015 102.598 8.21566 102.598 8.46986C102.598 8.72406 102.332 8.85355 101.852 8.85355C101.105 8.81436 100.39 8.55482 99.8014 8.11015L99.7616 8.07657L98.953 9.36674L98.9355 9.39792L98.9629 9.4195C99.5924 9.95427 100.69 10.302 101.755 10.302C103.414 10.302 104.492 9.5466 104.492 8.38353C104.477 6.84156 102.966 6.59456 101.966 6.42909Z" fill="#1E1C4D"/><path fill-rule="evenodd" clip-rule="evenodd" d="M68.2064 2.19168H70.8738L73.9989 10.1293H71.6899L71.2694 8.93029L71.15 8.56099C70.6778 8.25911 70.1216 8.10271 69.555 8.11254C68.9958 8.10384 68.4463 8.25396 67.975 8.5442L67.8481 8.93029L67.4301 10.1293H65.1086L68.2064 2.19168ZM69.5401 3.96404L68.6045 6.60193C68.9133 6.54149 69.2275 6.51017 69.5426 6.50841C69.8602 6.50923 70.1769 6.54056 70.4881 6.60193L69.5401 3.96404Z" fill="#1E1C4D"/><path d="M105.126 2.39799H104.628V2.08624H105.957V2.39799H105.474V3.69296H105.126V2.39799Z" fill="#1E1C4D"/><path d="M107.647 2.53708L107.176 3.69296H107.022L106.552 2.53708V3.69296H106.196V2.08624H106.694L107.099 3.08864L107.502 2.08624H108V3.69296H107.644L107.647 2.53708Z" fill="#1E1C4D"/></svg>\n','</div>\n              <a class="').concat(t,'-sa--button" href="').concat(p,'" target="_blank">').concat("v0"===e?"<i>".concat(i,"</i>Access Now"):"View Details","</a>\n            </div>\n          "),g='\n          <div class="'.concat(t,"-sa js-").concat(t,'-desktop" data-').concat(t,'-sa="').concat(l,'">\n            <a class="').concat(t,'-sa--button" href="').concat(p,'" target="_blank">',"<i>".concat(i,"</i>Access Now"),"</a>\n          </div>\n          ");document.querySelector("".concat(t,"-sa"))||"v1"!=e?document.querySelector("".concat(t,"-sa"))||"v0"!=e||f.insertAdjacentHTML("beforebegin",m):v.insertAdjacentHTML("afterbegin",g)}n.waitForElement("[data-".concat(t,'-sa="0"].js-').concat(t,"-desktop")).then((function(e){if(e.insertAdjacentHTML("beforeend",d),!function(t){for(var e=t+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){var o=a[n].trim();if(0===o.indexOf(e))return o.substring(e.length,o.length)}return null}("".concat(t,"-tootltip-dismissed"))){var a=e.querySelector(".".concat(t,"-sa--message"));a.classList.add("active"),a.setAttribute("aria-hidden",!1);var n=function(){a.classList.remove("active"),a.setAttribute("aria-hidden",!0),function(t,e,a){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"."+window.location.hostname.split(".").slice(-2).join("."),r=t+"="+e+"; path=/";a instanceof Date?n=a:a>0&&(n=new Date).setTime(n.getTime()+24*a*60*60*1e3),n&&(r+="; expires="+n.toGMTString()),o&&(r+="; domain="+o),document.cookie=r}("".concat(t,"-tootltip-dismissed"),"true",7)},o=a.querySelector(".".concat(t,"-sa--close-x"));o.addEventListener("click",n),o.addEventListener("keypress",(function(t){13===(t.which||t.keyCode||0)&&n()}))}}))["catch"](r)}))["catch"](r)}))}))["catch"](r)};a.applyTreatment=function(e,a){!function(e,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;n.classList.add(t),n.classList.add(t+e),o("Variation ".concat(e,", page ").concat(a))}(e,a),n.waitForElement(".tpt-frontend").then((function(t){return n.waitUntil((function(){return t._reactRootContainer}))})).then((function(){l(e)}))["catch"](r)}}("tpt1011");
}}, {"dependencies": [], "type": "append", "id": "0bca9e59a4c44e7297cfd2602875c63d", "value": "<style>.tpt1011 .tpt895-sa{display:none}@media (max-width: 580px){.tpt1011 .js-tpt1011-desktop{display:none !important}}.tpt1011 svg{width:100%;height:auto}.tpt1011-sa{position:relative}.tpt1011-sa--message{pointer-events:none;opacity:0;z-index:-100;-webkit-transition:.2s ease all;-o-transition:.2s ease all;transition:.2s ease all;-webkit-box-shadow:0 0 5px rgba(0,0,0,0.2);box-shadow:0 0 5px rgba(0,0,0,0.2);border-radius:6px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:27px 26px 24px 24px;width:302px;position:absolute;left:-327px;top:25px;background:#2C358B;color:#fff;z-index:5}.tpt1011-sa--message.active{pointer-events:auto;opacity:1;z-index:5}.tpt1011-sa--message:before{content:\"\";-webkit-box-shadow:0 0 5px rgba(0,0,0,0.2);box-shadow:0 0 5px rgba(0,0,0,0.2);border-bottom:0;border-left:0;background:#2C358B;width:16px;height:16px;display:block;position:absolute;top:25px;right:-8px;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg);-webkit-transform-origin:center center;-ms-transform-origin:center center;transform-origin:center center}.tpt1011-sa--close-x{position:absolute;top:8px;right:.75rem;cursor:pointer;width:14px;height:14px;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;-webkit-transition:all .2s ease;-o-transition:all .2s ease;transition:all .2s ease}.tpt1011-sa--close-x:hover,.tpt1011-sa--close-x:active,.tpt1011-sa--close-x:focus{opacity:.5}.tpt1011-sa--headline{color:#fff;font-size:17px;font-weight:700}.tpt1011-sa--subheadline{font-size:14px;margin-top:.5em}.tpt1011-sa--logo{width:115px;margin:auto}.tpt1011-sa--button{background:#2C358B;color:#fff !important;display:block;padding:10px .25em;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;border-radius:3px;text-align:center;margin:.5em auto 2em auto;font-weight:600;cursor:pointer;font-size:16px;height:42px;-webkit-transition:all .2s ease;-o-transition:all .2s ease;transition:all .2s ease}.tpt1011-sa--button i{display:inline-block;padding-right:.5em;width:1.85em;line-height:1em}.tpt1011-sa--button:hover,.tpt1011-sa--button:active,.tpt1011-sa--button:focus{background-color:#1a1f51}.tpt1011v1 .tpt1011-sa--message{top:-16px}.tpt1011v1 .tpt1011-sa+.CartButton{background-color:#fff;border:1px solid #4BA571;color:#4BA571}.tpt1011v1 .tpt1011-sa+.CartButton:hover,.tpt1011v1 .tpt1011-sa+.CartButton:active,.tpt1011v1 .tpt1011-sa+.CartButton:focus{border:1px solid #07794d;background-color:#07794d;color:#fff}.tpt1011v1 .tpt1011-sa--button{margin:.5em auto .5em auto}</style>", "selector": "head"}]}, {"holdback": 2500, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["20882500706"], "experiments": [{"weightDistributions": [{"entityId": "21199280976", "endOfRange": 3300}, {"entityId": "21199100966", "endOfRange": 6600}, {"entityId": "21170761410", "endOfRange": 9900}, {"entityId": "21177650723", "endOfRange": 10000}], "audienceName": "Device | Desktop,Exclude Premium Sellers,U.S. Only,Exclude TpT Internal Admins,[Testing] Exclude Basic Sellers,[QA] Cro Metrics Test Cookie (OLI),[TPT-1069] Redesign test cookie", "name": "[TEST COOKIE] Copy of TPT-1069 [Rebrand][Desktop] Header Iteration + HP Editorial Modules + Filter Changes", "bucketingStrategy": null, "variations": [{"id": "21199280976", "actions": [{"viewId": "20882500706", "changes": [{"value": function($){!function(o,r,i){var n=20990700556,t=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),c=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyMetrics("v0")}catch(o){c(o)}}("tpt1069");
}, "dependencies": [], "type": "custom_code", "id": "6c45896385b14b2083b8c526b903404a"}]}], "name": "v0: Control (TPT-1069)"}, {"id": "21199100966", "actions": [{"viewId": "20882500706", "changes": [{"value": function($){!function(t,i,n){var o=20990700556,r=window["CRO_SHARED_"+o]||(window["CRO_SHARED_"+o]={}),e=window.optimizely.get("utils"),w=e.error&&e.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));try{r.applyTreatment("v1","tpt968-sitewide-excluding-pages-with-nonstandard-he"),r.applyMetrics("v1")}catch(t){w(t)}}("tpt1069");
}, "dependencies": [], "type": "custom_code", "id": "f001146eb92a403497e56f3b25bed2a0"}]}], "name": "v1: Header Restructure Iteration"}, {"id": "21170761410", "actions": [{"viewId": "20882500706", "changes": [{"value": function($){!function(t,i,n){var o=20990700556,r=window["CRO_SHARED_"+o]||(window["CRO_SHARED_"+o]={}),e=window.optimizely.get("utils"),w=e.error&&e.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));try{r.applyTreatment("v2","tpt968-sitewide-excluding-pages-with-nonstandard-he"),r.applyMetrics("v2")}catch(t){w(t)}}("tpt1069");
}, "dependencies": [], "type": "custom_code", "id": "053c8a62c0d0497bbd0a34164b408a24"}]}], "name": "v2: HP Editorial Modules + Filter Changes"}, {"id": "21177650723", "actions": [{"viewId": "20882500706", "changes": [{"value": function($){!function(o,r,i){var n=20990700556,t=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),w=window.optimizely.get("utils"),c=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyMetrics("v3")}catch(o){c(o)}}("tpt1069");
}, "dependencies": [], "type": "custom_code", "id": "438658a2286b4810a20eb1c1d32fbb70"}]}], "name": "v3: Holdback"}], "audienceIds": ["and", "12001380907", "16882670147", "16539970090", "20872913900", "21128102450", "15737501278", "21006240081"], "changes": null, "id": "21193121141", "integrationSettings": null}], "id": "21198961041", "weightDistributions": null, "name": "[TEST COOKIE] Copy of TPT-1069 [Rebrand][Desktop] Header Iteration + HP Editorial Modules + Filter Changes", "groupId": null, "commitId": "21164420789", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "28ab63e56c0c40969a4795bf231a90b6", "value": function($){function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{"value":r,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=r,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{"s":a,"n":function(){return n>=e.length?{"done":!0}:{"done":!1,"value":e[n++]}},"e":function(e){throw e},"f":a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{"s":function(){r=r.call(e)},"n":function(){var e=r.next();return s=e.done,e},"e":function(e){i=!0,o=e},"f":function(){try{s||null==r["return"]||r["return"]()}finally{if(i)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}!function(e){var t=20990700556,r=window["CRO_SHARED_"+t]||(window["CRO_SHARED_"+t]={}),n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":e,"tags":t})},a=window.optimizely.get("utils"),o=a.log&&a.log.bind(window,"[".concat(e,"]"))||console.warn.bind(window,"[cro] [".concat(e,"]")),s=a.error&&a.error.bind(window,e)||console.error.bind(window,"[cro] [".concat(e,"]")),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push_attribute";window.optimizely.push({"type":"user","attributes":e}),window.optimizely.push({"type":"event","eventName":t})};o("v2");r.applyMetrics=function(t){var r=function(e,t,r){e.addEventListener("click",(function(e){r&&!function(e){return e.isTrusted||0!==e.clientX&&0!==e.clientY}(e)||(n(t),window.heap.track(t))}))},o=function(e,t){a.waitForElement(e).then((function(e){return r(e,t)}))["catch"](s)},l=function(e){return""!==e.querySelector("input").value};if(sessionStorage.getItem("".concat(e,"-last-page"))!==window.location.pathname){var d,p=parseInt(null!==(d=sessionStorage.getItem("".concat(e,"-pages-visited")))&&void 0!==d?d:"0")+1;sessionStorage.setItem("".concat(e,"-pages-visited"),p),sessionStorage.setItem("".concat(e,"-last-page"),window.location.pathname),p>=2&&p<=5?(n("tpt1069-sitewide-2-5-pages-visited"),window.heap.track("tpt1069-sitewide-2-5-pages-visited")):p>=6&&p<=10?(n("tpt1069-sitewide-6-10-pages-visited"),window.heap.track("tpt1069-sitewide-6-10-pages-visited")):p>10&&(n("tpt1069-sitewide-11-plus-pages-visited"),window.heap.track("tpt1069-sitewide-11-plus-pages-visited"))}"1"===window.sessionStorage.getItem("".concat(e,"-pages-visited"))&&i({"tpt1069-session-start-on-homepage":"/"===window.location.pathname});var u=function(){n("tpt968-header-search-bar-interactions"),window.heap.track("tpt968-header-search-bar-interactions")};a.observeSelector(".SearchAutosuggestBespoke form",(function(e){e.querySelector("input").addEventListener("keydown",(function(t){"Enter"!==t.key&&"Enter"!==t.code||l(e)&&(u(),n("tpt968-search-bar-type-press-enter"),window.heap.track("tpt968-search-bar-type-press-enter"))})),e.nextElementSibling.addEventListener("click",(function(){l(e)&&(u(),n("tpt968-search-bar-type-click-icon"),window.heap.track("tpt968-search-bar-type-click-icon"))}))})),a.observeSelector(".SearchAutosuggestBespoke ul li",(function(e){return r(e,"tpt968-header-search-bar-interactions")})),a.waitForElement(".SearchAutosuggestBespoke form input").then((function(e){return e.addEventListener("click",(function(){u(),n("tpt968-search-bar-clicks-into-search-field"),window.heap.track("tpt968-search-bar-clicks-into-search-field")}))}))["catch"](s);var h={"Popular Now":"tpt968-search-dropdown-clicks-on-popular-now-suggestion","Suggestions":"tpt968-search-dropdown-clicks-on-suggestions-suggestion","Sellers":"tpt968-search-dropdown-clicks-on-sellers-suggestion","Resources":"tpt968-search-dropdown-clicks-on-resources-suggestion"};if(a.observeSelector(".SearchAutosuggestBespoke .react-autosuggest__section-container ul",(function(e){return function(e){var t,r=_createForOfIteratorHelper(e.querySelectorAll("li"));try{for(r.s();!(t=r.n()).done;)t.value.addEventListener("click",(function(t){var r,a,o=null===(r=t.target.closest("ul"))||void 0===r||null===(a=r.previousElementSibling.querySelector("span"))||void 0===a?void 0:a.textContent;if(null===o||""===o)e.parentElement.classList.contains("react-autosuggest__section-container--first")?l(e.closest(".SearchAutosuggestBespoke"))?(n("tpt968-search-dropdown-clicks-on-show-me-digital-resources-for-x"),window.heap.track("tpt968-search-dropdown-clicks-on-show-me-digital-resources-for-x")):(n("tpt968-search-dropdown-clicks-on-show-me-digital-resources"),window.heap.track("tpt968-search-dropdown-clicks-on-show-me-digital-resources")):(n("tpt968-search-dropdown-clicks-on-see-all-results-for-x"),window.heap.track("tpt968-search-dropdown-clicks-on-see-all-results-for-x"));else{var s=h[o];u(),n(s),window.heap.track(s)}}))}catch(e){r.e(e)}finally{r.f()}}(e)})),window.location.pathname.includes("/Browse")||window.location.pathname.includes("/Browse/Search")||a.observeSelector(".MobileSearchMenu input",(function(e){return r(e,"tpt968-interacts-with-left-filter-rail-homepage")})),a.observeSelector(".ResourcesYouMayLikeLayout a",(function(e){return r(e,"tpt968-clicks-on-resource-in-resources-you-may-like-section")})),a.observeSelector(".TpTDAEnabledResourcesLayout a",(function(e){return r(e,"tpt968-clicks-on-resource-in-device-and-hybrid-resources-section")})),a.observeSelector(".ExploreResourcesLayout .CardRowLayout:first-child a.ProductCard",(function(e){return r(e,"tpt1069-homepage-clicks-on-resource-high-school-section")})),a.observeSelector(".ExploreResourcesLayout .CardRowLayout:not(:first-child):not(:last-child) a.ProductCard",(function(e){return r(e,"tpt1069-homepage-clicks-on-resource-in-middle-school-section")})),a.observeSelector(".ExploreResourcesLayout .CardRowLayout:last-child a.ProductCard",(function(e){return r(e,"tpt1069-homepage-clicks-on-resource-in-elementary-section")})),a.observeSelector(".NewFromYourFavoriteTeacherAuthorsLayout a.ProductCard",(function(e){return r(e,"tpt1069-homepage-clicks-on-resource-in-teachers-section")})),a.observeSelector(".MobileSearchMenu label, .MobileSearchMenu input, .MobileSearchMenu select option",(function(e){r(e,"tpt1069-homepage-filter-applied"),r(e,"tpt10690-homepage-filter-applied-from-left-rail")})),a.observeSelector(".MobileSearchMenu .SpecificGradesSearchContainer label, .MobileSearchMenu .SpecificGradesSearchContainer input",(function(e){return r(e,"tpt1069-homepage-grade-filter-applied")})),a.observeSelector(".MobileSearchMenu .SearchMenuSubjectAreaLayout label, .MobileSearchMenu .SearchMenuSubjectAreaLayout input",(function(e){return r(e,"tpt1069-homepage-subject-filter-applied")})),a.observeSelector(".MobileSearchMenu .SearchMenuSubjectAreaLayout + .FilterMenuLayout label, .MobileSearchMenu .SearchMenuSubjectAreaLayout + .FilterMenuLayout input",(function(e){return r(e,"tpt1069-homepage-price-filter-applied")})),"v0"===t||"v3"===t){a.observeSelector(".CategoryMenu__content a",(function(e){return r(e,"tpt968-header-clicks-on-filter-link-catalog-or-browse")})),o(".EaselHeaderBespoke .EaselHeaderBespoke__label a","tpt968-header-clicks-on-easel-by-tpt"),a.observeSelector(".EaselHeaderMenu .EaselHeaderMenu__col--tools a",(function(e){return r(e,"tpt968-header-clicks-on-activites-assessments-easel-by-tpt")})),o(".HeaderLayout__linkList a[href='/TpTSchoolAccess/Teachers']","tpt968-header-clicks-on-tpt-school-access"),o(".HeaderCartBespoke","tpt968-header-clicks-on-cart");var v=function e(){document.querySelector(".SellerDropdownBespoke, .BuyerDropdownBespoke").removeEventListener("mouseover",e,!0),n("tpt968-header-opens-user-profile"),window.heap.track("tpt968-header-opens-user-profile")};a.waitForElement(".SellerDropdownBespoke, .BuyerDropdownBespoke").then((function(e){return e.addEventListener("mouseover",v,!0)}))["catch"](s),o(".HeaderLayout__linkList a[href='/About-Us']","tpt968-header-clicks-on-about-us"),o(".HeaderLayout__linkList a[href='/Gift-Card']","tpt968-header-clicks-on-gift-cards"),o(".HeaderLayout__linkList a[href='/Help']","tpt968-header-clicks-on-help"),o(".HeaderLayout__linkList a[href='/ClassFund']","tpt968-header-clicks-on-tpt-classfund"),a.waitForElement(".SecondaryHeaderLayout .CategoryMenu").then((function(e){return e.addEventListener("mouseenter",(function(){n("tpt1069-header-expand-browse-catalog-dropdown"),window.heap.track("tpt1069-header-expand-browse-catalog-dropdown")}))}))["catch"](s),o(".EaselHeaderBespoke .EaselHeaderMenu__subcol:first-child a","tpt1069-header-easel-by-tpt-dropdown-clicks-on-easel-activities"),o(".EaselHeaderBespoke .EaselHeaderMenu__subcol:last-child a","tpt1069-header-easel-by-tpt-dropdown-clicks-on-easel-assessments"),o(".EaselHeaderMenu .EaselHeaderMenu__link a[href*='https://easel.teacherspayteachers.com/import']","tpt1069-header-easel-dropdown-clicks-on-interactive-tutorial"),o(".EaselHeaderMenu a[href='https://easel.teacherspayteachers.com']","tpt1069-header-easel-dropdown-clicks-on-go-to-easel"),o(".EaselHeaderMenu a[href='https://www.easelbytpt.com']","tpt1069-header-easel-dropdown-clicks-on-learn-more"),o(".HeaderLayout__linkList a[href='/Help']","tpt1069-header-footer-clicks-on-help")}else a.observeSelector(".tpt1069-header-nav-left-catalog > button",(function(e){return r(e,"tpt968-header-clicks-on-catalog")})),a.observeSelector(".tpt1069-header-nav-left-catalog-dropdown a",(function(e){return r(e,"tpt968-header-clicks-on-filter-link-catalog-or-browse")})),a.observeSelector(".tpt1069-header-nav-left-easel > button",(function(e){return r(e,"tpt968-header-clicks-on-easel-by-tpt")})),a.observeSelector(".tpt1069-header-nav-left-easel-dropdown-activities a, .tpt1069-header-nav-left-easel-dropdown-assessments a",(function(e){return r(e,"tpt968-header-clicks-on-activites-assessments-easel-by-tpt")})),a.observeSelector(".tpt1069-header-nav-right-tptsa > button",(function(e){return r(e,"tpt968-header-clicks-on-tpt-school-access")})),a.observeSelector(".tpt1069-header-nav-right-tptsa-dropdown a",(function(e){return r(e,"tpt968-header-clicks-on-tptsa-dropdown-cta")})),a.observeSelector(".tpt1069-header-nav-right-cart",(function(e){return r(e,"tpt968-header-clicks-on-cart")})),a.observeSelector(".tpt1069-header-nav-right-user",(function(e){return r(e,"tpt968-header-opens-user-profile")})),a.observeSelector(".tpt1069-header-nav-right-user-dropdown a[href='/gift-card']",(function(e){return r(e,"tpt968-header-clicks-on-gift-cards")})),a.observeSelector(".tpt1069-header-nav-right-user-dropdown a[href='/TpTClassFund'], .tpt1069-wrapper .SellerDropdownBespoke a[href='/ClassFund']",(function(e){return r(e,"tpt968-header-clicks-on-tpt-classfund")})),a.observeSelector(".tpt1069-header-nav-left-catalog",(function(e){return r(e,"tpt1069-header-expand-browse-catalog-dropdown")})),a.observeSelector(".tpt1069-header-nav-left-easel-dropdown-activities a",(function(e){return r(e,"tpt1069-header-easel-by-tpt-dropdown-clicks-on-easel-activities")})),a.observeSelector(".tpt1069-header-nav-left-easel-dropdown-assessments a",(function(e){return r(e,"tpt1069-header-easel-by-tpt-dropdown-clicks-on-easel-assessments")})),a.observeSelector(".tpt1069-header-nav-left-easel-dropdown-intro-link",(function(e){return r(e,"tpt1069-header-easel-dropdown-clicks-on-top-easel-resources")})),a.observeSelector(".tpt1069-header-nav-left-easel-dropdown-intro-link2",(function(e){return r(e,"tpt1069-header-easel-dropdown-clicks-on-interactive-tutorial")})),a.observeSelector(".tpt1069-header-nav-left-easel-dropdown-intro-button[href='https://easel.teacherspayteachers.com/']",(function(e){return r(e,"tpt1069-header-easel-dropdown-clicks-on-go-to-easel")})),a.observeSelector(".tpt1069-header-nav-left-easel-dropdown-intro-button[href='/easel/learn-more']",(function(e){return r(e,"tpt1069-header-easel-dropdown-clicks-on-learn-more")})),a.observeSelector(".FooterLayout a[href='/Help']",(function(e){return r(e,"tpt1069-header-footer-clicks-on-help")})),a.observeSelector(".tpt1069-module-top a",(function(e){return r(e,"tpt1069-homepage-editorial-1-clicks-on-refer-your-principal")})),a.observeSelector(".tpt1069-module-middle a",(function(e){return r(e,"tpt1069-homepage-editorial-2-clicks-on-learn-more")})),a.waitForElement(".tpt1069-module-bottom a").then((function(e){"Learn More"===e.textContent?o(".tpt1069-module-bottom a","tpt1069-homepage-editorial-3-clicks-on-learn-more"):o(".tpt1069-module-bottom a","tpt1069-logged-out-homepage-editorial-3-clicks-cta")}))["catch"](s),o(".tpt1069-new-inputs-grade","tpt1069-search-bar-clicks-into-filter-field"),o(".tpt1069-new-inputs-subject","tpt1069-search-bar-clicks-into-filter-field"),o(".tpt1069-new-inputs-price","tpt1069-search-bar-clicks-into-filter-field"),a.observeSelector(".tpt1069-header-search form > div > input",(function(e){e.addEventListener("keydown",(function(t){"Enter"!==t.key&&"Enter"!==t.code||""!==c(e)&&(n("tpt1069-search-bar-filter-applied-submit"),window.heap.track("tpt1069-search-bar-filter-applied-submit"))})),a.waitForElement(".tpt1069-header-search button").then((function(t){return t.addEventListener("click",(function(){""!==c(e)&&(n("tpt1069-search-bar-filter-applied-submit"),window.heap.track("tpt1069-search-bar-filter-applied-submit"))}))}))["catch"](s)})),a.observeSelector(".tpt1069-new-inputs-dropdown label",(function(e){r(e,"tpt1069-homepage-filter-applied",!0),r(e,"tpt1069-homepage-filter-applied-from-header",!0)})),a.observeSelector(".tpt1069-new-inputs-grade-dropdown label, .tpt1069-new-inputs-grade-dropdown label input, .tpt1069-new-inputs-grade-dropdown label span",(function(e){return r(e,"tpt1069-homepage-grade-filter-applied",!0)})),a.observeSelector(".tpt1069-new-inputs-subject-dropdown label, .tpt1069-new-inputs-subject-dropdown label input, .tpt1069-new-inputs-subject-dropdown label span",(function(e){return r(e,"tpt1069-homepage-subject-filter-applied",!0)})),a.observeSelector(".tpt1069-new-inputs-price-dropdown label, .tpt1069-new-inputs-price-dropdown label input, .tpt1069-new-inputs-price-dropdown label span",(function(e){return r(e,"tpt1069-homepage-price-filter-applied",!0)}))};var c=function(t){var r={"grade":"Grade-Level","subject":"PreK-12-Subject-Area","price":"Price-Range"},n="";for(var a in r){var o=document.querySelector(".".concat(e,"-new-inputs-").concat(a));if(o){var s=o.getAttribute("search-value");if(null==s||""===s)continue;n+="/".concat(r[a],"/").concat(s)}}return""!==t.value&&(n+="/Search:".concat(t.value)),n},l=function(t){a.waitForElement(".tpt-frontend > div > div > .responsive, .tpt-frontend .HeaderLayout").then((function(r){var n;if(!document.querySelector(".".concat(e,"-wrapper"))){r.classList.add("".concat(e,"-hidden")),r.insertAdjacentHTML("afterend",'<div class="tpt1069-wrapper">\r\n    <div class="tpt1069-header">\r\n        <div class="tpt1069-header-nav">\r\n            <div class="tpt1069-header-nav-left">\r\n                <a href="/">\r\n                    <img alt="Teachers Pay Teachers" src="https://static1.teacherspayteachers.com/tpt-frontend/releases/production/current/logo.arduooz1ai.svg"/>\r\n                </a>\r\n                <div class="tpt1069-header-nav-left-catalog">\r\n                    <button>Catalog</button>\r\n                    <div class="tpt1069-header-nav-left-catalog-dropdown">\r\n                        <div class="tpt1069-header-nav-left-catalog-dropdown-column">\r\n                            <div class="tpt1069-header-nav-left-catalog-dropdown-column-header">Grades</div>\r\n                            <ul>\r\n                                <li>\r\n                                    <a href="/Browse/Grade-Level/Pre-K,Kindergarten">Pre K - K</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Grade-Level/First,Second">1 - 2</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Grade-Level/Third,Fourth,Fifth">3 - 5</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Grade-Level/Sixth,Seventh,Eighth">6 - 8</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Grade-Level/Ninth,Tenth,Eleventh,Twelfth">9 - 12</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <div class="tpt1069-header-nav-left-catalog-dropdown-column">\r\n                            <div class="tpt1069-header-nav-left-catalog-dropdown-column-header">Subject</div>\r\n                            <ul>\r\n                                <li>\r\n                                    <a href="/Browse/PreK-12-Subject-Area/Arts">Art & Music</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/PreK-12-Subject-Area/English-Language-Arts">English Language Arts</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/PreK-12-Subject-Area/World-Language">Foreign Language</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/PreK-12-Subject-Area/HolidaysSeasonal">Holiday / Seasonal</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/PreK-12-Subject-Area/Math">Math</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/PreK-12-Subject-Area/Science">Science</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/PreK-12-Subject-Area/Social-Studies-History">Social Studies + History</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/PreK-12-Subject-Area/Specialty">Specialty</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/PreK-12-Subject-Area/For-All-Subject-Areas">For all subject areas</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <div class="tpt1069-header-nav-left-catalog-dropdown-column">\r\n                            <div class="tpt1069-header-nav-left-catalog-dropdown-column-header">Price</div>\r\n                            <ul>\r\n                                <li>\r\n                                    <a href="/Browse/Price-Range/Free">Free</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Price-Range/Under-5">Under $5</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Price-Range/5-to-10">$5 - $10</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Price-Range/Above-10">$10 and up</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Price-Range/On-Sale">On Sale</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <div class="tpt1069-header-nav-left-catalog-dropdown-column">\r\n                            <div class="tpt1069-header-nav-left-catalog-dropdown-column-header">Resource Type</div>\r\n                            <ul>\r\n                                <li>\r\n                                    <a href="/Browse/Type-of-Resource/Independent-Work-Packet">Independent Work Packet</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Type-of-Resource/Worksheets">Worksheets</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Type-of-Resource/Lesson-Plans-Individual">Lesson Plans</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Type-of-Resource/Printables">Printable</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Type-of-Resource/Activities">Activities</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Type-of-Resource/Assessment">Assessment</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Type-of-Resource/Math-Centers">Math Centers</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Type-of-Resource/Literacy-Center-Ideas">Literacy Center Ideas</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Type-of-Resource/Projects">Projects</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <div class="tpt1069-header-nav-left-catalog-dropdown-column">\r\n                            <div class="tpt1069-header-nav-left-catalog-dropdown-column-header">Formats</div>\r\n                            <ul>\r\n                                <li>\r\n                                    <a href="/Browse/Format/All-Easel">Easel by TPT</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Format/All-Google">Google Apps</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Format/PDF">PDF</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Format/All-Microsoft">Microsoft</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Format/Images">Image</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Browse/Format/All-Interactive-Whiteboards">Interactive Whiteboards</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="tpt1069-header-nav-left-easel">\r\n                    <button>Easel by TPT</button>\r\n                    <div class="tpt1069-header-nav-left-easel-dropdown">\r\n                        <div class="tpt1069-header-nav-left-easel-dropdown-intro">\r\n                            <div class="tpt1069-header-nav-left-easel-dropdown-intro-header">Easel by TPT</div>\r\n                            <div class="tpt1069-header-nav-left-easel-dropdown-intro-content">Interactive resources you can assign in your digital classroom from TPT.</div>\r\n                            <a href="https://easel.teacherspayteachers.com/stats" class="tpt1069-header-nav-left-easel-dropdown-intro-link">\r\n                                <span>Top Easel Resources</span>\r\n                                <svg width="27" height="16" viewBox="0 0 27 16" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n                                    <path d="M26.7071 8.70711C27.0976 8.31658 27.0976 7.68342 26.7071 7.29289L20.3431 0.928932C19.9526 0.538408 19.3195 0.538408 18.9289 0.928932C18.5384 1.31946 18.5384 1.95262 18.9289 2.34315L24.5858 8L18.9289 13.6569C18.5384 14.0474 18.5384 14.6805 18.9289 15.0711C19.3195 15.4616 19.9526 15.4616 20.3431 15.0711L26.7071 8.70711ZM0 9H26V7H0V9Z" fill="#3B81FD"/>\r\n                                </svg>\r\n                            </a>\r\n                            <br/>\r\n                            <a href="https://easel.teacherspayteachers.com/import?sourceIdentifier=5903492" class="tpt1069-header-nav-left-easel-dropdown-intro-link2 tpt1069-hidden">\r\n                                <span>Try the interactive tutorial</span>\r\n                                <svg width="27" height="16" viewBox="0 0 27 16" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n                                    <path d="M26.7071 8.70711C27.0976 8.31658 27.0976 7.68342 26.7071 7.29289L20.3431 0.928932C19.9526 0.538408 19.3195 0.538408 18.9289 0.928932C18.5384 1.31946 18.5384 1.95262 18.9289 2.34315L24.5858 8L18.9289 13.6569C18.5384 14.0474 18.5384 14.6805 18.9289 15.0711C19.3195 15.4616 19.9526 15.4616 20.3431 15.0711L26.7071 8.70711ZM0 9H26V7H0V9Z" fill="#3B81FD"/>\r\n                                </svg>\r\n                            </a>\r\n                            <br/>\r\n                            <a target="_blank" href="/easel/learn-more" class="tpt1069-header-nav-left-easel-dropdown-intro-button">Learn About Easel</a>\r\n                        </div>\r\n                        <div class="tpt1069-header-nav-left-easel-dropdown-activities">\r\n                            <a href="/Browse/Format/Easel-Activity">\r\n                                <img alt="Easel activitie on a laptop" src="//cdn.optimizely.com/img/11000223989/7152d586c5714672a3b63214e289894e.png"/>\r\n                            </a>\r\n                            <a href="/Browse/Format/Easel-Activity">Easel Activities</a>\r\n                            <p>Pre-made digital activities. Add highlights, virtual manipulatives, and more.</p>\r\n                            <a href="/Browse/Format/Easel-Activity">\r\n                                <span>Browse Easel Activities</span>\r\n                                <svg width="27" height="16" viewBox="0 0 27 16" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n                                    <path d="M26.7071 8.70711C27.0976 8.31658 27.0976 7.68342 26.7071 7.29289L20.3431 0.928932C19.9526 0.538408 19.3195 0.538408 18.9289 0.928932C18.5384 1.31946 18.5384 1.95262 18.9289 2.34315L24.5858 8L18.9289 13.6569C18.5384 14.0474 18.5384 14.6805 18.9289 15.0711C19.3195 15.4616 19.9526 15.4616 20.3431 15.0711L26.7071 8.70711ZM0 9H26V7H0V9Z" fill="#3B81FD"/>\r\n                                </svg>\r\n                            </a>\r\n                        </div>\r\n                        <div class="tpt1069-header-nav-left-easel-dropdown-assessments">\r\n                            <a href="/Browse/Format/Easel-Assessment">\r\n                                <img alt="Easel assessment on a laptop" src="//cdn.optimizely.com/img/11000223989/9191c2851da44072985ca6f3d93a3ce7.png"/>\r\n                            </a>\r\n                            <a href="/Browse/Format/Easel-Assessment">Easel Assessments</a>\r\n                            <p>Self-grading quizzes and check-ins to quickly capture insights about student performance.</p>\r\n                            <a href="/Browse/Format/Easel-Assessment">\r\n                                <span>Browse Easel Assessments</span>\r\n                                <svg width="27" height="16" viewBox="0 0 27 16" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n                                    <path d="M26.7071 8.70711C27.0976 8.31658 27.0976 7.68342 26.7071 7.29289L20.3431 0.928932C19.9526 0.538408 19.3195 0.538408 18.9289 0.928932C18.5384 1.31946 18.5384 1.95262 18.9289 2.34315L24.5858 8L18.9289 13.6569C18.5384 14.0474 18.5384 14.6805 18.9289 15.0711C19.3195 15.4616 19.9526 15.4616 20.3431 15.0711L26.7071 8.70711ZM0 9H26V7H0V9Z" fill="#3B81FD"/>\r\n                                </svg>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="tpt1069-header-nav-right">\r\n                <div class="tpt1069-header-nav-right-tptsa">\r\n                    <button>\r\n                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">\r\n                            <path fill-rule="evenodd" clip-rule="evenodd" d="M11.0093 0H16.7551V3.27135H12.7122V4.56278L18.6943 8.94352H23.5V24.0001H0.5V8.94352H5.30515L11.0085 4.76689V0.550049H11.0093V0ZM11.9997 6.16114L17.0145 9.83352V22.2838H6.98492V9.83352L11.9997 6.16114ZM18.7182 10.6577V22.2859H21.7963V10.6577H18.7182ZM5.28122 22.2859V10.6577H2.2037V22.2859H5.28122Z" fill="#222222"/>\r\n                            <ellipse cx="12.0942" cy="13.5295" rx="2.14982" ry="2.13884" fill="#222222"/>\r\n                        </svg>\r\n                        <span>TPT School Access</span>\r\n                    </button>\r\n                    <div class="tpt1069-header-nav-right-tptsa-dropdown">\r\n                        <div class="tpt1069-header-nav-right-tptsa-dropdown-title">TPT SCHOOL ACCESS</div>\r\n                        <div class="tpt1069-header-nav-right-tptsa-dropdown-content">Get more resources with a school-funded subscription</div>\r\n                        <a target="_blank" href="/TpTSchoolAccess/Teachers">Learn More</a>\r\n                    </div>\r\n                </div>\r\n                <div class="tpt1069-header-nav-right-log-in-or-join">\r\n                    <a href="/Login">Log In</a>\r\n                    <span class="tpt1069-header-nav-right-log-in-or-join-divider">|</span>\r\n                    <a href="/Signup">Join</a>\r\n                </div>\r\n                <div class="tpt1069-header-nav-right-cart">\r\n                    <svg xmlns="http://www.w3.org/2000/svg" width="26" height="25" viewBox="0 0 26 25" fill="none">\r\n                        <path d="M0 1H4.78668L8.02107 17.1351H21.9929" stroke="#222222" stroke-width="2" fill="transparent"/>\r\n                        <ellipse cx="9.70209" cy="22.0251" rx="2.88666" ry="2.97533" fill="#222222"/>\r\n                        <ellipse cx="19.1064" cy="22.0251" rx="2.88666" ry="2.97533" fill="#222222"/>\r\n                        <path d="M7.0514 13.5485H20.929L23.9998 3.99219H5.2207" stroke="black" stroke-width="2" fill="transparent"/>\r\n                    </svg>\r\n                    <div class="tpt1069-header-nav-right-cart-count"></div>\r\n                </div>\r\n                <div class="tpt1069-header-nav-right-seller">\r\n                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\r\n                        <path fill-rule="evenodd" clip-rule="evenodd" d="M2.59365 0H21.3982L23.9512 7.56071L23.9628 7.64199C24.0027 7.92053 24.01 8.19819 23.9872 8.47009V23.9999H0.0487242V8.67133C0.0168489 8.45631 0 8.22881 0 7.98851V7.8445L2.59365 0ZM1.77546 8.16456V8.52193C1.88164 9.05678 2.14696 9.36755 2.42718 9.56581C2.83759 9.85619 3.35932 9.95361 3.69812 9.94495L3.70895 9.94467H3.71979C4.66012 9.94467 5.11936 9.39833 5.39076 8.78279C5.52916 8.4689 5.60106 8.16467 5.63783 7.9696C5.64686 7.9217 5.65371 7.88081 5.65908 7.84739L5.66164 7.83124C5.6655 7.80673 5.67161 7.76794 5.67582 7.74531C5.67743 7.73664 5.68226 7.71077 5.69012 7.67984C5.69367 7.66585 5.70265 7.63147 5.71813 7.58936C5.72587 7.56831 5.74041 7.53103 5.76329 7.48684C5.78104 7.45256 5.83109 7.35951 5.92554 7.26603C6.0158 7.1767 6.26743 6.97371 6.6425 7.025C6.99797 7.07361 7.18339 7.31526 7.24039 7.40008C7.30702 7.49924 7.3375 7.58896 7.34871 7.62389C7.36281 7.66782 7.37069 7.70416 7.37483 7.72517C7.38778 7.79099 7.39053 7.84678 7.39095 7.85534C7.39308 7.89461 7.39304 7.94956 7.393 7.9789L7.39299 7.98851C7.39299 9.06887 8.25311 9.94467 9.31412 9.94467C10.1279 9.94467 10.5992 9.39909 10.9117 8.69169C11.0625 8.3503 11.1477 8.0265 11.1981 7.82088L11.2092 7.77485L11.2093 7.7748C11.2176 7.74054 11.2263 7.70465 11.2329 7.67866C11.238 7.65872 11.2462 7.62729 11.2563 7.59462C11.2613 7.57841 11.2702 7.55096 11.2829 7.51891L11.2829 7.51891C11.2911 7.49809 11.3215 7.42099 11.3794 7.33652C11.4073 7.2958 11.475 7.20296 11.5914 7.11933C11.7174 7.02883 11.9585 6.91213 12.2644 6.97616C12.552 7.03635 12.7167 7.22014 12.7858 7.31514C12.8569 7.41293 12.8915 7.50325 12.9061 7.54494C12.9364 7.63135 12.9467 7.70403 12.9498 7.72616C12.9543 7.75859 12.9565 7.78629 12.9577 7.8038C12.9618 7.86381 12.962 7.9355 12.962 7.98851C12.962 8.39637 13.0956 8.92142 13.4178 9.32613C13.7136 9.69781 14.2186 10.0346 15.1257 10.0346C15.9615 10.0346 16.4105 9.44879 16.6819 8.67087C16.811 8.30104 16.8692 7.95871 16.8945 7.77618C16.9003 7.73414 16.9043 7.70135 16.9075 7.67485L16.9082 7.66919L16.9085 7.66702L16.9085 7.66694C16.9097 7.65715 16.9124 7.63483 16.9153 7.61536C16.9163 7.60881 16.9181 7.59663 16.9209 7.58182C16.9225 7.57285 16.9298 7.5333 16.9439 7.48611L16.9439 7.48607C16.9493 7.4681 16.9706 7.39659 17.0152 7.31485C17.043 7.26738 17.1305 7.15088 17.1943 7.08635C17.3172 6.99297 17.6716 6.86796 17.8957 6.87154C18.096 6.92717 18.3778 7.11668 18.464 7.21803C18.507 7.28297 18.5641 7.39553 18.5816 7.44063C18.6101 7.52022 18.6204 7.58608 18.6232 7.60377C18.6304 7.64992 18.6324 7.68746 18.6328 7.69655C18.6336 7.71123 18.6339 7.72392 18.6341 7.73065C18.6342 7.73766 18.6343 7.74437 18.6343 7.75022C18.6343 7.75577 18.6343 7.76055 18.6343 7.7641L18.6339 7.81715C18.6335 7.85624 18.6329 7.9121 18.6329 7.98851C18.6329 8.41146 18.7829 8.9173 19.0949 9.30225C19.3862 9.66153 19.8389 9.94467 20.5488 9.94467C21.4695 9.94467 22.1572 9.25635 22.2604 8.39693V8.16071L20.0916 1.82659H3.97537L1.77546 8.16456ZM3.73033 11.7029C3.2035 11.7145 2.46469 11.5992 1.77546 11.2187V22.2417H12.2411V13.2856H19.8564V22.2417H22.2604V11.252C21.7679 11.5371 21.1893 11.7029 20.5488 11.7029C19.3118 11.7029 18.3749 11.176 17.7632 10.4215L17.7418 10.3948C17.2323 11.1333 16.4138 11.7928 15.1257 11.7928C13.7259 11.7928 12.7173 11.2384 12.0763 10.4332C12.0425 10.3907 12.0099 10.3478 11.9784 10.3044C11.4496 11.0319 10.6097 11.7029 9.31412 11.7029C8.17305 11.7029 7.15435 11.1694 6.48544 10.3341C5.94671 11.0583 5.07995 11.6996 3.73033 11.7029ZM13.9679 22.2075V15.0439H18.1297V22.2075H13.9679Z" fill="#222222"/>\r\n                        <rect x="4.18823" y="14.165" width="5.41758" height="3.53749" stroke="#222222" stroke-width="2" fill="transparent"/>\r\n                    </svg>\r\n                    <div class="tpt1069-header-nav-right-seller-dropdown">\r\n                        <div class="tpt1069-header-nav-right-seller-dropdown-default">\r\n                            <ul>\r\n                                <li class="tpt1069-header-nav-right-seller-dropdown-focused">My Store</li>\r\n                                <li>\r\n                                    <a href="/Dashboard">Dashboard</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/My-Sales">Sales Reports</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/My-Products">Product Listings</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="https://easel.teacherspayteachers.com/listings/assessments">Easel Listings</a>\r\n                                    <div class="tpt1069-header-nav-right-seller-dropdown-new">NEW</div>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/My-Statistics">My Product Statistics</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a class="tpt1069-header-nav-right-seller-dropdown-store">My Store</a>\r\n                                </li>\r\n                            </ul>\r\n                            <ul>\r\n                                <li class="tpt1069-header-nav-right-seller-dropdown-focused">Grow your store</li>\r\n                                <li>\r\n                                    <a href="/Throw-a-Sale">Throw a Sale</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/My-Sponsored">Promote on TPT</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Newsletter-Promotion-Product">Newsletter</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/My-Account/Facebook-Pixel">Facebook Pixel</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/My-Account/Virtual-Assistants">Manage my VAs</a>\r\n                                    <div class="tpt1069-header-nav-right-seller-dropdown-new tpt1069-header-nav-right-seller-dropdown-new-2">NEW</div>\r\n                                </li>\r\n                            </ul>\r\n                            <ul>\r\n                                <li class="tpt1069-header-nav-right-seller-dropdown-focused">Communicate</li>\r\n                                <li>\r\n                                    <a href="/Note-To-Followers">New note to followers</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a class="tpt1069-header-nav-right-seller-dropdown-store-q-and-a">Store Q&A</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a class="tpt1069-header-nav-right-seller-dropdown-store-comments">Comments</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/forum/">Seller\'s Forum</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="tpt1069-header-nav-right-user">\r\n                    <div class="tpt1069-header-nav-right-user-bubble tpt1069-hidden"></div>\r\n                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">\r\n                        <path d="M23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12Z" stroke="#222222" stroke-width="2" fill="transparent"/>\r\n                        <ellipse cx="11.9996" cy="9.01525" rx="3.86388" ry="3.86388" fill="#222222"/>\r\n                        <path d="M12.0001 12.8799C8.91772 12.8799 6.41895 15.3787 6.41895 18.461H17.5813C17.5813 15.3787 15.0825 12.8799 12.0001 12.8799Z" fill="#222222"/>\r\n                    </svg>\r\n                    <div class="tpt1069-header-nav-right-user-dropdown">\r\n                        <div class="tpt1069-header-nav-right-user-dropdown-default">\r\n                            <ul>\r\n                                <li>\r\n                                    <a href="/My-Purchases">My Purchases</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="https://easel.teacherspayteachers.com/activities">My Easel Library</a>\r\n                                    <div class="tpt1069-header-nav-right-user-dropdown-new">NEW</div>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Wish-List">Wish List</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/gift-card">Gift Cards</a>\r\n                                </li>\r\n                            </ul>\r\n                            <ul class="tpt1069-header-nav-right-user-dropdown-focused">\r\n                                <li>\r\n                                    <a href="/TpTClassFund">TPT ClassFund</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/TpTSchoolAccess/Teachers">TPT School Access</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/My-School" class="tpt1069-header-nav-right-user-dropdown-default-my-school tpt1069-hidden">My School</a>\r\n                                </li>\r\n                            </ul>\r\n                            <ul class="tpt1069-header-nav-right-user-dropdown-focused">\r\n                                <li>\r\n                                    <a href="/My-Account/Upgrade/Basic">Become a Seller</a>\r\n                                </li>\r\n                            </ul>\r\n                            <ul>\r\n                                <li>\r\n                                    <a href="/Inbox">Inbox</a>\r\n                                    <div class="tpt1069-header-nav-right-user-dropdown-counter"></div>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Account-Balance">Account Balance</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/My-Account/Favorite_Sellers">My Favorite Sellers</a>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/Assistant-Dashboard">VA Dashboard</a>\r\n                                    <div class="tpt1069-header-nav-right-user-dropdown-new tpt1069-header-nav-right-user-dropdown-new-2">NEW</div>\r\n                                </li>\r\n                                <li>\r\n                                    <a href="/My-Account/Basics">My Account</a>\r\n                                </li>\r\n                                <li class="tpt1069-header-nav-right-user-dropdown-focused">\r\n                                    <a href="/Logout">Log Out</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class="tpt1069-header-search"></div>\r\n    </div>\r\n</div>');for(var i=0,l=[".".concat(e,"-header-nav-right-tptsa-dropdown a"),".".concat(e,"-header-nav-right-user-dropdown-focused a[href='/TpTSchoolAccess/Teachers']")];i<l.length;i++){var d=l[i],p=document.querySelector(d);p.setAttribute("href","".concat(p.getAttribute("href"),"?utm_source=marketplaceutm_medium=optimizely&utm_campaign=").concat(e).concat(t))}var u=r.parentElement.querySelector(".".concat(e,"-header"));a.waitForElement(".AdminToolbox--userWarning").then((function(t){document.body.insertAdjacentHTML("afterbegin",'\n          <div class="'.concat(e,'-admin-panel">\n            <div>').concat(t.textContent.replace(/Back to admin panel/,""),'</div>\n            <a href="https://www.teacherspayteachers.com/users/back_to_admin">Back to admin panel</a>\n          </div>\n        '))}))["catch"](s);var h=r.querySelector(".SearchAutosuggestBespoke");null===(n=u.querySelector(".".concat(e,"-header-search")))||void 0===n||n.appendChild(h);var v=h.querySelector("input"),f=h.querySelector("button"),w="Search";v.setAttribute("aria-label",w),v.setAttribute("placeholder",w),f.setAttribute("aria-label",w);var b=function(t,r,n){r.stopPropagation(),r.stopImmediatePropagation(),r.preventDefault();var a=c(t);""!==a&&(n?(window.sessionStorage.setItem("".concat(e,"-enter-redirect"),!0),window.sessionStorage.setItem("".concat(e,"-last-search"),v.value)):window.location.href="https://www.teacherspayteachers.com/Browse".concat(a))};f.addEventListener("click",(function(e){return b(v,e)})),v.addEventListener("keydown",(function(e){"Enter"===e.key&&"Enter"===e.code&&b(v,e)}));var g=u.querySelector(".".concat(e,"-header-nav-left-catalog"));g.querySelector("button").addEventListener("click",(function(){return g.classList.toggle("".concat(e,"-active"))}));var m=u.querySelector(".".concat(e,"-header-nav-left-easel"));m.querySelector("button").addEventListener("click",(function(){return m.classList.toggle("".concat(e,"-active"))})),a.waitUntil((function(){return window.sessionStorage.getItem("cro_matched_complete")})).then((function(){var t=document.querySelector(".".concat(e,"-header-nav-left-easel-dropdown-intro-button"));t.textContent="Go to Easel",t.setAttribute("href","https://easel.teacherspayteachers.com/"),a.waitForElement(".".concat(e,"-header-nav-left-easel-dropdown-intro-link2")).then((function(t){return t.classList.remove("".concat(e,"-hidden"))}))["catch"](s)}))["catch"](s);var y=u.querySelector(".".concat(e,"-header-nav-right-tptsa")),S=u.querySelector(".".concat(e,"-header-nav-right-cart"));S.addEventListener("click",(function(){S.classList.toggle("".concat(e,"-active"));var t=S.querySelector(".HeaderCartBespoke__content");if(t)t.remove();else{var n=r.querySelector(".HeaderCartBespoke__content").cloneNode(!0),a=n.querySelector(".HeaderCartBespoke__total");a.innerHTML=a.innerHTML.replace(":",""),S.appendChild(n)}}));var k=function(){var t=S.querySelector(".".concat(e,"-header-nav-right-cart-count")),n=r.querySelector(".HeaderCartBespoke__badgeCountText");n?(t.classList.remove("".concat(e,"-hidden")),t.textContent=n.textContent):t.classList.add("".concat(e,"-hidden"))};k(),a.observeSelector(".HeaderCartBespoke__badgeCountText, .HeaderCartBespoke__badgeIcon",(function(e){k(),new MutationObserver(k).observe(e,{"subtree":!0,"childList":!0,"characterData":!0})}));var L=u.querySelector(".".concat(e,"-header-nav-right-seller"));L.addEventListener("click",(function(){L.classList.toggle("".concat(e,"-active"))}));var C=r.querySelector(".SellerDropdownBespoke__content");if(C){var A=r.querySelector(".SellerDropdownBespoke__content .row > div:nth-child(2) [href^='/Store']").getAttribute("href");L.querySelector(".".concat(e,"-header-nav-right-seller-dropdown-store")).setAttribute("href",A),L.querySelector(".".concat(e,"-header-nav-right-seller-dropdown-store-q-and-a")).setAttribute("href",A+"#tab_ask_a_question"),L.querySelector(".".concat(e,"-header-nav-right-seller-dropdown-store-comments")).setAttribute("href",A+"#tab_ratings_feedback")}else L.classList.add("".concat(e,"-hidden"));var E=u.querySelector(".".concat(e,"-header-nav-right-user"));E.addEventListener("click",(function(){return E.classList.toggle("".concat(e,"-active"))}));var _=r.querySelector(".BuyerDropdownBespoke__content, .SellerDropdownBespoke__content");_?(u.querySelector(".".concat(e,"-header-nav-right-log-in-or-join")).classList.add("".concat(e,"-hidden")),C&&E.querySelector("a[href='/My-Account/Upgrade/Basic']").parentElement.parentElement.classList.add("".concat(e,"-hidden")),o("Dashboard available in control?",_.querySelector("a[href='/Assistant-Dashboard']")),_.querySelector("a[href='/Assistant-Dashboard']")||(o("Hiding link in variation"),u.querySelector(".".concat(e,"-header-nav-right-user-dropdown a[href='/Assistant-Dashboard']")).parentElement.classList.add("".concat(e,"-hidden")))):E.classList.add("".concat(e,"-hidden")),a.waitForElement(".HeaderLayout__link a[href='/My-School']").then((function(){return E.querySelector(".".concat(e,"-header-nav-right-user-dropdown-default-my-school")).classList.remove("".concat(e,"-hidden"))}))["catch"](s);var M,H=function(){var t=E.querySelector(".".concat(e,"-header-nav-right-user-dropdown-counter")),r=E.querySelector(".".concat(e,"-header-nav-right-user-bubble")),n=document.querySelector(".StorePostsUnreadCounter__counter");n?(t.classList.remove("".concat(e,"-hidden")),r.classList.remove("".concat(e,"-hidden")),t.textContent=n.textContent,r.textContent=n.textContent):(t.classList.add("".concat(e,"-hidden")),r.classList.add("".concat(e,"-hidden")))};H(),a.observeSelector(".StorePostsUnreadCounter__counter",(function(e){var t;H(),null===(t=M)||void 0===t||t.disconnect(),M=new MutationObserver(H).observe(e,{"subtree":!0,"childList":!0,"characterData":!0})}));var T=[g,m,y,S,L,E];if(document.body.addEventListener("click",(function(t){var r,n,a=_createForOfIteratorHelper(T);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.contains(t.target)||(o.classList.remove("".concat(e,"-active")),o===S&&(n=void 0,null===(n=S.querySelector(".HeaderCartBespoke__content"))||void 0===n||n.remove()))}}catch(e){a.e(e)}finally{a.f()}})),document.querySelector(".tpt-frontend .HeaderLayout"))try{document.querySelector(".legacy-content, #TptFrontend").classList.add("".concat(e,"-legacy-body")),document.querySelector(".".concat(e,"-wrapper")).classList.add("".concat(e,"-legacy-header"))}catch(e){}}}))["catch"](s)};r.applyTreatment=function(t,r){if(function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;n.classList.add(e),n.classList.add(e+t),o("Variation ".concat(t,", page ").concat(r))}(t,r),window.sessionStorage.getItem("".concat(e,"-enter-redirect"))){window.sessionStorage.removeItem("".concat(e,"-enter-redirect"));var n=JSON.parse(window.sessionStorage.getItem("".concat(e,"-filters")));window.location.assign("https://www.teacherspayteachers.com/Browse".concat(function(t){var r="",n=t.grades.join(",");""!==n&&(r+="/Grade-Level/".concat(n)),null!==t.subject&&(r+="/PreK-12-Subject-Area/".concat(t.subject)),null!==t.price&&(r+="/Price-Range/".concat(t.price));var a=window.sessionStorage.getItem("".concat(e,"-last-search"));return a&&(r+="/Search:".concat(a),window.sessionStorage.removeItem("".concat(e,"-last-search"))),r}(n)))}else{l(t),a.waitUntil((function(){var e;return null===(e=document.querySelector(".tpt-frontend"))||void 0===e?void 0:e._reactRootContainer})).then((function(){l(t),"v2"===t&&function(){var t;"/"===window.location.pathname&&a.waitForElement("[data-testid='MobileSearchMenu']").then((function(t){t.parentElement.nextElementSibling.classList.add("".concat(e,"-resize")),t.parentElement.remove()}))["catch"](s),a.waitForElement(".".concat(e,"-header-search")).then((function(t){var r=t.querySelector("form > div > input:first-child");r.setAttribute("placeholder","Search"),r.setAttribute("aria-label","Search"),t.querySelector("form").classList.add("".concat(e,"-new-inputs")),t.querySelector("form > div").insertAdjacentHTML("beforeend",'<div class="tpt1069-new-inputs-holder tpt1069-grade-holder">\r\n  <div class="tpt1069-new-inputs-divider"></div>\r\n  <input class="tpt1069-new-inputs-grade" type="search" autocomplete="off" aria-label="Grade" aria-owns="grade-dropdown" placeholder="Grade"/>\r\n  <div id="grade-dropdown" class="tpt1069-new-inputs-dropdown tpt1069-new-inputs-grade-dropdown">\r\n    <div class="tpt1069-new-inputs-dropdown-title">Grade</div>\r\n    <div class="tpt1069-new-inputs-grade-dropdown-holder">\r\n      <label search-value="Pre-K">\r\n        <input class="tpt1069-new-inputs-grade-dropdown-pre-k" type="checkbox"/>\r\n        <span>PreK</span>\r\n      </label>\r\n      <label search-value="Kindergarten">\r\n        <input class="tpt1069-new-inputs-grade-dropdown-k" type="checkbox"/>\r\n        <span>K</span>\r\n      </label>\r\n      <label search-value="First">\r\n        <input class="tpt1069-new-inputs-grade-dropdown-1st" type="checkbox"/>\r\n        <span>1st</span>\r\n      </label>\r\n      <label search-value="Second">\r\n        <input class="tpt1069-new-inputs-grade-dropdown-2nd" type="checkbox"/>\r\n        <span>2nd</span>\r\n      </label>\r\n      <label search-value="Third">\r\n        <input class="tpt1069-new-inputs-grade-dropdown-3th" type="checkbox"/>\r\n        <span>3rd</span>\r\n      </label>\r\n      <label search-value="Fourth">\r\n        <input class="tpt1069-new-inputs-grade-dropdown-4th" type="checkbox"/>\r\n        <span>4th</span>\r\n      </label>\r\n      <label search-value="Fifth">\r\n        <input class="tpt1069-new-inputs-grade-dropdown-5th" type="checkbox"/>\r\n        <span>5th</span>\r\n      </label>\r\n    </div>\r\n    <div class="tpt1069-new-inputs-grade-dropdown-holder">\r\n      <label search-value="Sixth">\r\n        <input class="tpt1069-new-inputs-grade-dropdown-6th" type="checkbox"/>\r\n        <span>6th</span>\r\n      </label>\r\n      <label search-value="Seventh">\r\n        <input class="tpt1069-new-inputs-grade-dropdown-7th" type="checkbox"/>\r\n        <span>7th</span>\r\n      </label>\r\n      <label search-value="Eighth">\r\n        <input class="tpt1069-new-inputs-grade-dropdown-8th" type="checkbox"/>\r\n        <span>8th</span>\r\n      </label>\r\n      <label search-value="Ninth">\r\n        <input class="tpt1069-new-inputs-grade-dropdown-9th" type="checkbox"/>\r\n        <span>9th</span>\r\n      </label>\r\n      <label search-value="Tenth">\r\n        <input class="tpt1069-new-inputs-grade-dropdown-10th" type="checkbox"/>\r\n        <span>10th</span>\r\n      </label>\r\n      <label search-value="Eleventh">\r\n        <input class="tpt1069-new-inputs-grade-dropdown-11th" type="checkbox"/>\r\n        <span>11th</span>\r\n      </label>\r\n      <label search-value="Twelfth">\r\n        <input class="tpt1069-new-inputs-grade-dropdown-12th" type="checkbox"/>\r\n        <span>12th</span>\r\n      </label>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class="tpt1069-new-inputs-holder tpt1069-subject-holder">\r\n  <div class="tpt1069-new-inputs-divider"></div>\r\n  <input class="tpt1069-new-inputs-subject" type="search" autocomplete="off" aria-label="Subject" aria-owns="subject-dropdown" placeholder="Subject"/>\r\n  <div id="subject-dropdown" class="tpt1069-new-inputs-dropdown tpt1069-new-inputs-subject-dropdown">\r\n    <div class="tpt1069-new-inputs-dropdown-title">Subject</div>\r\n    <label search-value="Arts">\r\n      <input class="tpt1069-new-inputs-subject-dropdown-arts-and-music" type="checkbox"/>\r\n      <span>Arts & Music</span>\r\n    </label>\r\n    <label search-value="English-Language-Arts">\r\n      <input class="tpt1069-new-inputs-subject-dropdown-english-language-arts" type="checkbox"/>\r\n      <span>English Language Arts</span>\r\n    </label>\r\n    <label search-value="World-Language">\r\n      <input class="tpt1069-new-inputs-subject-dropdown-foreign-language" type="checkbox"/>\r\n      <span>Foreign Language</span>\r\n    </label>\r\n    <label search-value="HolidaysSeasonal">\r\n      <input class="tpt1069-new-inputs-subject-dropdown-holiday-and-seasonal" type="checkbox"/>\r\n      <span>Holiday / Seasonal</span>\r\n    </label>\r\n    <label search-value="Math">\r\n      <input class="tpt1069-new-inputs-subject-dropdown-math" type="checkbox"/>\r\n      <span>Math</span>\r\n    </label>\r\n    <label search-value="Science">\r\n      <input class="tpt1069-new-inputs-subject-dropdown-science" type="checkbox"/>\r\n      <span>Science</span>\r\n    </label>\r\n    <label search-value="Social-Studies-History">\r\n      <input class="tpt1069-new-inputs-subject-dropdown-social-studies-and-history" type="checkbox"/>\r\n      <span>Social Studies + History</span>\r\n    </label>\r\n    <label search-value="Specialty">\r\n      <input class="tpt1069-new-inputs-subject-dropdown-specialty" type="checkbox"/>\r\n      <span>Specialty</span>\r\n    </label>\r\n  </div>\r\n</div>\r\n<div class="tpt1069-new-inputs-holder tpt1069-price-holder">\r\n  <div class="tpt1069-new-inputs-divider"></div>\r\n  <input class="tpt1069-new-inputs-price" type="search" autocomplete="off" aria-label="Price" aria-owns="price-dropdown" placeholder="Price"/>\r\n  <div id="price-dropdown" class="tpt1069-new-inputs-dropdown tpt1069-new-inputs-price-dropdown">\r\n    <div class="tpt1069-new-inputs-dropdown-title">Price</div>\r\n    <label search-value="Free">\r\n      <input class="tpt1069-new-inputs-price-dropdown-free" type="checkbox"/>\r\n      <span>Free</span>\r\n    </label>\r\n    <label search-value="Under-5">\r\n      <input class="tpt1069-new-inputs-price-dropdown-under-5" type="checkbox"/>\r\n      <span>Under $5</span>\r\n    </label>\r\n    <label search-value="5-to-10">\r\n      <input class="tpt1069-new-inputs-price-dropdown-5-10" type="checkbox"/>\r\n      <span>$5 - $10</span>\r\n    </label>\r\n    <label search-value="Above-10">\r\n      <input class="tpt1069-new-inputs-price-dropdown-10-and-up" type="checkbox"/>\r\n      <span>$10 and up</span>\r\n    </label>\r\n    <label search-value="On-Sale">\r\n      <input class="tpt1069-new-inputs-price-dropdown-on-sale" type="checkbox"/>\r\n      <span>On Sale</span>\r\n    </label>\r\n  </div>\r\n</div>')}))["catch"](s),window.location.pathname.includes("/Browse")||sessionStorage.removeItem("".concat(e,"-filters"));for(var r=null!==(t=JSON.parse(sessionStorage.getItem("".concat(e,"-filters"))))&&void 0!==t?t:{"grades":[],"subject":null,"price":null},n=0,o=[].concat(_toConsumableArray(r.grades),[r.subject,r.price]);n<o.length;n++){var i=o[n];i&&a.waitForElement(".".concat(e,'-new-inputs-holder label[search-value="').concat(i,'"] input')).then((function(e){return e.click()}))["catch"](s)}var c={"grade":"[data-testid='SpecificGradesMenuLayout__mainGradeColumn'] input","subject":".MobileSearchMenu__menu .SearchMenuSubjectAreaLayout input","price":".MobileSearchMenu__menu .SearchMenuSubjectAreaLayout + .FilterMenuLayout input"},l=function(){window.setTimeout((function(){var t,r,n=_createForOfIteratorHelper(document.querySelectorAll(".".concat(e,"-new-inputs-dropdown label input:checked")));try{for(n.s();!(r=n.n()).done;)r.value.click()}catch(e){n.e(e)}finally{n.f()}var a=function(t){switch(t){case"Holidays/Seasonal":t="Holiday / Seasonal";break;case"Social Studies - History":t="Social Studies + History"}var r,n=_createForOfIteratorHelper(document.querySelectorAll(".".concat(e,"-new-inputs-dropdown label span")));try{for(n.s();!(r=n.n()).done;){var a=r.value;a.textContent===t&&a.previousElementSibling.click()}}catch(e){n.e(e)}finally{n.f()}};if(0===(null===(t=document.querySelector(".SpecificGradesMenuLayout__mainGrades"))||void 0===t?void 0:t.children.length)){var o,s=_createForOfIteratorHelper(document.querySelectorAll(".SearchBreadcrumbsGradesContainer__grades a span:first-child"));try{for(s.s();!(o=s.n()).done;)a(o.value.textContent)}catch(e){s.e(e)}finally{s.f()}}for(var i in c){var l,d=_createForOfIteratorHelper(document.querySelectorAll("".concat(c[i],":checked")));try{for(d.s();!(l=d.n()).done;)a(l.value.nextElementSibling.textContent)}catch(e){d.e(e)}finally{d.f()}}var p,u=_createForOfIteratorHelper(document.querySelectorAll(".SearchBreadcrumbsFacetSection__title"));try{for(u.s();!(p=u.n()).done;){var h=p.value;"Subjects"===h.textContent&&a(h.parentElement.querySelector("a").textContent)}}catch(e){u.e(e)}finally{u.f()}}),0)};for(var d in c){var p,u=_createForOfIteratorHelper(document.querySelectorAll(c[d]));try{for(u.s();!(p=u.n()).done;)p.value.parentElement.addEventListener("click",l)}catch(e){u.e(e)}finally{u.f()}}a.observeSelector(".MobileSearchMenu .SearchBreadcrumbsBox",(function(e){l(),new MutationObserver(l).observe(e,{"childList":!0,"subtree":!0})})),a.observeSelector("[data-testid='MobileSearchMenu']",(function(e){new MutationObserver((function(e){var t,r=_createForOfIteratorHelper(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.removedNodes){var a,o=_createForOfIteratorHelper(n.removedNodes);try{for(o.s();!(a=o.n()).done;)a.value.classList.contains("SearchBreadcrumbsBox")&&l()}catch(e){o.e(e)}finally{o.f()}}}}catch(e){r.e(e)}finally{r.f()}})).observe(e,{"childList":!0,"subtree":!0})}));for(var h=["grade","subject","price"],v=0,f=h;v<f.length;v++){var w=f[v];a.waitForElement(".".concat(e,"-new-inputs-").concat(w)).then((function(t){return t.addEventListener("click",(function(){return t.nextElementSibling.classList.add("".concat(e,"-active"))}))}))["catch"](s)}a.observeSelector(".".concat(e,"-grade-holder label"),(function(t){var n=t.parentElement.parentElement,a=n.parentElement.querySelector("input");t.addEventListener("click",(function(){r.grades=[];var t,o=[],s=_createForOfIteratorHelper(n.querySelectorAll("input:checked"));try{for(s.s();!(t=s.n()).done;){var i=t.value,c=i.parentElement.getAttribute("search-value");r.grades.push(c),o.push({"text":i.nextElementSibling.textContent,"search":c})}}catch(e){s.e(e)}finally{s.f()}sessionStorage.setItem("".concat(e,"-filters"),JSON.stringify(r)),a.setAttribute("search-value",o.map((function(e){return e.search})).join(","));var l=!1;o.length>3&&(l=!0,o.length=3);var d=o.map((function(e){return e.text})).join(", ");l&&(d+="..."),a.value=d}))}));var b=function(t){var r;t.classList.remove("".concat(e,"-active")),null===(r=t.querySelector(".".concat(e,"-active")))||void 0===r||r.classList.remove("".concat(e,"-active"));var n,a=_createForOfIteratorHelper(t.querySelectorAll("input:checked"));try{for(a.s();!(n=a.n()).done;)n.value.checked=!1}catch(e){a.e(e)}finally{a.f()}};a.observeSelector(".".concat(e,"-subject-holder label, .").concat(e,"-price-holder label"),(function(t){t.addEventListener("click",(function(n){"SPAN"===n.target.nodeName&&(n.preventDefault(),n.stopPropagation());var a=t.parentElement,o=a.parentElement.querySelector("input"),s=a.className.includes("subject")?"subject":"price";if(t.classList.contains("".concat(e,"-active")))return o.value="",o.setAttribute("search-value",""),r[s]=null,sessionStorage.setItem("".concat(e,"-filters"),JSON.stringify(r)),void b(a);b(a),t.classList.add("".concat(e,"-active")),t.querySelector("input").checked=!0,o.value=t.querySelector("span").textContent;var i=t.getAttribute("search-value");o.setAttribute("search-value",i),r[s]=i,sessionStorage.setItem("".concat(e,"-filters"),JSON.stringify(r))}))})),document.body.addEventListener("click",(function(t){var r,n=_createForOfIteratorHelper(h);try{for(n.s();!(r=n.n()).done;){var a=r.value,o=document.querySelector(".".concat(e,"-").concat(a,"-holder"));o.contains(t.target)||o.querySelector("#".concat(a,"-dropdown")).classList.remove("".concat(e,"-active"))}}catch(e){n.e(e)}finally{n.f()}}));var g="4"===a.cookie.get("TPT-GROUP");a.waitForElement(".CardRowLayout").then((function(e){window.setTimeout((function(){return e.insertAdjacentHTML("beforebegin",'<div class="tpt1069-module-top">\r\n  <div class="tpt1069-module-top-left">\r\n    <div class="tpt1069-module-top-left-title">TPT School Access</div>\r\n    <div class="tpt1069-module-top-left-header">Get more TPT, with one school-funded subscription.</div>\r\n    <div class="tpt1069-module-top-left-subhead">Support every learning moment with millions of resources and easy-to-use digital tools.</div>\r\n    <a target="_blank" href="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplaceutm_medium=optimizely&utm_campaign=tpt1069v2">Refer Your Principal</a>\r\n  </div>\r\n  <div class="tpt1069-module-top-right">\r\n    <img src="//cdn.optimizely.com/img/11000223989/342b275a3f2945d197bcd6f87d39b484.png" alt="TPT School Access. Pictured: scattered assignments, crayons, colored pencils, and various other school supplies.">\r\n  </div>\r\n</div>')}),0)}))["catch"](s);var m=g?".ResourcesYouMayLikeLayout":".ExploreResourcesLayout .CardRowLayout:nth-child(2), .TpTDAEnabledResourcesLayout";a.waitForElement(m).then((function(e){return e.insertAdjacentHTML("beforebegin",'<div class="tpt1069-module-middle">\r\n  <div class="tpt1069-module-middle-left">\r\n    <div class="tpt1069-module-middle-left-title">Easel by TPT</div>\r\n    <div class="tpt1069-module-middle-left-header">Engage students with classroom-ready digital resources.</div>\r\n    <div class="tpt1069-module-middle-left-subhead">Assign engaging and interactive lessons in minutes.</div>\r\n    <a target="_blank" href="https://www.easelbytpt.com">Learn More</a>\r\n  </div>\r\n  <div class="tpt1069-module-middle-right">\r\n    <img src="//cdn.optimizely.com/img/11000223989/a8aec97be191410aba118df2198b83eb.png" alt="Easel by TPT. Pircutred: rows of students working on laptops, various abstract digital graphics.">\r\n  </div>\r\n</div>')}))["catch"](s),a.waitForElement(".ExploreResourcesLayout .CardRowLayout:nth-child(3), .NewFromYourFavoriteTeacherAuthorsLayout, .TpTDAEnabledResourcesLayout + div").then((function(t){var r=t.previousElementSibling.classList.contains("TpTDAEnabledResourcesLayout");t.insertAdjacentHTML(r?"afterend":"beforebegin",'<div class="tpt1069-module-bottom">\r\n  <div class="tpt1069-module-bottom-bg"></div>\r\n  <div class="tpt1069-module-bottom-header">Millions of teachers\' experience at your fingertips.</div>\r\n  <ul class="tpt1069-module-bottom-stats">\r\n    <li>\r\n      <div>7M+</div>\r\n      <div>teachers<br>worldwide</div>\r\n    </li>\r\n    <li>\r\n      <div>85%</div>\r\n      <div>of educators in the<br>U.S.</div>\r\n    </li>\r\n    <li>\r\n      <div>5M+</div>\r\n      <div>teacher-created<br>lessons</div>\r\n    </li>\r\n    <li>\r\n      <div>1B+</div>\r\n      <div>resources<br>downloaded</div>\r\n    </li>\r\n  </ul>\r\n  <a target="_blank" href="https://www.teacherspayteachers.com/Educators">Discover Our Community</a>\r\n</div>'),a.waitUntil((function(){return window.sessionStorage.getItem("cro_matched_complete")})).then((function(){return document.querySelector(".".concat(e,"-module-bottom a")).textContent="Learn More"}))["catch"](s)}))["catch"](s)}(),window.setTimeout((function(){return window.dispatchEvent(new Event("resize"),0)}))}))["catch"](s),i(_defineProperty({},"".concat(e,"-logged-out-users"),!0)),a.waitUntil((function(){return window.sessionStorage.getItem("cro_matched_complete")})).then((function(){var t;i((_defineProperty(t={},"".concat(e,"-logged-out-users"),!1),_defineProperty(t,"".concat(e,"-logged-in-users"),!0),t))}))["catch"](s);var c=window.innerWidth;window.addEventListener("resize",(function(){var t=window.innerWidth,r=document.querySelector(".".concat(e,"-header")),n=document.querySelector(".tpt-frontend > div > div > .responsive, .tpt-frontend .HeaderLayout");if(t>=980){if(r){r.classList.remove("".concat(e,"-hidden"));var a,o=n.querySelector(".SearchAutosuggestBespoke");if(o)null===(a=r.querySelector(".".concat(e,"-header-search")))||void 0===a||a.appendChild(o);var s,l=_createForOfIteratorHelper(document.querySelectorAll(".".concat(e,"-new-inputs-holder")));try{for(l.s();!(s=l.n()).done;){s.value.classList.remove("".concat(e,"-hidden"))}}catch(e){l.e(e)}finally{l.f()}var d,p=_createForOfIteratorHelper(document.querySelectorAll(".".concat(e,"-module-top, .").concat(e,"-module-middle, .").concat(e,"-module-bottom")));try{for(p.s();!(d=p.n()).done;){d.value.classList.remove("".concat(e,"-hidden"))}}catch(e){p.e(e)}finally{p.f()}}null==n||n.classList.add("".concat(e,"-hidden")),c<980&&i({"tpt968-resized-below-980px-then-back-up":!0})}else{if(r){r.classList.add("".concat(e,"-hidden"));var u,h=r.querySelector(".SearchAutosuggestBespoke");if(h)null===(u=n.querySelector(".SecondaryHeaderLayout > div:nth-child(2)"))||void 0===u||u.appendChild(h);var v,f=_createForOfIteratorHelper(document.querySelectorAll(".".concat(e,"-new-inputs-holder")));try{for(f.s();!(v=f.n()).done;){v.value.classList.add("".concat(e,"-hidden"))}}catch(e){f.e(e)}finally{f.f()}var w,b=_createForOfIteratorHelper(document.querySelectorAll(".".concat(e,"-module-top, .").concat(e,"-module-middle, .").concat(e,"-module-bottom")));try{for(b.s();!(w=b.n()).done;){w.value.classList.add("".concat(e,"-hidden"))}}catch(e){b.e(e)}finally{b.f()}}null==n||n.classList.remove("".concat(e,"-hidden")),c>=980&&i({"tpt968-resized-below-980px":!0})}c=t})),window.setTimeout((function(){return window.dispatchEvent(new Event("resize"),0)}))}}}("tpt1069");
//# sourceMappingURL=shared.js.map
}}, {"value": "<style>.tpt1069-admin-panel{position:fixed;font-family:\"Proxima Nova\";padding:10px;left:calc(50% - 100px);width:200px;text-align:center;background-color:#fffce7;border:1px solid #e2dba5;border-radius:8px;z-index:50000}.tpt1069-admin-panel>div{margin-bottom:10px}.tpt1069-admin-panel a{color:#067c64;text-decoration:none}.tpt1069-admin-panel a:hover{text-decoration:underline}.tpt1069v2 .tpt754-box,.tpt1069v2 .TpTSABannerLayout,.tpt1069v2 .tpt1127-banner{display:none !important}.tpt1069-wrapper{width:100%;margin-bottom:24px}.tpt1069-header{color:#222222;font-size:16px !important;padding:0 0 30px !important;border-bottom:1px solid #DDDDDD !important;max-width:1168px !important;margin:16px auto !important}.tpt1069-header span,.tpt1069-header button{font:inherit;font-size:inherit;line-height:19px !important}.tpt1069-header-nav{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;max-width:1144px !important;margin:auto !important}.tpt1069-header-nav-left{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.tpt1069-header-nav-left>a{margin-right:36px !important}.tpt1069-header-nav-left>a img{width:255px;height:40px}.tpt1069-header-nav-left-catalog,.tpt1069-header-nav-left-easel{cursor:pointer;border-radius:999px;position:relative;margin-top:4px !important}.tpt1069-header-nav-left-catalog:hover,.tpt1069-header-nav-left-easel:hover{background:rgba(0,0,0,0.0392157)}.tpt1069-header-nav-left-catalog:active,.tpt1069-header-nav-left-easel:active{background:rgba(0,0,0,0.0901961)}.tpt1069-header-nav-left-catalog.tpt1069-active,.tpt1069-header-nav-left-easel.tpt1069-active{background:#C3F3DC}.tpt1069-header-nav-left-catalog-dropdown,.tpt1069-header-nav-left-easel-dropdown{position:absolute;display:none;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:auto;background-color:white;border-radius:4px;-webkit-box-shadow:0px 1px 7px rgba(0,0,0,0.2);box-shadow:0px 1px 7px rgba(0,0,0,0.2);white-space:nowrap;z-index:301;width:1000px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:32px !important;top:100%}.tpt1069-header-nav-left-catalog.tpt1069-active .tpt1069-header-nav-left-catalog-dropdown,.tpt1069-header-nav-left-easel.tpt1069-active .tpt1069-header-nav-left-catalog-dropdown,.tpt1069-header-nav-left-catalog.tpt1069-active .tpt1069-header-nav-left-easel-dropdown,.tpt1069-header-nav-left-easel.tpt1069-active .tpt1069-header-nav-left-easel-dropdown{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.tpt1069-header-nav-left-catalog button,.tpt1069-header-nav-left-easel button{font-weight:600 !important;padding:11.5px 24px !important}.tpt1069-header-nav-left-catalog-dropdown{left:calc(-318px + ((100vw - 1000px) / 2))}.tpt1069-header-nav-left-catalog-dropdown-column{width:auto}.tpt1069-header-nav-left-catalog-dropdown-column+*{margin-left:32px !important}.tpt1069-header-nav-left-catalog-dropdown-column-header{font-weight:bold;line-height:120% !important;margin:0 0 16px 16px !important}.tpt1069-header-nav-left-catalog-dropdown-column ul{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;list-style-type:none;padding:0 !important}.tpt1069-header-nav-left-catalog-dropdown-column ul li a{display:-webkit-box !important;display:-webkit-flex !important;display:-moz-box !important;display:-ms-flexbox !important;display:flex !important;-webkit-box-pack:center !important;-webkit-justify-content:center !important;-moz-box-pack:center !important;-ms-flex-pack:center !important;justify-content:center !important;-webkit-box-align:center !important;-webkit-align-items:center !important;-moz-box-align:center !important;-ms-flex-align:center !important;align-items:center !important;cursor:pointer;border-radius:999px;line-height:120% !important;padding:8px 16px !important}.tpt1069-header-nav-left-catalog-dropdown-column ul li a:hover{background:rgba(0,0,0,0.0392157)}.tpt1069-header-nav-left-catalog-dropdown-column ul li a:active{background:rgba(0,0,0,0.0901961)}.tpt1069-header-nav-left-easel-dropdown{display:none;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;left:calc(-420px + ((100vw - 1000px) / 2))}.tpt1069-header-nav-left-easel-dropdown-intro-header{font-size:14px !important;line-height:130% !important;letter-spacing:0.03em;text-transform:uppercase;font-weight:600}.tpt1069-header-nav-left-easel-dropdown-intro-content{font-weight:600;font-size:26px !important;line-height:30px !important;white-space:normal;width:368px;margin:16px 32px 20px 0 !important}.tpt1069-header-nav-left-easel-dropdown-intro a{display:inline-block}.tpt1069-header-nav-left-easel-dropdown-intro-link,.tpt1069-header-nav-left-easel-dropdown-intro-link2{color:#3B81FD !important;font-size:16px !important;line-height:34px !important;letter-spacing:0.01em}.tpt1069-header-nav-left-easel-dropdown-intro-link:hover,.tpt1069-header-nav-left-easel-dropdown-intro-link2:hover{text-decoration:underline !important}.tpt1069-header-nav-left-easel-dropdown-intro-link svg,.tpt1069-header-nav-left-easel-dropdown-intro-link2 svg{margin-left:4px}.tpt1069-header-nav-left-easel-dropdown-intro-link2{margin-bottom:16px !important}.tpt1069-header-nav-left-easel-dropdown-intro-button{color:#173E3E !important;background-color:#67E0A6 !important;font-weight:600;border-radius:999px;padding:15px 24px !important}.tpt1069-header-nav-left-easel-dropdown-intro-button:hover{background-color:#42CD8A !important}.tpt1069-header-nav-left-easel-dropdown-intro-button:active{background-color:#3FBC88 !important}.tpt1069-header-nav-left-easel-dropdown-activities,.tpt1069-header-nav-left-easel-dropdown-assessments{width:230px}.tpt1069-header-nav-left-easel-dropdown-activities img,.tpt1069-header-nav-left-easel-dropdown-assessments img{width:230px;height:156px}.tpt1069-header-nav-left-easel-dropdown-activities a,.tpt1069-header-nav-left-easel-dropdown-assessments a{display:inline-block;font-size:16px !important;font-weight:600 !important;margin:16px 0 8px !important}.tpt1069-header-nav-left-easel-dropdown-activities a:hover,.tpt1069-header-nav-left-easel-dropdown-assessments a:hover{text-decoration:underline !important}.tpt1069-header-nav-left-easel-dropdown-activities a:first-child,.tpt1069-header-nav-left-easel-dropdown-assessments a:first-child{display:block}.tpt1069-header-nav-left-easel-dropdown-activities a:last-child,.tpt1069-header-nav-left-easel-dropdown-assessments a:last-child{font-weight:400 !important;color:#3B81FD !important;font-size:16px !important;line-height:34px !important;letter-spacing:0.01em}.tpt1069-header-nav-left-easel-dropdown-activities a:last-child svg,.tpt1069-header-nav-left-easel-dropdown-assessments a:last-child svg{margin-left:4px}.tpt1069-header-nav-left-easel-dropdown-activities p,.tpt1069-header-nav-left-easel-dropdown-assessments p{white-space:normal}.tpt1069-header-nav-left-easel-dropdown-activities{margin-right:48px !important}.tpt1069-header-nav-right{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin-bottom:-10px !important}.tpt1069-header-nav-right-tptsa,.tpt1069-header-nav-right-cart,.tpt1069-header-nav-right-seller,.tpt1069-header-nav-right-user{cursor:pointer;border-radius:999px}.tpt1069-header-nav-right-tptsa:hover,.tpt1069-header-nav-right-cart:hover,.tpt1069-header-nav-right-seller:hover,.tpt1069-header-nav-right-user:hover{background:rgba(0,0,0,0.0392157)}.tpt1069-header-nav-right-tptsa:active,.tpt1069-header-nav-right-cart:active,.tpt1069-header-nav-right-seller:active,.tpt1069-header-nav-right-user:active{background:rgba(0,0,0,0.0901961)}.tpt1069-header-nav-right-tptsa.tpt1069-active,.tpt1069-header-nav-right-cart.tpt1069-active,.tpt1069-header-nav-right-seller.tpt1069-active,.tpt1069-header-nav-right-user.tpt1069-active{background:#C3F3DC}.tpt1069-header-nav-right-tptsa{display:-webkit-box !important;display:-webkit-flex !important;display:-moz-box !important;display:-ms-flexbox !important;display:flex !important;-webkit-box-pack:center !important;-webkit-justify-content:center !important;-moz-box-pack:center !important;-ms-flex-pack:center !important;justify-content:center !important;-webkit-box-align:center !important;-webkit-align-items:center !important;-moz-box-align:center !important;-ms-flex-align:center !important;align-items:center !important;position:relative;font-weight:600 !important}.tpt1069-header-nav-right-tptsa>button{padding:2.5px 8px !important;width:218px;height:40px}.tpt1069-header-nav-right-tptsa>button span{font-weight:600 !important}.tpt1069-header-nav-right-tptsa svg{margin-right:8px !important;width:24px;height:24px}.tpt1069-header-nav-right-tptsa-dropdown{display:none;position:absolute;cursor:auto;background-color:white;-webkit-box-shadow:0 1px 7px rgba(0,0,0,0.2);box-shadow:0 1px 7px rgba(0,0,0,0.2);border-radius:4px;z-index:302;width:473px;padding:36px !important;top:100%;right:0}.tpt1069-header-nav-right-tptsa-dropdown-title{font-size:14px !important;line-height:130% !important;letter-spacing:0.03em}.tpt1069-header-nav-right-tptsa-dropdown-content{font-size:26px !important;line-height:30px !important;margin:16px 0 24px !important}.tpt1069-header-nav-right-tptsa-dropdown a{color:#173E3E !important;background-color:#67E0A6 !important;display:inline-block;border-radius:999px;font-size:16px !important;line-height:120% !important;padding:15px 24px !important}.tpt1069-header-nav-right-tptsa-dropdown a:hover{background-color:#42CD8A !important}.tpt1069-header-nav-right-tptsa-dropdown a:active{background-color:#3FBC88 !important}.tpt1069-header-nav-right-tptsa:hover{background:#C3F3DC}.tpt1069-header-nav-right-tptsa:hover .tpt1069-header-nav-right-tptsa-dropdown{display:block}.tpt1069-header-nav-right-log-in-or-join{font-weight:bold;margin:0 16px !important}.tpt1069-header-nav-right-log-in-or-join a:hover{text-decoration:underline}.tpt1069-header-nav-right-log-in-or-join-divider{margin:0 5px !important}.tpt1069-header-nav-right-cart,.tpt1069-header-nav-right-seller,.tpt1069-header-nav-right-user{display:-webkit-box !important;display:-webkit-flex !important;display:-moz-box !important;display:-ms-flexbox !important;display:flex !important;-webkit-box-pack:center !important;-webkit-justify-content:center !important;-moz-box-pack:center !important;-ms-flex-pack:center !important;justify-content:center !important;-webkit-box-align:center !important;-webkit-align-items:center !important;-moz-box-align:center !important;-ms-flex-align:center !important;align-items:center !important;position:relative;width:48px !important;height:48px !important}.tpt1069-header-nav-right-cart{position:relative;padding:11.5px 11px !important;margin-right:8px !important}.tpt1069-header-nav-right-cart-count{position:absolute;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:13px !important;color:#173E3E;font-weight:600;background-color:#5DD89D;border-radius:50%;top:2px;right:0px;width:20px;height:20px}.tpt1069-header-nav-right-cart .HeaderCartBespoke__content{display:block !important;top:40px !important;right:8px !important;cursor:auto}.tpt1069-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__items .MenuItem:hover{background-color:transparent !important}.tpt1069-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__items .MenuItem:hover .HeaderCartBespoke__itemName{text-decoration:underline}.tpt1069-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__itemName,.tpt1069-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__itemPrice{margin:0 !important}.tpt1069-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__itemName,.tpt1069-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__itemPrice span{font-size:16px !important}.tpt1069-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__itemName{color:#173E3E !important}.tpt1069-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__viewCart{color:#173E3E !important;background-color:#67E0A6 !important;font-size:13px !important;line-height:137.5% !important;font-weight:700;border-radius:999px !important;border:none !important;-webkit-transition:none !important;-o-transition:none !important;transition:none !important;padding:7px 16px !important}.tpt1069-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__viewCart:hover{background-color:#42CD8A !important}.tpt1069-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__viewCart:active{background-color:#3FBC88 !important}.tpt1069-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__footer{display:-webkit-box !important;display:-webkit-flex !important;display:-moz-box !important;display:-ms-flexbox !important;display:flex !important;-webkit-box-align:center !important;-webkit-align-items:center !important;-moz-box-align:center !important;-ms-flex-align:center !important;align-items:center !important}.tpt1069-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__footer>span{margin-top:2px !important}.tpt1069-header-nav-right-cart .HeaderCartBespoke__content .HeaderCartBespoke__footer a:last-child{margin-left:auto !important}.tpt1069-header-nav-right-seller,.tpt1069-header-nav-right-user{position:relative;padding:12px !important}.tpt1069-header-nav-right-seller-bubble,.tpt1069-header-nav-right-user-bubble{position:absolute;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:13px !important;line-height:14px !important;color:#173E3E;font-weight:600;background-color:#5DD89D;border-radius:50%;width:20px;height:20px;right:0px;top:2px}.tpt1069-header-nav-right-seller-dropdown,.tpt1069-header-nav-right-user-dropdown{display:none;position:absolute;cursor:auto;background-color:white;border-radius:4px;-webkit-box-shadow:0px 1px 7px rgba(0,0,0,0.2);box-shadow:0px 1px 7px rgba(0,0,0,0.2);white-space:nowrap;z-index:301;width:180px;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;right:10px;top:40px}.tpt1069-header-nav-right-seller-dropdown-default ul,.tpt1069-header-nav-right-user-dropdown-default ul{padding:8px 0 !important}.tpt1069-header-nav-right-seller-dropdown-default ul+ul,.tpt1069-header-nav-right-user-dropdown-default ul+ul{border-top:1px solid #D9D9D9}.tpt1069-header-nav-right-seller-dropdown-default li,.tpt1069-header-nav-right-user-dropdown-default li{cursor:pointer;border-radius:999px;position:relative;border-radius:0}.tpt1069-header-nav-right-seller-dropdown-default li:hover,.tpt1069-header-nav-right-user-dropdown-default li:hover{background:rgba(0,0,0,0.0392157)}.tpt1069-header-nav-right-seller-dropdown-default li:active,.tpt1069-header-nav-right-user-dropdown-default li:active{background:rgba(0,0,0,0.0901961)}.tpt1069-header-nav-right-seller-dropdown-default li+li,.tpt1069-header-nav-right-user-dropdown-default li+li{margin-top:4px}.tpt1069-header-nav-right-seller-dropdown-default li a,.tpt1069-header-nav-right-user-dropdown-default li a{display:block;font-size:16px;font-weight:inherit;padding:4px 16px !important}.tpt1069-header-nav-right-seller-dropdown-is-seller,.tpt1069-header-nav-right-user-dropdown-is-seller{top:4px !important}.tpt1069-header-nav-right-seller-dropdown .SellerDropdownBespoke,.tpt1069-header-nav-right-user-dropdown .SellerDropdownBespoke{font-size:14px !important}.tpt1069-header-nav-right-seller-dropdown .SellerDropdownBespoke--hidden,.tpt1069-header-nav-right-user-dropdown .SellerDropdownBespoke--hidden{display:block !important}.tpt1069-header-nav-right-seller-dropdown .SellerDropdownBespoke .row,.tpt1069-header-nav-right-user-dropdown .SellerDropdownBespoke .row{display:-webkit-box !important;display:-webkit-flex !important;display:-moz-box !important;display:-ms-flexbox !important;display:flex !important}.tpt1069-header-nav-right-seller-dropdown .SellerDropdownBespoke .MenuItem,.tpt1069-header-nav-right-user-dropdown .SellerDropdownBespoke .MenuItem{padding:4px !important}.tpt1069-header-nav-right-seller-dropdown .SellerDropdownBespoke .col-xs-4,.tpt1069-header-nav-right-user-dropdown .SellerDropdownBespoke .col-xs-4{width:33.3333%;padding:0 5px !important}.tpt1069-header-nav-right-seller-dropdown .SellerDropdownBespoke .LinkButton__label,.tpt1069-header-nav-right-user-dropdown .SellerDropdownBespoke .LinkButton__label{line-height:initial !important;font-size:13px !important;font-weight:600 !important}.tpt1069-header-nav-right-seller-dropdown-new,.tpt1069-header-nav-right-user-dropdown-new{position:absolute;font-size:10px !important;color:#0A71B4;background-color:#EEF6FF;border-radius:100px;right:9px;top:calc(50% - 11px);padding:3px 6px !important}.tpt1069-header-nav-right-seller-dropdown-new-2,.tpt1069-header-nav-right-user-dropdown-new-2{right:20px}.tpt1069-header-nav-right-seller-dropdown-focused,.tpt1069-header-nav-right-user-dropdown-focused{font-weight:bold}.tpt1069-header-nav-right-seller-dropdown-counter,.tpt1069-header-nav-right-user-dropdown-counter{position:absolute;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;font-size:13px !important;line-height:14px !important;color:#173E3E;font-weight:600;background-color:#5DD89D;border-radius:50%;width:20px;height:20px;left:60px;top:calc(50% - 10px)}.tpt1069-active .tpt1069-header-nav-right-seller-dropdown,.tpt1069-active .tpt1069-header-nav-right-user-dropdown{display:block}.tpt1069-header-nav-right-seller{margin-right:8px}.tpt1069-header-nav-right-seller-dropdown-default ul li:first-child{cursor:auto;padding:8px 16px 0 !important}.tpt1069-header-nav-right-seller-dropdown-default ul li:first-child:hover,.tpt1069-header-nav-right-seller-dropdown-default ul li:first-child:active{background-color:inherit}.tpt1069-header-nav-right-seller-dropdown-new{right:30px}.tpt1069-header-nav-right-seller-dropdown-new-2{right:10px}.tpt1069-header-nav-right-seller-dropdown-focused{color:#000000;font-size:16px !important;line-height:137.5% !important}.tpt1069-header-search{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;max-width:1168px;padding:0 48px !important;margin:18px auto 0 !important}.tpt1069-header-search .SearchAutosuggestBespoke{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}.tpt1069-header-search .SearchAutosuggestBespoke input{border:1px solid #A0A0A0 !important;border-radius:10px !important;height:55px !important;padding:12px 86px 12px 25px !important}.tpt1069-header-search .SearchAutosuggestBespoke input+div{width:98.5% !important;top:55px !important;left:0.75% !important}.tpt1069-header-search .SearchAutosuggestBespoke button{color:#173E3E !important;background-color:#67E0A6 !important;width:62px !important;height:55px !important;border-top-right-radius:10px !important;border-bottom-right-radius:10px !important}.tpt1069-header-search .SearchAutosuggestBespoke button:hover{background-color:#42CD8A !important}.tpt1069-header-search .SearchAutosuggestBespoke button:active{background-color:#3FBC88 !important}.tpt1069-header-search .SearchAutosuggestBespoke button span{color:#222222 !important}@media only screen and (min-width: 1250px){.tpt1069-header-nav-left-catalog-dropdown,.tpt1069-header-nav-left-easel-dropdown{width:1200px}.tpt1069-header-nav-left-catalog-dropdown{left:-270px}.tpt1069-header-nav-left-catalog-dropdown-column+.tpt1069-header-nav-left-catalog-dropdown-column{margin-left:64px !important}.tpt1069-header-nav-left-easel-dropdown{left:-375px}.tpt1069-header-nav-left-easel-dropdown-intro-content{margin-right:86px !important}.tpt1069-header-nav-left-easel-dropdown-activities{margin-right:84px !important}}.tpt1069-hidden{display:none !important}.tpt1069-legacy-header{position:absolute;width:100%;z-index:1;top:0}.tpt1069-legacy-body{z-index:0;margin-top:200px !important}.tpt1069 .FeaturedWinterEaselLayout,.tpt1069v2 .LoggedOutHomePageBannerLayout{display:none !important}.tpt1069 .tpt-frontend{overflow-x:hidden}.tpt1069-resize{max-width:100% !important;-webkit-box-flex:1 !important;-webkit-flex:1 !important;-moz-box-flex:1 !important;-ms-flex:1 !important;flex:1 !important}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs>div{display:grid;grid-template-columns:1fr repeat(3, 200px) 62px}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs input{width:100%;border-left:none !important;border-right:none !important;border-radius:0 !important;padding:12px 15px !important}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs>div>input:first-child{border-left:1px solid #A0A0A0 !important;border-top-left-radius:10px !important;border-bottom-left-radius:10px !important}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-holder{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;position:relative}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-divider{background-color:#D0D0D0;width:1px;height:35px;margin:auto 0}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-divider::before,.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-divider::after{content:\"\";position:absolute;background-color:#A0A0A0;top:0px;width:1px;height:1px}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-divider::after{top:54px}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-dropdown{display:none;background-color:#FFFFFF;padding:16px 24px 14px;border:1px solid #D0D0D0;-webkit-box-shadow:7px 7px 20px rgba(0,0,0,0.25);box-shadow:7px 7px 20px rgba(0,0,0,0.25);border-radius:3px;width:208px !important;top:2px !important;left:-7px !important;z-index:301}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-dropdown.tpt1069-active{display:block}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-dropdown-title{font-size:16px;line-height:19px;color:#000000;font-weight:600;margin-bottom:8px}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-dropdown-holder{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-dropdown label{cursor:pointer;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-dropdown label+label{margin-top:8px}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-dropdown label input{cursor:pointer;width:20px;height:20px !important;border:1px solid #949494 !important;border-radius:3px !important;margin-right:8px}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-dropdown label span{font-size:16px;line-height:150% !important}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-subject-dropdown label input,.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-price-dropdown label input{background-color:white;border-radius:50%;vertical-align:middle;-moz-appearance:none;appearance:none;-webkit-appearance:none;border:1px solid #767676 !important;padding:0 !important;border-radius:50% !important}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-subject-dropdown label input:checked,.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-price-dropdown label input:checked{background-image:-o-radial-gradient(#949498 50%, white 65%);background-image:radial-gradient(#949498 50%, white 65%)}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-grade-dropdown-holder{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-grade-dropdown-holder+div{margin-left:16px}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-subject-dropdown{left:-10px !important;padding:16px 22px;width:240px !important}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs-price-dropdown{left:-2px !important;padding:16px 23px 22px;width:192px !important}.tpt1069-header-search .SearchAutosuggestBespoke .tpt1069-new-inputs div[id*=\"dropdown\"]{position:absolute}.tpt1069-module-top a,.tpt1069-module-middle a,.tpt1069-module-bottom a{color:#173E3E !important;background-color:#67E0A6 !important;display:inline-block;font-size:16px;line-height:120%;font-weight:600;border-radius:999px;padding:14px 24px}.tpt1069-module-top a:hover,.tpt1069-module-middle a:hover,.tpt1069-module-bottom a:hover{background-color:#42CD8A !important}.tpt1069-module-top a:active,.tpt1069-module-middle a:active,.tpt1069-module-bottom a:active{background-color:#3FBC88 !important}.tpt1069-module-top a:hover,.tpt1069-module-middle a:hover,.tpt1069-module-bottom a:hover{background:#42CD8A}.tpt1069-module-top a:active,.tpt1069-module-middle a:active,.tpt1069-module-bottom a:active{background:#3FBC88}.tpt1069-module-top{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin:24px 0 85px}.tpt1069-module-top-left-title{font-size:12px;font-weight:600;line-height:130%;letter-spacing:0.03em;text-transform:uppercase}.tpt1069-module-top-left-header{font-size:34px;font-weight:600;line-height:40px;margin:8px 0}.tpt1069-module-top-left-subhead{font-size:20px;line-height:28px;max-width:350px}.tpt1069-module-top-left a{margin-top:16px}.tpt1069-module-middle{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;margin:40px 0 55px}.tpt1069-module-middle-left-title{font-size:12px;font-weight:600;line-height:130%;letter-spacing:0.03em;text-transform:uppercase}.tpt1069-module-middle-left-header{font-size:34px;line-height:40px;font-weight:600;margin:10px 0}.tpt1069-module-middle-left-subhead{font-size:20px;line-height:28px;max-width:300px}.tpt1069-module-middle-left a{margin-top:40px}.tpt1069-module-bottom{position:relative;z-index:0;padding:64px;margin:48px 0}.tpt1069-module-bottom-bg{position:absolute;background-color:#FEF9EF;z-index:-1;top:0;left:-100vw;width:200vw;height:100%}.tpt1069-module-bottom-header{font-size:34px;line-height:40px;text-align:center;font-weight:600;margin-bottom:84px}.tpt1069-module-bottom-stats{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.tpt1069-module-bottom-stats li{text-align:center}.tpt1069-module-bottom-stats li+li{margin-left:86px}.tpt1069-module-bottom-stats li>div:first-child{font-size:75px;line-height:55px;font-weight:bold;color:#173E3E;margin-bottom:16px}.tpt1069-module-bottom-stats li>div:last-child{font-size:24px;line-height:34px;color:#2D2E32}.tpt1069-module-bottom a{display:block;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:84px auto 0 auto}</style>", "selector": "head", "dependencies": [], "type": "append", "id": "58df2609de6b4e1f89bf907bcb981440"}]}, {"holdback": null, "activation": {}, "integrationSettings": {"20275041050": {}, "14328530501": {}}, "integrationStringVersion": 2, "viewIds": ["17772951069"], "experiments": [{"weightDistributions": [{"entityId": "21171531512", "endOfRange": 10000}], "audienceName": "Logged In,U.S. Only,Exclude Premium Sellers,Device | Desktop,Exclude Matched TPT SA Users [logged-in only]", "name": "100% to v0: TPT-1108 [Unlinked][My Purchases] CTA Test", "bucketingStrategy": null, "variations": [{"id": "21171531512", "actions": [{"viewId": "17772951069", "changes": [{"value": function($){!function(o,r,n){var i=21015813345,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v0","my-purchases")}catch(o){e(o)}}("tpt1108");
}, "dependencies": [], "type": "custom_code", "id": "b336b869a03c44eaa0a25071eb8f1c04"}]}], "name": "v0: Control (1108)"}, {"id": "21183121035", "actions": [{"viewId": "17772951069", "changes": [{"value": function($){!function(o,r,n){var i=21015813345,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v1","my-purchases")}catch(o){e(o)}}("tpt1108");
}, "dependencies": [], "type": "custom_code", "id": "d5374a8dd4d24e7f8f7a61ba63bcc2a0"}]}], "name": "v1: Get a School Subscription"}, {"id": "21160610824", "actions": [{"viewId": "17772951069", "changes": [{"value": function($){!function(o,r,n){var i=21015813345,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v2","my-purchases")}catch(o){e(o)}}("tpt1108");
}, "dependencies": [], "type": "custom_code", "id": "259ecc287d094a389f8396440d93fbe4"}]}], "name": "v2: Request a Subscription"}, {"id": "21180190698", "actions": [{"viewId": "17772951069", "changes": [{"value": function($){!function(o,r,n){var i=21015813345,t=window["CRO_SHARED_"+i]||(window["CRO_SHARED_"+i]={}),w=window.optimizely.get("utils"),e=w.error&&w.error.bind(window,o)||console.error.bind(window,"[cro] [".concat(o,"]"));try{t.applyTreatment("v3","my-purchases")}catch(o){e(o)}}("tpt1108");
}, "dependencies": [], "type": "custom_code", "id": "c39b31be106e41f89962bde2ec05ec4e"}]}], "name": "v3: Share With Your Admin"}], "audienceIds": ["and", "12111314811", "16539970090", "16882670147", "12001380907", "19997272145"], "changes": null, "id": "21164250455", "integrationSettings": null}], "id": "21201380129", "weightDistributions": null, "name": "100% to v0: TPT-1108 [Unlinked][My Purchases] CTA Test", "groupId": null, "commitId": "21171810704", "decisionMetadata": null, "policy": "single_experiment", "changes": [{"dependencies": [], "type": "custom_code", "id": "557e33ac91e247718da9e3d205104312", "value": function($){!function(t){var n=21015813345,e=window["CRO_SHARED_"+n]||(window["CRO_SHARED_"+n]={}),o=window.optimizely.get("utils"),i=o.log&&o.log.bind(window,"[".concat(t,"]"))||console.warn.bind(window,"[cro] [".concat(t,"]")),r=o.error&&o.error.bind(window,t)||console.error.bind(window,"[cro] [".concat(t,"]"));i("v0.7");var a={"v0":"Share the Details","v1":"Get a School Subscription","v2":"Request a Subscription","v3":"Share With Your Admin"};e.applyTreatment=function(n,e){!function(n,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.documentElement;o.classList.add(t),o.classList.add(t+n),i("Variation ".concat(n,", page ").concat(e))}(n,e),o.waitForElement(".tpt-frontend").then((function(t){return o.waitUntil((function(){return t._reactRootContainer}))})).then((function(){!function(n){o.observeSelector('.MyPurchasesPageLayout__rightColumn--content [data-testid="classfund-banner-link"]',(function(e){var c="https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers?utm_source=marketplace&utm_medium=optimizely&utm_campaign=".concat(t).concat(n);document.querySelector(".".concat(t,"-cf-banner"))||o.waitForElement(".ResultsContainer__resultsCount--desktop").then((function(s){o.waitUntil((function(){return s.childNodes.length>1})).then((function(){var o=parseInt(s.textContent),r=1===o?"":"s";i("total resources",o);var l="Does your principal know you purchased ".concat(o?o+" ":"","resource").concat(r," out of pocket?"),h='\n       <div class="'.concat(t,'-cf-banner">\n         <h2>').concat(l,"</h2>\n         <p>").concat("Tell them about TpT School Access  the subscription that's funded by schools, not teachers.","</p>\n         ").concat('<svg width="88" height="9" viewBox="0 0 88 9" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path d="M1 2.41614C7.24006 1.95891 13.3504 1.53183 19.7077 1.36247C29.7172 1.09581 39.7612 1.02879 49.7863 1.01312C58.1223 1.00009 66.6937 0.90295 74.9484 1.52587C77.1019 1.68838 86.5122 2.51343 81.012 3.90932C77.8113 4.72161 74.0621 5.22121 70.5488 5.67296C62.2715 6.73725 53.6965 7.42955 45.122 7.78031C40.3079 7.97724 35.2679 8.1179 30.4483 7.85919C27.9169 7.72332 25.0539 7.37638 23.124 6.58013C22.6017 6.36463 21.7108 5.94256 22.5315 5.66169C23.5335 5.31879 25.3232 5.036 26.3512 4.87284C30.5849 4.20086 34.969 3.77408 39.4239 3.52053C53.2425 2.73404 68.5139 2.54724 81.781 4.73197C83.0563 4.94198 86.4773 5.36652 87 6.06738" stroke="#0AA96C" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="transparent"/>\n  </svg>\n','\n         <a href="').concat(c,'" class="Button Button--medium Button--link Button--primary" target="_blank">').concat(a[n],"</a>\n         ").concat('<svg width="127" height="80" viewBox="0 0 127 80" fill="none" xmlns="http://www.w3.org/2000/svg">\n  <path opacity="0.7" d="M63.5 79.5056C98.5701 79.5056 127 76.444 127 72.6673C127 68.8907 98.5701 65.8291 63.5 65.8291C28.4299 65.8291 0 68.8907 0 72.6673C0 76.444 28.4299 79.5056 63.5 79.5056Z" fill="#9CAACA"/>\n  <path d="M110.99 67.5052L16.0082 67.4382V5.42474C16.0082 2.9442 18.0177 1 20.4291 1H106.502C108.981 1 110.923 3.01125 110.923 5.42474L110.99 67.5052Z" fill="white" stroke="#2C3A81" stroke-width="1.5" stroke-miterlimit="10"/>\n  <path d="M102.483 62.2089H24.3137C23.3089 62.2089 22.4381 61.4044 22.4381 60.3317V9.17904C22.4381 8.17342 23.2419 7.30188 24.3137 7.30188H102.483C103.488 7.30188 104.359 8.10638 104.359 9.17904V60.3317C104.292 61.4044 103.488 62.2089 102.483 62.2089Z" fill="#E5E8F2" stroke="#2C3A81" stroke-width="1.5" stroke-miterlimit="10"/>\n  <path d="M104.359 11.6596H22.5052V9.24612C22.5052 8.2405 23.309 7.36896 24.3807 7.36896H102.55C103.555 7.36896 104.426 8.17346 104.426 9.24612L104.359 11.6596Z" fill="#2C3A81"/>\n  <path d="M11.3863 67.5721C11.3863 70.4549 13.6637 72.7343 16.544 72.7343L110.454 72.8013C113.335 72.8013 115.612 70.5219 115.612 67.6391L11.3863 67.5721Z" fill="#E0E3EB"/>\n  <path d="M11.3863 67.5721C11.3863 70.4549 13.6637 72.7343 16.544 72.7343L110.454 72.8013C113.335 72.8013 115.612 70.5219 115.612 67.6391L11.3863 67.5721Z" stroke="#2C3A83" stroke-width="1.5" stroke-miterlimit="10" fill="transparent"/>\n  <path d="M85.7386 38.7443H68.9929V57.4489H85.7386V38.7443Z" fill="white"/>\n  <path d="M72.7438 57.516H41.6636V38.9455L56.4669 26.5428L72.7438 38.9455V57.516Z" fill="white" stroke="#415294" stroke-width="1.5" stroke-miterlimit="10"/>\n  <path d="M56.6679 39.7499C58.2586 39.7499 59.5481 38.4593 59.5481 36.8672C59.5481 35.275 58.2586 33.9844 56.6679 33.9844C55.0771 33.9844 53.7876 35.275 53.7876 36.8672C53.7876 38.4593 55.0771 39.7499 56.6679 39.7499Z" fill="white" stroke="#415294" stroke-width="1.5" stroke-miterlimit="10"/>\n  <path d="M64.0364 23.1908C64.0364 23.1908 62.1609 23.7941 60.2854 22.6544C58.8117 21.7159 57.1371 23.1908 57.1371 23.1908V19.3024C57.1371 19.3024 58.8117 17.8945 60.4193 18.8331C62.4288 19.9728 64.0364 19.3024 64.0364 19.3024V23.1908Z" fill="#415294"/>\n  <path d="M51.9125 57.3147V49.7391C51.9125 46.9903 54.19 44.7109 56.9363 44.7109C59.6826 44.7109 61.96 46.9903 61.96 49.7391V57.3147" stroke="#415294" stroke-width="1.5" stroke-miterlimit="10" fill="transparent"/>\n  <path d="M75.4234 37.8058H72.878V39.1466H75.4234V37.8058Z" fill="#415294"/>\n  <path d="M86.4079 39.1466V38.6773L69.5951 25.6042H56.3994L73.2792 39.1466H84.5323" fill="#415294"/>\n  <path d="M72.6097 57.5831H85.6714V38.8115" stroke="#415294" stroke-width="1.5" stroke-miterlimit="10" fill="transparent"/>\n  <path d="M56.4665 18.0284V26.4757" stroke="#415294" stroke-width="1.5" stroke-miterlimit="10" fill="transparent"/>\n  </svg>\n',"\n       </div>\n     ");e.insertAdjacentHTML("afterend",h)}))["catch"](r)}))["catch"](r)}))}(n)}))["catch"](r)}}("tpt1108");
}}, {"dependencies": [], "type": "append", "id": "763663ca08744c3ea6789d35a65b13da", "value": "<style>.tpt1108 .MyPurchasesPageLayout__rightColumn--content [data-testid=\"classfund-banner-link\"]{display:none}.tpt1108-cf-banner{text-align:center;max-width:212px;margin:0 auto;background:#E5E8F5;padding:19px 19px 11px 20px}.tpt1108-cf-banner h2{font-size:18px;font-weight:700;line-height:137.5%;color:#1D1B4B;margin:12px 0 6px}.tpt1108-cf-banner p{font-size:14px;font-weight:500;line-height:137.5%;color:#1D1B4B}.tpt1108-cf-banner>a{padding:8px 14px !important;margin-top:21px}.tpt1108-cf-banner a+svg{max-width:80%;margin-top:14px}.tpt1108-cf-banner>img{margin-left:16px}.tpt1108-cf-banner a+span{display:block;font-size:12px;color:#666666 !important;margin:6px 0 15px}.tpt1108-cf-banner a+span a:hover{text-decoration:underline}.tpt1108:not(.tpt1108v0) .tpt1108-cf-banner .Button{font-size:12px}</style>", "selector": "head"}]}], "dimensions": [{"segmentId": null, "id": "11063250276", "apiName": "isLoggedIn", "name": "Logged In"}, {"segmentId": null, "id": "11732255800", "apiName": "orgMembership", "name": "Schools membership"}, {"segmentId": null, "id": "11748734789", "apiName": "groupId", "name": "Group ID"}, {"segmentId": null, "id": "14346930720", "apiName": "tpt25_has_seen_search_page", "name": "[TPT-25] Has seen Search page"}, {"segmentId": null, "id": "14607800247", "apiName": "tpt31_has_opened_pdp_modal", "name": "[TPT-31] Has Opened PDP modal"}, {"segmentId": null, "id": "16871200579", "apiName": "tpt91_added_to_wishlist", "name": "[TPT-91] Added to Wishlist"}, {"segmentId": null, "id": "17472211714", "apiName": "pjs_submitted_school_access", "name": "[PJS] Submitted School Access"}, {"segmentId": null, "id": "18155970770", "apiName": "tpt182_clicked_homepage_banner", "name": "[TPT-182] Clicked Homepage Banner"}, {"segmentId": null, "id": "18236110509", "apiName": "tpt196_saw_digital_resource", "name": "[TPT-196] Saw Digital Resource Badge"}, {"segmentId": null, "id": "18564772363", "apiName": "tpt215_v1_bucketed", "name": "[TPT215] TPT_215 v1 Bucketed"}, {"segmentId": null, "id": "18593151627", "apiName": "tpt214_bucketed", "name": "[TPT214] TPT_214 Bucketed"}, {"segmentId": null, "id": "18608900700", "apiName": "tpt218_bucketed", "name": "[TPT-218] Bucketed"}, {"segmentId": null, "id": "18646041005", "apiName": "tpt222_bucketed", "name": "[TPT-222] Bucketed"}, {"segmentId": null, "id": "19054114977", "apiName": "tpt278_audience_status", "name": "[TPT-278] Audience Status"}, {"segmentId": null, "id": "19177830296", "apiName": "tpt286_audience_status", "name": "[TPT-286] Audience Status"}, {"segmentId": null, "id": "19302773418", "apiName": "tpt303_match_set", "name": "[TPT303] Match Set"}, {"segmentId": null, "id": "19321414748", "apiName": "tpt286_match_type", "name": "[TPT286] Match Type"}, {"segmentId": null, "id": "19323702152", "apiName": "tpt278_match_set", "name": "[TPT278] Match Set"}, {"segmentId": null, "id": "19327592859", "apiName": "tpt292_match_type", "name": "[TPT292] Match Type"}, {"segmentId": null, "id": "19330222467", "apiName": "tpt292_match_set", "name": "[TPT292] Match Set"}, {"segmentId": null, "id": "19331914042", "apiName": "tpt286_match_set", "name": "[TPT286] Match Set"}, {"segmentId": null, "id": "19335762930", "apiName": "tpt278_match_type", "name": "[TPT278] Match Type"}, {"segmentId": null, "id": "19345231066", "apiName": "tpt292_audience_status", "name": "[TPT292] Audience Status"}, {"segmentId": null, "id": "19382230782", "apiName": "tpt303_audience_status", "name": "[TPT-303] Audience Status"}, {"segmentId": null, "id": "19415100303", "apiName": "tpt303_match_type", "name": "[TPT303] Match Type"}, {"segmentId": null, "id": "19566172490", "apiName": "tpt322_match_type", "name": "TPT322 Match Type"}, {"segmentId": null, "id": "19581624345", "apiName": "tpt328_match_set", "name": "[TPT328] Match Set"}, {"segmentId": null, "id": "19582594965", "apiName": "tpt318_audience_status", "name": "[TPT318] Audience Status"}, {"segmentId": null, "id": "19582892205", "apiName": "tpt322_audience_status", "name": "TPT322 Audience Status"}, {"segmentId": null, "id": "19596393110", "apiName": "tpt318_match_type", "name": "[TPT318] Match Type"}, {"segmentId": null, "id": "19607246034", "apiName": "tpt328_match_type", "name": "[TPT328] Match Type"}, {"segmentId": null, "id": "19614134230", "apiName": "tpt318_match_set", "name": "[TPT318] Match Set"}, {"segmentId": null, "id": "19623010845", "apiName": "tpt322_match_set", "name": "TPT322 Match Set"}, {"segmentId": null, "id": "19657872478", "apiName": "tpt328_audience_status", "name": "[TPT328] Audience Status"}, {"segmentId": null, "id": "20110202712", "apiName": "tpt364_is_easel_product", "name": "[TPT364] Post-Free Download - Easel Product"}, {"segmentId": null, "id": "20153425285", "apiName": "pjs_returning_easel_user", "name": "[PJS] Returning Easel User"}, {"segmentId": null, "id": "20166340082", "apiName": "pjs_easel_accepted_tos", "name": "[PJS] Easel Accepted ToS"}, {"segmentId": null, "id": "20218736754", "apiName": "tpt576_viewed_new_modal", "name": "[TPT576] Viewed New Modal"}, {"segmentId": null, "id": "20232333017", "apiName": "tpt556_viewed_new_modal", "name": "[TPT556] Viewed New Modal"}, {"segmentId": null, "id": "20240282827", "apiName": "tpt594_easel_user", "name": "[TPT594] Easel User"}, {"segmentId": null, "id": "20284252143", "apiName": "tpt562_added_filter", "name": "[TPT562] Added Filter"}, {"segmentId": null, "id": "20305008794", "apiName": "tpt681_viewed_new_modal", "name": "[TPT681] Viewed New Modal"}, {"segmentId": null, "id": "20344631882", "apiName": "tpt659_school_resource_count", "name": "[TPT659] School Resource Count"}, {"segmentId": null, "id": "20350262484", "apiName": "tpt659_dcp_dat_set", "name": "TPT659 DCP Data Set"}, {"segmentId": null, "id": "20354522076", "apiName": "tpt659_teacher_penetration", "name": "[TPT659] Teacher Penetration"}, {"segmentId": null, "id": "20391764530", "apiName": "tpt642_scrolled_to_value_props", "name": "[TPT-642] Scrolled to Value Props"}, {"segmentId": null, "id": "20607273252", "apiName": "tpt798_modal_seen", "name": "TPT-798 Modal Seen"}, {"segmentId": null, "id": "20634660090", "apiName": "pjs_first_easel_activity_under_30_days", "name": "[PJS] First Easel Activity < 30 days"}, {"segmentId": null, "id": "20801182156", "apiName": "tpt743-saw-state-info", "name": "[TPT-743] Saw State Info"}, {"segmentId": null, "id": "20896164127", "apiName": "tpt968-resized-below-980px-then-back-up", "name": "[TPT-968] Resized below 980px then back up"}, {"segmentId": null, "id": "20902413910", "apiName": "tpt910_opens_easel_activity_in_easel", "name": "[TPT910] Opens Easel Activity in Easel"}, {"segmentId": null, "id": "20908220797", "apiName": "tpt887_has_state_info", "name": "[TPT887] Has State Info"}, {"segmentId": null, "id": "20921163253", "apiName": "tpt980-personalization-data-available", "name": "[TPT980] Personalization data available"}, {"segmentId": null, "id": "20931224968", "apiName": "tpt1035-link-type", "name": "[TPT-1035] Link Type"}, {"segmentId": null, "id": "20953430580", "apiName": "tpt968-resized-below-980px", "name": "[TPT-968] Resized below 980px"}, {"segmentId": null, "id": "20998770433", "apiName": "tpt1069-logged-out-users", "name": "[TPT-1069] Logged Out Users"}, {"segmentId": null, "id": "21007242372", "apiName": "tpt1069-logged-in-users", "name": "[TPT-1069] Logged In Users"}, {"segmentId": null, "id": "21035360719", "apiName": "tpt1089_saw_easel_banner", "name": "[TPT1089/1093] Saw Easel Banner"}, {"segmentId": null, "id": "21043031385", "apiName": "tpt_1054_viewed_hyperwallet_modal", "name": "[TPT-1054] Viewed Hyperwallet Modal"}, {"segmentId": null, "id": "21114360941", "apiName": "tpt1069-session-start-on-homepage", "name": "[TPT-1069] Session Start on Homepage"}, {"segmentId": null, "id": "21127631064", "apiName": "pjs-us-vs-international-location", "name": "[PJS] U.S. vs International Location"}, {"segmentId": null, "id": "21132240666", "apiName": "pjs-is-user-logged-in", "name": "[PJS] Is User Logged In?"}], "projectId": "11000223989", "namespace": "11000223989", "dcpKeyfieldLocators": [{"dcp_datasource_id": "20144019866", "is_optimizely": false, "type": "js_variable", "name": "__TPT__userId"}, {"dcp_datasource_id": "20157403646", "is_optimizely": true, "type": "uid", "name": ""}, {"dcp_datasource_id": "21013644283", "is_optimizely": false, "type": "js_variable", "name": "__TPTSA__userId"}], "visitorAttributes": [{"datatype": "string", "dcp_datasource_id": "20144019866", "id": "20132717304", "name": "segment_name"}, {"datatype": "datetime", "dcp_datasource_id": "20144019866", "id": "20188463767", "name": "earliest_accepted_buyer_tos_at"}, {"datatype": "bool", "dcp_datasource_id": "20144019866", "id": "20189889338", "name": "draft_saved"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20192651472", "name": "amount_raised_latest_page"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20197676882", "name": "lifetime_pages_created"}, {"datatype": "bool", "dcp_datasource_id": "20144019866", "id": "20198036112", "name": "latest_page_goal_reached"}, {"datatype": "bool", "dcp_datasource_id": "20144019866", "id": "20203584730", "name": "on_active_school_access_subscription"}, {"datatype": "bool", "dcp_datasource_id": "20144019866", "id": "20205307393", "name": "on_active_premium_seller_subscription"}, {"datatype": "bool", "dcp_datasource_id": "20144019866", "id": "20207544405", "name": "has_created"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20211225731", "name": "amount_raised_all_time"}, {"datatype": "datetime", "dcp_datasource_id": "20144019866", "id": "20217013760", "name": "last_page_visitor_date"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20222687010", "name": "fte_teachers"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20228437143", "name": "perc_teachers_downloaded_free_or_paid_ever"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20232871579", "name": "perc_teachers_downloaded_paid_ttm"}, {"datatype": "string", "dcp_datasource_id": "20144019866", "id": "20234616904", "name": "match_type"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20234667483", "name": "tpt_teacher_penetration"}, {"datatype": "string", "dcp_datasource_id": "20144019866", "id": "20234667484", "name": "school_name"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20238016963", "name": "total_paid_resources_downloaded_all_time"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20238056648", "name": "perc_teachers_downloaded_paid_ever"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20239886934", "name": "perc_teachers_downloaded_free_or_paid_ttm"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20241655816", "name": "total_tpt_users"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20243947992", "name": "gmv_ttm_core_marketplace"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20243947993", "name": "total_paid_resources_downloaded_ttm"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20247852418", "name": "total_resources_downloaded_all_time"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20251361885", "name": "total_resources_downloaded_ttm"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20253017933", "name": "gmv_all_time_core_marketplace"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20258322808", "name": "classfund_page_visits"}, {"datatype": "string", "dcp_datasource_id": "20144019866", "id": "20266928575", "name": "country"}, {"datatype": "string", "dcp_datasource_id": "20144019866", "id": "20268427112", "name": "grade_level_consolidated"}, {"datatype": "string", "dcp_datasource_id": "20144019866", "id": "20270378719", "name": "subject_area_consolidated"}, {"datatype": "bool", "dcp_datasource_id": "20144019866", "id": "20279773326", "name": "accepted_buyer_tos"}, {"datatype": "string", "dcp_datasource_id": "20144019866", "id": "20280712270", "name": "user_group"}, {"datatype": "string", "dcp_datasource_id": "20144019866", "id": "20291406952", "name": "user_role_consolidated"}, {"datatype": "string", "dcp_datasource_id": "20144019866", "id": "20295107442", "name": "teacher_status"}, {"datatype": "string", "dcp_datasource_id": "20144019866", "id": "20301371358", "name": "user_group_consolidated"}, {"datatype": "bool", "dcp_datasource_id": "20144019866", "id": "20326411861", "name": "easel_satisfaction_survey_status"}, {"datatype": "datetime", "dcp_datasource_id": "20144019866", "id": "20540790445", "name": "first_easel_activity_created_at"}, {"datatype": "datetime", "dcp_datasource_id": "20144019866", "id": "20572251241", "name": "first_easel_content_created_at"}, {"datatype": "datetime", "dcp_datasource_id": "20144019866", "id": "20601890047", "name": "first_easel_assessment_created_at"}, {"datatype": "bool", "dcp_datasource_id": "20144019866", "id": "20670410430", "name": "purchased_healthy_resource_within_past_year"}, {"datatype": "string", "dcp_datasource_id": "20144019866", "id": "20804390330", "name": "school_access_user_status"}, {"datatype": "string", "dcp_datasource_id": "20144019866", "id": "20810580216", "name": "access_cap_approach"}, {"datatype": "string", "dcp_datasource_id": "20144019866", "id": "20829730224", "name": "sa_first_name"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20831990306", "name": "individual_accesses_used"}, {"datatype": "string", "dcp_datasource_id": "20144019866", "id": "20834080704", "name": "school_access_user_id"}, {"datatype": "string", "dcp_datasource_id": "20144019866", "id": "20834360341", "name": "user_link_type"}, {"datatype": "string", "dcp_datasource_id": "20144019866", "id": "20836070182", "name": "school_access_owner_name"}, {"datatype": "datetime", "dcp_datasource_id": "20144019866", "id": "20837370455", "name": "school_access_subscription_end_date"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20837690207", "name": "workspace_accesses_used"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20841100408", "name": "workspace_access_cap"}, {"datatype": "string", "dcp_datasource_id": "20144019866", "id": "20845390240", "name": "sa_last_name"}, {"datatype": "double", "dcp_datasource_id": "20144019866", "id": "20847000222", "name": "individual_access_cap"}, {"datatype": "string", "dcp_datasource_id": "20144019866", "id": "20847490211", "name": "school_access_institution_name"}, {"datatype": "datetime", "dcp_datasource_id": "21013644283", "id": "20998771206", "name": "updated_at"}, {"datatype": "double", "dcp_datasource_id": "21013644283", "id": "21004474516", "name": "workspace_cumulative_utilization"}, {"datatype": "string", "dcp_datasource_id": "20144019866", "id": "21007273165", "name": "last_easel_content_created_at"}, {"datatype": "double", "dcp_datasource_id": "21013644283", "id": "21010363863", "name": "days_into_subscription"}, {"datatype": "datetime", "dcp_datasource_id": "21013644283", "id": "21010512137", "name": "school_access_subscription_end_date"}, {"datatype": "double", "dcp_datasource_id": "21013644283", "id": "21012483188", "name": "days_left_in_subscription"}, {"datatype": "string", "dcp_datasource_id": "21013644283", "id": "21012701862", "name": "workspace_accesses_remaining"}, {"datatype": "double", "dcp_datasource_id": "21013644283", "id": "21020472795", "name": "individual_access_cap"}, {"datatype": "datetime", "dcp_datasource_id": "21013644283", "id": "21022450668", "name": "school_access_subscription_start_date"}, {"datatype": "double", "dcp_datasource_id": "21013644283", "id": "21024791868", "name": "individual_resource_licenses_remaining"}, {"datatype": "double", "dcp_datasource_id": "21013644283", "id": "21025583496", "name": "workspace_access_cap"}, {"datatype": "string", "dcp_datasource_id": "21013644283", "id": "21027492910", "name": "individual_pacing_status"}, {"datatype": "string", "dcp_datasource_id": "21013644283", "id": "21029512247", "name": "school_name"}, {"datatype": "double", "dcp_datasource_id": "21013644283", "id": "21035940958", "name": "individual_accesses_used"}, {"datatype": "string", "dcp_datasource_id": "21013644283", "id": "21036090590", "name": "access_cap_approach"}, {"datatype": "string", "dcp_datasource_id": "21013644283", "id": "21042982476", "name": "email"}], "events": [{"category": "other", "name": "Clicked Checkout", "eventType": "click", "viewId": "11912410137", "apiName": "11000223989_clicked_checkout", "id": "11883580377", "eventFilter": {"filterType": "target_selector", "selector": ".big"}}, {"category": "other", "name": "Submit Order", "eventType": "click", "viewId": "11810435350", "apiName": "11000223989_submit_order", "id": "11932979442", "eventFilter": {"filterType": "target_selector", "selector": ".ButtonPrefab--fullWidth,.CreditCardFormBespoke > .ButtonPrefab"}}, {"category": "other", "name": "Overall Purchases", "eventType": "custom", "viewId": null, "apiName": "trackRevenue", "id": "11946529333", "eventFilter": null}, {"category": "other", "name": "Wishlist | Add To Cart | Next Wishlist", "eventType": "custom", "viewId": null, "apiName": "Wishlist_Add to Cart_Next Wishlist", "id": "11952657016", "eventFilter": null}, {"category": "other", "name": "Search Results Actions | Item Click | Cart Add", "eventType": "custom", "viewId": null, "apiName": "Search Results Actio_Item Click_Cart Add", "id": "12061712156", "eventFilter": null}, {"category": "other", "name": "Join Now", "eventType": "click", "viewId": "11927697974", "apiName": "11000223989_join_now", "id": "12068804197", "eventFilter": {"filterType": "target_selector", "selector": ".fs_14"}}, {"category": "other", "name": ".fa-search", "eventType": "click", "viewId": "11070712640", "apiName": "11000223989_fasearch", "id": "12117265903", "eventFilter": {"filterType": "target_selector", "selector": ".fa-search"}}, {"category": "other", "name": "Click on Search (Homepage)", "eventType": "click", "viewId": "11070712640", "apiName": "11000223989_click_on_search_homepage", "id": "12117287675", "eventFilter": {"filterType": "target_selector", "selector": ".SearchAutosuggestBespoke__button"}}, {"category": "other", "name": "Search Results - Wishlist Add", "eventType": "custom", "viewId": null, "apiName": "Search Results Actio_Item Click_Wishlist Add", "id": "12120903800", "eventFilter": null}, {"category": "other", "name": "PDP | Add to Wish List Click", "eventType": "custom", "viewId": null, "apiName": "Item Actions_Add To Wishlist_Product Page", "id": "12126462515", "eventFilter": null}, {"category": "other", "name": "New Checkout Submit Order Bottom", "eventType": "custom", "viewId": null, "apiName": "Checkout_Submit Order Bottom_", "id": "12398240765", "eventFilter": null}, {"category": "other", "name": "New Checkout Submit Order Top", "eventType": "custom", "viewId": null, "apiName": "Checkout_Submit Order Top_", "id": "12400300457", "eventFilter": null}, {"category": "other", "name": "Clicks on Search Results to PDP", "eventType": "click", "viewId": "11956347417", "apiName": "11000223989_clicks_on_search_results_to_pdp", "id": "12983780153", "eventFilter": {"filterType": "target_selector", "selector": "a[href*=\"/Product\"]"}}, {"category": "other", "name": "Clicks on Thumbnail Image", "eventType": "click", "viewId": "11956347417", "apiName": "11000223989_clicks_on_thumbnail_image", "id": "12999310108", "eventFilter": {"filterType": "target_selector", "selector": "a[data-element=\"product_image\"], .SearchProductRowLayout__productImageSection a"}}, {"category": "other", "name": "[Mobile] Checkout Submit Order Bottom", "eventType": "click", "viewId": "11810435350", "apiName": "11000223989_mobile_checkout_submit_order_bottom", "id": "13371190438", "eventFilter": {"filterType": "target_selector", "selector": ".OrderActionsBespoke--responsive__checkoutOptions .Button--primary"}}, {"category": "other", "name": "[Mobile] Clicked Checkout", "eventType": "click", "viewId": "11912410137", "apiName": "11000223989_mobile_clicked_checkout", "id": "13376720384", "eventFilter": {"filterType": "target_selector", "selector": "a[href=\"/Cart/Checkout\"]"}}, {"category": "other", "name": "[Mobile] Clicks on search glass", "eventType": "click", "viewId": "13715460482", "apiName": "11000223989_mobile_clicks_on_search_glass", "id": "13746160089", "eventFilter": {"filterType": "target_selector", "selector": "#HeaderSearchDisplayForm > div.search_btn"}}, {"category": "other", "name": "Buyer Profile Selected School Changed", "eventType": "custom", "viewId": null, "apiName": "buyer_profile_selected_school_changed", "id": "14490890343", "eventFilter": null}, {"category": "other", "name": "Buyer Profile Saved", "eventType": "custom", "viewId": null, "apiName": "Buyer Profile_Saved Buyer Profile_", "id": "14496680771", "eventFilter": null}, {"category": "other", "name": "Search Results Actions | Bundle Item Click | Cart Add", "eventType": "click", "viewId": "13715460482", "apiName": "11000223989_search_results_actions__bundle_item_click__cart_add", "id": "14712190128", "eventFilter": {"filterType": "target_selector", "selector": ".bundle-item-link"}}, {"category": "other", "name": "Registration Signed Up Success", "eventType": "custom", "viewId": null, "apiName": "Registration_Signed Up Success", "id": "14801731281", "eventFilter": null}, {"category": "other", "name": "Google Drive Permissions Success", "eventType": "custom", "viewId": null, "apiName": "Online Product_Drive Permissions Success", "id": "15279690473", "eventFilter": null}, {"category": "other", "name": "Click on PDP related keyword area", "eventType": "click", "viewId": "14334900114", "apiName": "11000223989_click_on_pdp_related_keyword_area", "id": "15506420171", "eventFilter": {"filterType": "target_selector", "selector": ".related-links a"}}, {"category": "other", "name": "Clicks on products on the recently viewed bar on the search page", "eventType": "click", "viewId": "13715460482", "apiName": "11000223989_cclicks_on_products_on_the_recently_viewed_bar_on_th", "id": "15593600351", "eventFilter": {"filterType": "target_selector", "selector": ".croRecentlyViewed .MoreProductsLayout__productCard"}}, {"category": "other", "name": "Clicked Use a gift card", "eventType": "click", "viewId": "11912410137", "apiName": "11000223989_clicked_use_a_gift_card", "id": "16859474945", "eventFilter": {"filterType": "target_selector", "selector": ".DiscountsBespoke--responsive > div.AccordionPrefab.giftCard > button"}}, {"category": "other", "name": "[PJS] Total Revenue", "eventType": "custom", "viewId": null, "apiName": "pjs_total_revenue", "id": "16865945865", "eventFilter": null}, {"category": "other", "name": "[PJS] Marketplace Revenue", "eventType": "custom", "viewId": null, "apiName": "pjs_marketplace_revenue", "id": "16873691503", "eventFilter": null}, {"category": "other", "name": "[PJS] ClassFund Revenue", "eventType": "custom", "viewId": null, "apiName": "pjs_classfund_revenue", "id": "16873821656", "eventFilter": null}, {"category": "other", "name": "Clicked Use a promo code", "eventType": "click", "viewId": "11912410137", "apiName": "11000223989_clicked_use_a_promo_code", "id": "16889303011", "eventFilter": {"filterType": "target_selector", "selector": ".DiscountsBespoke--responsive > div.AccordionPrefab.promoCode > button"}}, {"category": "other", "name": "Teacher Landing Page - Click Event - Form Submission", "eventType": "click", "viewId": "16909484157", "apiName": "11000223989_teacher_landing_page__click_event__form_submission", "id": "16898702320", "eventFilter": {"filterType": "target_selector", "selector": "DSButton DSButton--primary DSButton--medium DSButton--contained SchoolsButton"}}, {"category": "other", "name": "Admin Landing Page - Request Demo Form Submission", "eventType": "custom", "viewId": null, "apiName": "Admin Landing Page_Request Demo Form Submission", "id": "16909534947", "eventFilter": null}, {"category": "other", "name": "TPTSA landing page - clicks share now container", "eventType": "click", "viewId": "16909484157", "apiName": "11000223989_tptsa_landing_page__clicks_share_now_container", "id": "16912165093", "eventFilter": {"filterType": "target_selector", "selector": "button.DSButton--primary.DSButton--contained"}}, {"category": "other", "name": "ClassFund Create Page Custom Event", "eventType": "custom", "viewId": null, "apiName": "ClassFund Create Page Custom Event", "id": "16913340044", "eventFilter": null}, {"category": "other", "name": "Teacher Landing Page - Share with Admin Form Submission", "eventType": "custom", "viewId": null, "apiName": "Teacher Landing Page_Share with Admin For_", "id": "16920222045", "eventFilter": null}, {"category": "other", "name": "TPTSA Form Submissions - LP Only", "eventType": "click", "viewId": "16909484157", "apiName": "11000223989_tptsa_form_submissions", "id": "16927455552", "eventFilter": {"filterType": "target_selector", "selector": "form#TEACHER_ADVOCACY_PARDOT .TeacherAdvocacyForm__submit button"}}, {"category": "other", "name": "TpTSA landing page - share now click text", "eventType": "click", "viewId": "16909484157", "apiName": "11000223989_tptsa_landing_page__share_now_click_text", "id": "16927891295", "eventFilter": {"filterType": "target_selector", "selector": "button.DSButton--primary.DSButton--contained .DSButton__text"}}, {"category": "other", "name": "ClassFund Landing Page - Headline Button", "eventType": "custom", "viewId": null, "apiName": "ClassFund landing pa_Clicked Create My Tp_Headline button", "id": "16975370009", "eventFilter": null}, {"category": "other", "name": "TpTSA Admin landing page - signup click text", "eventType": "click", "viewId": "17032032318", "apiName": "11000223989_tptsa_admin_landing_page__signup_click_text", "id": "17008272942", "eventFilter": {"filterType": "target_selector", "selector": "button.DSButton--primary.DSButton--contained[type=\"submit\"] .DSButton__text"}}, {"category": "other", "name": "TPTSA Admin - Clicks on header CTA", "eventType": "click", "viewId": "17032032318", "apiName": "11000223989_tptsa_admin__clicks_on_header_cta", "id": "17041162706", "eventFilter": {"filterType": "target_selector", "selector": ".SectionContainer.HERO .DSButton"}}, {"category": "other", "name": "TPTSA - Clicks on header CTA", "eventType": "click", "viewId": "16909484157", "apiName": "11000223989_tptsa__clicks_on_header_cta", "id": "17048052606", "eventFilter": {"filterType": "target_selector", "selector": ".SectionContainer.HERO .DSButton"}}, {"category": "other", "name": "TPTSA Teacher Form Engagement", "eventType": "click", "viewId": "16909484157", "apiName": "11000223989_tptsa_form_engagement", "id": "17474122263", "eventFilter": {"filterType": "target_selector", "selector": "#share input, #share select, #share textarea, #share .SchoolInput__schoolAutocomplete"}}, {"category": "other", "name": "TPTSA Admin Form Submissions", "eventType": "click", "viewId": "17032032318", "apiName": "11000223989_tptsa_admin_form_submissions", "id": "17483961000", "eventFilter": {"filterType": "target_selector", "selector": "form#ADMIN_LEAD_NURTURE_FORM button[type=\"submit\"]:not([disabled])"}}, {"category": "other", "name": "[PJS] School Access Teachers LP | First Name", "eventType": "custom", "viewId": null, "apiName": "pjs_tptsa_lp_first_name", "id": "17748390951", "eventFilter": null}, {"category": "other", "name": "[PJS] School Access Teachers LP | Admin First Name", "eventType": "custom", "viewId": null, "apiName": "pjs_tptsa_lp_admin_first_name", "id": "17754860038", "eventFilter": null}, {"category": "other", "name": "[PJS] School Access Teachers LP | Email Address", "eventType": "custom", "viewId": null, "apiName": "pjs_tptsa_lp_email", "id": "17758660043", "eventFilter": null}, {"category": "other", "name": "[PJS] School Access Teachers LP | Personalized Message", "eventType": "custom", "viewId": null, "apiName": "pjs_tptsa_lp_message", "id": "17769110788", "eventFilter": null}, {"category": "other", "name": "School Access Teachers LP | Email Preview Click", "eventType": "click", "viewId": "16909484157", "apiName": "11000223989_school_access_teachers_lp__email_preview_click", "id": "17769520103", "eventFilter": {"filterType": "target_selector", "selector": ".TeacherAdvocacyFormPreview"}}, {"category": "other", "name": "[PJS] School Access Teachers LP | Admin Last Name", "eventType": "custom", "viewId": null, "apiName": "pjs_tptsa_lp_admin_last_name", "id": "17769530660", "eventFilter": null}, {"category": "other", "name": "[PJS] School Access Teachers LP | Last Name", "eventType": "custom", "viewId": null, "apiName": "pjs_tptsa_lp_last_name", "id": "17772190023", "eventFilter": null}, {"category": "other", "name": "[PJS] School Access Teachers LP | Name of School, District, Org", "eventType": "custom", "viewId": null, "apiName": "pjs_tptsa_lp_school_name", "id": "17774120025", "eventFilter": null}, {"category": "other", "name": "[PJS] School Access Teachers LP | Admin Email", "eventType": "custom", "viewId": null, "apiName": "pjs_tptsa_lp_admin_email", "id": "17775780042", "eventFilter": null}, {"category": "other", "name": "[PJS] School Access Teachers LP | Admin Title", "eventType": "custom", "viewId": null, "apiName": "pjs_tptsa_lp_admin_title", "id": "17790950028", "eventFilter": null}, {"category": "other", "name": "Add To Cart Universal [SITEWIDE]", "eventType": "click", "viewId": "14334900114", "apiName": "11000223989_add_to_cart_universal_sitewide", "id": "17872670869", "eventFilter": {"filterType": "target_selector", "selector": ".PriceBox .CartButtonContainer button, .SearchPage .CartButtonContainer button"}}, {"category": "other", "name": "[PJS] Signup /Buyer | Interaction | I'm interested in", "eventType": "custom", "viewId": null, "apiName": "pjs_signup_buyer_interest", "id": "17916553452", "eventFilter": null}, {"category": "other", "name": "[PJS] Signup /Buyer | Interaction | First Name", "eventType": "custom", "viewId": null, "apiName": "pjs_signup_buyer_first_name", "id": "17920913924", "eventFilter": null}, {"category": "other", "name": "[PJS] Signup /Buyer | Submits Form", "eventType": "custom", "viewId": null, "apiName": "pjs_signup_buyer_submit", "id": "17922623160", "eventFilter": null}, {"category": "other", "name": "Signup Info Page | Basic Join Now Click", "eventType": "click", "viewId": "17945695206", "apiName": "11000223989_signup_info_page__basic_join_now_click", "id": "17924045899", "eventFilter": {"filterType": "target_selector", "selector": "[href*=\"/Signup/Seller/Basic\"]"}}, {"category": "other", "name": "[PJS] Signup /Buyer | Interaction | I teach", "eventType": "custom", "viewId": null, "apiName": "pjs_signup_buyer_teach", "id": "17932043160", "eventFilter": null}, {"category": "other", "name": "[PJS] Signup /Buyer | Clicked Join Now", "eventType": "custom", "viewId": null, "apiName": "pjs_signup_buyer_cta_click", "id": "17932472134", "eventFilter": null}, {"category": "other", "name": "[PJS] Signup /Buyer | Interaction | I am a", "eventType": "custom", "viewId": null, "apiName": "pjs_signup_buyer_role", "id": "17935754237", "eventFilter": null}, {"category": "other", "name": "[PJS] Signup /Buyer | Interaction | Last Name", "eventType": "custom", "viewId": null, "apiName": "pjs_signup_buyer_last_name", "id": "17942372235", "eventFilter": null}, {"category": "other", "name": "Signup Info Page | Buyer Join Now Click", "eventType": "click", "viewId": "17945695206", "apiName": "11000223989_signup_info_page__buyer_join_now_click", "id": "17965671974", "eventFilter": {"filterType": "target_selector", "selector": "[href*=\"/Signup/Buyer\"]"}}, {"category": "other", "name": "Search / Browse | Clicks on Grade Filter", "eventType": "click", "viewId": "13715460482", "apiName": "11000223989_search__browse__clicks_on_grade_filter", "id": "17967570036", "eventFilter": {"filterType": "target_selector", "selector": ".SpecificGradeCheckbox input[value=\"false\"],.filter-grade .search-filter-wrapper a"}}, {"category": "other", "name": "Signup Info Page | Premium Join Now Click", "eventType": "click", "viewId": "17945695206", "apiName": "11000223989_signup_info_page__premium_join_now_click", "id": "17969472984", "eventFilter": {"filterType": "target_selector", "selector": "[href*=\"/Signup/Seller/Premium\"]"}}, {"category": "other", "name": "[PJS] Signup /Buyer | Email Opt-In", "eventType": "custom", "viewId": null, "apiName": "pjs_signup_buyer_email_opt_in", "id": "18014460090", "eventFilter": null}, {"category": "other", "name": "Buyer Registration - Custom Event", "eventType": "custom", "viewId": null, "apiName": "Registration_Signed Up Success_buyer", "id": "18195676909", "eventFilter": null}, {"category": "other", "name": "Search | Applies All Digital Resources filter", "eventType": "click", "viewId": "13715460482", "apiName": "11000223989_search__applies_all_digital_resources_filter", "id": "18307634983", "eventFilter": {"filterType": "target_selector", "selector": "#label_digital-search-checkbox-Usage_All_Digital_Resources"}}, {"category": "other", "name": "School Access Teachers LP | Form Submissions", "eventType": "click", "viewId": "18254187431", "apiName": "11000223989_school_access_teachers_lp__form_submissions", "id": "18348340012", "eventFilter": {"filterType": "target_selector", "selector": ".Form .LandingPageButton[type=\"submit\"]"}}, {"category": "other", "name": "TPTSA Teacher LP | Click on Hero CTA", "eventType": "click", "viewId": "18254187431", "apiName": "11000223989_tptsa_teacher_lp__click_on_hero_cta", "id": "18348950638", "eventFilter": {"filterType": "target_selector", "selector": ".HeroSection .LandingPageButton"}}, {"category": "other", "name": "[PJS] Search | Digital Resource Clicks", "eventType": "custom", "viewId": null, "apiName": "pjs_search_digital_resource_clicks", "id": "18373950455", "eventFilter": null}, {"category": "other", "name": "Clicks on CF Banner", "eventType": "click", "viewId": "11070712640", "apiName": "11000223989_clicks_on_cf_banner", "id": "18456611241", "eventFilter": {"filterType": "target_selector", "selector": ".HomepageClassFundFeedLayout__learnMoreLink"}}, {"category": "other", "name": "Clicks on Banner", "eventType": "click", "viewId": "17479550609", "apiName": "11000223989_clicks_on_banner", "id": "18496773395", "eventFilter": {"filterType": "target_selector", "selector": ".WishlistClassFundBanner .WishlistClassFundBanner__button .DSButton"}}, {"category": "other", "name": "PDP | TpT Digital Activities | Add to Cart", "eventType": "click", "viewId": "13715460482", "apiName": "11000223989_pdp__tpt_digital_activities__add_to_cart_1", "id": "19085600004", "eventFilter": {"filterType": "target_selector", "selector": "[data-crometrics-isavailablefordigital=\"true\"] .CartButtonContainer button"}}, {"category": "other", "name": "PDP | Follow Seller Click", "eventType": "custom", "viewId": null, "apiName": "Product_Follow seller_", "id": "19189933293", "eventFilter": null}, {"category": "other", "name": "TPTSA Admin LP | Form Engagement", "eventType": "click", "viewId": "17032032318", "apiName": "11000223989_tptsa_admin_lp__form_engagement", "id": "19216872595", "eventFilter": {"filterType": "target_selector", "selector": "input, select, option, .Select-placeholder"}}, {"category": "other", "name": "My Purchases | Open TpT Digital Activity", "eventType": "click", "viewId": "17772951069", "apiName": "11000223989_my_purchases__open_tpt_digital_activity", "id": "19510880003", "eventFilter": {"filterType": "target_selector", "selector": "a[data-testid=\"easel-import-button\"]"}}, {"category": "other", "name": "PDP | Open TpT Digital Activity Click", "eventType": "click", "viewId": "16853811688", "apiName": "11000223989_pdp__open_tpt_digital_activity_click_1", "id": "19980780020", "eventFilter": {"filterType": "target_selector", "selector": ".DigitalToolImportButton"}}, {"category": "other", "name": "[TPT516] Clicks on SA Button", "eventType": "custom", "viewId": null, "apiName": "tpt516_clicks_sa_button", "id": "20008051765", "eventFilter": null}, {"category": "other", "name": "TPT357 Clicks Learn More", "eventType": "click", "viewId": "13715460482", "apiName": "11000223989_tpt357_clicks_learn_more", "id": "20009454554", "eventFilter": {"filterType": "target_selector", "selector": ".tpt-school-access a"}}, {"category": "other", "name": "Clicks on Sponsored Resources | Search Browse", "eventType": "click", "viewId": "13715460482", "apiName": "11000223989_clicks_on_sponsored_resources__search_browse", "id": "20020590225", "eventFilter": {"filterType": "target_selector", "selector": ".PromoProducts .ProductGridCard"}}, {"category": "other", "name": "[TPT360] TPT School Access Form, Modal | Engagement", "eventType": "click", "viewId": "19186070224", "apiName": "11000223989_tpt360_tpt_school_access_form_modal__engagement", "id": "20056410075", "eventFilter": {"filterType": "target_selector", "selector": ".TeacherAdvocacyForm input, .TeacherAdvocacyForm select, .TeacherAdvocacyForm textarea, .TeacherAdvocacyForm .SchoolInput__schoolAutocomplete"}}, {"category": "other", "name": "TPTSA Form Submissions (Sitewide)", "eventType": "click", "viewId": "14334900114", "apiName": "11000223989_tptsa_form_submissions_sitewide", "id": "20056546479", "eventFilter": {"filterType": "target_selector", "selector": "form#TEACHER_ADVOCACY_PARDOT .TeacherAdvocacyForm__submit button"}}, {"category": "other", "name": "[TPT360] TPT School Access Form, Modal | Submits", "eventType": "click", "viewId": "19186070224", "apiName": "11000223989_tpt360_tpt_school_access_form_modal__submits", "id": "20062310731", "eventFilter": {"filterType": "target_selector", "selector": ".TeacherAdvocacyForm .LandingPageButton[type=\"submit\"]:not([disabled])"}}, {"category": "other", "name": "[TPT426] TPT School Access Form, Modal | Engagement", "eventType": "click", "viewId": "13715460482", "apiName": "11000223989_tpt426_tpt_school_access_form_modal__engagement", "id": "20068388621", "eventFilter": {"filterType": "target_selector", "selector": ".TeacherAdvocacyForm input, .TeacherAdvocacyForm select, .TeacherAdvocacyForm textarea, .TeacherAdvocacyForm .SchoolInput__schoolAutocomplete"}}, {"category": "other", "name": "[TPT426] TPT School Access Form, Modal | Submits", "eventType": "click", "viewId": "13715460482", "apiName": "11000223989_tpt426_tpt_school_access_form_modal__submits", "id": "20085877028", "eventFilter": {"filterType": "target_selector", "selector": ".TeacherAdvocacyForm .LandingPageButton[type=\"submit\"]:not([disabled])"}}, {"category": "other", "name": "[TPT358] Click - Acquisition callout - Learn More", "eventType": "click", "viewId": "17479550609", "apiName": "11000223989_tpt358_clicks_learn_more", "id": "20096297312", "eventFilter": {"filterType": "target_selector", "selector": ".tpt-school-access a:not(.tooltip-cta)"}}, {"category": "other", "name": "[TPT364] Click - Learn More Banner", "eventType": "click", "viewId": "12371712421", "apiName": "11000223989_tpt364_click__learn_more_banner", "id": "20107993625", "eventFilter": {"filterType": "target_selector", "selector": ".tpt364-banner a"}}, {"category": "other", "name": "[TPT448] Click - Learn More", "eventType": "custom", "viewId": null, "apiName": "tpt448_click_learn_more", "id": "20114322174", "eventFilter": null}, {"category": "other", "name": "[TPT365] Click - Banner CTA", "eventType": "click", "viewId": "17899101619", "apiName": "11000223989_tpt365_click__banner_cta", "id": "20114385935", "eventFilter": {"filterType": "target_selector", "selector": ".tpt365v0 #tpt340-banner, .tpt365-banner"}}, {"category": "other", "name": "[TPT448] Click - Tell me later", "eventType": "custom", "viewId": null, "apiName": "tpt448_click_tell_me_later", "id": "20118262793", "eventFilter": null}, {"category": "other", "name": "[TPT456] Clicks - Banner CTA", "eventType": "click", "viewId": "14334900114", "apiName": "11000223989_tpt456_clicks__banner_cta", "id": "20121963946", "eventFilter": {"filterType": "target_selector", "selector": ".EaselEyebrowBanner__imageContainer"}}, {"category": "other", "name": "[TPT399] Click - Tooltip - Close", "eventType": "click", "viewId": "20102457421", "apiName": "11000223989_tpt399_click__tooltip__close", "id": "20124440354", "eventFilter": {"filterType": "target_selector", "selector": ".tpt399-tooltip .cro-close"}}, {"category": "other", "name": "[TPT399] Click - Tooltip - CTA", "eventType": "click", "viewId": "20102457421", "apiName": "11000223989_tpt399_click__tooltip__cta", "id": "20126870195", "eventFilter": {"filterType": "target_selector", "selector": ".tpt399-tooltip .tooltip-cta"}}, {"category": "other", "name": "[TPT467] Wishlist - Remove Item", "eventType": "custom", "viewId": null, "apiName": "tpt467_wishlist_remove_item", "id": "20128926282", "eventFilter": null}, {"category": "other", "name": "Click - Nav - TpT School Access", "eventType": "click", "viewId": "20102457421", "apiName": "11000223989_click__nav__tpt_school_access", "id": "20132080287", "eventFilter": {"filterType": "target_selector", "selector": ".HeaderLayout__linkList .HeaderLayout__link a[href=\"/TpTSchoolAccess/Teachers\"]"}}, {"category": "other", "name": "[TPT358] Click - Tooltip - Learn More", "eventType": "click", "viewId": "17479550609", "apiName": "11000223989_tpt358_click__tooltip__learn_more", "id": "20139431648", "eventFilter": {"filterType": "target_selector", "selector": ".tpt358-tooltip .tooltip-cta"}}, {"category": "other", "name": "[TPT467] Click - Modal", "eventType": "click", "viewId": "20130703111", "apiName": "11000223989_tpt467_click__modal", "id": "20140025735", "eventFilter": {"filterType": "target_selector", "selector": "#tpt467-cro-modal"}}, {"category": "other", "name": "[TPT462] Click - Modal", "eventType": "click", "viewId": "20138770340", "apiName": "11000223989_tpt462_click__modal", "id": "20146255936", "eventFilter": {"filterType": "target_selector", "selector": "#tpt462-cro-modal"}}, {"category": "other", "name": "[TPT-481] My Purchases | Open TpT Digital Activity", "eventType": "custom", "viewId": null, "apiName": "tpt481_my_purchases_open_tpt_digital_activity", "id": "20154130092", "eventFilter": null}, {"category": "other", "name": "[TPT517] TPTSA Admin - Clicks on header CTA", "eventType": "click", "viewId": "17032032318", "apiName": "11000223989_tpt517_tptsa_admin__clicks_on_header_cta", "id": "20201652430", "eventFilter": {"filterType": "target_selector", "selector": ".SectionContainer.HERO .DSButton, .cro-hero-right .DSButton[type=\"submit\"]:not(.DSButton--disabled)"}}, {"category": "other", "name": "[TPT565] Click - Modal", "eventType": "click", "viewId": "19186070224", "apiName": "11000223989_tpt465_click__modal", "id": "20202388392", "eventFilter": {"filterType": "target_selector", "selector": "#tpt565-cro-modal"}}, {"category": "other", "name": "[TPT565] Wishlist - Remove Item", "eventType": "custom", "viewId": null, "apiName": "tpt565_wishlist_remove_item", "id": "20206404109", "eventFilter": null}, {"category": "other", "name": "[PJS][HEAP] da_sign_up_form_submit_accept_buyer_tos_success_", "eventType": "custom", "viewId": null, "apiName": "pjs_heap_da_sign_up_form_submit_accept_buyer_tos_success_", "id": "20206443925", "eventFilter": null}, {"category": "other", "name": "[TPT576] PDP Only Click - Add one to Cart", "eventType": "custom", "viewId": null, "apiName": "tpt576_pdp_only_click_add_one_to_cart", "id": "20206845960", "eventFilter": null}, {"category": "other", "name": "My Purchases | Downloads Item/Resource", "eventType": "click", "viewId": "17772951069", "apiName": "11000223989_my_purchases__downloads_itemresource", "id": "20215637732", "eventFilter": {"filterType": "target_selector", "selector": "[data-testid=\"download-button\"] a"}}, {"category": "other", "name": "[TPT576] TOTAL - View in Cart", "eventType": "custom", "viewId": null, "apiName": "tpt576_total_view_in_cart", "id": "20216115812", "eventFilter": null}, {"category": "other", "name": "[TPT556] PDP Only Click - View in Cart", "eventType": "custom", "viewId": null, "apiName": "tpt556_pdp_only_click_view_in_cart", "id": "20218702572", "eventFilter": null}, {"category": "other", "name": "[PJS][HEAP] da_sign_up_display_buyer_tos", "eventType": "custom", "viewId": null, "apiName": "pjs_heap_da_sign_up_display_buyer_tos", "id": "20220066513", "eventFilter": null}, {"category": "other", "name": "[TPT282] Clicked Next Button Step 1", "eventType": "click", "viewId": "16909484157", "apiName": "11000223989_tpt282_clicked_next_button_step_1", "id": "20221044536", "eventFilter": {"filterType": "target_selector", "selector": "#tpt282-next-btn:not(.DSButton--disabled)"}}, {"category": "other", "name": "[PJS][HEAP] ACCEPT_TOS_SUCCESS", "eventType": "custom", "viewId": null, "apiName": "pjs_heap_ACCEPT_TOS_SUCCESS", "id": "20223679130", "eventFilter": null}, {"category": "other", "name": "[TPT611] Influencer Video - 10% Watched", "eventType": "custom", "viewId": null, "apiName": "tpt611_influencer_10", "id": "20224827963", "eventFilter": null}, {"category": "other", "name": "[PJS][HEAP] Easel LP - Click - Any Button to Product Page", "eventType": "custom", "viewId": null, "apiName": "pjs_heap_easel_lp_click_any_button_to_product_page", "id": "20224876418", "eventFilter": null}, {"category": "other", "name": "[TPT611] Any Video - 100% Watched", "eventType": "custom", "viewId": null, "apiName": "tpt611_how_to_video_100", "id": "20224927266", "eventFilter": null}, {"category": "other", "name": "[PJS][HEAP] ASSIGN_MODAL_OPENED", "eventType": "custom", "viewId": null, "apiName": "pjs_heap_ASSIGN_MODAL_OPENED", "id": "20227458077", "eventFilter": null}, {"category": "other", "name": "[PJS][HEAP] BUYER_TOS_SHOWN", "eventType": "custom", "viewId": null, "apiName": "pjs_heap_BUYER_TOS_SHOWN", "id": "20229974399", "eventFilter": null}, {"category": "other", "name": "[TPT611] Click - How To Video square", "eventType": "custom", "viewId": null, "apiName": "tpt611_click_howto", "id": "20230848765", "eventFilter": null}, {"category": "other", "name": "[TPT563] Clicks on Banner", "eventType": "click", "viewId": "11070712640", "apiName": "11000223989_tpt563_clicks_on_banner", "id": "20234560287", "eventFilter": {"filterType": "target_selector", "selector": ".tpt563-banner a"}}, {"category": "other", "name": "[TPT611] Click - Influencer square", "eventType": "custom", "viewId": null, "apiName": "tpt611_click_influencer", "id": "20236078470", "eventFilter": null}, {"category": "other", "name": "[TPT564] Clicks on Banner", "eventType": "click", "viewId": "11070712640", "apiName": "11000223989_tpt564_clicks_on_banner", "id": "20236100835", "eventFilter": {"filterType": "target_selector", "selector": "#tpt564-modal a"}}, {"category": "other", "name": "[TPT611] Influencer - 50% Watched", "eventType": "custom", "viewId": null, "apiName": "tpt611_influencer_50", "id": "20236375767", "eventFilter": null}, {"category": "other", "name": "[PJS][HEAP] CREATE_BLANK_ACTIVITY_SUCCESS", "eventType": "custom", "viewId": null, "apiName": "pjs_heap_CREATE_BLANK_ACTIVITY_SUCCESS", "id": "20237583420", "eventFilter": null}, {"category": "other", "name": "[TPT576] Modal Only Click - View in Cart", "eventType": "custom", "viewId": null, "apiName": "tpt576_modal_only_click_view_in_cart", "id": "20238136460", "eventFilter": null}, {"category": "other", "name": "[TPT611] How To Video - 10% Watched", "eventType": "custom", "viewId": null, "apiName": "tpt611_works_10", "id": "20238175629", "eventFilter": null}, {"category": "other", "name": "[TPT556] PDP Only Click - Add one to Cart", "eventType": "custom", "viewId": null, "apiName": "tpt556_pdp_only_click_add_one_to_cart", "id": "20239882023", "eventFilter": null}, {"category": "other", "name": "[TPT611] How To - 50% Watched", "eventType": "custom", "viewId": null, "apiName": "tpt611_works_50", "id": "20241636289", "eventFilter": null}, {"category": "other", "name": "[TPT611] Click - Instructional practices PDF square", "eventType": "custom", "viewId": null, "apiName": "tpt611_click_pdf", "id": "20241962914", "eventFilter": null}, {"category": "other", "name": "[TPT611] Click - Blog post square", "eventType": "custom", "viewId": null, "apiName": "tpt611_click_blog", "id": "20243975137", "eventFilter": null}, {"category": "other", "name": "[TPT611] Influencer - 100% Watched", "eventType": "custom", "viewId": null, "apiName": "tpt611_influencer_100", "id": "20247497057", "eventFilter": null}, {"category": "other", "name": "[TPT556] Modal Only Click - Add one to Cart", "eventType": "custom", "viewId": null, "apiName": "tpt556_modal_only_click_add_one_to_cart", "id": "20249372190", "eventFilter": null}, {"category": "other", "name": "[TPT642] Click - Feature 2", "eventType": "custom", "viewId": null, "apiName": "tpt642_click_feature_2", "id": "20251765834", "eventFilter": null}, {"category": "other", "name": "[TPT556] TOTAL - View in Cart", "eventType": "custom", "viewId": null, "apiName": "tpt556_total_view_in_cart", "id": "20252080791", "eventFilter": null}, {"category": "other", "name": "[TPT556] Modal Only Click - View in Cart", "eventType": "custom", "viewId": null, "apiName": "tpt556_modal_only_click_view_in_cart", "id": "20253013640", "eventFilter": null}, {"category": "other", "name": "[TPT611] Any Video - 10% Watched", "eventType": "custom", "viewId": null, "apiName": "tpt611_how_to_video_10", "id": "20253017367", "eventFilter": null}, {"category": "other", "name": "[TPT611] How To - 100% Watched", "eventType": "custom", "viewId": null, "apiName": "tpt611_works_100", "id": "20253057581", "eventFilter": null}, {"category": "other", "name": "[TPT611] Any Video - 50% Watched", "eventType": "custom", "viewId": null, "apiName": "tpt611_how_to_video_50", "id": "20255037833", "eventFilter": null}, {"category": "other", "name": "[PJS][HEAP] Buyer Actions - Click - Create Digital Activity (from all places)", "eventType": "custom", "viewId": null, "apiName": "pjs_heap_buyer_actions_create_digital_activity", "id": "20256673258", "eventFilter": null}, {"category": "other", "name": "[TPT576] Modal Only Click - Add one to Cart", "eventType": "custom", "viewId": null, "apiName": "tpt576_modal_only_click_add_one_to_cart", "id": "20259195306", "eventFilter": null}, {"category": "other", "name": "[TPT576] PDP Only Click - View in Cart", "eventType": "custom", "viewId": null, "apiName": "tpt576_pdp_only_click_view_in_cart", "id": "20259293643", "eventFilter": null}, {"category": "other", "name": "[TPT642] Click - Feature 3", "eventType": "custom", "viewId": null, "apiName": "tpt642_click_feature_3", "id": "20263954052", "eventFilter": null}, {"category": "other", "name": "[PJS][HEAP] Easel LP - View - Landing Page", "eventType": "custom", "viewId": null, "apiName": "pjs_heap_easel_lp_view", "id": "20269664745", "eventFilter": null}, {"category": "other", "name": "[PJS][HEAP] GET_ACTIVITY_SUCCESS", "eventType": "custom", "viewId": null, "apiName": "pjs_heap_get_activity_success", "id": "20275418397", "eventFilter": null}, {"category": "other", "name": "[TPT642] Click - Feature 4", "eventType": "custom", "viewId": null, "apiName": "tpt642_click_feature_4", "id": "20277275466", "eventFilter": null}, {"category": "other", "name": "[TPT556] TOTAL - Add one to Cart", "eventType": "custom", "viewId": null, "apiName": "tpt556_total_add_one_to_cart", "id": "20277314016", "eventFilter": null}, {"category": "other", "name": "[TPT681] TOTAL - View in Cart", "eventType": "custom", "viewId": null, "apiName": "tpt681_total_view_in_cart", "id": "20280895902", "eventFilter": null}, {"category": "other", "name": "[TPT576] TOTAL - Add one to Cart", "eventType": "custom", "viewId": null, "apiName": "tpt576_total_add_one_to_cart", "id": "20283320265", "eventFilter": null}, {"category": "other", "name": "[TPT642] Click - Feature 1", "eventType": "custom", "viewId": null, "apiName": "tpt642_click_feature_1", "id": "20284953155", "eventFilter": null}, {"category": "other", "name": "[TPT681] TOTAL - Add one to Cart", "eventType": "custom", "viewId": null, "apiName": "tpt681_total_add_one_to_cart", "id": "20286445603", "eventFilter": null}, {"category": "other", "name": "[TPT579] Click Banner", "eventType": "click", "viewId": "20216364376", "apiName": "11000223989_tpt579_click_banner", "id": "20316630218", "eventFilter": {"filterType": "target_selector", "selector": "#optimizelyBanner"}}, {"category": "other", "name": "[TPT704] PFD Banner - Clicks CTA", "eventType": "click", "viewId": "12371712421", "apiName": "11000223989_tpt704_pfd_banner__clicks_cta", "id": "20355512891", "eventFilter": {"filterType": "target_selector", "selector": ".tpt364-banner > a"}}, {"category": "other", "name": "[TPT714] Navigation | Clicks on TPTSA Tooltip CTA", "eventType": "click", "viewId": "20102457421", "apiName": "11000223989_tpt714_navigation__clicks_on_tptsa_tooltip_cta", "id": "20360798559", "eventFilter": {"filterType": "target_selector", "selector": ".tpt714-tooltip .tooltip-cta"}}, {"category": "other", "name": "[TPT714] Navigation | Exits TPTSA Tooltip", "eventType": "click", "viewId": "20102457421", "apiName": "11000223989_tpt714_navigation__exits_tptsa_tooltip", "id": "20366370825", "eventFilter": {"filterType": "target_selector", "selector": ".tpt714-tooltip .cro-close"}}, {"category": "other", "name": "[TPT662/741] Homepage | Homepage Featured Banner Clicks ", "eventType": "custom", "viewId": null, "apiName": "tpt662_homepage_featured_banner_clicks", "id": "20375817455", "eventFilter": null}, {"category": "other", "name": "TpT ClassFund LP | Create my page clicks", "eventType": "click", "viewId": "16350010227", "apiName": "11000223989_tpt_classfund_lp__create_my_page_clicks_1", "id": "20379085824", "eventFilter": {"filterType": "target_selector", "selector": ".DSButton.LandingPageButton"}}, {"category": "other", "name": "[TPT612] Search | In-line TPTSA Callout Clicks ", "eventType": "click", "viewId": "13715460482", "apiName": "11000223989_tpt612_search__inline_tptsa_callout_clicks_", "id": "20404853656", "eventFilter": {"filterType": "target_selector", "selector": ".tpt612-tpt-school-access > a, .tpt612-tooltip .tooltip-cta, .tpt-school-access a.Button"}}, {"category": "other", "name": "[TPT727] Wishlist | Clicks on TPTSA CTA", "eventType": "click", "viewId": "17479550609", "apiName": "11000223989_tpt727_wishlist__clicks_on_tptsa_cta", "id": "20407271647", "eventFilter": {"filterType": "target_selector", "selector": ".tpt727-tooltip .tooltip-cta, .tpt727v0 .tpt-school-access .Button, .tpt-school-access a.access-link"}}, {"category": "other", "name": "[TPT659] | Homepage | Modal CTA clicks", "eventType": "click", "viewId": "11070712640", "apiName": "11000223989_tpt659__homepage__modal_cta_clicks", "id": "20424661494", "eventFilter": {"filterType": "target_selector", "selector": "#tpt659-modal .btn, #tpt659-modal .cro-modal__content__image a"}}, {"category": "other", "name": "[TPT751] Post Purchase TPTSA Banner Click", "eventType": "click", "viewId": "17899101619", "apiName": "11000223989_tpt751_post_purchase_tptsa_banner_click", "id": "20445564794", "eventFilter": {"filterType": "target_selector", "selector": ".tpt751-banner-button, .PostPurchaseTpTSABannerLayout .Anchor, .cro-post-purchase-banner a"}}, {"category": "other", "name": "[TPT792] Navigation | Exits TPTSA Tooltip", "eventType": "custom", "viewId": null, "apiName": "tpt792-clicks-tptsa-exit", "id": "20449848334", "eventFilter": null}, {"category": "other", "name": "[TPT765] Exits on Wishlist Modal", "eventType": "custom", "viewId": null, "apiName": "tpt765_exits_modal", "id": "20456728663", "eventFilter": null}, {"category": "other", "name": "[TPT742] Post-FDL TPTSA Banner Click", "eventType": "click", "viewId": "12371712421", "apiName": "11000223989_tpt742_postfdl_tptsa_banner_click", "id": "20457025079", "eventFilter": {"filterType": "target_selector", "selector": ".tpt742-banner-button, .tpt364-banner a"}}, {"category": "other", "name": "[TPT758] Post Purchase TPTSA Banner Click", "eventType": "click", "viewId": "17899101619", "apiName": "11000223989_tpt758_post_purchase_tptsa_banner_click", "id": "20464017888", "eventFilter": {"filterType": "target_selector", "selector": ".tpt758-banner-button, .PostPurchaseTpTSABannerLayout .Anchor"}}, {"category": "other", "name": "[TPT770] CTA Clicks on Wishlist Modal", "eventType": "custom", "viewId": null, "apiName": "tpt770_cta_clicks", "id": "20470128624", "eventFilter": null}, {"category": "other", "name": "[TPT770] Exits on Wishlist Modal", "eventType": "custom", "viewId": null, "apiName": "tpt770_exits_modal", "id": "20483046893", "eventFilter": null}, {"category": "other", "name": "[TPT801] Callout Click", "eventType": "custom", "viewId": null, "apiName": "tpt801-callout-click", "id": "20486835950", "eventFilter": null}, {"category": "other", "name": "[TPT792] Navigation | Clicks on TPTSA Tooltip CTA", "eventType": "custom", "viewId": null, "apiName": "tpt792-clicks-tptsa-tooltip", "id": "20487744730", "eventFilter": null}, {"category": "other", "name": "[TPT801] Tooltip CTA Click", "eventType": "custom", "viewId": null, "apiName": "tpt801-tooltip-cta-click", "id": "20492036076", "eventFilter": null}, {"category": "other", "name": "[TPT765] CTA Clicks on Wishlist Modal", "eventType": "custom", "viewId": null, "apiName": "tpt765_cta_clicks", "id": "20493621207", "eventFilter": null}, {"category": "other", "name": "[TPT793] Search | In-line TPTSA Callout Clicks", "eventType": "custom", "viewId": null, "apiName": "tpt793-inline-tptsa-callout-clicks", "id": "20494152695", "eventFilter": null}, {"category": "other", "name": "[TPT-798] Wishlist Popup CTA clicks", "eventType": "custom", "viewId": null, "apiName": "tpt798_wishlist_popup_cta_clicks", "id": "20495945916", "eventFilter": null}, {"category": "other", "name": "Wishlist | Add To Cart", "eventType": "custom", "viewId": null, "apiName": "wishlist-add-to-cart", "id": "20499668681", "eventFilter": null}, {"category": "other", "name": "[TPT-798] Wishlist Popup Exits", "eventType": "custom", "viewId": null, "apiName": "tpt798_wishlist_popup_exits", "id": "20513432279", "eventFilter": null}, {"category": "other", "name": "TPT743 | Homepage | Modal CTA clicks", "eventType": "click", "viewId": "11070712640", "apiName": "11000223989_tpt743__homepage__modal_cta_clicks", "id": "20517070341", "eventFilter": {"filterType": "target_selector", "selector": ".cro-modal .support-cta, .cro-modal a.btn[href]"}}, {"category": "other", "name": "[TPT801] Tooltip Exits", "eventType": "custom", "viewId": null, "apiName": "tpt801-tooltip-exits", "id": "20533131752", "eventFilter": null}, {"category": "other", "name": "[TPT790] Homepage | Modal CTA Clicks", "eventType": "custom", "viewId": null, "apiName": "tpt790_homepage_modal_cta_clicks", "id": "20545662817", "eventFilter": null}, {"category": "other", "name": "Modal Only Click - Open Digital Activity", "eventType": "click", "viewId": "14334900114", "apiName": "11000223989_modal_only_click__open_digital_activity", "id": "20551813909", "eventFilter": {"filterType": "target_selector", "selector": ".ProductAccessModal .DialogModal__body [data-testid=\"easel-import-button\"]"}}, {"category": "other", "name": "Modal Only Click - Download", "eventType": "click", "viewId": "14334900114", "apiName": "11000223989_modal_only_click__download", "id": "20555685274", "eventFilter": {"filterType": "target_selector", "selector": ".ProductAccessModal .DialogModal__body [data-testid=\"download-button\"] a"}}, {"category": "other", "name": "[TPT754] Homepage | Matched HP Banner CTA Click", "eventType": "click", "viewId": "11070712640", "apiName": "11000223989_tpt754_homepage__matched_hp_banner_cta_click", "id": "20559477952", "eventFilter": {"filterType": "target_selector", "selector": ".tpt754v1 .CroCountdownBannerLayout a, .tpt754v0 .tpt754-box"}}, {"category": "other", "name": "[TPT812] Post-FDL Banner Click", "eventType": "click", "viewId": "12371712421", "apiName": "11000223989_tpt812_postfdl_banner_click", "id": "20566651310", "eventFilter": {"filterType": "target_selector", "selector": ".tpt812-banner a"}}, {"category": "other", "name": "[TPT856] Post-FDL TPTSA Banner Click", "eventType": "custom", "viewId": null, "apiName": "tpt856_post_fdl_tptsa_banner_click", "id": "20593150696", "eventFilter": null}, {"category": "other", "name": "[TPT885] Clicks on Nav CTA", "eventType": "click", "viewId": "20102457421", "apiName": "11000223989_tpt885_clicks_on_nav_cta", "id": "20594075854", "eventFilter": {"filterType": "target_selector", "selector": ".tpt885-tooltip .tooltip-cta"}}, {"category": "other", "name": "[TPT885] Exits on global nav", "eventType": "click", "viewId": "20102457421", "apiName": "11000223989_tpt885_exits_on_global_nav", "id": "20614740105", "eventFilter": {"filterType": "target_selector", "selector": "div.tpt885-tooltip .Tooltip__closeIcon"}}, {"category": "other", "name": "[PJS] Easel - Viewed - Copy Link on Assign Modal", "eventType": "custom", "viewId": null, "apiName": "pjs_easel_viewed_copy_link_on_assign_modal", "id": "20620940208", "eventFilter": null}, {"category": "other", "name": "[TPT848] PDP | TPTSA Access Now Tooltip Exits", "eventType": "custom", "viewId": null, "apiName": "tpt848_pdp_tptsa_access_now_tooltip_exits", "id": "20696731481", "eventFilter": null}, {"category": "other", "name": "[TPT859] My Purchases Banner CTA Clicks", "eventType": "click", "viewId": "20683830014", "apiName": "11000223989_tpt859_my_purchases_banner_cta_clicks_1", "id": "20712980488", "eventFilter": {"filterType": "target_selector", "selector": ".tpt859-cf-banner a, .MyPurchasesPageLayout__rightColumn--content [data-testid=\"classfund-banner-link\"]"}}, {"category": "other", "name": "[TPT848] PDP | TPTSA Access Now CTA", "eventType": "custom", "viewId": null, "apiName": "tpt848_pdp_tptsa_access_now_cta", "id": "20729210469", "eventFilter": null}, {"category": "other", "name": "[TPT875] Post-FDL Banner Click", "eventType": "click", "viewId": "12371712421", "apiName": "11000223989_tpt875_postfdl_banner_click", "id": "20738110032", "eventFilter": {"filterType": "target_selector", "selector": ".tpt875-banner a"}}, {"category": "other", "name": "[TPT947] Digital Promise Badge | Tell me later clicks", "eventType": "custom", "viewId": null, "apiName": "tpt947-digital-promise-badge-tell-me-later-clicks", "id": "20768691635", "eventFilter": null}, {"category": "other", "name": "[TPT895] Browse | TPTSA Access Now CTA Clicks", "eventType": "click", "viewId": "13715460482", "apiName": "11000223989_tpt895_browse__tptsa_access_now_cta_clicks_1", "id": "20779810737", "eventFilter": {"filterType": "target_selector", "selector": ".tpt895-sa--button"}}, {"category": "other", "name": "[TPT947] Digital Promise Badge | Exit clicks", "eventType": "custom", "viewId": null, "apiName": "tpt947-digital-promise-badge-exit-clicks", "id": "20782490241", "eventFilter": null}, {"category": "other", "name": "[TPT895] Browse | TPTSA Access Now Tooltip Exits", "eventType": "click", "viewId": "13715460482", "apiName": "11000223989_tpt895_browse__tptsa_access_now_tooltip_exits_1", "id": "20790990926", "eventFilter": {"filterType": "target_selector", "selector": ".tpt895-sa--close-x"}}, {"category": "other", "name": "[TPT947] Digital Promise Badge | Learn More clicks", "eventType": "custom", "viewId": null, "apiName": "tpt947-digital-promise-badge-learn-more-clicks", "id": "20791071837", "eventFilter": null}, {"category": "other", "name": "[PJS][HEAP] Easel Assessments - Completed Step 1", "eventType": "custom", "viewId": null, "apiName": "pjs_heap_easel_assessments_completed_step_1", "id": "20804590456", "eventFilter": null}, {"category": "other", "name": "[PJS][HEAP] TPTSA | Resources Accessed [primary metric]", "eventType": "custom", "viewId": null, "apiName": "pjs_heap_tptsa_resources_accessed", "id": "20830190832", "eventFilter": null}, {"category": "other", "name": "[PJS][HEAP] Easel Assessments - Flow Completed", "eventType": "custom", "viewId": null, "apiName": "pjs_heap_easel_assessments_flow_completed", "id": "20834160371", "eventFilter": null}, {"category": "other", "name": "[TPT960] PDP | TPTSA Access Now Tooltip Exits", "eventType": "custom", "viewId": null, "apiName": "tpt960_pdp_tptsa_access_now_tooltip_exits", "id": "20836350725", "eventFilter": null}, {"category": "other", "name": "[PJS][HEAP] DA Buyer Assign - Backend - Create Access Code (Success)", "eventType": "custom", "viewId": null, "apiName": "pjs_heap_da_buyer_assign_backend_create_access_code_success", "id": "20841500737", "eventFilter": null}, {"category": "other", "name": "[PJS][HEAP] Easel Assessments - Flow Skipped", "eventType": "custom", "viewId": null, "apiName": "pjs_heap_easel_assessments_flow_skipped", "id": "20842190095", "eventFilter": null}, {"category": "other", "name": "[PJS][HEAP] Schools - DA Buyer - Backend - Open Activity (Success)", "eventType": "custom", "viewId": null, "apiName": "pjs_heap_schools_da_buyer_backend_open_activity_success", "id": "20843280788", "eventFilter": null}, {"category": "other", "name": "[TPT960] PDP | TPTSA Access Now CTA", "eventType": "custom", "viewId": null, "apiName": "tpt960_pdp_tptsa_access_now_cta", "id": "20857080963", "eventFilter": null}, {"category": "other", "name": "[TPT968] Header | Clicks on About Us", "eventType": "custom", "viewId": null, "apiName": "tpt968-header-clicks-on-about-us", "id": "20858871389", "eventFilter": null}, {"category": "other", "name": "[TPT968] Header | Clicks on Help", "eventType": "custom", "viewId": null, "apiName": "tpt968-header-clicks-on-help", "id": "20863821964", "eventFilter": null}, {"category": "other", "name": "[TPT968] Header | Opens User Profile", "eventType": "custom", "viewId": null, "apiName": "tpt968-header-opens-user-profile", "id": "20869952229", "eventFilter": null}, {"category": "other", "name": "[TPT-980] Wishlist | All TPTSA Callout CTA Click", "eventType": "custom", "viewId": null, "apiName": "tpt980-wishlist-all-tptsa-callout-cta-click", "id": "20870340377", "eventFilter": null}, {"category": "other", "name": "[TPT-975] Search | In-Line TPTSA Callout Clicks", "eventType": "custom", "viewId": null, "apiName": "tpt975-search-in-line-tptsa-callout-clicks", "id": "20870370666", "eventFilter": null}, {"category": "other", "name": "[TPT-980] Wishlist | Tooltip TPTSA Callout CTA Click", "eventType": "custom", "viewId": null, "apiName": "tpt980-wishlist-tooltip-tptsa-callout-cta-click", "id": "20871460522", "eventFilter": null}, {"category": "other", "name": "[TPT968] Header | Search Bar Interactions", "eventType": "custom", "viewId": null, "apiName": "tpt968-header-search-bar-interactions", "id": "20871692522", "eventFilter": null}, {"category": "other", "name": "[TPT968] Header | Clicks on Activities/Assessments | Easel by TPT", "eventType": "custom", "viewId": null, "apiName": "tpt968-header-clicks-on-activites-assessments-easel-by-tpt", "id": "20871991957", "eventFilter": null}, {"category": "other", "name": "[TPT968] Header | Clicks on Catalog", "eventType": "custom", "viewId": null, "apiName": "tpt968-header-clicks-on-catalog", "id": "20875722171", "eventFilter": null}, {"category": "other", "name": "[TPT968] Header | Clicks on TPT ClassFund", "eventType": "custom", "viewId": null, "apiName": "tpt968-header-clicks-on-tpt-classfund", "id": "20877752507", "eventFilter": null}, {"category": "other", "name": "[TPT-980] Wishlist | On-page TPTSA Callout CTA Click", "eventType": "custom", "viewId": null, "apiName": "tpt980-wishlist-on-page-tptsa-callout-cta-click", "id": "20881260956", "eventFilter": null}, {"category": "other", "name": "[TPT968] Interacts with Left Filter Rail | Homepage", "eventType": "custom", "viewId": null, "apiName": "tpt968-interacts-with-left-filter-rail-homepage", "id": "20886040186", "eventFilter": null}, {"category": "other", "name": "[TPT-975] Search | On-page TPTSA Callout CTA Click", "eventType": "custom", "viewId": null, "apiName": "tpt975-search-on-page-tptsa-callout-cta-click", "id": "20886181006", "eventFilter": null}, {"category": "other", "name": "[TPT968] Search Bar | Type + Click Icon", "eventType": "custom", "viewId": null, "apiName": "tpt968-search-bar-type-click-icon", "id": "20890723834", "eventFilter": null}, {"category": "other", "name": "[TPT968] Search Dropdown | Clicks on \"See All Results for {Search Term}\"", "eventType": "custom", "viewId": null, "apiName": "tpt968-search-dropdown-clicks-on-see-all-results-for-x", "id": "20894794878", "eventFilter": null}, {"category": "other", "name": "[TPT968] Header | Clicks on Cart", "eventType": "custom", "viewId": null, "apiName": "tpt968-header-clicks-on-cart", "id": "20896961387", "eventFilter": null}, {"category": "other", "name": "[TPT1015] PDP | TPTSA Access Now Tooltip Clicks", "eventType": "click", "viewId": "19186070224", "apiName": "11000223989_tpt1015_pdp__tptsa_access_now_tooltip_clicks", "id": "20898043583", "eventFilter": {"filterType": "target_selector", "selector": ".cro-tooltip"}}, {"category": "other", "name": "VA Landing Page | Clicks on Create Invitation", "eventType": "click", "viewId": "20904526463", "apiName": "11000223989_va_landing_page__clicks_on_create_invitation", "id": "20898487216", "eventFilter": {"filterType": "target_selector", "selector": "button[data-testid=\"create-invite-button\"]"}}, {"category": "other", "name": "[TPT968] Header | Clicks on Gift Cards", "eventType": "custom", "viewId": null, "apiName": "tpt968-header-clicks-on-gift-cards", "id": "20905330210", "eventFilter": null}, {"category": "other", "name": "[TPT968] Header | Clicks on TPT School Access", "eventType": "custom", "viewId": null, "apiName": "tpt968-header-clicks-on-tpt-school-access", "id": "20907080380", "eventFilter": null}, {"category": "other", "name": "[TPT968] Header | Clicks on Easel by TPT", "eventType": "custom", "viewId": null, "apiName": "tpt968-header-clicks-on-easel-by-tpt", "id": "20907210389", "eventFilter": null}, {"category": "other", "name": "[TPT887] Clicks on Homepage Banner CTA", "eventType": "click", "viewId": "11070712640", "apiName": "11000223989_tpt887_clicks_on_homepage_banner_cta", "id": "20907691047", "eventFilter": {"filterType": "target_selector", "selector": ".TpTSABannerLayout .Anchor, .CroHomePageBannerLayout .Anchor, .tpt887Banner__Cta"}}, {"category": "other", "name": "[TPT-968] Clicks on resource in \u201cDevice and hybrid resources\u201d section", "eventType": "custom", "viewId": null, "apiName": "tpt968-clicks-on-resource-in-device-and-hybrid-resources-section", "id": "20907923912", "eventFilter": null}, {"category": "other", "name": "[TPT968] Search Bar | Clicks Into Search Field", "eventType": "custom", "viewId": null, "apiName": "tpt968-search-bar-clicks-into-search-field", "id": "20909605107", "eventFilter": null}, {"category": "other", "name": "[TPT968] Search Dropdown | Clicks on \"Show Me Digital Resources for {Search Term}\"", "eventType": "custom", "viewId": null, "apiName": "tpt968-search-dropdown-clicks-on-show-me-digital-resources-for-x", "id": "20909985214", "eventFilter": null}, {"category": "other", "name": "[TPT968] Header | Clicks on Filter Link | Catalog or Browse", "eventType": "custom", "viewId": null, "apiName": "tpt968-header-clicks-on-filter-link-catalog-or-browse", "id": "20911070175", "eventFilter": null}, {"category": "other", "name": "[TPT968] Search Dropdown | Clicks on \"Suggestions\" Suggestion", "eventType": "custom", "viewId": null, "apiName": "tpt968-search-dropdown-clicks-on-suggestions-suggestion", "id": "20912085814", "eventFilter": null}, {"category": "other", "name": "[TPT1014] Clicks on PFDL Banner CTA", "eventType": "click", "viewId": "12371712421", "apiName": "11000223989_tpt1014_clicks_on_pfdl_banner_cta", "id": "20912435001", "eventFilter": {"filterType": "target_selector", "selector": ".tpt1014-banner-button"}}, {"category": "other", "name": "[TPT910] Any Open Digital Activity click", "eventType": "custom", "viewId": null, "apiName": "tpt910_any_open_digital_activity_click", "id": "20912641760", "eventFilter": null}, {"category": "other", "name": "[TPT968] Search Dropdown | Clicks on \"Show Me Digital Resources\"", "eventType": "custom", "viewId": null, "apiName": "tpt968-search-dropdown-clicks-on-show-me-digital-resources", "id": "20912924566", "eventFilter": null}, {"category": "other", "name": "[TPT1040] Clicks on PFDL Banner CTA", "eventType": "custom", "viewId": null, "apiName": "tpt1040-clicks-on-pfdl-banner-cta", "id": "20913495297", "eventFilter": null}, {"category": "other", "name": "[TPT1015]  PDP | TPTSA Access Now Tooltip Exits", "eventType": "custom", "viewId": null, "apiName": "tpt1015_pdp_tptsa_access_now_tooltip_exits", "id": "20914231490", "eventFilter": null}, {"category": "other", "name": "[TPT968] Search Bar | Type + Press Enter", "eventType": "custom", "viewId": null, "apiName": "tpt968-search-bar-type-press-enter", "id": "20917363832", "eventFilter": null}, {"category": "other", "name": "[TPT-975] Search | All TPTSA Callout CTA Click", "eventType": "custom", "viewId": null, "apiName": "tpt975-search-all-tptsa-callout-cta-click", "id": "20919340732", "eventFilter": null}, {"category": "other", "name": "TPT SA | Search Bar | Interaction", "eventType": "click", "viewId": "20888881849", "apiName": "11000223989_tpt_sa__search_bar__interaction", "id": "20921601801", "eventFilter": {"filterType": "target_selector", "selector": "#searchBar"}}, {"category": "other", "name": "[TPT1053] Clicks on Banner CTA", "eventType": "custom", "viewId": null, "apiName": "tpt1053_clicks_banner_cta", "id": "20922172647", "eventFilter": null}, {"category": "other", "name": " TPTSA | Sitewide | Resource accessed", "eventType": "click", "viewId": "20888881849", "apiName": "11000223989__tptsa__sitewide__resource_accessed", "id": "20926490020", "eventFilter": {"filterType": "target_selector", "selector": "[data-heap-id=\"Access Clarity Modal\"] [data-heap-id=\"Download Access Now Button\"], [class*=\"ResourceAccessModal_accessButton\"] [data-heap-id=\"Download Access Now Button\"], [data-heap-id=\"Download Again Button\"], [data-heap-id=\"Download Free Button\"], [data-heap-id=\"Download Access Now Button\"]"}}, {"category": "other", "name": "TPT SA | Resource Details | Resource bookmarked", "eventType": "click", "viewId": "20951020481", "apiName": "11000223989_tpt_sa__resource_details__resource_bookmarked", "id": "20926932312", "eventFilter": {"filterType": "target_selector", "selector": "[data-heap-id=\"Bookmark Button\"]"}}, {"category": "other", "name": "Easel | Activity | Back Button Clicks", "eventType": "click", "viewId": "20142284864", "apiName": "11000223989_easel__activity__back_button_clicks", "id": "20927090297", "eventFilter": {"filterType": "target_selector", "selector": "button[data-test-id=\"back-button\"]"}}, {"category": "other", "name": "[TPT1055] Banner CTA Clicks", "eventType": "custom", "viewId": null, "apiName": "tpt1055-banner-cta-clicks", "id": "20927326603", "eventFilter": null}, {"category": "other", "name": "[TPT968] Header | Clicks on TPT School Access Dropdown CTA", "eventType": "custom", "viewId": null, "apiName": "tpt968-header-clicks-on-tptsa-dropdown-cta", "id": "20929061920", "eventFilter": null}, {"category": "other", "name": "[TPT968] Search Dropdown | Clicks on \"Sellers\" Suggestion", "eventType": "custom", "viewId": null, "apiName": "tpt968-search-dropdown-clicks-on-sellers-suggestion", "id": "20930650954", "eventFilter": null}, {"category": "other", "name": "[TPT968] Search Dropdown | Clicks on \"Resources\" Suggestion", "eventType": "custom", "viewId": null, "apiName": "tpt968-search-dropdown-clicks-on-resources-suggestion", "id": "20930691385", "eventFilter": null}, {"category": "other", "name": "[TPT1043] Clicks on PFDL Banner CTA", "eventType": "custom", "viewId": null, "apiName": "tpt1043-clicks-on-pfdl-banner-cta", "id": "20930712222", "eventFilter": null}, {"category": "other", "name": "[TPT1015] PDP | TPTSA Access Now CTA", "eventType": "custom", "viewId": null, "apiName": "tpt1015_pdp_tptsa_access_now_cta", "id": "20931223656", "eventFilter": null}, {"category": "other", "name": "[TPT968] Search Dropdown | Clicks on \"Popular Now\" Suggestion", "eventType": "custom", "viewId": null, "apiName": "tpt968-search-dropdown-clicks-on-popular-now-suggestion", "id": "20931256566", "eventFilter": null}, {"category": "other", "name": "[TPT1018] Homepage | Modal CTA clicks", "eventType": "click", "viewId": "11070712640", "apiName": "11000223989_tpt1018_homepage__modal_cta_clicks", "id": "20933991248", "eventFilter": {"filterType": "target_selector", "selector": ".tpt1018 .modal-cta"}}, {"category": "other", "name": "[TPT1011] Clicks on Marketplace S/B | TPTSA Access Now button", "eventType": "click", "viewId": "13715460482", "apiName": "11000223989_tpt1011_clicks_on_marketplace_sb__tptsa_access_now_b", "id": "20937071905", "eventFilter": {"filterType": "target_selector", "selector": "a.tpt1011-sa--button"}}, {"category": "other", "name": "[TPT-968] Clicks on resource in \u201cResources you may like\u201d section", "eventType": "custom", "viewId": null, "apiName": "tpt968-clicks-on-resource-in-resources-you-may-like-section", "id": "20955541813", "eventFilter": null}, {"category": "other", "name": "[TPT-1037] Post Purchase TPTSA Banner Click", "eventType": "custom", "viewId": null, "apiName": "tpt1037-post-purchase-tptsa-banner-click", "id": "20961320124", "eventFilter": null}, {"category": "other", "name": "[TPT1050] VA Modal | Clicks on tell me later", "eventType": "custom", "viewId": null, "apiName": "tpt1050_va_modal_clicks_on_tell_me_later", "id": "20962040069", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Sitewide | Filter Applied", "eventType": "custom", "viewId": null, "apiName": "tpt1069-homepage-filter-applied", "id": "20964892243", "eventFilter": null}, {"category": "other", "name": "[TPT1050] VA Modal | Clicks on learn more", "eventType": "custom", "viewId": null, "apiName": "tpt1050_va_modal_clicks_on_learn_more", "id": "20968620041", "eventFilter": null}, {"category": "other", "name": "[TPT1048] Clicks on Nav CTA", "eventType": "custom", "viewId": null, "apiName": "tpt1048-clicks-on-nav-cta", "id": "20974250427", "eventFilter": null}, {"category": "other", "name": "[DCP Status] country", "eventType": "custom", "viewId": null, "apiName": "dcp-status-country", "id": "20976113728", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Header | Expand Browse/Catalog Dropdown", "eventType": "custom", "viewId": null, "apiName": "tpt1069-header-expand-browse-catalog-dropdown", "id": "20976523296", "eventFilter": null}, {"category": "other", "name": "[TPT1050] VA Modal | Exits modal", "eventType": "custom", "viewId": null, "apiName": "tpt1050_va_modal_exits_modal", "id": "20979430066", "eventFilter": null}, {"category": "other", "name": "[DCP Status] school_access_owner_name ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-school_access_owner_name", "id": "20980695664", "eventFilter": null}, {"category": "other", "name": "[TPT1048] Exits on global nav", "eventType": "custom", "viewId": null, "apiName": "tpt1048-exits-on-global-nav", "id": "20983590628", "eventFilter": null}, {"category": "other", "name": "[DCP Status] gmv_ttm_core_marketplace", "eventType": "custom", "viewId": null, "apiName": "dcp-status-gmv_ttm_core_marketplace", "id": "20984923362", "eventFilter": null}, {"category": "other", "name": "[DCP Status] sa_first_name ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-sa_first_name", "id": "20986723341", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Homepage | Clicks on resource in \u201cExplore Middle School Resources\u201d section", "eventType": "custom", "viewId": null, "apiName": "tpt1069-homepage-clicks-on-resource-in-middle-school-section", "id": "20988603503", "eventFilter": null}, {"category": "other", "name": "[DCP Status] on_active_school_access_subscription ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-on_active_school_access_subscription", "id": "20992794243", "eventFilter": null}, {"category": "other", "name": "[DCP Status] first_easel_content_created_at", "eventType": "custom", "viewId": null, "apiName": "dcp-status-first_easel_content_created_at", "id": "20994293805", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Header + Footer | Clicks on Help", "eventType": "custom", "viewId": null, "apiName": "tpt1069-header-footer-clicks-on-help", "id": "20994493282", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Sitewide | Subject Filter Applied", "eventType": "custom", "viewId": null, "apiName": "tpt1069-homepage-subject-filter-applied", "id": "20994761100", "eventFilter": null}, {"category": "other", "name": "[DCP Status] on_active_premium_seller_subscription ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-on_active_premium_seller_subscription", "id": "20998103483", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Homepage | Editorial Module 2 | Clicks on Learn More", "eventType": "custom", "viewId": null, "apiName": "tpt1069-homepage-editorial-2-clicks-on-learn-more", "id": "20998561764", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Sitewide | 6-10 Pages Visited", "eventType": "custom", "viewId": null, "apiName": "tpt1069-sitewide-6-10-pages-visited", "id": "21001703443", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Homepage | Clicks on resource in \u201cNew from your favorite Teacher-Authors\u201d section", "eventType": "custom", "viewId": null, "apiName": "tpt1069-homepage-clicks-on-resource-in-teachers-section", "id": "21004452338", "eventFilter": null}, {"category": "other", "name": "[DCP Status] amount_raised_latest_page", "eventType": "custom", "viewId": null, "apiName": "dcp-status-amount_raised_latest_page", "id": "21004772081", "eventFilter": null}, {"category": "other", "name": "[DCP Status] total_paid_resources_downloaded_ttm", "eventType": "custom", "viewId": null, "apiName": "dcp-status-total_paid_resources_downloaded_ttm", "id": "21004882095", "eventFilter": null}, {"category": "other", "name": "[DCP Status] user_group_consolidated", "eventType": "custom", "viewId": null, "apiName": "dcp-status-user_group_consolidated", "id": "21005383589", "eventFilter": null}, {"category": "other", "name": "[DCP Status] workspace_access_cap", "eventType": "custom", "viewId": null, "apiName": "dcp-status-workspace_access_cap", "id": "21006053112", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Homepage | Editorial Module 1 | Clicks on Refer Your Principal", "eventType": "custom", "viewId": null, "apiName": "tpt1069-homepage-editorial-1-clicks-on-refer-your-principal", "id": "21006502380", "eventFilter": null}, {"category": "other", "name": "[DCP Status] easel_satisfaction_survey_status", "eventType": "custom", "viewId": null, "apiName": "dcp-status-easel_satisfaction_survey_status", "id": "21006562968", "eventFilter": null}, {"category": "other", "name": "[PJS] Search/Browse | Clicks on Add to cart", "eventType": "custom", "viewId": null, "apiName": "pjs_clicks_add_one_to_cart_browse", "id": "21007922428", "eventFilter": null}, {"category": "other", "name": "[DCP Status] user_role_consolidated", "eventType": "custom", "viewId": null, "apiName": "dcp-status-user_role_consolidated", "id": "21009383591", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Header | Easel Dropdown | Clicks on Learn More", "eventType": "custom", "viewId": null, "apiName": "tpt1069-header-easel-dropdown-clicks-on-learn-more", "id": "21011991993", "eventFilter": null}, {"category": "other", "name": "[PJS] PDPs | Clicks on View in cart", "eventType": "custom", "viewId": null, "apiName": "pjs_clicks_view_in_cart_pdp", "id": "21012051829", "eventFilter": null}, {"category": "other", "name": "[DCP Status] total_tpt_users", "eventType": "custom", "viewId": null, "apiName": "dcp-status-total_tpt_users", "id": "21012692050", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Homepage | Editorial Module 3 | Clicks on Learn More", "eventType": "custom", "viewId": null, "apiName": "tpt1069-homepage-editorial-3-clicks-on-learn-more", "id": "21013273340", "eventFilter": null}, {"category": "other", "name": "[DCP Status] first_easel_assessment_created_at", "eventType": "custom", "viewId": null, "apiName": "dcp-status-first_easel_assessment_created_at", "id": "21013274373", "eventFilter": null}, {"category": "other", "name": "[DCP Status] accepted_buyer_tos", "eventType": "custom", "viewId": null, "apiName": "dcp-status-accepted_buyer_tos", "id": "21013862187", "eventFilter": null}, {"category": "other", "name": "[TPT-1069] Homepage | Clicks on resource in \u201cExplore Elementary School Resources\u201d section", "eventType": "custom", "viewId": null, "apiName": "tpt1069-homepage-clicks-on-resource-in-elementary-section", "id": "21014041228", "eventFilter": null}, {"category": "other", "name": "[TPT1093] Exits out of Banner", "eventType": "click", "viewId": "20683830014", "apiName": "11000223989_tpt1093_exits_out_of_banner", "id": "21014051115", "eventFilter": {"filterType": "target_selector", "selector": ".tpt1093 .croEaselBanner-close"}}, {"category": "other", "name": "[DCP Status] match_type ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-match_type", "id": "21014071733", "eventFilter": null}, {"category": "other", "name": "[DCP Status] perc_teachers_downloaded_paid_ever ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-perc_teachers_downloaded_paid_ever", "id": "21014102083", "eventFilter": null}, {"category": "other", "name": "[DCP Status] last_easel_content_created_at ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-last_easel_content_created_at", "id": "21014111692", "eventFilter": null}, {"category": "other", "name": "[DCP Status] grade_level_consolidated", "eventType": "custom", "viewId": null, "apiName": "dcp-status-grade_level_consolidated", "id": "21014380992", "eventFilter": null}, {"category": "other", "name": "[DCP Status] school_access_subscription_end_date ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-school_access_subscription_end_date", "id": "21014590570", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Search Bar | Clicks Into Filter Field", "eventType": "custom", "viewId": null, "apiName": "tpt1069-search-bar-clicks-into-filter-field", "id": "21015393866", "eventFilter": null}, {"category": "other", "name": "[DCP Status] amount_raised_all_time", "eventType": "custom", "viewId": null, "apiName": "dcp-status-amount_raised_all_time", "id": "21015434154", "eventFilter": null}, {"category": "other", "name": "[DCP Status] individual_accesses_used", "eventType": "custom", "viewId": null, "apiName": "dcp-status-individual_accesses_used", "id": "21015804487", "eventFilter": null}, {"category": "other", "name": "[DCP Status] user_group", "eventType": "custom", "viewId": null, "apiName": "dcp-status-user_group", "id": "21016572546", "eventFilter": null}, {"category": "other", "name": "[PJS] PDPs | Clicks on Add one to Cart", "eventType": "custom", "viewId": null, "apiName": "pjs_clicks_add_one_to_cart_pdp", "id": "21017611155", "eventFilter": null}, {"category": "other", "name": "[TPT1089] Clicks on What is easel", "eventType": "click", "viewId": "20683830014", "apiName": "11000223989_tpt1089_clicks_on_what_is_easel", "id": "21019623212", "eventFilter": {"filterType": "target_selector", "selector": "html:not(.tpt1093) .croEaselBanner-link"}}, {"category": "other", "name": "[PJS] Search/Browse | Clicks on View in cart", "eventType": "custom", "viewId": null, "apiName": "pjs_clicks_view_in_cart_browse", "id": "21020963197", "eventFilter": null}, {"category": "other", "name": "[DCP Status] subject_area_consolidated", "eventType": "custom", "viewId": null, "apiName": "dcp-status-subject_area_consolidated", "id": "21021584517", "eventFilter": null}, {"category": "other", "name": "[DCP Status] timestamp", "eventType": "custom", "viewId": null, "apiName": "dcp-status-timestamp", "id": "21021603688", "eventFilter": null}, {"category": "other", "name": "[TPT1093] Clicks on new banner link [opens modal or landing page]", "eventType": "click", "viewId": "20683830014", "apiName": "11000223989_tpt1093_clicks_on_new_banner_link_opens_modal_or_lan", "id": "21022071270", "eventFilter": {"filterType": "target_selector", "selector": ".tpt1093 .croEaselBanner-link"}}, {"category": "other", "name": "[TPT1069] Sitewide | 2-5 Pages Visited", "eventType": "custom", "viewId": null, "apiName": "tpt1069-sitewide-2-5-pages-visited", "id": "21022380888", "eventFilter": null}, {"category": "other", "name": "[TPT-1069] Homepage | Clicks on resource in \u201cExplore High School Resources\u201d section", "eventType": "custom", "viewId": null, "apiName": "tpt1069-homepage-clicks-on-resource-high-school-section", "id": "21022430495", "eventFilter": null}, {"category": "other", "name": "Search/Browse | Added to cart modal | Clicks on View Cart & Checkout", "eventType": "click", "viewId": "13715460482", "apiName": "11000223989_searchbrowse__added_to_cart_modal__clicks_on_view_ca", "id": "21023781564", "eventFilter": {"filterType": "target_selector", "selector": ".AddToCartModalLayout__content + .DialogModal__buttonPair [data-testid=\"DialogModal__acceptButton\"] button"}}, {"category": "other", "name": "[DCP Status] first_easel_activity_created_at", "eventType": "custom", "viewId": null, "apiName": "dcp-status-first_easel_activity_created_at", "id": "21024810735", "eventFilter": null}, {"category": "other", "name": "PDP | TPTSA Access Now Tooltip Exits", "eventType": "click", "viewId": "19186070224", "apiName": "11000223989_pdp__tptsa_access_now_tooltip_exits", "id": "21025364166", "eventFilter": {"filterType": "target_selector", "selector": ".StickyProductPageSideColumnLayout .link-btn + .cro-tooltip .dismiss.icon"}}, {"category": "other", "name": "[DCP Status] total_resources_downloaded_all_time", "eventType": "custom", "viewId": null, "apiName": "dcp-status-total_resources_downloaded_all_time", "id": "21025842542", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Search Bar | Filter Applied + Submit", "eventType": "custom", "viewId": null, "apiName": "tpt1069-search-bar-filter-applied-submit", "id": "21026131238", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Sitewide | Grade Filter Applied", "eventType": "custom", "viewId": null, "apiName": "tpt1069-homepage-grade-filter-applied", "id": "21026341124", "eventFilter": null}, {"category": "other", "name": "[DCP Status] tpt_teacher_penetration", "eventType": "custom", "viewId": null, "apiName": "dcp-status-tpt_teacher_penetration", "id": "21027432335", "eventFilter": null}, {"category": "other", "name": "[TPT1087] PDP | TPTSA Banner | Clicks on Learn More", "eventType": "custom", "viewId": null, "apiName": "tpt1087_pdp_tptsa_banner_clicks_on_learn_more", "id": "21027640666", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Header | Easel by TPT Dropdown | Clicks on Easel Activities", "eventType": "custom", "viewId": null, "apiName": "tpt1069-header-easel-by-tpt-dropdown-clicks-on-easel-activities", "id": "21027661860", "eventFilter": null}, {"category": "other", "name": "[TPT1108] My Purchases | TPTSA Banner | CTA Clicks", "eventType": "click", "viewId": "17772951069", "apiName": "11000223989_tpt1108_my_purchases__tptsa_banner__cta_clicks", "id": "21028110905", "eventFilter": {"filterType": "target_selector", "selector": ".tpt1108-cf-banner a"}}, {"category": "other", "name": "[DCP Status] earliest_accepted_buyer_tos_at", "eventType": "custom", "viewId": null, "apiName": "dcp-status-earliest_accepted_buyer_tos_at", "id": "21028360610", "eventFilter": null}, {"category": "other", "name": "[TPT1089] Clicks on View My Easel Resources", "eventType": "click", "viewId": "20683830014", "apiName": "11000223989_tpt1089_clicks_on_view_my_easel_resources", "id": "21029401637", "eventFilter": {"filterType": "target_selector", "selector": "html:not(.tpt1093) .croEaselBanner-button"}}, {"category": "other", "name": "[DCP Status] has_created", "eventType": "custom", "viewId": null, "apiName": "dcp-status-has_created", "id": "21029652885", "eventFilter": null}, {"category": "other", "name": "[DCP Status] perc_teachers_downloaded_paid_ttm ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-perc_teachers_downloaded_paid_ttm", "id": "21032280722", "eventFilter": null}, {"category": "other", "name": "[TPT1093] Clicks on See My Easel Resources", "eventType": "click", "viewId": "20683830014", "apiName": "11000223989_tpt1093_clicks_on_see_my_easel_resources", "id": "21032972677", "eventFilter": {"filterType": "target_selector", "selector": ".tpt1093 .croEaselBanner-button"}}, {"category": "other", "name": "[DCP Status] total_paid_resources_downloaded_all_time", "eventType": "custom", "viewId": null, "apiName": "dcp-status-total_paid_resources_downloaded_all_time", "id": "21033552265", "eventFilter": null}, {"category": "other", "name": "[DCP Status] total_resources_downloaded_ttm", "eventType": "custom", "viewId": null, "apiName": "dcp-status-total_resources_downloaded_ttm", "id": "21034400040", "eventFilter": null}, {"category": "other", "name": "[DCP Status] latest_page_goal_reached ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-latest_page_goal_reached", "id": "21035022887", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Sitewide | Price Filter Applied", "eventType": "custom", "viewId": null, "apiName": "tpt1069-homepage-price-filter-applied", "id": "21035281912", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Logged out | Homepage | Editorial Module 3 | Clicks on Discover Our Community", "eventType": "custom", "viewId": null, "apiName": "tpt1069-logged-out-homepage-editorial-3-clicks-cta", "id": "21035350905", "eventFilter": null}, {"category": "other", "name": "[DCP Status] teacher_status", "eventType": "custom", "viewId": null, "apiName": "dcp-status-teacher_status", "id": "21036170281", "eventFilter": null}, {"category": "other", "name": "[DCP Status] school_access_institution_name ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-school_access_institution_name", "id": "21036350048", "eventFilter": null}, {"category": "other", "name": "[DCP Status] perc_teachers_downloaded_free_or_paid_ttm ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-perc_teachers_downloaded_free_or_paid_ttm", "id": "21037062544", "eventFilter": null}, {"category": "other", "name": "[DCP Status] sa_last_name ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-sa_last_name", "id": "21037102669", "eventFilter": null}, {"category": "other", "name": "PDP | TPTSA Access Now CTA", "eventType": "click", "viewId": "19186070224", "apiName": "11000223989_pdp__tptsa_access_now_cta", "id": "21037131246", "eventFilter": {"filterType": "target_selector", "selector": ".StickyProductPageSideColumnLayout .link-btn"}}, {"category": "other", "name": "[DCP Status] user_link_type", "eventType": "custom", "viewId": null, "apiName": "dcp-status-user_link_type", "id": "21037801134", "eventFilter": null}, {"category": "other", "name": "[DCP Status] perc_teachers_downloaded_free_or_paid_ever ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-perc_teachers_downloaded_free_or_paid_ever", "id": "21038010525", "eventFilter": null}, {"category": "other", "name": "[DCP Status] school_name ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-school_name", "id": "21039041711", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Header | Easel by TPT Dropdown | Clicks on Easel Assessments", "eventType": "custom", "viewId": null, "apiName": "tpt1069-header-easel-by-tpt-dropdown-clicks-on-easel-assessments", "id": "21039340367", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Header | Easel Dropdown | Clicks on Go to Easel", "eventType": "custom", "viewId": null, "apiName": "tpt1069-header-easel-dropdown-clicks-on-go-to-easel", "id": "21039400126", "eventFilter": null}, {"category": "other", "name": "[DCP Status] draft_saved", "eventType": "custom", "viewId": null, "apiName": "dcp-status-draft_saved", "id": "21039590407", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Header | Easel Dropdown | Clicks on Top Easel Resources", "eventType": "custom", "viewId": null, "apiName": "tpt1069-header-easel-dropdown-clicks-on-top-easel-resources", "id": "21041340157", "eventFilter": null}, {"category": "other", "name": "[DCP Status] individual_access_cap", "eventType": "custom", "viewId": null, "apiName": "dcp-status-individual_access_cap", "id": "21041440918", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Sitewide | 11+ Pages Visited", "eventType": "custom", "viewId": null, "apiName": "tpt1069-sitewide-11-plus-pages-visited", "id": "21043130686", "eventFilter": null}, {"category": "other", "name": "[DCP Status] workspace_accesses_used", "eventType": "custom", "viewId": null, "apiName": "dcp-status-workspace_accesses_used", "id": "21045050371", "eventFilter": null}, {"category": "other", "name": "[DCP Status] school_access_user_status ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-school_access_user_status", "id": "21045050372", "eventFilter": null}, {"category": "other", "name": "[DCP Status] purchased_healthy_resource_within_past_year ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-purchased_healthy_resource_within_past_year", "id": "21045080027", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Header | Easel Dropdown | Clicks on Interactive Tutorial Link", "eventType": "custom", "viewId": null, "apiName": "tpt1069-header-easel-dropdown-clicks-on-interactive-tutorial", "id": "21047040475", "eventFilter": null}, {"category": "other", "name": "[DCP Status] last_page_visitor_date ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-last_page_visitor_date", "id": "21047460354", "eventFilter": null}, {"category": "other", "name": "[DCP Status] gmv_all_time_core_marketplace", "eventType": "custom", "viewId": null, "apiName": "dcp-status-gmv_all_time_core_marketplace", "id": "21047660524", "eventFilter": null}, {"category": "other", "name": "[DCP Status] fte_teachers", "eventType": "custom", "viewId": null, "apiName": "dcp-status-fte_teachers", "id": "21047750192", "eventFilter": null}, {"category": "other", "name": "[DCP Status] segment_name", "eventType": "custom", "viewId": null, "apiName": "dcp-status-segment_name", "id": "21047860067", "eventFilter": null}, {"category": "other", "name": "[DCP Status] lifetime_pages_created ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-lifetime_pages_created", "id": "21049610176", "eventFilter": null}, {"category": "other", "name": "[DCP Status] school_access_user_id ", "eventType": "custom", "viewId": null, "apiName": "dcp-status-school_access_user_id", "id": "21051510020", "eventFilter": null}, {"category": "other", "name": "[DCP Status] access_cap_approach", "eventType": "custom", "viewId": null, "apiName": "dcp-status-access_cap_approach", "id": "21051540032", "eventFilter": null}, {"category": "other", "name": "[TPT1054] Modal CTA Clicks", "eventType": "custom", "viewId": null, "apiName": "tpt_1054_modal_cta_clicks", "id": "21059050731", "eventFilter": null}, {"category": "other", "name": "[DCP Status] classfund_page_visits", "eventType": "custom", "viewId": null, "apiName": "dcp-status-classfund_page_visits", "id": "21059180384", "eventFilter": null}, {"category": "other", "name": "[TPT1063] Clicks on Modal CTA", "eventType": "custom", "viewId": null, "apiName": "tpt1063-clicks-on-modal-cta", "id": "21071790607", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Sitewide | Filter Applied From Left Rail", "eventType": "custom", "viewId": null, "apiName": "tpt10690-homepage-filter-applied-from-left-rail", "id": "21074131036", "eventFilter": null}, {"category": "other", "name": "[TPT1069] Sitewide | Filter Applied From Header", "eventType": "custom", "viewId": null, "apiName": "tpt1069-homepage-filter-applied-from-header", "id": "21074800953", "eventFilter": null}, {"category": "other", "name": "[TPT1127] Clicks on Omicron Banner", "eventType": "custom", "viewId": null, "apiName": "tpt1127-clicks-on-omicron-banner", "id": "21078690083", "eventFilter": null}, {"category": "other", "name": "[TPT1122] Search/Browse | TPTSA callout - total cta/link clicks", "eventType": "custom", "viewId": null, "apiName": "tpt1122-search-in-line-tptsa-callout-clicks", "id": "21079720500", "eventFilter": null}, {"category": "other", "name": "[TPT1122] Search/Browse | TPTSA callout - on-page icons/button clicks", "eventType": "custom", "viewId": null, "apiName": "tpt1122-search-on-page-tptsa-callout-cta-click", "id": "21097150744", "eventFilter": null}, {"category": "other", "name": "[TPT1122] Search/Browse | TPTSA callout - tooltip link clicks", "eventType": "custom", "viewId": null, "apiName": "tpt1122-search-tptsa-tooltip-cta-click", "id": "21103060099", "eventFilter": null}, {"category": "other", "name": "[TPT-1096] PDP | TPTSA Banner | Clicks on Learn More", "eventType": "custom", "viewId": null, "apiName": "tpt1096_pdp_tptsa_banner_clicks_on_learn_more", "id": "21104710100", "eventFilter": null}, {"category": "other", "name": "[PJS] School Access Teachers | Form Submissions", "eventType": "custom", "viewId": null, "apiName": "pjs_school_access_teachers_form_submissions", "id": "21120471067", "eventFilter": null}, {"category": "other", "name": "[TPT1063] Referral Form Submits", "eventType": "custom", "viewId": null, "apiName": "tpt1063-referral-form-submits", "id": "21174310818", "eventFilter": null}, {"category": "other", "name": "[TPT1167] Post-Purchase Banner | Clicks on Request a subscription", "eventType": "custom", "viewId": null, "apiName": "tpt1167-post-purchase-banner-clicks-on-request-a-subscription", "id": "21179140014", "eventFilter": null}, {"category": "other", "name": "[TPT1122] Referral Form Submits", "eventType": "custom", "viewId": null, "apiName": "tpt1122-referral-form-submits", "id": "21199590579", "eventFilter": null}], "revision": "26695", "views": [{"category": "other", "staticConditions": ["or", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/School/Teacher-Welcome/v2/", "match": "substring"}]], "name": "/Teacher-Welcome (Joined Teacher Landing Page)", "apiName": "11000223989_teacher_welcome_landing", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "11062350775"}, {"category": "other", "staticConditions": ["or", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/", "match": "simple"}]], "name": "/ (Homepage)", "apiName": "11000223989_optimizely_tpt__home_page_", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "11070712640"}, {"category": "other", "staticConditions": ["or", ["or", {"type": "url", "value": "teacherspayteachers.com/Cart/Checkout", "match": "simple"}]], "name": "/Checkout", "apiName": "11000223989_cartcheckout", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "11810435350"}, {"category": "other", "staticConditions": ["or", ["or", {"type": "url", "value": "teacherspayteachers.com/Cart", "match": "simple"}]], "name": "/Cart", "apiName": "11000223989_mycart", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "11912410137"}, {"category": "other", "staticConditions": ["or", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/Signup/Buyer", "match": "simple"}]], "name": "/Buyer (Signup)", "apiName": "11000223989_buyer_signup", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "11927697974"}, {"category": "other", "staticConditions": ["or", ["or", {"type": "url", "value": "\\/Browse\\/(.*\\/)?Search:", "match": "regex"}]], "name": "/Search", "apiName": "11000223989_search", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "11956347417"}, {"category": "other", "staticConditions": ["or", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/FreeDownload", "match": "substring"}]], "name": "/FreeDownload - Post-Free Download Pages ", "apiName": "11000223989_freedownload", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "12371712421"}, {"category": "other", "staticConditions": ["or", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/Browse", "match": "substring"}]], "name": "/Browse Incl. Search (Sub-string)", "apiName": "11000223989_browse_incl_search_substring", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "13715460482"}, {"category": "other", "staticConditions": ["or", ["or", {"type": "url", "value": "teacherspayteachers.com/", "match": "substring"}]], "name": "Sitewide", "apiName": "11000223989_entire_site_global_nav", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "14334900114"}, {"category": "other", "staticConditions": ["or", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/TpTClassFund", "match": "simple"}]], "activationType": "dom_changed", "name": "TpT ClassFund Landing Page", "apiName": "11000223989_tpt_classfund", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "16350010227"}, {"category": "other", "staticConditions": ["or", ["or", {"type": "url", "value": "www.teacherspayteachers.com/Product/", "match": "substring"}]], "name": "PDP : All /Product/", "apiName": "11000223989_pdp__wwwteacherspayteacherscomproduct", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "16853811688"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/Browse", "match": "substring"}], ["not", ["or", {"type": "url", "value": "/Price-Range/On-Sale", "match": "substring"}, {"type": "url", "value": "/Price-Range/Under-5", "match": "substring"}, {"type": "url", "value": "/Price-Range/Free", "match": "substring"}]]], "name": "Search/Browse - exclude budget filters ", "apiName": "11000223989_searchbrowse__exclude_budget_filters_", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "16864192744"}, {"category": "other", "staticConditions": ["or", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers", "match": "simple"}, {"type": "url", "value": "https://local.teacherspayteachers.com:8081/TpTSchoolAccess/Teachers", "match": "simple"}]], "name": "TPTSA Teacher Landing Page", "apiName": "11000223989_tptsa_landing_page", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "16909484157"}, {"category": "other", "staticConditions": ["or", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/TpTSchoolAccess/Administrators", "match": "simple"}]], "name": "TPTSA Admin Landing Page", "apiName": "11000223989_tptsa_admin_landing_page", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "17032032318"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/Wish-List", "match": "simple"}]], "activationType": "callback", "name": "/Wish-List (With Priced Products)", "apiName": "11000223989_wish_list_with_products", "tags": [], "undoOnDeactivation": false, "activationCode": /**
 * This activates on the Wish List page when it contains at least 
 * one product with a price.
 */

function callbackFn(activate, options) {
  if (window.location.href.indexOf('/Wish-List') === -1) {
    return;
  }

  var utils = window.optimizely.get('utils');
  var forEachPriceEl = function (priceEl) {
    if (priceEl.innerText !== 'FREE') {
      activate();
      cancelObs();
    }
  };
  var cancelObs = utils.observeSelector('.WishlistProductRowLayout .ProductRowPriceBespoke', forEachPriceEl);
}
, "deactivationEnabled": false, "id": "17479550609"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https:\\/\\/www\\.teacherspayteachers\\.com\\/My-Purchases", "match": "regex"}]], "name": "My Purchases", "apiName": "11000223989_my_purchases", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "17772951069"}, {"category": "other", "staticConditions": ["or", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/Cart/Checkout/Done/", "match": "substring"}]], "name": "Post-Purchase Page", "apiName": "11000223989_purchase_complete", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "17899101619"}, {"category": "other", "staticConditions": ["or", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/Signup", "match": "substring"}]], "name": "All Signup Pages (/Signup)", "apiName": "11000223989_signup", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "17945695206"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/TpTSchoolAccess/Teachers", "match": "simple"}]], "name": "School Access Teachers LP", "apiName": "11000223989_school_access_teachers_lp", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "18254187431"}, {"category": "other", "staticConditions": ["or", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/TpTSchoolAccess/Administrators/Success", "match": "simple"}, {"type": "url", "value": "https://www.teacherspayteachers.com/TpTSchoolAccess/Administrators/Success#signup", "match": "simple"}]], "name": "URL Targeting for Admin LP Success Redirect: Pardot Success Page", "apiName": "11000223989_url_targeting_for_moriah_test__admin_lp_success_redi", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "18645451443"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "/Product/", "match": "substring"}]], "activationType": "polling", "name": "PDP | TpT SA Flagged | Free", "apiName": "11000223989_pdp__tpt_sa_flagged__free", "tags": [], "undoOnDeactivation": false, "activationCode": function pollingFn() {
  return !!document.querySelector('#is_available_on_school_access') && (!!document.querySelector('.PriceBox__textPrice > div') && document.querySelector('.PriceBox__textPrice > div').textContent === 'FREE');
}
, "deactivationEnabled": false, "id": "18924251725"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/Product/", "match": "substring"}]], "activationType": "callback", "name": "PDP | TPT SA Flagged", "apiName": "11000223989_pdp__tpt_sa_flagged", "tags": [], "undoOnDeactivation": false, "activationCode": function callbackFn(activate, options) {
var utils = window.optimizely.get('utils');
  utils.waitForElement('#is_available_on_school_access').then( function(){
    activate();
  });
}
, "deactivationEnabled": false, "id": "19186070224"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/Product/", "match": "substring"}]], "activationType": "manual", "name": "[PJS] PDP | TpT SA Flagged (Wishlist Added)", "apiName": "pjs_pdp_tptsa_wishlist_added", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "19742136101"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/", "match": "simple"}]], "activationType": "manual", "name": "[PJS] Homepage + Matched", "apiName": "homepageMatched", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "19920403099"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/Browse/", "match": "substring"}]], "activationType": "manual", "name": "[PJS] Browse - Matched", "apiName": "browseMatched", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "19936553522"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/Product/", "match": "substring"}]], "activationType": "manual", "name": "[PJS] [TPT-318] PDP Matched", "apiName": "tpt318PDPMatch", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "19937824312"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/", "match": "substring"}]], "activationType": "manual", "name": "[PJS] [TPT-322] Sitewide Matched", "apiName": "tpt322SitewideMatch", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "19941853636"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/Product", "match": "substring"}, {"type": "url", "value": "https://www.teacherspayteachers.com/Browse", "match": "substring"}]], "activationType": "manual", "name": "[PJS] [TPT-328] ATC Modal | Search/Browse | Matched", "apiName": "tpt328ATCMatched", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "19951352581"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/", "match": "substring"}]], "activationType": "manual", "name": "[PJS] Sitewide - Matched", "apiName": "sitewideMatched", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "19953113488"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/Product/", "match": "substring"}]], "activationType": "manual", "name": "[PJS] ATC Modal PDP Matched", "apiName": "atcPDPMatch", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "19953113510"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/Product/", "match": "substring"}]], "activationType": "manual", "name": "[PJS] PDP Matched", "apiName": "pdpMatch", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "19954963933"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "/Product/", "match": "substring"}]], "activationType": "manual", "name": "[PJS] Free resource PDP", "apiName": "pjs_free_resource_pdp", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20000777877"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "/Product/", "match": "substring"}]], "activationType": "manual", "name": "[PJS] Paid resource PDP", "apiName": "pjs_paid_resource_pdp", "tags": [{"category": "other", "locator": ".NotLinkedSection > span:nth-of-type(1) > span", "valueType": "string", "locatorType": "css_selector", "apiName": "grade_level_on_pdp"}, {"category": "other", "locator": ".StickyProductPageSideColumnLayout span > span", "valueType": "currency", "locatorType": "css_selector", "apiName": "price_of_prod_on_pdp"}], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20005866145"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/", "match": "simple"}]], "activationType": "manual", "name": "[PJS] Homepage - TPTSA item in wish list", "apiName": "pjs_homepage_tptsa_wishlist_activation", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20063176788"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://easel.teacherspayteachers.com/activities", "match": "simple"}]], "name": "My Activities", "apiName": "11000223989_my_activities", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20096376406"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "www.teacherspayteachers.com/", "match": "substring"}], ["or", {"type": "element_present", "value": ".HeaderLayout__linkList .HeaderLayout__link a[href=\"/TpTSchoolAccess/Teachers\"]"}]], "name": "Marketplace: Nav", "apiName": "11000223989_marketplace_nav", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20102457421"}, {"category": "other", "staticConditions": null, "activationType": "manual", "name": "[PJS] Browse/Search (TPTSA wish list)", "apiName": "pjs_browse_search_tptsa_wishlist_activation", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20130703111"}, {"category": "other", "staticConditions": null, "activationType": "manual", "name": "[PJS] PDP | TpT SA Flagged (TPTSA wish list)", "apiName": "pjs_pdp_tptsa_wishlist_activation", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20138770340"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://easel.teacherspayteachers.com/activities/.+", "match": "regex"}]], "activationType": "url_changed", "name": "Easel - Open Resource/Activity", "apiName": "11000223989_easel__open_resourceactivity", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20142284864"}, {"category": "other", "staticConditions": null, "activationType": "manual", "name": "[PJS] [TPT-579] TPT Sitewide Eyebrow Banner", "apiName": "tpt579_sitewide_eyebrow_banner", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20216364376"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://banner-poc.fe.teacherspayteachers.com/", "match": "simple"}]], "name": "URL Targeting for Jeff Testing Banners", "apiName": "11000223989_url_targeting_for_jeff_testing_banners", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20218652579"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/TpTSchoolAccess/Administrators/Success", "match": "simple"}]], "name": "TPTSA Admin Form Submission | Success Page", "apiName": "11000223989_tptsa_admin_form_submission__success_page", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20269660083"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "/Product/", "match": "substring"}], ["not", ["or", {"type": "url", "value": "/Login", "match": "substring"}]]], "activationType": "callback", "name": "[TPT-702] PDP | Exclude [TPT-672] Pages", "apiName": "11000223989_tpt672_pdp__exclude_tpt672_pages", "tags": [], "undoOnDeactivation": false, "activationCode": /**
 * Sample Activation Function
 * For complete documentation, see https://docs.developers.optimizely.com/web/docs/dynamic-websites#section-callback
 * @param {Function} activate - Call this function when you want to activate the page.
 * @param {Object} options - An object containing Page information.
 */

function callbackFn(activate, options) {
      window.optimizely.get('utils')
        .waitForElement('.DigitalActivityBadge')
        .then(activate);
}
, "deactivationEnabled": false, "id": "20360232252"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/Browse/", "match": "substring"}]], "activationType": "manual", "name": "[PJS] Browse | TPT SA Flagged + TPTSA/TPT Matched (Wishlist Added)", "apiName": "pjs_browse_matched_wishlist_added", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20466119636"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/My-Purchases", "match": "simple"}, {"type": "url", "value": "https://www.teacherspayteachers.com/My-Free-Downloads", "match": "simple"}]], "activationType": "callback", "name": "My Purchases and Downloads (View 2 files modal opened)", "apiName": "11000223989_my_purchases_and_downloads_view_2_files_modal_opened", "tags": [], "undoOnDeactivation": false, "activationCode": function trigger(activate, options) {
  var utils = window.optimizely.get('utils');

  if (window.location.href.indexOf('/My-Purchases') !== -1 || window.location.href.indexOf('/My-Free-Downloads') !== -1) {
    utils.observeSelector('.ProductAccessModal .DialogModal__body .ProductAccessModal__row .DownloadButton', function(){
      if(document.querySelectorAll('.ProductAccessModal .DialogModal__body .ProductAccessModal__row').length < 3){
        if(document.querySelector('.ProductAccessModal .DialogModal__body .ProductAccessModal__row a div') && document.querySelector('.ProductAccessModal .DialogModal__body .ProductAccessModal__row a div').textContent.indexOf('Preview') > -1){
          activate();
        }
      }
    });
  }
}
, "deactivationEnabled": false, "id": "20554363041"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/My-Purchases", "match": "substring"}]], "activationType": "manual", "name": "[PJS] My Purchases (not empty)", "apiName": "pjs_my_purchases_not_empty", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20683830014"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "www.teacherspayteachers.com/My-Products", "match": "simple"}]], "name": "My Product Listings", "apiName": "11000223989_my_product_listings", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20750910744"}, {"category": "other", "staticConditions": ["and", ["not", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/Cart", "match": "simple"}, {"type": "url", "value": "https://help.teacherspayteachers.com/", "match": "simple"}, {"type": "url", "value": "https://www.teacherspayteachers.com/TpTSchoolAccess", "match": "simple"}, {"type": "url", "value": "https://www.teacherspayteachers.com/TpTClassFund", "match": "simple"}, {"type": "url", "value": "https://www.teacherspayteachers.com/easel", "match": "simple"}, {"type": "url", "value": "https://www.teacherspayteachers.com/easel/learn-more", "match": "simple"}, {"type": "url", "value": "https://blog.teacherspayteachers.com/", "match": "simple"}, {"type": "url", "value": "https://www.teacherspayteachers.com/Student-Privacy-Policy", "match": "simple"}]]], "name": "[TPT968] Sitewide - Excluding Pages With Non-Standard Header", "apiName": "11000223989_tpt968_sitewide__excluding_pages_with_nonstandard_he", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20882500706"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/Wish-List", "match": "simple"}]], "name": "/WIsh-List", "apiName": "11000223989_wishlist", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20883541637"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "tptschoolaccess.com", "match": "substring"}]], "name": "TPT SA | Sitewide", "apiName": "11000223989_tpt_sa__sitewide", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20888881849"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/My-Account/Virtual-Assistants", "match": "simple"}]], "name": "Manage My VAs (Virtual Assistants)", "apiName": "11000223989_manage_my_vas_virtual_assistants", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20904526463"}, {"category": "other", "staticConditions": ["or", ["or", {"type": "url", "value": "https:\\/\\/www.tptschoolaccess.com\\/resource\\/.*[0-9]", "match": "regex"}]], "activationType": "url_changed", "name": "TPT SA | Resource Details", "apiName": "11000223989_tpt_sa__resource_details", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20951020481"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/Gift-Card", "match": "simple"}]], "name": "/Gift-Card", "apiName": "11000223989_giftcard", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "20994054604"}, {"category": "other", "staticConditions": ["and", ["or", {"type": "url", "value": "https://www.teacherspayteachers.com/About-Us", "match": "simple"}]], "name": "/About-Us", "apiName": "11000223989_aboutus", "tags": [], "undoOnDeactivation": false, "deactivationEnabled": false, "id": "21024570353"}], "integrationSettings": [], "interestGroups": [], "groups": [], "projectJS": function(){/************************************************************************************
 * Version: 1.03                                                                    *
 * Project: Teachers Pay Teachers [11000223989]                                     *
 * Updated: Thu, 10 Feb 2022 18:32:35 GMT                                           *
 * Supports IE: No                                                                  *
 * Minified: Yes                                                                    *
 * Modules:                                                                         *
 *  - x/cro-metrics-utilities                    {d884fef02b5977dcc25301d16d24dbc2} *
 *  - x/detect-async                             {e67052b82a85ed9088539895e05c4f42} *
 *  - analytics/track-to-hj                      {dc9ea48250d7b26656ba7742eaf4d582} *
 *  - spa/history-state-change                   {3c6dd84062883ce5db10fc98aaddf4d8} *
 *  - revenue_tracking                           {dff3390da5927a07212e9887c3940e6d} *
 *  - tptsa_form                                 {8b1af2d1a5ed5948721ef2497df16efc} *
 *  - tptsa_form_engagement                      {a18f61ede05393ec82fd397f2574c97d} *
 *  - registration_form_engagement               {febec8e6ebba3e7f647420b7949a7e54} *
 *  - digital-resource-clicks                    {9472140b7ebb1542913e67d376e1e826} *
 *  - tpt-digital-activity                       {2240c71f4a282b29c259275087e602c9} *
 *  - pdp-wishlist-added-and-seller-followed     {99180ef69d4cfcf4017fb5fbd950233e} *
 *  - matchedusers                               {0ed17e3ef809997e3a4ec351523fbce5} *
 *  - x/fix-css-on-react                         {356ad04d508ba65f6a3dfaf908be6f10} *
 *  - free-paid-pdp                              {00235a3f5c7713049c22a25227ed50eb} *
 *  - origin-sync                                {5bd3eddf8869442e359fab9e1abddf2e} *
 *  - tptsa-item-in-wishlist-page-activations    {35efe8fad7c9bc5d19ef21f5947d3e95} *
 *  - page-returning-visitor-attribute           {4aa5e4276972a58772029acdb5f833a8} *
 *  - easel-tos-visitor-attributes               {63384de162be48183d7c8b30d035cbe7} *
 *  - x/analytics/heap_experiment_tracking       {4078ad09a3b5b21d47c5312df076cd6a} *
 *  - track-heap-to-optimizely                   {e79ffb633c7d1f68769f7f64f5f11ba4} *
 *  - analytics/heap-event-logger                {8e10d502b1aba01f6266f070f2d85e1f} *
 *  - tpt579-page-activation                     {b41b81d196395904fbd5de027c06967c} *
 *  - search-browse-wishlist-added-tptsa-matched {314b8d7198db30e45cfaa4355a2599df} *
 *  - first-easel-activity                       {e6a1788b2305e20fa95b44e54bdfba55} *
 *  - my-purchases-page-not-empty                {34a15a28fb0243ab85d07b2035e8706e} *
 *  - api                                        {208b0085fccd5cc6674844012d1fcffe} *
 *  - clicks-on-cart                             {7834d7bf43a49a258aaea18d99727581} *
 *  - visitor-country                            {bc5aeb9a4424a9421af586a8138721d2} *
 *  - logged-in-users                            {2e1f082898ccc685344ba6fe2a7a3cb5} *
 * Contact engineering@crometrics.com for support.                                  *
 ************************************************************************************/
function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{"value":n,"enumerable":!0,"configurable":!0,"writable":!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a=[],r=!0,c=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){c=!0,o=e}finally{try{r||null==n["return"]||n["return"]()}finally{if(c)throw o}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}!function(){window.optimizely=window.optimizely||[],window.CROQ=window.CROQ||[];var e,t,n,i,o,a,r,c,s,l,p,d,u,_,m,y,h,f,w,g,v,b,S,A,z,T,I,P,C,j,k,E,L,O,x=window.CRO_PJS||(window.CRO_PJS={"supportsIE":!1,"log":console&&console.info&&console.info.bind(window,"[PJS]"),"error":function(e,t){console&&console.error&&console.error("PJS Error:",e,"\n",t)}});try{var D="optimizely-store-required";window.localStorage.setItem(D,!0),window.localStorage.removeItem(D)}catch(e){return void window.optimizely.push({"type":"disable"})}if(window.navigator.userAgent.indexOf("MSIE ")>-1||window.navigator.userAgent.indexOf("Trident/")>-1)return x.log("IE detected; disabling Optimizely"),void window.optimizely.push({"type":"disable"});try{t=function(e){n((function(){e(window.optimizely.get("utils"))}))},n=function(e){window.optimizely.initialized&&e()||window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"initialized"},"handler":e})},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.search;return"?"===e.substr(0,1)&&(e=e.substr(1)),e.split("&").reduce((function(e,t){var n=t.split("=");return n[0].length&&(e[n[0]]=decodeURIComponent(n[1])),e}),{})},o=function(e){return Object.keys(e).map((function(t){return t+(e[t]?"="+encodeURIComponent(e[t]):"")})).join("&")},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;t.search="?"+o(e)},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.search;return i(t)[e]},c=function(e,t,n){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"."+window.location.hostname.split(".").slice(-2).join("."),a=e+"="+t+"; path=/";n instanceof Date?i=n:n>0&&(i=new Date).setTime(i.getTime()+24*n*60*60*1e3),i&&(a+="; expires="+i.toGMTString()),o&&(a+="; domain="+o),document.cookie=a},s=function(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){var o=n[i].trim();if(0===o.indexOf(t))return o.substring(t.length,o.length)}return null},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"."+window.location.hostname.split(".").slice(-2).join("."),n="".concat(e,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/");t&&(n+="; domain="+t),document.cookie=n},p="cro_mode",d="color:white;background:#12659d;",u="color:white;background:#ff590b;",_=function(){},m=function(e,t){console.error("%c[cro]",u,"[".concat(e,"]"),t)},y=function(e,t){console.error("%c[PJS]",d,"[".concat(e,"]"),t)},function(e){var n=e.utils||(e.utils={});n.cookie={"set":c,"get":s,"del":l},n.params={"parse":i,"buildString":o,"set":a},n.getParam=r,e.log=n.log=_,n.error=m,e.error=y,t((function(t){if(e.utils!==t){for(var n in e.utils)t[n]=e.utils[n];e.utils=t}})),e.setMode=function(n){e.mode=function(e,t){return/^[\w\-_]+$/.test(e)||(e=void 0),e?(c(p,e,null,t),console.log('Cro Metrics "'.concat(e,'" mode enabled.'))):(l(p,t),console.log("Cro Metrics logging and qa modes disabled.")),e}(n,e.COOKIE_DOMAIN),e.log=e.mode&&console.info.bind(console,"%c[PJS]",d)||_,t((function(t){t.log=function(e){return e&&console.info.bind(console,"%c[cro]",u)||_}(e.mode)}))};var h=r(p)||s(p)||e.mode;h&&e.setMode(h)}(x),e=function(e){x.log("Metric fired: ".concat(e.name," <").concat(e.apiName,">"),e.tags)},window.optimizely.push({"type":"addListener","filter":{"type":"analytics","name":"trackEvent"},"handler":function(t){t.data.id=t.data.id||t.data.apiName,e(t.data)}})}catch(e){x.error("x/cro-metrics-utilities",e)}try{document.querySelector("body")&&x.log("Nonstandard Optimizely loading detected! Check whether the snippet is running async, through a tag manager, or in the body. Ideally Optimizely should be installed sync, directly in the head.")}catch(e){x.error("x/detect-async",e)}try{!function(e){var t="analytics/track-to-hj",n=function(){return x.error.apply(x,[t].concat(Array.prototype.slice.call(arguments)))},i=function(e){!function(e){window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"campaignDecided"},"handler":function(t){e(t.data)}})}((function(t){var n=t.decision,i=n.isCampaignHoldback,o=n.experimentId,a=n.variationId;if(!i&&o&&a)for(var r=t.campaign.experiments.find((function(e){return e.id===o})),c=r.variations,s={"name":r.name,"id":r.id},l=0;l<c.length;l++){var p=c[l];if(a===p.id){var d={"name":p.name,"id":p.id,"tag":"v"+l};return e(s,d)}}}))},o=Object.assign({"parseActivation":function(e,t){var n=50-t.tag.length-1,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36;if(e){var n=(e=e.replace(/^\[TEST COOKIE\]\s*/i,"")).match(/^([a-zA-Z]+)-?([\d\.]+)/);return n?"".concat(n[1].toLowerCase()).concat(n[2]):e.toLowerCase().substr(0,t).trim().replace(/\W+/g,"-")}}(e.name,n)||e.id||"unknown";return[(i+"-"+t.tag).substr(0,50)]}},x.trackToHJ||{});window.hj=window.hj||function(){(hj.q=hj.q||[]).push(arguments)};!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=Object.assign({"trackActivations":!0,"parseActivation":function(e,t){return[e.name||e.id,t.name||t.id]}},t);o.trackActivations&&i((function(t,i){try{e.apply(window,o.parseActivation(t,i))}catch(e){n("Error in onTrackActivation",e)}}))}((function(e){window.hj("trigger",e),window.hj("tagRecording",[e]),function(){x.log.apply(x,["[".concat(t,"]")].concat(Array.prototype.slice.call(arguments)))}("Triggered Hotjar:",e)}),o)}()}catch(e){x.error("analytics/track-to-hj",e)}if(window.location.hostname.indexOf("easelbytpt.com")>-1||window.location.pathname.indexOf("/ClassFund")>-1)try{h=function(){return window.optimizely.push({"type":"activate"})},f=function(e,t,n,i){var o=e[t];return e[t]=function(){var e=i||this,t="function"==typeof o&&o.apply(e,arguments);try{n.apply(e,arguments)}catch(e){console.log(e)}return t},function(){e[t]=o}},w=window.location.href,g=function(e){w=e,window.dispatchEvent(new CustomEvent("spaPageEnd")),setTimeout(h,0)},v=function(e,t,n){var i=function(e){var t=document.createElement("a");return t.href=e,t.href}(n);i!==w&&g(i)},f(window.history,"pushState",v),f(window.history,"replaceState",v),window.addEventListener("popstate",(function(){g(window.location.href)}))}catch(e){x.error("spa/history-state-change",e)}try{!function(e){var t=window.location.pathname;if(t.indexOf("/Cart/Checkout")>-1||t.indexOf("/ClassFund/")>-1){var n=function(e){var t,n=(t=e.textContent,parseFloat(t.replace(/[\$,]/g,"")));window.sessionStorage.setItem("pjs-order-total",n),x.log("pjs-order-total set to",n)},i=function(e,t){x.log("firing event",e),window.optimizely.push({"type":"event","eventName":e,"tags":{"revenue":t}})},o=function(e){var t=100*window.sessionStorage.getItem("pjs-order-total");t&&(i(e,t),i("pjs_total_revenue",t),window.sessionStorage.removeItem("pjs-order-total"))};window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"activated"},"handler":function(){"/Cart/Checkout"===(t=window.location.pathname)&&document.addEventListener("click",(function(e){var t=document.querySelector(".OrderActionsSummary--responsive__lineItems__totalPrice > span > span:first-child"),i=e.target;(i.closest(".OrderActionsBespoke--responsive__checkoutOptions button")||i.closest(".CreditCardFormBespoke--responsive__responsiveHide button"))&&n(t)})),t.indexOf("/Cart/Checkout/Done")>-1&&o("pjs_marketplace_revenue"),t.indexOf("/ClassFund/")>-1&&t.indexOf("/Contribute")>-1&&document.addEventListener("click",(function(e){var t=document.querySelector(".ContributionCheckoutPageLayout__totalAmount"),i=e.target;(i.closest(".ContributionCheckoutPageLayout__bottom button")||i.closest(".ContributionSubmitOrderLayout button"))&&n(t)})),t.indexOf("/ClassFund/")>-1&&t.indexOf("/Thanks")>-1&&o("pjs_classfund_revenue")}})}}()}catch(e){x.error("revenue_tracking",e)}try{!function(e){var t="tptsa_form",n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":e,"tags":t})},i=function(){return x.error.apply(x,[t].concat(Array.prototype.slice.call(arguments)))},o=function(e){window.optimizely.initialized&&e()||window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"initialized"},"handler":e})};!function(){x.log.apply(x,["[".concat(t,"]")].concat(Array.prototype.slice.call(arguments)))}("v4"),function(e){o((function(){e(window.optimizely.get("utils"))}))}((function(e){var t="/TpTSchoolAccess/Teachers/Success"===window.location.pathname;if(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push_attribute";window.optimizely.push({"type":"user","attributes":e}),window.optimizely.push({"type":"event","eventName":t})}({"pjs_submitted_school_access":t||"true"===localStorage.getItem("schoolsAccessSubmitted")?"Submitted":"Not Submitted"}),"/TpTSchoolAccess/Teachers"===window.location.pathname){var o=e.params.parse().utm_campaign;if(o){var a=o.substring(0,o.length-2).replace("optimizely","");window.sessionStorage.setItem("cro_experiment_referral",a)}}else if(t){n("pjs_school_access_teachers_form_submissions");var r=window.sessionStorage.getItem("cro_experiment_referral");r&&(n("".concat(r,"-referral-form-submits")),window.sessionStorage.removeItem("cro_experiment_referral"))}else{window.sessionStorage.removeItem("cro_experiment_referral");var c=null,s=function t(){window.setTimeout((function(){e.waitUntil((function(){return window.__displayTeacherAdvocacyModal})).then((function(){var e=window.__displayTeacherAdvocacyModal;e!==c&&(window.__displayTeacherAdvocacyModal=c=function(n){n&&window.sessionStorage.setItem("cro_experiment_referral",n),e.call(window),t()})}))["catch"](i)}),0)};e.observeSelector(".DialogModalPortal .ReactModal__Overlay",(function(e){return e.addEventListener("click",s)})),e.observeSelector(".DialogModalPortal .DialogModal__closeButton",(function(e){return e.addEventListener("click",s)})),s()}}))}()}catch(e){x.error("tptsa_form",e)}try{window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"initialized"},"handler":function(){if("/TpTSchoolAccess/Teachers"===window.location.pathname){var e=window.optimizely.get("utils");[{"target":"#teacherFirstName","event":"pjs_tptsa_lp_first_name"},{"target":"#teacherLastName","event":"pjs_tptsa_lp_last_name"},{"target":"#teacherEmail","event":"pjs_tptsa_lp_email"},{"target":"#firstName","event":"pjs_tptsa_lp_admin_first_name"},{"target":"#lastName","event":"pjs_tptsa_lp_admin_last_name"},{"target":"#jobTitle","event":"pjs_tptsa_lp_admin_title"},{"target":"#email","event":"pjs_tptsa_lp_admin_email"},{"target":"#school-autocomplete-search","event":"pjs_tptsa_lp_school_name"},{"target":"#personalizedMessage","event":"pjs_tptsa_lp_message"}].forEach((function(t){e.waitForElement("#share ".concat(t.target)).then((function(e){e.addEventListener("focus",(function(){window.optimizely.push({"type":"event","eventName":t.event})}))}))["catch"]((function(e){return x.error("tptsa_form_engagement",e)}))}))}}})}catch(e){x.error("tptsa_form_engagement",e)}try{b=x.log,S=x.error.bind(window,"registration_form_engagement"),A="pjs_submit_reg",z="pjs_opt_in_reg",window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"initialized"},"handler":function(){if("/Signup/Buyer"===window.location.pathname||"/Signup/Buyer/"===window.location.pathname){b("Initializing registration form engagement listeners");var e=window.optimizely.get("utils"),t=e.waitUntil((function(){return window.jQuery}));[{"target":"#UsersProfileFirstName","event":"pjs_signup_buyer_first_name"},{"target":"#UsersProfileLastName","event":"pjs_signup_buyer_last_name"},{"target":"#UsersProfileGradeLevel","event":"pjs_signup_buyer_teach"},{"target":"#UsersProfileSubjectareaAlternatives","event":"pjs_signup_buyer_role"},{"target":"#UsersProfileSubjectarea","event":"pjs_signup_buyer_interest"},{"target":'input[type="submit"]',"event":"pjs_signup_buyer_cta_click"}].forEach((function(t){e.waitForElement("#UserRegisterStep1Form ".concat(t.target)).then((function(e){var n="INPUT"===e.tagName&&"submit"===e.type;e.addEventListener(n?"click":"focus",(function(){window.optimizely.push({"type":"event","eventName":t.event})}))}))["catch"](S)})),e.waitForElement("#UserRegisterStep1Form").then((function(n){return function(n){return t.then((function(){var t=window.jQuery(n);return e.waitUntil((function(){return t.data()&&t.data().validator})).then((function(){return t.data().validator}))}))}(n)})).then((function(e){var t=document.getElementById("NewslettersSubscriberSubscribeAll");e.currentForm.addEventListener("submit",(function(){e.checkForm()&&(sessionStorage.setItem(A,"true"),t&&t.checked&&sessionStorage.setItem(z,"true"))}))}))["catch"](S)}else"/"===window.location.pathname&&(sessionStorage.getItem(A)&&(window.optimizely.push({"type":"event","eventName":"pjs_signup_buyer_submit"}),sessionStorage.removeItem(A)),sessionStorage.getItem(z)&&(window.optimizely.push({"type":"event","eventName":"pjs_signup_buyer_email_opt_in"}),sessionStorage.removeItem(z)))}})}catch(e){x.error("registration_form_engagement",e)}try{!function(e){if(window.location.pathname.indexOf("/Browse")>-1){var t=function(){(0,window.optimizely.get("utils").observeSelector)(".DigitalBadge",(function(e){e.parentElement.parentElement.querySelectorAll(".ProductRowImageBespoke a, .ProductRowTitleBespoke a").forEach((function(e){e.addEventListener("click",(function(){window.optimizely.push({"type":"event","eventName":"pjs_search_digital_resource_clicks"})}))}))}))};window.optimizely.initialized?t():window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"initialized"},"handler":t})}}()}catch(e){x.error("digital-resource-clicks",e)}try{!function(e){var t="tpt-digital-activity",n=function(){return x.log.apply(x,["[".concat(t,"]")].concat(Array.prototype.slice.call(arguments)))},i=function(){return x.error.apply(x,[t].concat(Array.prototype.slice.call(arguments)))};!function(e){window.optimizely.initialized&&e()||window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"initialized"},"handler":e})}((function(){var e=window.optimizely.get("utils");e.waitForElement(".DigitalToolImportLayout, .DigitalActivityBadgeWithTooltip").then((function(){e.waitForElement(".PriceBox__textPrice > div").then((function(e){"FREE"===e.textContent?(n("TpT Digital Activity - Free"),window.optimizely.push({"type":"page","pageName":"pjs_pdp_tpt_digital_activity_free"})):(n("TpT Digital Activity - Paid"),window.optimizely.push({"type":"page","pageName":"pjs_pdp_tpt_digital_activity_paid"})),n("TpT Digital Activity - All"),window.optimizely.push({"type":"page","pageName":"pjs_pdp_tpt_digital_activity_all"})}))["catch"](i)}))["catch"](i)}))}()}catch(e){x.error("tpt-digital-activity",e)}try{T="pdp-wishlist-added-and-seller-followed",I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"page","pageName":e,"isActive":!0,"tags":t})},function(e,t){window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"pageActivated"},"handler":function(n){t&&n.data.page.id!==String(t)||e(n.data)}})}((function(){var e=window.optimizely.get("utils");!function(){x.log.apply(x,["[".concat(T,"]")].concat(Array.prototype.slice.call(arguments)))}("Binding listeners on Wish List and Follow CTA clicks"),e.observeSelector(".AddToWishList.Button",(function(e){e.addEventListener("click",(function(){e.textContent.toLowerCase().indexOf("add to wish list")>-1&&I("pjs_pdp_tptsa_wishlist_added")}))})),e.observeSelector('[data-testid="AboutAuthor__followButton"] button',(function(e){e.addEventListener("click",(function(){-1===e.textContent.toLowerCase().indexOf("following")&&I("pjs_pdp_tptsa_seller_followed")}))}))}),19186070224)}catch(e){x.error("pdp-wishlist-added-and-seller-followed",e)}try{!function(e){var t="matchedusers",n=function(){return x.log.apply(x,["[".concat(t,"]")].concat(Array.prototype.slice.call(arguments)))},i=function(){return x.error.apply(x,[t].concat(Array.prototype.slice.call(arguments)))};!function(e){window.optimizely.initialized&&e()||window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"initialized"},"handler":e})}((function(){var e=window.optimizely.get("utils");e.waitUntil((function(){return"object"===_typeof(window.__TPT__)})).then((function(){var e=window.__TPT__;"function"!=typeof e.getConfig||e.getConfig().isLoggedIn||(sessionStorage.removeItem("cro_matched_complete"),sessionStorage.removeItem("cro_matched"),sessionStorage.removeItem("cro_admin_name"),sessionStorage.removeItem("cro_audience"),sessionStorage.removeItem("cro_individual_licenses_allocated"),sessionStorage.removeItem("cro_individual_licenses_used"),sessionStorage.removeItem("cro_match_type"),sessionStorage.removeItem("cro_school_license_access_cap"),sessionStorage.removeItem("cro_school_licenses_used"),sessionStorage.removeItem("cro_school_name"),sessionStorage.removeItem("cro_unmatched"))}))["catch"](i);var t=function(e){window.optimizely.push({"type":"page","isActive":!1,"pageName":e})},o=function(e){window.optimizely.push({"type":"page","isActive":!0,"pageName":e})},a=function(){var n=sessionStorage.getItem("cro_individual_licenses_allocated"),a=sessionStorage.getItem("cro_match_type");null!==a&&"null"!==a&&"state + exact name"!==a&&null!==n&&""!==n&&"null"!==n&&"0"!==n&&0!==n?(o("tpt322SitewideMatch"),t("sitewideMatched")):(o("sitewideMatched"),t("tpt322SitewideMatch")),"/"===location.pathname?o("homepageMatched"):location.pathname.indexOf("/Product/")>-1?(o("pdpMatched"),e.waitForElement("#is_available_on_school_access").then((function(){null!==a&&"null"!==a&&"state + exact name"!==a&&null!==n&&""!==n&&"null"!==n&&"0"!==n&&0!==n?(t("tpt303PDPMatch"),o("tpt318PDPMatch"),t("pdpMatched")):(o("tpt303PDPMatch"),t("tpt318PDPMatch"),t("pdpMatched")),e.waitForElement(".AddToCartModalLayout__content").then((function(){o("atcPDPMatch")}))["catch"](i)}))["catch"](i)):location.pathname.indexOf("/Browse/")>-1&&e.waitForElement('[data-crometrics-isavailableonschoolaccess="true"],#is_available_on_school_access').then((function(){o("browseMatched"),null!==a&&"null"!==a&&"state + exact name"!==a&&null!==n&&""!==n&&"null"!==n&&"0"!==n&&0!==n&&e.waitForElement(".AddToCartModalLayout__content").then((function(){o("tpt328ATCMatched")}))["catch"](i)}))["catch"](i)};sessionStorage.getItem("cro_matched_complete")&&sessionStorage.getItem("cro_matched")?a():(e.waitUntil((function(){return"object"===_typeof(window.__TPT__)})).then((function(){var e=window.__TPT__;if("function"==typeof e.getConfig&&e.getConfig().isLoggedIn){var t=window.__TPT__hashedUserId;try{t&&fetch("https://tpt-tptsa-mapping-prod.s3.amazonaws.com/lookup-by-hashed-user-id/"+t,{"method":"GET","headers":{"Content-Type":"application/json"}}).then((function(e){return 404!==e.status&&403!==e.status?e.json():null})).then((function(e){if(e){if(sessionStorage.setItem("cro_matched",!0),sessionStorage.setItem("cro_admin_name",e.admin_name),sessionStorage.setItem("cro_audience",e.audience),sessionStorage.setItem("cro_individual_licenses_allocated",e.individual_licenses_allocated),sessionStorage.setItem("cro_individual_licenses_used",e.individual_licenses_used),sessionStorage.setItem("cro_match_type",e.match_type),sessionStorage.setItem("cro_school_license_access_cap",e.school_license_access_cap),sessionStorage.setItem("cro_school_licenses_used",e.school_licenses_used),sessionStorage.setItem("cro_school_name",e.school_name),e.registration_link)if(n("Register link detected!"),e.registration_link.indexOf("https://www.tptschoolaccess.com/api/utm-activation")>-1)n("Detected new style link! Not modifying!"),sessionStorage.setItem("cro_registration_link",e.registration_link);else if(e.registration_link.indexOf("https://login.tptschoolaccess.com/u")>-1){n("Detected original style link! Modifying!");var t=new URL("https://www.tptschoolaccess.com/api/utm-activation?activation_url=".concat(encodeURIComponent(e.registration_link)));sessionStorage.setItem("cro_registration_link",t.href)}else n("Detected third case of register links - not modifying"),sessionStorage.setItem("cro_registration_link",e.registration_link);a()}else sessionStorage.setItem("cro_unmatched",!0)}))["catch"](i)}catch(e){n("Error while requesting/storing AWS data!",e)}}}))["catch"](i),sessionStorage.setItem("cro_matched_complete",!0))}))}()}catch(e){x.error("matchedusers",e)}try{!function(e){var t=function(){var e=window.optimizely.get("utils"),t=[],n=e.observeSelector("head style",(function(e){e.optimizelyChangeData&&t.push(e)}));!function(e){"interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)}((function(){n(),t.forEach((function(e){document.head.appendChild(e)}))}))};window.optimizely.initialized?t():window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"initialized"},"handler":t})}()}catch(e){x.error("x/fix-css-on-react",e)}try{!function(e){var t="free-paid-pdp",n=function(){return x.error.apply(x,[t].concat(Array.prototype.slice.call(arguments)))};window.location.pathname.indexOf("/Product/")>-1&&function(e){window.optimizely.initialized&&e()||window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"initialized"},"handler":e})}((function(){var e=window.optimizely.get("utils");e.waitForElement(".PriceBox__textPrice > div").then((function(i){var o="FREE"===i.textContent.toUpperCase()?"free":"paid";!function(){x.log.apply(x,["[".concat(t,"]")].concat(Array.prototype.slice.call(arguments)))}("".concat(o," Resource PDP")),window.optimizely.push({"type":"page","pageName":"pjs_".concat(o,"_resource_pdp")}),e.waitForElement(".DigitalActivityBadge__section .TpTEaselBadge").then((function(){"free"===o?window.optimizely.push({"type":"page","pageName":"pjs_easel_free_resource_pdp"}):"paid"===o&&e.waitForElement(".PriceBox__ownershipText").then((function(){window.optimizely.push({"type":"page","pageName":"pjs_easel_paid_owned_resource_pdp"})}))["catch"](n)}))["catch"](n)}))["catch"](n)}))}()}catch(e){x.error("free-paid-pdp",e)}try{C=["teacherspayteachers.com","easelbytpt.com"],j=function(e){return e.replace(/https?:\/\//,"").split("/")[0]},(!(k=j(document.referrer))||C.includes((P=j(k))?P.split(".").slice(-2).join("."):"")&&k!==window.location.host)&&window.optimizely.push({"type":"waitForOriginSync","canonicalOrigins":C})}catch(e){x.error("origin-sync",e)}try{!function(e){var t="tptsa-item-in-wishlist-page-activations",n=function(){return x.error.apply(x,[t].concat(Array.prototype.slice.call(arguments)))};Object.entries({"11070712640":"pjs_homepage_tptsa_wishlist_activation","13715460482":"pjs_browse_search_tptsa_wishlist_activation","19186070224":"pjs_pdp_tptsa_wishlist_activation"}).forEach((function(e){var i=_slicedToArray(e,2),o=i[0],a=i[1];!function(e,t){window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"pageActivated"},"handler":function(n){t&&n.data.page.id!==String(t)||e(n.data)}})}((function(){window.optimizely.get("utils").waitUntil((function(){return window.__TPT__&&window.__TPT__.getConfig()})).then((function(){window.__TPT__.getConfig().isLoggedIn&&fetch("https://www.teacherspayteachers.com/Wish-List").then((function(e){return e.text()})).then((function(e){var n=document.createElement("div");if(n.innerHTML=e,tptsaItems=n.querySelectorAll('[data-crometrics-isavailableonschoolaccess="true"]'),localStorage.getItem("pjs_tptsa_wishlist_data")&&localStorage.removeItem("pjs_tptsa_wishlist_data"),!(!tptsaItems.length>0)){var i=tptsaItems[0],o={"img":i.querySelector(".ProductImage").style.backgroundImage,"title":i.querySelector('a[data-testid="ProductRowTitleBespoke__link"]').innerHTML,"totalItems":tptsaItems.length};localStorage.setItem("pjs_tptsa_wishlist_thumb",o.img),localStorage.setItem("pjs_tptsa_wishlist_data",JSON.stringify(o)),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"page","pageName":e,"isActive":!0,"tags":t})}(a),function(){x.log.apply(x,["[".concat(t,"]")].concat(Array.prototype.slice.call(arguments)))}("Wishlist contains TPTSA Item")}}))["catch"](n)}))["catch"](n)}),o)}))}()}catch(e){x.error("tptsa-item-in-wishlist-page-activations",e)}if(x.isDev||"qa"===x.mode)try{!function(e){var t="page-returning-visitor-attribute",n=new Map([["20096376406","pjs_returning_easel_user"]]);try{n.forEach((function(e,n){!function(e,t){window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"pageActivated"},"handler":function(n){t&&n.data.page.id!==String(t)||e(n.data)}})}((function(i){var o=((i||{}).page||{}).apiName||n;!function(){x.log.apply(x,["[".concat(t,"]")].concat(Array.prototype.slice.call(arguments)))}("api name:",o);var a="cro-visited-".concat(o);localStorage.getItem(a)?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push_attribute";window.optimizely.push({"type":"user","attributes":e}),window.optimizely.push({"type":"event","eventName":t})}(_defineProperty({},e,!0)):localStorage.setItem(a,!0)}),n)}))}catch(e){}}()}catch(e){x.error("page-returning-visitor-attribute",e)}try{!function(e){var t="easel-tos-visitor-attributes";var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push_attribute";window.optimizely.push({"type":"user","attributes":e}),window.optimizely.push({"type":"event","eventName":t})},i=function(e,t){!function(e){"interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",e)}((function(){var i=window.optimizely.get("visitor").custom||{};Array.isArray(e)||(e=[e]);var o=e.reduce((function(e,n){return i[n]||(e[n]=t),e}),{});Object.keys(o).length&&n(o)}))},o=function(){return x.error.apply(x,[t].concat(Array.prototype.slice.call(arguments)))};!function(e,t){window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"pageActivated"},"handler":function(n){t&&n.data.page.id!==String(t)||e(n.data)}})}((function(){var e=window.optimizely.get("utils");i("20166340082","false"),e.waitForElement(".BuyerTermsOfServiceModal__button").then((function(e){e.addEventListener("click",(function(){document.querySelector("input#accept-tos").checked&&(!function(e,t,n){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"."+window.location.hostname.split(".").slice(-2).join("."),a=e+"="+t+"; path=/";n instanceof Date?i=n:n>0&&(i=new Date).setTime(i.getTime()+24*n*60*60*1e3),i&&(a+="; expires="+i.toGMTString()),o&&(a+="; domain="+o),document.cookie=a}("PJS_Easel_Accepted_ToS",!0,365,".teacherspayteachers.com"),n({"pjs_easel_accepted_tos":"true"}))}))}))["catch"](o)}),"20064634653")}()}catch(e){x.error("easel-tos-visitor-attributes",e)}try{!function(e){var t="x/analytics/heap_experiment_tracking",n=function(){return x.error.apply(x,[t].concat(Array.prototype.slice.call(arguments)))};!function(e){window.optimizely.initialized&&e()||window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"initialized"},"handler":e})}((function(){var e=window.optimizely.get("utils").waitUntil((function(){return window.heap&&window.heap.addUserProperties})),t=function(t,i){e.then((function(){window.heap.addUserProperties(_defineProperty({},t,i))}))["catch"](n)};!function(e){window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"campaignDecided"},"handler":function(t){e(t.data)}})}((function(e){var n=e.decision,i=n.isCampaignHoldback,o=n.experimentId,a=n.variationId;if(!i&&o&&a)for(var r=e.campaign.experiments[0],c=r.name,s=r.variations,l=0;l<s.length;l++){var p=s[l];if(a===p.id){var d=c||o,u=p.name||a;t(d,u)}}}))}))}()}catch(e){x.error("x/analytics/heap_experiment_tracking",e)}try{!function(e){var t="track-heap-to-optimizely",n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":e,"tags":t})},i=function(){return x.log.apply(x,["[".concat(t,"]")].concat(Array.prototype.slice.call(arguments)))},o=function(){return x.error.apply(x,[t].concat(Array.prototype.slice.call(arguments)))},a={"global_view_any":"pjs_heap_global_view_any","CREATE_BLANK_ACTIVITY_SUCCESS":"pjs_heap_CREATE_BLANK_ACTIVITY_SUCCESS","ASSIGN_MODAL_OPENED":"pjs_heap_ASSIGN_MODAL_OPENED","BUYER_TOS_SHOWN":"pjs_heap_BUYER_TOS_SHOWN","da_sign_up_display_buyer_tos":"pjs_heap_da_sign_up_display_buyer_tos","ACCEPT_TOS_SUCCESS":"pjs_heap_ACCEPT_TOS_SUCCESS","da_sign_up_form_submit_accept_buyer_tos_success_":"pjs_heap_da_sign_up_form_submit_accept_buyer_tos_success_","easel_lp_view_any_marketing_domain":"pjs_heap_easel_lp_view_any_marketing_domain","easel_lp_click_any_button_to_product_page":"pjs_heap_easel_lp_click_any_button_to_product_page","easel_3_buyer_buyer_actions_click_create_digital_activity_from_all_places_":"pjs_heap_buyer_actions_create_digital_activity","easel_lp_view_landing_page":"pjs_heap_easel_lp_view","GET_ACTIVITY_SUCCESS":"pjs_heap_get_activity_success","global_combo_any_activity_search_resource_school_activity_profile_":"pjs_heap_tptsa_any_activity_engagement","resource_action_click_bookmark_or_preview_combo_":"pjs_heap_tptsa_resource_activities_engagement","Flow Completed (Appcues)":"pjs_heap_easel_assessments_flow_completed","Flow Skipped (Appcues)":"pjs_heap_easel_assessments_flow_skipped","Resource Action - Click - Access Now from Paid Access Modal":"pjs_heap_tptsa_resources_accessed","Resource Action - Click - Free Access Button":"pjs_heap_tptsa_resources_accessed","Resource Action - Click - Re-Access Button":"pjs_heap_tptsa_resources_accessed","Resource Action - Click - Open in Easel":"pjs_heap_tptsa_resources_accessed"};!function(e){window.optimizely.initialized&&e()||window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"initialized"},"handler":e})}((function(){window.optimizely.get("utils").waitUntil((function(){return window.heap.track})).then((function(){var e=window.heap.track;window.heap.track=function(t,o){var r=a[t];return"step_completed"===(null==o?void 0:o.id)&&n("pjs_heap_easel_assessments_completed_step_".concat(o.stepNumber)),r&&(n(r),i("Heap Event | Name: ",t," <>  Properties: ",o),"ASSIGN_MODAL_OPENED"===t&&o&&o.isTeacherVerified&&n("pjs_easel_viewed_copy_link_on_assign_modal")),e.apply(this,arguments)}}))["catch"](o)}))}()}catch(e){x.error("track-heap-to-optimizely",e)}try{!function(e){var t="analytics/heap-event-logger",n=function(){return x.log.apply(x,["[".concat(t,"]")].concat(Array.prototype.slice.call(arguments)))};!function(e){window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"activated"},"handler":e})}((function(){if(window.heap.track){var e=window.heap.track;window.heap.track=function(t,i){return n("Heap eventName",t),n("Heap eventProperties: ",i),e.apply(this,arguments)}}}))}()}catch(e){x.error("analytics/heap-event-logger",e)}try{!function(e){var t="tpt579-page-activation",n=function(){return x.error.apply(x,[t].concat(Array.prototype.slice.call(arguments)))};!function(e){window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"activated"},"handler":e})}((function(){window.optimizely.get("utils").waitForElement("#optimizelyBanner").then((function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"page","pageName":e,"isActive":!0,"tags":t})}("tpt579_sitewide_eyebrow_banner")}))["catch"](n)}))}()}catch(e){x.error("tpt579-page-activation",e)}try{!function(e,t){window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"pageActivated"},"handler":function(n){t&&n.data.page.id!==String(t)||e(n.data)}})}((function(){x.utils.observeSelector('[data-crometrics-isavailableonschoolaccess="true"] .AddToWishList',(function(e){e.addEventListener("click",(function(){e.textContent.toLowerCase().indexOf("on wish list")>-1||(x.__browseWishListAddedButton=e,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"page","pageName":e,"isActive":!0,"tags":t})}("pjs_browse_matched_wishlist_added"))}))}))}),19936553522)}catch(e){x.error("search-browse-wishlist-added-tptsa-matched",e)}try{!function(e){var t="first-easel-activity",n=function(){return x.log.apply(x,["[".concat(t,"]")].concat(Array.prototype.slice.call(arguments)))};window.addEventListener("load",(function(){var e=window.optimizely.get("dcp");n("DCP is available: ".concat(!!e)),e&&e.waitForAttributeValue({"datasourceId":20144019866,"attributeId":20540790445}).then((function(e){var t=!1;if(n(e),e){var i=(new Date-new Date(e))/864e5;t=i<30,n("First easel activity: ".concat(i," days ago"))}!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push_attribute";window.optimizely.push({"type":"user","attributes":e}),window.optimizely.push({"type":"event","eventName":t})}({"pjs_first_easel_activity_under_30_days":t.toString()})}))}))}()}catch(e){x.error("first-easel-activity",e)}try{!function(e){var t="my-purchases-page-not-empty",n=function(){return x.error.apply(x,[t].concat(Array.prototype.slice.call(arguments)))};!function(e){window.optimizely.initialized&&e()||window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"initialized"},"handler":e})}((function(){var e=x.utils;0===window.location.pathname.indexOf("/My-Purchases")&&e.waitForElement(".ResultsContainer__results__result .PurchaseRow").then((function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"page","pageName":e,"isActive":!0,"tags":t})}("pjs_my_purchases_not_empty")}))["catch"](n)}))}()}catch(e){x.error("my-purchases-page-not-empty",e)}try{x.tptAPI={"data":{},"GetPurchasesAndDownloads":function(e){var t,n,i,o=e.filter,a=e.limit;return t="GetPurchasesAndDownloads",n='{"operationName":"GetPurchasesAndDownloads","variables":{"limit":'.concat(void 0===a?40:a,',"offset":0,"itemTypeFilter":"').concat(o,'"},"extensions":{},"query":"query GetPurchasesAndDownloads($limit: Int!, $offset: Int!, $sortBy: PaidPurchasesSort, $itemTypeFilter: ItemTypeFilter, $priceFilter: PriceFilter, $searchTerm: String) {\n  member {\n    id\n    myPurchasesAndDownloads(paginationParameters: {limit: $limit, offset: $offset}, sortBy: $sortBy, itemTypeFilter: $itemTypeFilter, priceFilter: $priceFilter, searchTerm: $searchTerm) {\n      purchasesAndDownloads {\n        ... on Product {\n          ...ProductFields\n          __typename\n        }\n        ... on PurchaseOrder {\n          purchaseOrderId: id\n          purchaseOrderCreated: created\n          quoteDownloadUrl\n          isCancelled\n          isProcessed\n          __typename\n        }\n        ... on PurchaseItemTransfer {\n          uuid\n          product {\n            ...ProductFields\n            __typename\n          }\n          __typename\n        }\n        ... on HardGoodOrderItem {\n          orderItemId: id\n          product {\n            ...ProductFields\n            __typename\n          }\n          __typename\n        }\n        ... on GiftCertificateOrder {\n          orderId: id\n          created\n          __typename\n        }\n        __typename\n      }\n      pageInfo {\n        totalResultsCount\n        totalPageCount\n        currentPage\n        __typename\n      }\n      __typename\n    }\n    __typename\n  }\n}\n\nfragment ProductFields on Product {\n  id\n  name\n  isFree\n  kind\n  type\n  isDeleted\n  status\n  statusCopyright\n  statusAdmin\n  statusAdminType {\n    id\n    __typename\n  }\n  resourceProperties {\n    isAvailableForDigital\n    isSellerPublishedDigital\n    isAvailableOnSchoolAccess\n    assessmentIds\n    __typename\n  }\n  downloadurl\n  downloads\n  itemType\n  lastModifiedAt\n  lastUploadedAt\n  price\n  ...PriceFields\n  buyerData {\n    isPurchased\n    isInFreeDownloads\n    isTransferred\n    isWishlisted\n    lastPurchasedLicenseType\n    isProductAuthor\n    purchasedAt\n    isAddedToCart\n    downloadedAt\n    totalLicensesPurchased\n    orders {\n      orderId\n      datePurchased\n      __typename\n    }\n    evaluationStatus {\n      canEvaluate\n      isCompleted\n      hasAccessedResource\n      evaluationTypeId\n      __typename\n    }\n    __typename\n  }\n  filesize\n  postDate\n  url\n  types {\n    id\n    name\n    url\n    category\n    count\n    sphinxId\n    __typename\n  }\n  author {\n    id\n    name\n    icon {\n      location\n      height\n      width\n      __typename\n    }\n    owner {\n      email\n      id\n      name\n      wishlist {\n        id\n        __typename\n      }\n      __typename\n    }\n    url\n    averageRating\n    followerCount\n    buyerData {\n      id\n      isFollowing\n      __typename\n    }\n    totalItems\n    __typename\n  }\n  filePreview {\n    name\n    format\n    pageCount\n    filesize\n    previewUrl\n    __typename\n  }\n  mainVideo {\n    id\n    thumbnail {\n      location\n      height\n      width\n      __typename\n    }\n    duration\n    status\n    url\n    iframeUrl\n    __typename\n  }\n  supportingDocument {\n    url\n    previewUrl\n    __typename\n  }\n  images {\n    medium\n    original\n    large\n    __typename\n  }\n  bundle(paginationParameters: {limit: 1, offset: 0}) {\n    pageInfo {\n      totalResultsCount\n      totalPageCount\n      currentPage\n      __typename\n    }\n    bonus {\n      title\n      url\n      previewUrl\n      __typename\n    }\n    zip {\n      status\n      __typename\n    }\n    latestChildRevisionDate\n    includedItemTypes\n    includedResourceTaggedTypes {\n      productId: id\n      name\n      url\n      category\n      count\n      sphinxId\n      __typename\n    }\n    includedOnlineResourceTypes {\n      description\n      identifier\n      __typename\n    }\n    digitalActivities {\n      totalAvailableForDigital\n      totalSellerCreatedDigital\n      __typename\n    }\n    __typename\n  }\n  isTfj\n  onlineResource {\n    onlineResourceType {\n      identifier\n      description\n      __typename\n    }\n    __typename\n  }\n  revisions(limit: 1) {\n    comment\n    created\n    __typename\n  }\n  ...ProductAccessButtonProductFields\n  __typename\n}\n\nfragment PriceFields on Product {\n  prices {\n    isFree\n    transferableLicense {\n      price\n      discountPrice\n      salePrice\n      additionalLicensePrice\n      additionalLicenseSalePrice\n      __typename\n    }\n    nonTransferableLicense {\n      price\n      discountPrice\n      salePrice\n      additionalLicensePrice\n      additionalLicenseSalePrice\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n\nfragment ProductAccessButtonProductFields on Product {\n  id\n  name\n  author {\n    id\n    name\n    url\n    icon {\n      location\n      __typename\n    }\n    __typename\n  }\n  itemType\n  downloadurl\n  price\n  isFree\n  images {\n    large\n    __typename\n  }\n  buyerData {\n    isProductAuthor\n    isPurchased\n    isTransferred\n    __typename\n  }\n  filePreview {\n    format\n    filesize\n    __typename\n  }\n  resourceProperties {\n    isAvailableForDigital\n    isSellerPublishedDigital\n    assessmentIds\n    canConvertToEaselActivity\n    activityIds\n    __typename\n  }\n  supportingDocument {\n    url\n    previewUrl\n    __typename\n  }\n  url\n  onlineResource {\n    onlineResourceType {\n      identifier\n      description\n      __typename\n    }\n    __typename\n  }\n  __typename\n}\n"}'),i=window.optimizely.get("utils").cookie.get("csrfToken"),fetch("https://www.teacherspayteachers.com/graph/graphql?opname=".concat(t),{"credentials":"include","headers":{"accept":"application/json","cache-control":"no-cache","content-type":"application/json","pragma":"no-cache","x-csrf-token":i,"x-requested-with":"XMLHttpRequest"},"referrerPolicy":"no-referrer-when-downgrade","body":n,"method":"POST","mode":"cors"}).then((function(e){return e.json()}))}}}catch(e){x.error("api",e)}try{E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};window.optimizely.push({"type":"event","eventName":e,"tags":t})},L=function(e,t){window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"pageActivated"},"handler":function(n){t&&n.data.page.id!==String(t)||e(n.data)}})},L((function(){x.utils.observeSelector(".CartButtonContainer .CartButton",(function(e){e.addEventListener("click",(function(){"Add one to cart"===e.textContent?E("pjs_clicks_add_one_to_cart_pdp"):E("pjs_clicks_view_in_cart_pdp")}))}))}),"16853811688"),L((function(){x.utils.observeSelector(".CartButtonContainer .CartButton",(function(e){e.addEventListener("click",(function(){"Add to cart"===e.textContent?E("pjs_clicks_add_one_to_cart_browse"):E("pjs_clicks_view_in_cart_browse")}))}))}),"13715460482")}catch(e){x.error("clicks-on-cart",e)}try{!function(e){var t="visitor-country",n=function(){return x.error.apply(x,[t].concat(Array.prototype.slice.call(arguments)))},i=function(e){window.optimizely.initialized&&e()||window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"initialized"},"handler":e})};!function(e){i((function(){e(window.optimizely.get("utils"))}))}((function(e){e.waitUntil((function(){var e,t;return null===(e=window.optimizely.get("visitor"))||void 0===e||null===(t=e.location)||void 0===t?void 0:t.country})).then((function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push_attribute";window.optimizely.push({"type":"user","attributes":e}),window.optimizely.push({"type":"event","eventName":t})}({"pjs-us-vs-international-location":"US"===window.optimizely.get("visitor").location.country?"U.S.":"International"})}))["catch"](n)}))}()}catch(e){x.error("visitor-country",e)}try{!function(e){var t="logged-in-users",n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"push_attribute";window.optimizely.push({"type":"user","attributes":e}),window.optimizely.push({"type":"event","eventName":t})},i=function(){return x.error.apply(x,[t].concat(Array.prototype.slice.call(arguments)))},o=function(e){window.optimizely.initialized&&e()||window.optimizely.push({"type":"addListener","filter":{"type":"lifecycle","name":"initialized"},"handler":e})};!function(e){o((function(){e(window.optimizely.get("utils"))}))}((function(e){n({"pjs-is-user-logged-in":!1}),e.waitUntil((function(){var e,t;return null===(e=window.__TPT__)||void 0===e||null===(t=e.getConfig())||void 0===t?void 0:t.isLoggedIn})).then((function(){return n({"pjs-is-user-logged-in":!0})}))["catch"](i)}))}()}catch(e){x.error("logged-in-users",e)}O=window.CROQ,window.CROQ={"initialized":!0,"push":function(e){try{e()}catch(e){x.error(e)}}},O.forEach(window.CROQ.push)}();
}, "visitorIdLocator": null, "enableForceParameters": true, "experimental": {"trimPages": true}},p=n(132),h="initializeOptimizelyPreview";if(p.initGlobalStore(g),d.populateDirectiveData(),s.clientHasAlreadyInitialized())return void a.warn("Main / Disabling because Optimizely has already initialized on this page load. Are there multiple snippets on the page?");if(s.shouldBailForDesktopApp())return void a.log("Main / Disabling because of desktop app.");if(s.conflictInObservingChanges())return void a.log("Main / Disabling: Observe Changes Indefinitely is on, but browser does not support it.");if(s.shouldLoadInnie())l.registerFunction("getProjectId",(function(){return g.projectId})),l.registerFunction("getAccountId",(function(){return g.accountId})),f.addScriptAsync("https://app.optimizely.com/js/innie.js"),a.log("Main / Disabling in favor of the editor client.");else if(s.shouldLoadPreview()){var _;_=s.isSlave()?window.optimizely:window.optimizely=window.optimizely||[],_.push({type:"load",data:g}),a.log("Main / Disabling in favor of the preview client."),n(146).setupPreviewGlobal(),n(146).pushToPreviewGlobal({type:"pushPreviewData",name:"liveCommitData",data:g}),s.isSlave()||(l.registerFunction("getProjectId",(function(){return g.projectId})),f.addScriptSync("https://cdn-assets-prod.s3.amazonaws.com/js/preview2/11000223989.js"))}else if(s.shouldBootstrapDataForPreview()){l.registerFunction(h,(function(t){e(t),l.unregisterFunction(h)}));var v=s.isSlave()?PROJECT_ID_FOR_SLAVE_PREVIEW:l.getFunction("getProjectId")();u=t(s.getProjectToken(),v,s.getPreviewLayerIds()),f.addScriptSync(u),n(146).setupPreviewGlobal(),f.addScriptAsync("/dist/js/preview_ui.js")}else s.shouldBootstrapDataForEditor()?(l.registerFunction(h,(function(t){e(t),l.unregisterFunction(h)})),f.addScriptAsync(window.optimizely_editor_data_endpoint)):s.shouldInitialize()&&e(g);r.timeEnd("block")}try{i()}catch(e){try{n(119).handleError(e)}catch(e){console.log(e)}}}),(function(e,t,n){function i(){s();var e=x.getRumData();return e.extras=e.extras||{},e.extras.beacon={cjsTimeout:!0},e=_.pickBy(e,(function(e){return!_.isUndefined(e)})),a(e)}function r(e){var t=L.getPromise("RUM_FIRST_BEACON");return t?t.then(e):m.makeAsyncRequest("RUM_FIRST_BEACON",e)}function a(e){return _.isEmpty(e)?R.resolve():r((function(){return O.request({url:B,method:"POST",data:e,withCredentials:!0}).then((function(e){return m.resolveRequest("RUM_FIRST_BEACON",e),e}))["catch"]((function(e){throw A.error("POST to client-rum failed:",e),m.rejectRequest("RUM_FIRST_BEACON",e),e}))}))}function o(){var e=y.getCurrentScript();if(e)return e.src}function s(){var e={id:x.getRumId(),v:j,account:k.getAccountId(),project:k.getSnippetId()||k.getProjectId(),snippet:k.getSnippetId(),revision:k.getRevision(),clientVersion:V.getClientVersion(),hasSlave:!1,wxhr:!0,extras:{}},t=b.getPersistedBehaviorEventCount(),n=E.getEventCount();e["numBehaviorEvents"]=n;var i=n-t;_.extend(e.extras,{behaviorEventCountDiff:i,behaviorEventCountDecreased:i<0}),_.assign(e,c(),d()),S.dispatch(N.SET_RUM_DATA,{data:e})}function c(){var e=D.getGlobal("performance");if(e){var t,n=x.getScriptSrc();try{if(n){A.debug("Using derived script src: ",n);var i=e.getEntriesByName(n);i.length>0&&(t=i[0])}if(!t){var r=/\/\/[^.]+\.optimizely\.(com|test)\/(js|api\/client)\/[\d]+\.js/gi;A.debug("Scanning resource timing entries with regex");var a=e.getEntriesByType("resource");t=_.find(a,(function(e){return r.test(e.name)}))}if(t)return _.mapValues(C.ResourceTimingAttributes,(function(e,n){var i=t[n];return"number"==typeof i?Math.round(1e3*(i||0))/1e3:"serverTiming"===n?i||[]:void 0}))}catch(e){return}}}function u(){try{return!y.querySelector("body")}catch(e){return null}}function l(){try{D.getGlobal("requestAnimationFrame")((function(){var e=x.getRumData().timebase;S.dispatch(N.SET_RUM_DATA,{data:{render:I.now()-(e||0)}})}))}catch(e){return}}function d(){return F.getDurationsFor(_.values(C.RUMPerformanceTimingAttributes))}function f(){var e=T.keys(),t=_.filter(_.map(e,(function(e){var t=b.getStorageKeyFromKey(e);return t?{key:e,isForeign:b.isForeignKey(e),category:t,size:e.length+T.getItem(e).length}:null}))),n=_.reduce(t,(function(e,t){var n=t.key,i=b.getIdFromKey(n);if(!i)return e;var r=t.isForeign?e.foreign:e.local;return r[i]=!0,e}),{local:{},foreign:{}}),i=_.chain(t).filter({isForeign:!0}).reduce((function(e,t){var n=t.key.split("_")[0];return e[n]=!0,e}),{}).value(),r={local:0,foreign:0},a={local:{},foreign:{}};_.forEach(t,(function(e){var t=e.isForeign?"foreign":"local";r[t]+=e.size,a[t][e.category]||(a[t][e.category]=0),a[t][e.category]+=e.size}));var o={numKeys:T.allKeys().length,sizeKeys:T.allKeys().toString().length,sizeValues:T.allValues().toString().length,idCounts:{local:_.keys(n.local).length,foreign:_.keys(n.foreign).length},foreignOriginCount:_.keys(i).length,byteTotals:r,byteTotalsByCategory:a},s=w.estimateStorage();return s.then((function(e){return _.assign(o,{storageEstimate:e})}))}function g(){var e=D.getGlobal("performance"),t=e?e.timing:{},n=F.getMarks()||{},i=x.getApiData(),r=x.getDOMObservationData(),o=G.get("state").getActiveExperimentIds(),s=x.getFeaturesNeededData(),c=y.parseUri(x.getScriptSrc()),u=x.getRumData()||{},l=u.extras||{};_.assign(l,{apiCalls:i,DOMObservationData:r,paintTimings:h(),activeExperimentIds:o,numPages:U.getNumberOfPages(),snippet:{scheme:c.protocol.slice(0,-1),host:c.host,path:c.pathname},networkInfo:p(),experimental:k.getExperimental(),featuresNeeded:s,beacon:{cjsOnload:!0}});var d=D.getGlobal("Prototype");d&&!_.isUndefined(d.Version)&&(l.prototypeJS=d.Version);var g=!1;g=!0;var v=M.getFrames();v.length&&(l.xdFramesLoaded=v.length);var m={id:x.getRumId(),v:j,project:k.getSnippetId()||k.getProjectId(),navigationTimings:t,userTimings:n,xd:g,apis:_.keys(i),extras:l,sampleRate:u.sampleRate};f().then((function(e){var t=_.assign(m,{lsMetrics:e});a(t)}))}function p(){var e=D.getGlobal("navigator");if(e&&e.connection)return _.pick(e.connection,["downlink","rtt","effectiveType"])}function h(){var e=D.getGlobal("performance");if(e)try{var t=e.getEntriesByType("paint");if(_.isEmpty(t))return;return _.reduce(t,(function(e,t){return e[t.name]=Math.round(t.startTime),e}),{})}catch(e){return}}var _=n(2),v=n(5),m=n(6),E=n(70),I=n(24),y=n(79),S=n(9),T=n(80).LocalStorage,A=n(23),w=n(89),R=n(12).Promise,b=n(73),D=n(40),O=n(90),N=n(7),C=n(25),P=n(16),L=P.get("stores/async_request"),V=P.get("stores/client_metadata"),k=P.get("stores/global"),x=P.get("stores/rum"),F=P.get("stores/performance"),M=P.get("stores/xdomain"),U=P.get("stores/view_data"),G=n(92),B="https://rum.optimizely.com/rum",z=3e3,j="1.0",H=.01;t.initialize=function(){var e,t=v.generate().replace(/-/g,"");e=Math.random()<H;var n=o();S.dispatch(N.SET_RUM_DATA,{id:t,RumHost:B,inRumSample:e,src:n,data:{id:t,sync:u(),timebase:I.now(),sampleRate:H,url:n,extras:{initialDOMState:y.getReadyState()}}})},t.queueBeacons=function(){return x.getSampleRum()?(l(),y.isLoaded()?D.setTimeout(g,z):D.addEventListener("load",g),new R(function(e,t){D.setTimeout((function(){i().then(e,t)}),z)}).catch((function(e){A.warn("RUM / Error sending data:",e)}))):R.resolve()}}),(function(e,t,n){e.exports=n(3)._.noConflict()}),(function(e,t,n){(function(e,n){(function(){function i(e,t){return e.set(t[0],t[1]),e}function r(e,t){return e.add(t),e}function a(e,t){return c(be(e),gn)}function o(e,t){return!!e.length&&f(e,t,0)>-1}function s(e,t,n){for(var i=-1,r=e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function c(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function u(e,t,n){for(var i=-1,r=e.length;++i<r;){var a=e[i],o=t(a);if(null!=o&&(s===An?o===o:n(o,s)))var s=o,c=a}return c}function l(e,t,n,i){var r;return n(e,(function(e,n,a){if(t(e,n,a))return r=i?n:e,!1})),r}function d(e,t,n){for(var i=e.length,r=n?i:-1;n?r--:++r<i;)if(t(e[r],r,e))return r;return-1}function f(e,t,n){if(t!==t)return I(e,n);for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}function g(e,t,n,i,r){return r(e,(function(e,r,a){n=i?(i=!1,e):t(n,e,r,a)})),n}function p(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function h(e){return function(t){return e(t)}}function _(e,t){return Ee(t,(function(t){return e[t]}))}function v(e){return e&&e.Object===Object?e:null}function m(e,t){if(e!==t){var n=null===e,i=e===An,r=e===e,a=null===t,o=t===An,s=t===t;if(e>t&&!a||!r||n&&!o&&s||i&&s)return 1;if(e<t&&!n||!s||a&&!i&&r||o&&r)return-1}return 0}function E(e){return pi[e]}function I(e,t,n){for(var i=e.length,r=t+(n?0:-1);n?r--:++r<i;){var a=e[r];if(a!==a)return r}return-1}function y(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function S(e,t){return e="number"==typeof e||di.test(e)?+e:-1,t=null==t?Vn:t,e>-1&&e%1==0&&e<t}function T(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}function A(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function w(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function R(e){if(jt(e)&&!dr(e)){if(e instanceof b)return e;if(bi.call(e,"__wrapped__"))return tt(e)}return new b(e)}function b(e,t){this.e=e,this.u=[],this.l=!!t}function D(){}function O(e,t){return C(e,t)&&delete e[t]}function N(e,t){if(Xi){var n=e[t];return n===Dn?An:n}return bi.call(e,t)?e[t]:An}function C(e,t){return Xi?e[t]!==An:bi.call(e,t)}function P(e,t,n){e[t]=Xi&&n===An?Dn:n}function L(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function V(){this.d={hash:new D,map:Yi?new Yi:[],string:new D}}function k(e){var t=this.d;return Ze(e)?O("string"==typeof e?t.string:t.hash,e):Yi?t.map["delete"](e):W(t.map,e)}function x(e){var t=this.d;return Ze(e)?N("string"==typeof e?t.string:t.hash,e):Yi?t.map.get(e):X(t.map,e)}function F(e){var t=this.d;return Ze(e)?C("string"==typeof e?t.string:t.hash,e):Yi?t.map.has(e):Q(t.map,e)}function M(e,t){var n=this.d;return Ze(e)?P("string"==typeof e?n.string:n.hash,e,t):Yi?n.map.set(e,t):J(n.map,e,t),this}function U(e){var t=-1,n=e?e.length:0;for(this.d=new L;++t<n;)this.push(e[t])}function G(e,t){var n=e.d;if(Ze(t)){var i=n.d,r="string"==typeof t?i.string:i.hash;return r[t]===Dn}return n.has(t)}function B(e){var t=this.d;if(Ze(e)){var n=t.d,i="string"==typeof e?n.string:n.hash;i[e]=Dn}else t.set(e,Dn)}function z(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function j(){this.d={array:[],map:null}}function H(e){var t=this.d,n=t.array;return n?W(n,e):t.map["delete"](e)}function K(e){var t=this.d,n=t.array;return n?X(n,e):t.map.get(e)}function Y(e){var t=this.d,n=t.array;return n?Q(n,e):t.map.has(e)}function q(e,t){var n=this.d,i=n.array;i&&(i.length<Rn-1?J(i,e,t):(n.array=null,n.map=new L(i)));var r=n.map;return r&&r.set(e,t),this}function W(e,t){var n=$(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():zi.call(e,n,1),!0}function X(e,t){var n=$(e,t);return n<0?An:e[n][1]}function Q(e,t){return $(e,t)>-1}function $(e,t){for(var n=e.length;n--;)if(Nt(e[n][0],t))return n;return-1}function J(e,t,n){var i=$(e,t);i<0?e.push([t,n]):e[i][1]=n}function Z(e,t,n,i){return e===An||Nt(e,wi[n])&&!bi.call(i,n)?t:e}function ee(e,t,n){(n===An||Nt(e[t],n))&&("number"!=typeof t||n!==An||t in e)||(e[t]=n)}function te(e,t,n){var i=e[t];bi.call(e,t)&&Nt(i,n)&&(n!==An||t in e)||(e[t]=n)}function ne(e,t){return e&&ir(t,sn(t),e)}function ie(e){return"function"==typeof e?e:_n}function re(e,t,n,i,r,a,o){var s;if(i&&(s=a?i(e,r,a,o):i(e)),s!==An)return s;if(!zt(e))return e;var c=dr(e);if(c){if(s=Xe(e),!t)return be(e,s)}else{var u=We(e),l=u==Gn||u==Bn;if(fr(e))return Ne(e,t);if(u==Hn||u==kn||l&&!a){if(y(e))return a?e:{};if(s=Qe(l?{}:e),!t)return s=ne(s,e),n?Me(e,s):s}else{if(!gi[u])return a?e:{};s=$e(e,u,t)}}o||(o=new z);var d=o.get(e);return d?d:(o.set(e,s),(c?tr:fe)(e,(function(r,a){te(s,a,re(r,t,n,i,a,e,o))})),n&&!c?Me(e,s):s)}function ae(e){return zt(e)?Gi(e):{}}function oe(e,t,n){if("function"!=typeof e)throw new TypeError(bn);return setTimeout((function(){e.apply(An,n)}),t)}function se(e,t,n,i){var r=-1,a=o,c=!0,u=e.length,l=[],d=t.length;if(!u)return l;n&&(t=Ee(t,h(n))),i?(a=s,c=!1):t.length>=Rn&&(a=G,c=!1,t=new U(t));e:for(;++r<u;){var f=e[r],g=n?n(f):f;if(c&&g===g){for(var p=d;p--;)if(t[p]===g)continue e;l.push(f)}else a(t,g,i)||l.push(f)}return l}function ce(e,t){var n=!0;return tr(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function ue(e,t){var n=[];return tr(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function le(e,t,n,i){i||(i=[]);for(var r=-1,a=e.length;++r<a;){var o=e[r];t>0&&Vt(o)&&(n||dr(o)||Pt(o))?t>1?le(o,t-1,n,i):c(i,o):n||(i[i.length]=o)}return i}function de(e,t){return null==e?e:nr(e,t,cn)}function fe(e,t){return e&&nr(e,t,sn)}function ge(e,t){return ue(t,(function(t){return Gt(e[t])}))}function pe(e,t,n,i,r){return e===t||(null==e||null==t||!zt(e)&&!jt(t)?e!==e&&t!==t:he(e,t,pe,n,i,r))}function he(e,t,n,i,r,a){var o=dr(e),s=dr(t),c=xn,u=xn;o||(c=Ni.call(e),c=c==kn?Hn:c),s||(u=Ni.call(t),u=u==kn?Hn:u);var l=c==Hn&&!y(e),d=u==Hn&&!y(t),f=c==u;a||(a=[]);var g=_t(a,(function(t){return t[0]===e}));if(g&&g[1])return g[1]==t;if(a.push([e,t]),f&&!l){var p=o||$t(e)?He(e,t,n,i,r,a):Ke(e,t,c,n,i,r,a);return a.pop(),p}if(!(r&Pn)){var h=l&&bi.call(e,"__wrapped__"),_=d&&bi.call(t,"__wrapped__");if(h||_){var p=n(h?e.value():e,_?t.value():t,i,r,a);return a.pop(),p}}if(!f)return!1;var p=Ye(e,t,n,i,r,a);return a.pop(),p}function _e(e){var t=typeof e;return"function"==t?e:null==e?_n:("object"==t?Ie:we)(e)}function ve(e){return Hi(Object(e))}function me(e){e=null==e?e:Object(e);var t=[];for(var n in e)t.push(n);return t}function Ee(e,t){var n=-1,i=Lt(e)?Array(e.length):[];return tr(e,(function(e,r,a){i[++n]=t(e,r,a)})),i}function Ie(e){var t=sn(e);return function(n){var i=t.length;if(null==n)return!i;for(n=Object(n);i--;){var r=t[i];if(!(r in n&&pe(e[r],n[r],An,Cn|Pn)))return!1}return!0}}function ye(e,t,n,i,r){if(e!==t){var a=dr(t)||$t(t)?An:cn(t);tr(a||t,(function(o,s){if(a&&(s=o,o=t[s]),zt(o))r||(r=new z),Se(e,t,s,n,ye,i,r);else{var c=i?i(e[s],o,s+"",e,t,r):An;c===An&&(c=o),ee(e,s,c)}}))}}function Se(e,t,n,i,r,a,o){var s=e[n],c=t[n],u=o.get(c);if(u)return void ee(e,n,u);var l=a?a(s,c,n+"",e,t,o):An,d=l===An;d&&(l=c,dr(c)||$t(c)?dr(s)?l=s:Vt(s)?l=be(s):(d=!1,l=re(c,!a)):Wt(c)||Pt(c)?Pt(s)?l=tn(s):!zt(s)||i&&Gt(s)?(d=!1,l=re(c,!a)):l=s:d=!1),o.set(c,l),d&&r(l,c,i,a,o),o["delete"](c),ee(e,n,l)}function Te(e,t){return e=Object(e),It(t,(function(t,n){return n in e&&(t[n]=e[n]),t}),{})}function Ae(e,t){var n={};return de(e,(function(e,i){t(e,i)&&(n[i]=e)})),n}function we(e){return function(t){return null==t?An:t[e]}}function Re(e,t,n){var i=-1,r=e.length;t<0&&(t=-t>r?0:r+t),n=n>r?r:n,n<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(r);++i<r;)a[i]=e[i+t];return a}function be(e){return Re(e,0,e.length)}function De(e,t){var n;return tr(e,(function(e,i,r){return n=t(e,i,r),!n})),!!n}function Oe(e,t){var n=e;return It(t,(function(e,t){return t.func.apply(t.thisArg,c([e],t.args))}),n)}function Ne(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function Ce(e){var t=new e.constructor(e.byteLength);return new xi(t).set(new xi(e)),t}function Pe(e){return It(A(e),i,new e.constructor)}function Le(e){var t=new e.constructor(e.source,ui.exec(e));return t.lastIndex=e.lastIndex,t}function Ve(e){return It(w(e),r,new e.constructor)}function ke(e){return er?Object(er.call(e)):{}}function xe(e,t){var n=t?Ce(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Fe(e,t,n,i){n||(n={});for(var r=-1,a=t.length;++r<a;){var o=t[r],s=i?i(n[o],e[o],o,n,e):e[o];te(n,o,s)}return n}function Me(e,t){return ir(e,ar(e),t)}function Ue(e){return bt((function(t,n){var i=-1,r=n.length,a=r>1?n[r-1]:An;for(a="function"==typeof a?(r--,a):An,t=Object(t);++i<r;){var o=n[i];o&&e(t,o,i,a)}return t}))}function Ge(e,t){return function(n,i){if(null==n)return n;if(!Lt(n))return e(n,i);for(var r=n.length,a=t?r:-1,o=Object(n);(t?a--:++a<r)&&i(o[a],a,o)!==!1;);return n}}function Be(e){return function(t,n,i){for(var r=-1,a=Object(t),o=i(t),s=o.length;s--;){var c=o[e?s:++r];if(n(a[c],c,a)===!1)break}return t}}function ze(e){return function(){var t=arguments,n=ae(e.prototype),i=e.apply(n,t);return zt(i)?i:n}}function je(e,t,n,i){function r(){for(var t=-1,s=arguments.length,c=-1,u=i.length,l=Array(u+s),d=this&&this!==Ti&&this instanceof r?o:e;++c<u;)l[c]=i[c];for(;s--;)l[c++]=arguments[++t];return d.apply(a?n:this,l)}if("function"!=typeof e)throw new TypeError(bn);var a=t&On,o=ze(e);return r}function He(e,t,n,i,r,a){var o=-1,s=r&Pn,c=r&Cn,u=e.length,l=t.length;if(u!=l&&!(s&&l>u))return!1;for(var d=!0;++o<u;){var f,g=e[o],p=t[o];if(f!==An){if(f)continue;d=!1;break}if(c){if(!De(t,(function(e){return g===e||n(g,e,i,r,a)}))){d=!1;break}}else if(g!==p&&!n(g,p,i,r,a)){d=!1;break}}return d}function Ke(e,t,n,i,r,a,o){switch(n){case Fn:case Mn:return+e==+t;case Un:return e.name==t.name&&e.message==t.message;case jn:return e!=+e?t!=+t:e==+t;case Kn:case qn:return e==t+""}return!1}function Ye(e,t,n,i,r,a){var o=r&Pn,s=sn(e),c=s.length,u=sn(t),l=u.length;if(c!=l&&!o)return!1;for(var d=c;d--;){var f=s[d];if(!(o?f in t:bi.call(t,f)))return!1}for(var g=!0,p=o;++d<c;){f=s[d];var h,_=e[f],v=t[f];if(!(h===An?_===v||n(_,v,i,r,a):h)){g=!1;break}p||(p="constructor"==f)}if(g&&!p){var m=e.constructor,E=t.constructor;m!=E&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof E&&E instanceof E)&&(g=!1)}return g}function qe(e,t){var n=e[t];return Kt(n)?n:An}function We(e){return Ni.call(e)}function Xe(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&bi.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Qe(e){return"function"!=typeof e.constructor||et(e)?{}:ae(Mi(e))}function $e(e,t,n){var i=e.constructor;switch(t){case Qn:return Ce(e);case Fn:case Mn:return new i(+e);case $n:case Jn:case Zn:case ei:case ti:case ni:case ii:case ri:case ai:return xe(e,n);case zn:return Pe(e);case jn:case qn:return new i(e);case Kn:return Le(e);case Yn:return Ve(e);case Wn:return ke(e)}}function Je(e){var t=e?e.length:An;return Bt(t)&&(dr(e)||Qt(e)||Pt(e))?p(t,String):null}function Ze(e){var t=typeof e;return"number"==t||"boolean"==t||"string"==t&&"__proto__"!=e||null==e}function et(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||wi;return e===n}function tt(e){var t=new b(e.e,e.l);return t.u=be(e.u),t}function nt(e){return ue(e,Boolean)}function it(e,t){return e&&e.length?d(e,_e(t,3)):-1}function rt(e){var t=e?e.length:0;return t?le(e,1):[]}function at(e){var t=e?e.length:0;return t?le(e,Ln):[]}function ot(e){return e?e[0]:An}function st(e,t,n){var i=e?e.length:0;n="number"==typeof n?n<0?Ki(i+n,0):n:0;for(var r=(n||0)-1,a=t===t;++r<i;){var o=e[r];if(a?o===t:o!==o)return r}return-1}function ct(e){var t=e?e.length:0;return t?e[t-1]:An}function ut(e,t,n){var i=e?e.length:0;return t=null==t?0:+t,n=n===An?i:+n,i?Re(e,t,n):[]}function lt(e){var t=R(e);return t.l=!0,t}function dt(e,t){return t(e),e}function ft(e,t){return t(e)}function gt(){return Oe(this.e,this.u)}function pt(e,t,n){return t=n?An:t,ce(e,_e(t))}function ht(e,t){return ue(e,_e(t))}function _t(e,t){return l(e,_e(t),tr)}function vt(e,t){return tr(e,ie(t))}function mt(e,t,n,i){e=Lt(e)?e:gn(e),n=n&&!i?gr(n):0;var r=e.length;return n<0&&(n=Ki(r+n,0)),Qt(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&f(e,t,n)>-1}function Et(e,t){return Ee(e,_e(t))}function It(e,t,n){return g(e,_e(t),n,arguments.length<3,tr)}function yt(e){return null==e?0:(e=Lt(e)?e:sn(e),e.length)}function St(e,t,n){return t=n?An:t,De(e,_e(t))}function Tt(e,t){var n=0;return t=_e(t),Ee(Ee(e,(function(e,i,r){return{value:e,index:n++,criteria:t(e,i,r)}})).sort((function(e,t){return m(e.criteria,t.criteria)||e.index-t.index})),we("value"))}function At(e,t){var n;if("function"!=typeof t)throw new TypeError(bn);return e=gr(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=An),n}}function wt(e){if("function"!=typeof e)throw new TypeError(bn);return function(){return!e.apply(this,arguments)}}function Rt(e){return At(2,e)}function bt(e,t){if("function"!=typeof e)throw new TypeError(bn);return t=Ki(t===An?e.length-1:gr(t),0),function(){for(var n=arguments,i=-1,r=Ki(n.length-t,0),a=Array(r);++i<r;)a[i]=n[t+i];var o=Array(t+1);for(i=-1;++i<t;)o[i]=n[i];return o[t]=a,e.apply(this,o)}}function Dt(e){return zt(e)?dr(e)?be(e):ir(e,sn(e)):e}function Ot(e){return re(e,!0,!0)}function Nt(e,t){return e===t||e!==e&&t!==t}function Ct(e,t){return e>t}function Pt(e){return Vt(e)&&bi.call(e,"callee")&&(!Bi.call(e,"callee")||Ni.call(e)==kn)}function Lt(e){return null!=e&&Bt(rr(e))&&!Gt(e)}function Vt(e){return jt(e)&&Lt(e)}function kt(e){return e===!0||e===!1||jt(e)&&Ni.call(e)==Fn}function xt(e){return jt(e)&&Ni.call(e)==Mn}function Ft(e){if(Lt(e)&&(dr(e)||Qt(e)||Gt(e.splice)||Pt(e)))return!e.length;for(var t in e)if(bi.call(e,t))return!1;return!0}function Mt(e,t){return pe(e,t)}function Ut(e){return"number"==typeof e&&ji(e)}function Gt(e){var t=zt(e)?Ni.call(e):"";return t==Gn||t==Bn}function Bt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Vn}function zt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function jt(e){return!!e&&"object"==typeof e}function Ht(e){return qt(e)&&e!=+e}function Kt(e){return null!=e&&(Gt(e)?Pi.test(Ri.call(e)):jt(e)&&(y(e)?Pi:li).test(e))}function Yt(e){return null===e}function qt(e){return"number"==typeof e||jt(e)&&Ni.call(e)==jn}function Wt(e){if(!jt(e)||Ni.call(e)!=Hn||y(e))return!1;var t=Mi(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&Ri.call(n)==Oi}function Xt(e){return zt(e)&&Ni.call(e)==Kn}function Qt(e){return"string"==typeof e||!dr(e)&&jt(e)&&Ni.call(e)==qn}function $t(e){return jt(e)&&Bt(e.length)&&!!fi[Ni.call(e)]}function Jt(e){return e===An}function Zt(e,t){return e<t}function en(e){return Lt(e)?e.length?be(e):[]:gn(e)}function tn(e){return ir(e,cn(e))}function nn(e){return"string"==typeof e?e:null==e?"":e+""}function rn(e,t){var n=ae(e);return t?hr(n,t):n}function an(e,t){return e&&fe(e,ie(t))}function on(e,t){return null!=e&&bi.call(e,t)}function sn(e){var t=et(e);if(!t&&!Lt(e))return ve(e);var n=Je(e),i=!!n,r=n||[],a=r.length;for(var o in e)!bi.call(e,o)||i&&("length"==o||S(o,a))||t&&"constructor"==o||r.push(o);return r}function cn(e){for(var t=-1,n=et(e),i=me(e),r=i.length,a=Je(e),o=!!a,s=a||[],c=s.length;++t<r;){var u=i[t];o&&("length"==u||S(u,c))||"constructor"==u&&(n||!bi.call(e,u))||s.push(u)}return s}function un(e,t){var n={};return t=_e(t,3),fe(e,(function(e,i,r){n[i]=t(e,i,r)})),n}function ln(e,t){return t=_e(t),Ae(e,(function(e,n){return!t(e,n)}))}function dn(e,t){return null==e?{}:Ae(e,_e(t))}function fn(e,t,n){var i=null==e?An:e[t];return i===An&&(i=n),Gt(i)?i.call(e):i}function gn(e){return e?_(e,sn(e)):[]}function pn(e){return e=nn(e),e&&si.test(e)?e.replace(oi,E):e}function hn(e){return function(){return e}}function _n(e){return e}function vn(e){return Ie(hr({},e))}function mn(e,t,n){var i=sn(t),r=ge(t,i);null!=n||zt(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=ge(t,sn(t)));var a=!(zt(n)&&"chain"in n)||n.chain,o=Gt(e);return tr(r,(function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t=this.l;if(a||t){var n=e(this.e),r=n.u=be(this.u);return r.push({func:i,args:arguments,thisArg:e}),n.l=t,n}return i.apply(e,c([this.value()],arguments))})})),e}function En(){return Ti._===this&&(Ti._=Ci),this}function In(){}function yn(e){var t=++Di;return nn(e)+t}function Sn(e){return e&&e.length?u(e,_n,Ct):An}function Tn(e){return e&&e.length?u(e,_n,Zt):An}var An,wn="4.6.1",Rn=200,bn="Expected a function",Dn="__lodash_hash_undefined__",On=1,Nn=32,Cn=1,Pn=2,Ln=1/0,Vn=9007199254740991,kn="[object Arguments]",xn="[object Array]",Fn="[object Boolean]",Mn="[object Date]",Un="[object Error]",Gn="[object Function]",Bn="[object GeneratorFunction]",zn="[object Map]",jn="[object Number]",Hn="[object Object]",Kn="[object RegExp]",Yn="[object Set]",qn="[object String]",Wn="[object Symbol]",Xn="[object WeakMap]",Qn="[object ArrayBuffer]",$n="[object Float32Array]",Jn="[object Float64Array]",Zn="[object Int8Array]",ei="[object Int16Array]",ti="[object Int32Array]",ni="[object Uint8Array]",ii="[object Uint8ClampedArray]",ri="[object Uint16Array]",ai="[object Uint32Array]",oi=/[&<>"'`]/g,si=RegExp(oi.source),ci=/[\\^$.*+?()[\]{}|]/g,ui=/\w*$/,li=/^\[object .+?Constructor\]$/,di=/^(?:0|[1-9]\d*)$/,fi={};fi[$n]=fi[Jn]=fi[Zn]=fi[ei]=fi[ti]=fi[ni]=fi[ii]=fi[ri]=fi[ai]=!0,fi[kn]=fi[xn]=fi[Qn]=fi[Fn]=fi[Mn]=fi[Un]=fi[Gn]=fi[zn]=fi[jn]=fi[Hn]=fi[Kn]=fi[Yn]=fi[qn]=fi[Xn]=!1;var gi={};gi[kn]=gi[xn]=gi[Qn]=gi[Fn]=gi[Mn]=gi[$n]=gi[Jn]=gi[Zn]=gi[ei]=gi[ti]=gi[zn]=gi[jn]=gi[Hn]=gi[Kn]=gi[Yn]=gi[qn]=gi[Wn]=gi[ni]=gi[ii]=gi[ri]=gi[ai]=!0,gi[Un]=gi[Gn]=gi[Xn]=!1;var pi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},hi={"function":!0,object:!0},_i=hi[typeof t]&&t&&!t.nodeType?t:An,vi=hi[typeof e]&&e&&!e.nodeType?e:An,mi=vi&&vi.exports===_i?_i:An,Ei=v(_i&&vi&&"object"==typeof n&&n),Ii=v(hi[typeof self]&&self),yi=v(hi[typeof window]&&window),Si=v(hi[typeof this]&&this),Ti=Ei||yi!==(Si&&Si.window)&&yi||Ii||Si||Function("return this")(),Ai=Array.prototype,wi=Object.prototype,Ri=Function.prototype.toString,bi=wi.hasOwnProperty,Di=0,Oi=Ri.call(Object),Ni=wi.toString,Ci=Ti._,Pi=RegExp("^"+Ri.call(bi).replace(ci,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Li=mi?An:An,Vi=Ti.Reflect,ki=Ti.Symbol,xi=Ti.Uint8Array,Fi=Vi?Vi.enumerate:An,Mi=Object.getPrototypeOf,Ui=Object.getOwnPropertySymbols,Gi=Object.create,Bi=wi.propertyIsEnumerable,zi=Ai.splice,ji=Ti.isFinite,Hi=Object.keys,Ki=Math.max,Yi=qe(Ti,"Map"),qi=qe(Ti,"Set"),Wi=qe(Ti,"WeakMap"),Xi=qe(Object,"create"),Qi=Yi?Ri.call(Yi):"",$i=qi?Ri.call(qi):"",Ji=Wi?Ri.call(Wi):"",Zi=ki?ki.prototype:An,er=Zi?Zi.valueOf:An,tr=Ge(fe),nr=Be();Fi&&!Bi.call({valueOf:1},"valueOf")&&(me=function(e){return T(Fi(e))});var ir=Fe,rr=we("length"),ar=Ui||function(){return[]};(Yi&&We(new Yi)!=zn||qi&&We(new qi)!=Yn||Wi&&We(new Wi)!=Xn)&&(We=function(e){var t=Ni.call(e),n=t==Hn?e.constructor:null,i="function"==typeof n?Ri.call(n):"";if(i)switch(i){case Qi:return zn;case $i:return Yn;case Ji:return Xn}return t});var or=bt((function(e,t){return dr(e)||(e=null==e?[]:[Object(e)]),t=le(t,1),a(e,t)})),sr=bt((function(e,t,n){return je(e,On|Nn,t,n)})),cr=bt((function(e,t){return oe(e,1,t)})),ur=bt((function(e,t,n){return oe(e,pr(t)||0,n)})),lr=bt((function(e,t){return je(e,Nn,An,t)})),dr=Array.isArray,fr=Li?function(e){return e instanceof Li}:hn(!1),gr=Number,pr=Number,hr=Ue((function(e,t){ir(t,sn(t),e)})),_r=Ue((function(e,t){ir(t,cn(t),e)})),vr=Ue((function(e,t,n,i){Fe(t,cn(t),e,i)})),mr=bt((function(e){return e.push(An,Z),vr.apply(An,e)})),Er=Ue((function(e,t,n){ye(e,t,n)})),Ir=bt((function(e,t){return null==e?{}:(t=Ee(le(t,1),String),Te(e,se(cn(e),t)))})),yr=bt((function(e,t){return null==e?{}:Te(e,le(t,1))})),Sr=_e;b.prototype=ae(R.prototype),b.prototype.constructor=b,D.prototype=Xi?Xi(null):wi,L.prototype.clear=V,L.prototype["delete"]=k,L.prototype.get=x,L.prototype.has=F,L.prototype.set=M,U.prototype.push=B,z.prototype.clear=j,z.prototype["delete"]=H,z.prototype.get=K,z.prototype.has=Y,z.prototype.set=q,R.assign=hr,R.assignIn=_r,R.before=At,R.bind=sr,R.chain=lt,R.compact=nt,R.concat=or,R.create=rn,R.defaults=mr,R.defer=cr,R.delay=ur,R.filter=ht,R.flatten=rt,R.flattenDeep=at,R.iteratee=Sr,R.keys=sn,R.map=Et,R.mapValues=un,R.matches=vn,R.merge=Er,R.mixin=mn,R.negate=wt,R.omit=Ir,R.omitBy=ln,R.once=Rt,R.partial=lr,R.pick=yr,R.pickBy=dn,R.slice=ut,R.sortBy=Tt,R.tap=dt,R.thru=ft,R.toArray=en,R.values=gn,R.extend=_r,mn(R,R),R.clone=Dt,R.cloneDeep=Ot,R.escape=pn,R.every=pt,R.find=_t,R.findIndex=it,R.forEach=vt,R.forOwn=an,R.has=on,R.head=ot,R.identity=_n,R.includes=mt,R.indexOf=st,R.isArguments=Pt,R.isArray=dr,R.isBoolean=kt,R.isDate=xt,R.isEmpty=Ft,R.isEqual=Mt,R.isFinite=Ut,R.isFunction=Gt,R.isNaN=Ht,R.isNull=Yt,R.isNumber=qt,R.isObject=zt,R.isRegExp=Xt,R.isString=Qt,R.isUndefined=Jt,R.last=ct,R.max=Sn,R.min=Tn,R.noConflict=En,R.noop=In,R.reduce=It,R.result=fn,R.size=yt,R.some=St,R.uniqueId=yn,R.each=vt,R.first=ot,mn(R,(function(){var e={};return fe(R,(function(t,n){bi.call(R.prototype,n)||(e[n]=t)})),e})(),{chain:!1}),R.VERSION=wn,tr(["pop","join","replace","reverse","split","push","shift","sort","splice","unshift"],(function(e){var t=(/^(?:replace|split)$/.test(e)?String.prototype:Ai)[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|join|replace|shift)$/.test(e);R.prototype[e]=function(){var e=arguments;return i&&!this.l?t.apply(this.value(),e):this[n]((function(n){return t.apply(n,e)}))}})),R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=gt,(yi||Ii||{})._=R,_i&&vi&&(mi&&((vi.exports=R)._=R),_i._=R)}).call(this)}).call(t,n(4)(e),(function(){return this})())}),(function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}),(function(e,t){t.generate=function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}}),(function(e,t,n){var i=n(7),r=n(9),a=n(12).Promise,o=n(16),s=o.get("stores/async_request");t.makeAsyncRequest=function(e,t){var n=s.getPromise(e);if(n)return n;var o,c,u=new a(function(e,t){o=e,c=t});return r.dispatch(i.REGISTER_ASYNC_DEFERRED,{source:e,promise:u,resolver:o,rejecter:c}),t&&t(),u},t.resolveRequest=function(e,t){r.dispatch(i.RESOLVE_DEFERRED,{source:e,resolveWith:t})},t.rejectRequest=function(e,t){r.dispatch(i.REJECT_DEFERRED,{source:e,rejectWith:t})}}),(function(e,t,n){var i=n(8);e.exports=i({LOG:null,SET_LOGLEVEL:null,INITIALIZE_STATE:null,SET_DOMCONTENTLOADED:null,ACTIVATE:null,UPDATE_BEHAVIOR_STORE:null,DATA_LOADED:null,SET_CLIENT_NAME:null,SET_CLIENT_VERSION:null,LOAD_PERSISTED_LAYER_STATES:null,RECORD_GLOBAL_DECISION:null,RECORD_LAYER_DECISION:null,ENSURE_ORIGINAL_PUSHSTATE:null,ENSURE_ORIGINAL_REPLACESTATE:null,SET_VISITOR_ATTRIBUTES:null,SET_VISITOR_ATTRIBUTE_PENDING:null,LOAD_EXISTING_VISITOR_PROFILE:null,SET_VISITOR_EVENTS:null,SET_FOREIGN_VISITOR_EVENTS:null,SET_FOREIGN_VISITOR_EVENT_QUEUE:null,SET_VISITOR_ID:null,SET_VISITOR_ID_VIA_API:null,REFRESH_SESSION:null,LOAD_SESSION_STATE:null,UPDATE_VARIATION_ID_MAP:null,MERGE_VARIATION_ID_MAP:null,UPDATE_PREFERRED_LAYER_MAP:null,MERGE_PREFERRED_LAYER_MAP:null,RECORD_LAYER_DECISION_EVENT_ID:null,TRACK_VIEW_ACTIVATED_EVENT:null,REGISTER_ASYNC_DEFERRED:null,RESOLVE_DEFERRED:null,REJECT_DEFERRED:null,REGISTER_PLUGIN:null,ADD_CLEANUP_FN:null,CLEAR_CLEANUP_FN:null,ACTION_EXECUTED:null,REGISTER_ACTION:null,SET_VIEW_ACTIVE_STATE:null,UPDATE_PARSED_VIEW_METADATA:null,UPDATE_USER_SUPPLIED_METADATA:null,REGISTER_VIEWS:null,SET_GLOBAL_TAGS:null,SET_VIEW_BATCHING:null,RESET_VIEW_STATES:null,ATTACH_EVENT_STREAM_PUBLISHERS:null,DETACH_EVENT_STREAM_PUBLISHERS:null,LOAD_DIRECTIVE:null,SET_COOKIE_AGE:null,SET_COOKIE_DOMAIN:null,SET_COOKIE_AUTO_REFRESH:null,XDOMAIN_SET_DEFAULT_FRAME:null,
XDOMAIN_ADD_FRAME:null,XDOMAIN_SET_MESSAGE:null,XDOMAIN_ADD_SUBSCRIBER:null,XDOMAIN_SET_CANONICAL_ORIGINS:null,XDOMAIN_SET_DISABLED:null,ADD_EMITTER_HANDLER:null,REMOVE_EMITTER_HANDLER:null,SET_INTEGRATION_SETTINGS:null,ADD_CHANGE:null,SET_CHANGE_APPLIER:null,REMOVE_ACTION_STATE:null,ANNOUNCE_PENDING_REDIRECT:null,LOAD_REDIRECT_DATA:null,REGISTER_TRACKED_REDIRECT_DATA:null,SET_PENDING_EVENT:null,REMOVE_PENDING_EVENT:null,LOAD_PENDING_EVENTS:null,SANDBOXED_FUNCTIONS_ADDED:null,SET_RUM_DATA:null,RECORD_API_USAGE:null,INITIALIZE_CHANGE_METRICS:null,RECORD_ACTIVATION_TYPE_USAGE:null,RECORD_AUDIENCE_USAGE:null,RECORD_CHANGE_MACROTASK_RATE:null,RECORD_CHANGE_OVERHEATED:null,RECORD_CHANGE_TYPE_USAGE:null,RECORD_DOM_OBSERVATION_OCCURENCE:null,RECORD_INTEGRATION_USAGE:null,RECORD_LAYER_FEATURE_USAGE:null,RECORD_LAYER_POLICY_USAGE:null,RECORD_RECOMMENDATIONS_USAGE:null,RECORD_VIEW_FEATURE_USAGE:null,RECORD_VIEWS_INITIALLY_ACTIVATED_COUNT:null,RECORD_VISITOR_ID_LOCATOR_USAGE:null,RECORD_VISITOR_ID_ERROR:null,RECORD_STICKY_BUCKETING_FEATURE:null,SET_PERFORMANCE_MARKS_DATA:null,FINALIZE_BATCH_SNAPSHOT:null,REGISTER_PREVIOUS_BATCH:null,REGISTER_TRACKER_VISITOR:null,REGISTER_TRACKER_EVENT:null,REGISTER_TRACKER_DECISION:null,RESET_TRACKER_EVENTS:null,RESET_TRACKER_PREVIOUS_BATCHES:null,RESET_TRACKER_STORE:null,SET_TRACKER_POLLING:null,SET_TRACKER_BATCHING:null,SET_TRACKER_SEND_EVENTS:null,SET_TRACKER_PERSISTABLE_STATE:null,SET_TRACKER_DIRTY:null,UPDATE_TRACKER_VISITOR_ATTRIBUTES:null,SET_UA_DATA:null})}),(function(e,t){"use strict";var n=function(e){var t,n={};if(!(e instanceof Object)||Array.isArray(e))throw new Error("keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(n[t]=t);return n};e.exports=n}),(function(e,t,n){var i=n(10);e.exports=i.create()}),(function(e,t,n){function i(e){e=e||{},this.f={},this.g={},this.I=0,this.S=[],this.T=[]}function r(e,t){return function(){var n=e.indexOf(t);n!==-1&&e.splice(n,1)}}var a=n(2),o=n(11);i.prototype.registerStores=function(e){a.forOwn(e,a.bind((function(e,t){this.f[t]=new o(t,this,e)}),this))},i.prototype.getStore=function(e){return this.f[e]},i.prototype.dispatch=function(e,t){this.dispatchId++,a.each(this.S,a.bind((function(n){n.call(this,e,t)}),this)),a.forOwn(this.f,(function(n){n.A(e,t)})),a.each(this.T,a.bind((function(n){n.call(this,e,t)}),this)),a.forOwn(this.f,a.bind((function(e,t){e.hasChanges()&&this.g[t]&&(e.resetChange(),a.each(this.g[t],(function(t){t(e)})))}),this))},i.prototype.reset=function(){this.g={},a.forOwn(this.f,(function(e,t){e.w()}))},i.prototype.getState=function(){var e={};return a.forOwn(this.f,(function(t,n){e[n]=t.R()})),e},i.prototype.onPreAction=function(e){var t=this.S;return t.push(e),r(t,e)},i.prototype.onPostAction=function(e){var t=this.T;return t.push(e),r(t,e)},i.prototype.b=function(e,t){this.g[e]||(this.g[e]=[]),this.g[e].push(t);var n=this.g[e];return r(n,t)},e.exports={create:function(e){return new i(e)}}}),(function(e,t,n){function i(e,t,n){this.D=e,this.O=t,this.N=0,this.C=!1,this.P={},r.extend(this,n),this.L={},this.initialize&&this.initialize()}var r=n(2);i.prototype.A=function(e,t){var n=this.P[e];n&&"function"==typeof n&&n.call(this,t,e)},i.prototype.R=function(){return r.cloneDeep(this.L)},i.prototype.on=function(e,t){this.P[e]=r.bind(t,this)},i.prototype.observe=function(e){return this.O.b(this.D,e)},i.prototype.emitChange=function(){this.C=!0,this.N++},i.prototype.hasChanges=function(){return this.C},i.prototype.resetChange=function(){this.C=!1},i.prototype.getStateId=function(){return this.N},i.prototype.w=function(){this.reset&&"function"==typeof this.reset&&this.reset(),this.initialize()},e.exports=i}),(function(e,t,n){e.exports=n(13)}),(function(e,t,n){(function(t,i){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
	 * @version   4.1.0
	 */
!(function(t,n){e.exports=n()})(this,(function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function r(e){return"function"==typeof e}function a(e){X=e}function o(e){Q=e}function s(){return function(){return t.nextTick(f)}}function c(){return"undefined"!=typeof W?function(){W(f)}:d()}function u(){var e=0,t=new Z(f),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function l(){var e=new MessageChannel;return e.port1.onmessage=f,function(){return e.port2.postMessage(0)}}function d(){var e=setTimeout;return function(){return e(f,1)}}function f(){for(var e=0;e<q;e+=2){var t=ne[e],n=ne[e+1];t(n),ne[e]=void 0,ne[e+1]=void 0}q=0}function g(){try{var e=n(15);return W=e.runOnLoop||e.runOnContext,c()}catch(e){return d()}}function p(e,t){var n=arguments,i=this,r=new this.constructor(_);void 0===r[re]&&k(r);var a=i._state;return a?!(function(){var e=n[a-1];Q((function(){return P(a,r,e,i._result)}))})():D(i,r,e,t),r}function h(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(_);return A(n,e),n}function _(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function m(){return new TypeError("A promises callback cannot return that same promise.")}function E(e){try{return e.then}catch(e){return ce.error=e,ce}}function I(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}function y(e,t,n){Q((function(e){var i=!1,r=I(n,t,(function(n){i||(i=!0,t!==n?A(e,n):R(e,n))}),(function(t){i||(i=!0,b(e,t))}),"Settle: "+(e._label||" unknown promise"));!i&&r&&(i=!0,b(e,r))}),e)}function S(e,t){t._state===oe?R(e,t._result):t._state===se?b(e,t._result):D(t,void 0,(function(t){return A(e,t)}),(function(t){return b(e,t)}))}function T(e,t,n){t.constructor===e.constructor&&n===p&&t.constructor.resolve===h?S(e,t):n===ce?(b(e,ce.error),ce.error=null):void 0===n?R(e,t):r(n)?y(e,t,n):R(e,t)}function A(t,n){t===n?b(t,v()):e(n)?T(t,n,E(n)):R(t,n)}function w(e){e._onerror&&e._onerror(e._result),O(e)}function R(e,t){e._state===ae&&(e._result=t,e._state=oe,0!==e._subscribers.length&&Q(O,e))}function b(e,t){e._state===ae&&(e._state=se,e._result=t,Q(w,e))}function D(e,t,n,i){var r=e._subscribers,a=r.length;e._onerror=null,r[a]=t,r[a+oe]=n,r[a+se]=i,0===a&&e._state&&Q(O,e)}function O(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i=void 0,r=void 0,a=e._result,o=0;o<t.length;o+=3)i=t[o],r=t[o+n],i?P(n,i,r,a):r(a);e._subscribers.length=0}}function N(){this.error=null}function C(e,t){try{return e(t)}catch(e){return ue.error=e,ue}}function P(e,t,n,i){var a=r(n),o=void 0,s=void 0,c=void 0,u=void 0;if(a){if(o=C(n,i),o===ue?(u=!0,s=o.error,o.error=null):c=!0,t===o)return void b(t,m())}else o=i,c=!0;t._state!==ae||(a&&c?A(t,o):u?b(t,s):e===oe?R(t,o):e===se&&b(t,o))}function L(e,t){try{t((function(t){A(e,t)}),(function(t){b(e,t)}))}catch(t){b(e,t)}}function V(){return le++}function k(e){e[re]=le++,e._state=void 0,e._result=void 0,e._subscribers=[]}function x(e,t){this._instanceConstructor=e,this.promise=new e(_),this.promise[re]||k(this.promise),Y(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?R(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&R(this.promise,this._result))):b(this.promise,F())}function F(){return new Error("Array Methods must be provided an Array")}function M(e){return new x(this,e).promise}function U(e){var t=this;return new t(Y(e)?function(n,i){for(var r=e.length,a=0;a<r;a++)t.resolve(e[a]).then(n,i)}:function(e,t){return t(new TypeError("You must pass an array to race."))})}function G(e){var t=this,n=new t(_);return b(n,e),n}function B(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function z(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function j(e){this[re]=V(),this._result=this._state=void 0,this._subscribers=[],_!==e&&("function"!=typeof e&&B(),this instanceof j?L(this,e):z())}function H(){var e=void 0;if("undefined"!=typeof i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=j}var K=void 0;K=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var Y=K,q=0,W=void 0,X=void 0,Q=function(e,t){ne[q]=e,ne[q+1]=t,q+=2,2===q&&(X?X(f):ie())},$="undefined"!=typeof window?window:void 0,J=$||{},Z=J.MutationObserver||J.WebKitMutationObserver,ee="undefined"==typeof self&&"undefined"!=typeof t&&"[object process]"==={}.toString.call(t),te="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ne=new Array(1e3),ie=void 0;ie=ee?s():Z?u():te?l():void 0===$?g():d();var re=Math.random().toString(36).substring(16),ae=void 0,oe=1,se=2,ce=new N,ue=new N,le=0;return x.prototype._enumerate=function(){for(var e=this.length,t=this._input,n=0;this._state===ae&&n<e;n++)this._eachEntry(t[n],n)},x.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,i=n.resolve;if(i===h){var r=E(e);if(r===p&&e._state!==ae)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===j){var a=new n(_);T(a,e,r),this._willSettleAt(a,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(i(e),t)},x.prototype._settledAt=function(e,t,n){var i=this.promise;i._state===ae&&(this._remaining--,e===se?b(i,n):this._result[t]=n),0===this._remaining&&R(i,this._result)},x.prototype._willSettleAt=function(e,t){var n=this;D(e,void 0,(function(e){return n._settledAt(oe,t,e)}),(function(e){return n._settledAt(se,t,e)}))},j.all=M,j.race=U,j.resolve=h,j.reject=G,j._setScheduler=a,j._setAsap=o,j._asap=Q,j.prototype={constructor:j,then:p,"catch":function(e){return this.then(null,e)}},j.polyfill=H,j.Promise=j,j}))}).call(t,n(14),(function(){return this})())}),(function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===i||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function o(){h&&g&&(h=!1,g.length?p=g.concat(p):_=-1,p.length&&s())}function s(){if(!h){var e=r(o);h=!0;for(var t=p.length;t;){for(g=p,p=[];++_<t;)g&&g[_].run();_=-1,t=p.length}g=null,h=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var l,d,f=e.exports={};!(function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{d="function"==typeof clearTimeout?clearTimeout:i}catch(e){d=i}})();var g,p=[],h=!1,_=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new c(e,t)),1!==p.length||h||r(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}}),(function(e,t){}),(function(e,t,n){var i=n(2),r=n(17),a=n(9),o=n(18),s=r.create(),c={action_data:n(21),async_request:n(27),audience_data:n(28),change_data:n(29),cleanup:n(30),client_metadata:n(31),cookie_options:n(33),event_data:n(34),event_emitter:n(35),dimension_data:n(36),directive:n(37),global:n(38),history:n(39),integration_settings:n(41),layer:n(42),layer_data:n(43),log:n(45),observed_redirect:n(46),pending_events:n(47),performance:n(48),plugins:n(49),provider_status:n(50),pending_redirect:n(51),rum:n(52),sandbox:n(53),session:n(54),tracker_optimizely:n(55),ua_data:n(56),view:n(57),view_data:n(58),visitor:n(59),visitor_attribute_entity:n(60),visitor_events:n(61),visitor_events_manager:n(66),visitor_id:n(67),visitor_bucketing:n(68),xdomain:n(69)};a.registerStores(c),i.forOwn(c,(function(e,t){s.register("stores/"+t,a.getStore(t))})),s.register("core/plugins/matchers/key_value",o),e.exports=s}),(function(e,t,n){function i(){this.V={}}var r=n(2);i.prototype.register=function(e,t){if(1===arguments.length){var n=this;return void r.each(e,(function(e,t){n.register(t,e)}))}if(this.V[e])throw new Error("Module already registered for: "+e);this.V[e]=t},i.prototype.get=function(e){return this.V[e]},i.prototype.getModuleKeys=function(){var e=this.V;return r.keys(e)},i.prototype.evaluate=function(e){var t=e.length,n=e.slice(0,t-1),i=e[t-1];if("function"!=typeof i)throw new Error("Evaluate must take a function as last element in array");var a=r.map(n,r.bind(this.get,this));return i.apply(null,a)},i.prototype.reset=function(){this.V={}},e.exports={create:function(){return new i}}}),(function(e,t,n){var i=n(2),r=n(19).getFieldValue,a=n(20);e.exports=function(e,t){var n=r(e,t.name.split("."));return i.isArray(n)?i.some(n,i.partial(a.hasMatch,t.value,t.match)):a.hasMatch(t.value,t.match,n)}}),(function(e,t,n){var i=n(2);t.getFieldValue=function(e,t){i.isArray(t)||(t=[t]);for(var n=e,r=0;r<t.length;r++){var a=t[r];if(!i.isObject(n)||!n.hasOwnProperty(a))return;n=n[a]}return n},t.setFieldValue=function(e,t,n){if(!i.isArray(t)||i.isEmpty(t))throw new Error("Attempted to set an invalid key path: "+t);for(var r=e,a=0;a<t.length-1;a++){var o=t[a];i.isObject(r[o])||(r[o]={}),r=r[o]}r[t[t.length-1]]=n}}),(function(e,t,n){var i=n(2);t.hasMatch=function(e,t,n){var r=!i.isUndefined(n)&&null!==n,a=!i.isUndefined(e)&&null!==e,o=t||(a?"exact":"exists");switch(o){case"exists":return r;case"exact":return r&&String(n)===e;case"substring":return r&&String(n).indexOf(e)>-1;case"regex":try{if(a&&r){var s=new RegExp(e);return s.test(String(n))}return!1}catch(e){}return!1;case"range":var c=e.split(":"),u=parseFloat(c[0]),l=parseFloat(c[1]),d=parseFloat(n);return d>=u&&d<=l;default:return!1}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(22),o=n(23);e.exports={initialize:function(){this.L={actions:{},actionState:{}},this.on(r.DATA_LOADED,this.k),this.on(r.ACTION_EXECUTED,this.F),this.on(r.SET_CHANGE_APPLIER,this.M),this.on(r.REMOVE_ACTION_STATE,this.U)},k:function(e){var t=this;i.isEmpty(e.data.layers)||(i.each(e.data.layers,(function(e){var n;if(e.changes){var r="layerId:"+e.id;n={id:r,layerId:e.id,changeSet:e.changes,type:"layer"},a.deepFreeze(n),t.L.actions[r]=n}i.each(e.experiments,(function(r){if(r.changes){var o="experimentId:"+r.id;n={id:o,layerId:e.id,experimentId:r.id,changeSet:r.changes,type:"experiment"},a.deepFreeze(n),t.L.actions[o]=n}i.each(r.variations,(function(o){i.each(o.actions,(function(i){var s=i.pageId||i.viewId,c=r.id+":"+o.id+":"+s;n={id:c,layerId:e.id,experimentId:r.id,variationId:o.id,pageId:s,changeSet:i.changes,type:"variation"},a.deepFreeze(n),t.L.actions[c]=n}))}))}))})),this.emitChange())},F:function(e){var t=e.actionId;i.isUndefined(t)||this.L.actionState[t]||(this.L.actionState[t]={})},M:function(e){var t=e.actionId,n=e.changeId;return this.L.actionState[t]?void(this.L.actionState[t][n]=e.changeApplier):void o.warn("Action Data / Attempted to set changeApplier for inactive action: ",t)},U:function(e){delete this.L.actionState[e.actionId]},get:function(e){return a.safeReference(this.L.actions[e])},getActionState:function(e){return a.safeReference(this.L.actionState[e])},getByChangeId:function(e){return i.find(this.L.actions,{changeSet:[{id:e}]})},getAllActionIdsByPageId:function(e){return i.map(i.filter(this.L.actions,{pageId:e}),"id")},getChangeApplier:function(e,t){var n=this.L.actionState[t];if(n)return n[e]},getExperimentVariationActions:function(e,t){return a.safeReference(i.filter(this.L.actions,{experimentId:e,variationId:t}))},getLayerActions:function(e){return a.safeReference(i.filter(this.L.actions,{id:"layerId:"+e}))},getExperimentActions:function(e){return a.safeReference(i.filter(this.L.actions,{id:"experimentId:"+e}))},getAll:function(){return a.safeReference(i.values(this.L.actions))}}}),(function(e,t,n){var i=n(2),r=!1;t.deepFreeze=function e(t){r&&i.isObject(t)&&!i.isFunction(t)&&(i.forOwn(t,e),Object.freeze(t))},t.safeReference=function e(t){return r?!i.isObject(t)||i.isFunction(t)||Object.isFrozen(t)?t:i.isArray(t)?i.map(t,e):i.reduce(t,(function(t,n,i){return t[i]=e(n),t}),{}):i.cloneDeep(t)}}),(function(e,t,n){function i(){this.logLevel=null,this.logMatch=null,this.logs=[],this.timebase=o.now()}var r=n(2),a=n(7),o=n(24),s=n(25),c=n(9),u=n(26);i.prototype.G=function(){return!r.isNull(this.logLevel)},i.prototype.setLogLevel=function(e){var t=this.B(e);null===t?console.error("Unknown log level: "+e):this.logLevel!==t&&(this.log("Setting log level to "+t),this.logLevel=t,this.flush())},i.prototype.setLogMatcher=function(e){r.isString(e)?this.logMatcher=e:this.logMatcher="",this.logGroup=0},i.prototype.shouldLog=function(e){return this.G()&&this.logLevel>=e},i.prototype.matchesLogMessage=function(e,t){var n=this.logMatcher;if(!this.logMatcher)return!0;if(this.logGroup)return"GROUPSTART"===e?this.logGroup++:"GROUPEND"===e&&this.logGroup--,!0;var i=r.some(t,(function(e){if(!r.isString(e))try{e=u.stringify(e)}catch(e){}return r.isString(e)&&r.includes(e,n)}));return i&&"GROUPSTART"===e&&this.logGroup++,i},i.prototype.storeLog=function(e,t){var n={logLevel:e,logMessage:t};c.dispatch(a.LOG,n)},i.prototype.flush=function(){var e=n(16),t=e.get("stores/log");this.logGroup=0;var i=t.getLogs();r.each(i,r.bind((function(e){this.z(e.logLevel,e.logMessage,!0)}),this))},i.prototype.z=function(e,t,n){var i,a=e;if(console)switch(e){case"GROUPSTART":i=console.groupCollapsed,a=s.LogLevel.DEBUG;break;case"GROUPEND":i=console.groupEnd,a=s.LogLevel.DEBUG;break;case s.LogLevel.ERROR:i=console.error;break;case s.LogLevel.WARN:i=console.warn;break;case s.LogLevel.DEBUG:i=console.debug;break;default:i=console.log}try{n||this.G()&&!this.shouldLog(a)||(r.isArray(t)&&r.isString(t[0])&&(t=this.j(t)),this.storeLog(e,t)),i&&this.shouldLog(a)&&this.matchesLogMessage(e,t)&&i.apply(console,t)}catch(e){console&&(console.error?console.error(e):console.log(e))}},i.prototype.debug=function(){this.z(s.LogLevel.DEBUG,[].slice.call(arguments))},i.prototype.log=function(){this.z(s.LogLevel.INFO,[].slice.call(arguments))},i.prototype.logAlways=function(){var e=this.j([].slice.call(arguments));console&&console.log&&console.log.apply&&console.log.apply(console,e),this.storeLog(s.LogLevel.INFO,e)},i.prototype.warn=function(){this.z(s.LogLevel.WARN,[].slice.call(arguments))},i.prototype.error=function(e){var t=[].slice.call(arguments);1===t.length&&e.stack?(this.z(s.LogLevel.ERROR,[this.H(),e]),this.z(s.LogLevel.INFO,[e.stack])):this.z(s.LogLevel.ERROR,t)},i.prototype.groupCollapsed=function(){this.z("GROUPSTART",[].slice.call(arguments))},i.prototype.groupEnd=function(){this.z("GROUPEND",[].slice.call(arguments))},i.prototype.j=function(e){var t=this.H().toString();return t.length<6&&(t=("     "+t).slice(-6)),[t+"| Optly / "+e[0]].concat(e.slice(1))},i.prototype.H=function(){return this.timebase?o.now()-this.timebase:0},i.prototype.B=function(e){return e&&(e=e.toUpperCase(),"TRUE"===e&&(e="INFO"),"FALSE"===e&&(e="OFF"),"ALL"===e&&(e="DEBUG"),!r.isUndefined(s.LogLevel[e]))?s.LogLevel[e]:null},e.exports=new i}),(function(e,t){t.now=function(){return+new Date}}),(function(e,t,n){var i=n(2),r=n(8);t.COOKIES={OPT_OUT:"optimizelyOptOut",PREVIEW:"optimizelyPreview",REDIRECT:"optimizelyRedirectData",SESSION_STATE:"optimizelySessionState",TOKEN:"optimizelyToken",VISITOR_ID:"optimizelyEndUserId",VISITOR_UUID:"optimizelyPPID"},t.LayerActivationTypes={CONDITIONAL:"conditional",IMMEDIATE:"immediate",MANUAL:"manual",READY:"ready",TIMEOUT:"timeout"},t.LogLevel={OFF:0,ERROR:1,WARN:2,INFO:3,DEBUG:4},t.Lifecycle=r({preActivate:null,postVisitorProfileLoad:null,postViewsActivated:null,postActivate:null}),t.ViewActivationTypes={immediate:"immediate",manual:"manual",callback:"callback",polling:"polling",URLChanged:"url_changed",DOMChanged:"dom_changed"},t.StorageKeys={PENDING_EVENTS:"pending_events",RELAYED_EVENTS:"relayed_events"},t.PluginTypes=r({visitorProfileProviders:null,viewProviders:null,audienceMatchers:null,viewMatchers:null,analyticsTrackers:null,viewTagLocators:null,userFeatureDefs:null,apiModules:null,changeAppliers:null,deciders:null,eventImplementations:null,viewTriggers:null}),t.ResourceTimingAttributes=r({connectStart:null,connectEnd:null,decodedBodySize:null,domainLookupStart:null,domainLookupEnd:null,duration:null,encodedBodySize:null,fetchStart:null,requestStart:null,responseStart:null,responseEnd:null,secureConnectionStart:null,startTime:null,transferSize:null,serverTiming:null}),t.RUMPerformanceTimingAttributes=r({blockTime:null}),t.AttributionTypes=r({FIRST_TOUCH:null,LAST_TOUCH:null}),t.SandboxedFunctions=r({XMLHttpRequest:null}),t.PerformanceData=r({performance_marks:null,resource_timing:null,performance_timing:null}),t.PerformanceCounters=r({mutation_observer_invocation:null,polling_invocation:null,match_selector_invocation:null}),t.VisitorStorageKeys={EVENTS:"events",EVENT_QUEUE:"event_queue",LAYER_MAP:"layer_map",LAYER_STATES:"layer_states",SESSION_STATE:"session_state",VISITOR_PROFILE:"visitor_profile",VARIATION_MAP:"variation_map",TRACKER_OPTIMIZELY:"tracker_optimizely"},t.AllStorageKeys=i.assign({},t.StorageKeys,t.VisitorStorageKeys),t.ListTargetingKeyTypes={COOKIE:"c",QUERY:"q",JS_VARIABLE:"j"},t.VisitorIdLocatorType={COOKIE:"cookie",JS_VARIABLE:"js",LOCALSTORAGE:"localStorage",QUERY:"query"}}),(function(e,t,n){function i(e){var t=[Array.prototype],n=[];r.each(t,(function(e){r.isUndefined(e.toJSON)||(n.push(e.toJSON),delete e.toJSON)}));var i,a;try{i=e()}catch(e){a=e}finally{r.each(n,(function(e,n){t[n].toJSON=e}))}if(a)throw a;return i}var r=n(2);t.stringify=function(){return i(r.bind((function(){return JSON.stringify.apply(null,this)}),arguments))},t.parse=JSON.parse}),(function(e,t,n){var i=n(7);e.exports={initialize:function(){this.L={},this.on(i.REGISTER_ASYNC_DEFERRED,this.K),this.on(i.RESOLVE_DEFERRED,this.Y),this.on(i.REJECT_DEFERRED,this.q)},getRequest:function(e){return this.L[e]},getPromise:function(e){var t=this.getRequest(e);if(t)return t.promise},K:function(e){this.L[e.source]={promise:e.promise,resolver:e.resolver,rejecter:e.rejecter}},Y:function(e){var t=this.getRequest(e.source);if(!t)throw new Error("No request registered for source: "+e.source);t.resolver(e.resolveWith)},q:function(e){var t=this.getRequest(e.source);if(!t)throw new Error("No request registered for source: "+e.source);if(!t.rejecter)throw new Error("No rejecter registered for source: "+e.source);t.rejecter(e.rejectWith)}}}),(function(e,t,n){function i(e,t){return t||(t={}),e?(r.each(e,(function(e){if(!r.isString(e)){if(r.isObject(e)){var n=e.type,a=e.name||"_";t[n]||(t[n]={}),t[n][a]=!0}r.isArray(e)&&i(e,t)}})),t):t}var r=n(2),a=n(7),o=n(22);e.exports={initialize:function(){this.L={audiences:{},featuresNeeded:{}},this.on(a.DATA_LOADED,this.k)},k:function(e){r.isEmpty(e.data.audiences)||(r.each(e.data.audiences,r.bind((function(e){o.deepFreeze(e),r.merge(this.L.featuresNeeded,i(e.conditions)),this.L.audiences[e.id]=e}),this)),this.emitChange())},getAll:function(){return o.safeReference(r.values(this.L.audiences))},getFeaturesNeeded:function(e){return o.safeReference(this.L.featuresNeeded[e]||{})},getAudiencesMap:function(){return o.safeReference(this.L.audiences)},get:function(e){return o.safeReference(this.L.audiences[e])},getAudienceName:function(e){var t=r.find(r.values(this.L.audiences),{id:e});return t.name||"Aud "+e}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(22);e.exports={initialize:function(){this.L={},this.on(r.ADD_CHANGE,this.W),this.on(r.DATA_LOADED,this.k)},getChange:function(e){return this.L[e]},k:function(e){i.isEmpty(e.data.changes)||i.each(e.data.changes,i.bind(this.W,this))},W:function(e){a.deepFreeze(e),this.L[e.id]=e,this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(25);e.exports={initialize:function(){this.L={},i.each(a.Lifecycle,i.bind((function(e){this.L[e]=[]}),this)),this.on(r.ADD_CLEANUP_FN,this.X),this.on(r.CLEAR_CLEANUP_FN,this.Q)},getCleanupFns:function(e){return i.cloneDeep(this.L[e])},X:function(e){this.L[e.lifecycle].push(e.cleanupFn),this.emitChange()},Q:function(e){var t=this.L[e.lifecycle];if(e.cleanupFn){var n=t.indexOf(e.cleanupFn);n>-1&&(t.splice(n,1),this.emitChange())}else this.L[e.lifecycle]=[],this.emitChange()}}}),(function(e,t,n){var i=n(7),r=n(32);e.exports={initialize:function(){this.L={name:r.NAME,version:r.VERSION},this.on(i.SET_CLIENT_NAME,this.$),this.on(i.SET_CLIENT_VERSION,this.J)},getClientName:function(){return this.L.name},getClientVersion:function(){return this.L.version},$:function(e){e&&(this.L.name=e),this.emitChange()},J:function(e){e&&(this.L.version=e),this.emitChange()}}}),(function(e,t,n){t.VERSION="0.171.0",t.NAME="js"}),(function(e,t,n){var i=n(7),r=15552e3,a=!0;e.exports={initialize:function(){this.L={currentDomain:null,defaultAgeSeconds:r,autoRefresh:a},this.on(i.SET_COOKIE_DOMAIN,this.Z),this.on(i.SET_COOKIE_AGE,this.ee),this.on(i.SET_COOKIE_AUTO_REFRESH,this.te)},getCurrentDomain:function(){return this.L.currentDomain},getDefaultAgeInSeconds:function(){return this.L.defaultAgeSeconds},getAutoRefresh:function(){return this.L.autoRefresh},Z:function(e){this.L.currentDomain=e,this.emitChange()},ee:function(e){this.L.defaultAgeSeconds=e,this.emitChange()},te:function(e){this.L.autoRefresh=e,this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(22);e.exports={initialize:function(){this.L={},this.on(r.DATA_LOADED,this.k)},getAll:function(){return a.safeReference(i.values(this.L))},getEventsMap:function(){return a.safeReference(this.L)},get:function(e){return a.safeReference(this.L[e])},getByApiName:function(e){return a.safeReference(i.find(i.values(this.L),{apiName:e}))},getByPageId:function(e){return a.safeReference(i.filter(this.L,{pageId:e}))},k:function(e){i.isEmpty(e.data.events)||(i.each(e.data.events,i.bind((function(e){e.pageId||(e.pageId=e.viewId),a.deepFreeze(e),this.L[e.id]=e}),this)),this.emitChange())}}}),(function(e,t,n){function i(e){var t=[];return e&&r.isObject(e)?(e.type&&t.push(e.type),t.push(o),e.type&&e.name&&t.push(e.name),t.join("")):o}var r=n(2),a=n(7),o="|";e.exports={initialize:function(){this.L={handlers:{}},this.on(a.ADD_EMITTER_HANDLER,this.ne),this.on(a.REMOVE_EMITTER_HANDLER,this.re)},getHandlers:function(e,t){var n=[null,{type:e.type},{type:e.type,name:e.name}],a=[];return r.each(n,r.bind((function(e){var t=i(e),n=this.L.handlers[t];n&&(a=a.concat(n))}),this)),t&&(a=r.filter(a,(function(e){return!e.publicOnly}))),a},ne:function(e){var t=i(e.filter);this.L.handlers[t]||(this.L.handlers[t]=[]),this.L.handlers[t].push({handler:e.handler,token:e.token,publicOnly:!!e.publicOnly,emitErrors:!!e.emitErrors}),this.emitChange()},re:function(e){var t=!1,n=e.token;r.forOwn(this.L.handlers,r.bind((function(e,i){var a=r.filter(e,(function(e){return e.token!==n}));a.length!==e.length&&(t=!0,this.L.handlers[i]=a)}),this)),t&&this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(22);e.exports={initialize:function(){this.L={},this.on(r.DATA_LOADED,this.k)},k:function(e){i.isEmpty(e.data.dimensions)||(i.each(e.data.dimensions,i.bind((function(e){a.deepFreeze(e),this.L[e.id]=e}),this)),this.emitChange())},getAll:function(){return a.safeReference(i.values(this.L))},getById:function(e){return a.safeReference(this.L[e])},getByApiName:function(e){return a.safeReference(i.find(i.values(this.L),{apiName:e}))}}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.L={disabled:!1,forceAudienceIds:[],forceVariationIds:[],alreadyInitialized:!1,mutationObserverAPISupported:!1,isEditor:!1,isPreview:!1,isLegacyPreview:!1,isSlave:!1,previewLayerIds:[],projectToken:null,shouldOptOut:!1,trackingDisabled:!1,isRunningInV2Editor:!1,isRunningInDesktopApp:!1,forceTracking:!1},this.on(r.LOAD_DIRECTIVE,this.ae)},getAll:function(){return i.cloneDeep(this.L)},conflictInObservingChanges:function(){return!this.L.mutationObserverAPISupported},isDisabled:function(){return this.L.disabled},isEditor:function(){return this.L.isEditor},clientHasAlreadyInitialized:function(){return this.L.alreadyInitialized},getForceAudienceIds:function(){return this.L.forceAudienceIds},getForceVariationIds:function(){return this.L.forceVariationIds},getPreviewLayerIds:function(){return this.L.previewLayerIds},getProjectToken:function(){return this.L.projectToken},getForceTracking:function(){return this.L.forceTracking},shouldActivate:function(){return!this.L.isEditor&&!this.isDisabled()},shouldBootstrapDataForPreview:function(){return this.L.isPreview},shouldBootstrapDataForEditor:function(){return this.L.isEditor},shouldInitialize:function(){return!(this.shouldLoadPreview()||this.isDisabled()||this.getProjectToken())},shouldLoadPreview:function(){return!(this.L.isPreview||this.L.isLegacyPreview||!this.getProjectToken()||this.L.isEditor)},shouldBailForDesktopApp:function(){return!this.L.isEditor&&this.L.isRunningInDesktopApp},shouldLoadInnie:function(){return!this.L.isSlave&&!this.L.isEditor&&this.L.isRunningInV2Editor},shouldObserveChangesIndefinitely:function(){return this.L.mutationObserverAPISupported},shouldObserveChangesUntilTimeout:function(){return!this.shouldObserveChangesIndefinitely()},shouldOptOut:function(){return this.L.shouldOptOut},shouldSendTrackingData:function(){return!this.L.trackingDisabled&&(!!this.L.forceTracking||!this.L.isPreview&&i.isEmpty(this.getForceVariationIds())&&i.isEmpty(this.getForceAudienceIds()))},isSlave:function(){return this.L.isSlave},isRunningInDesktopApp:function(){return this.L.isRunningInDesktopApp},isRunningInV2Editor:function(){return this.L.isRunningInV2Editor},ae:function(e){i.extend(this.L,e),this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(22);e.exports={initialize:function(){this.L={holdback:0,isGlobalHoldback:null,listTargetingKeys:[],revision:null,projectId:null,accountId:null,namespace:null,activationId:null,activationTimestamp:null,dcpServiceId:null,dcpKeyfieldLocators:[],recommenderServices:[],anonymizeIP:null,projectJS:null,snippetId:null,plugins:[],domContentLoaded:!1,experimental:{}},this.on(r.DATA_LOADED,this.oe),this.on(r.ACTIVATE,this.se),this.on(r.RECORD_GLOBAL_DECISION,this.ce),this.on(r.SET_DOMCONTENTLOADED,this.ue)},getRevision:function(){return this.L.revision},getGlobalHoldbackThreshold:function(){return this.L.holdback},getProjectId:function(){return this.L.projectId},getSnippetId:function(){return this.L.snippetId},getAccountId:function(){return this.L.accountId},getNamespace:function(){return this.L.namespace},getActivationId:function(){return this.L.activationId},getActivationTimestamp:function(){return this.L.activationTimestamp},getAnonymizeIP:function(){return this.L.anonymizeIP},isGlobalHoldback:function(){return!!this.L.isGlobalHoldback},getListTargetingKeys:function(){return this.L.listTargetingKeys.slice()},getDCPServiceId:function(){return this.L.dcpServiceId},getDCPKeyfieldLocators:function(){return this.L.dcpKeyfieldLocators},getRecommenderServices:function(){return this.L.recommenderServices},getProjectJS:function(){return this.L.projectJS},getPlugins:function(){return this.L.plugins},getExperimental:function(){return a.safeReference(this.L.experimental)},domContentLoadedHasFired:function(){return this.L.domContentLoaded},se:function(e){this.L.activationId=e.activationId,this.L.activationTimestamp=e.activationTimestamp,this.L.isGlobalHoldback=null},ce:function(e){var t=e.isGlobalHoldback;if(null!==this.L.isGlobalHoldback&&this.L.isGlobalHoldback!==t)throw new Error("Attempted to change already set global holdback!");this.L.isGlobalHoldback=t,this.emitChange()},oe:function(e){var t=i.pick(e.data,["holdback","accountId","projectId","snippetId","namespace","revision","listTargetingKeys","dcpServiceId","dcpKeyfieldLocators","recommenderServices","anonymizeIP","plugins","projectJS","experimental"]);if(0!==i.keys(t).length){var n={listTargetingKeys:[],dcpServiceId:null,dcpKeyfieldLocators:[]};i.extend(this.L,n,t),this.emitChange()}},ue:function(){this.L.domContentLoaded=!0,this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(40);e.exports={initialize:function(){this.L={originalPushState:null,originalReplaceState:null},this.on(r.ENSURE_ORIGINAL_PUSHSTATE,this.le),this.on(r.ENSURE_ORIGINAL_REPLACESTATE,this.de)},getOriginalPushState:function(){return this.L.originalPushState},getOriginalReplaceState:function(){return this.L.originalReplaceState},le:function(){this.L.originalPushState||(this.L.originalPushState=i.bind(a.getGlobal("history").pushState,a.getGlobal("history")))},de:function(){this.L.originalReplaceState||(this.L.originalReplaceState=i.bind(a.getGlobal("history").replaceState,a.getGlobal("history")))}}}),(function(e,t,n){var i=n(2),r=n(23);t.getUserAgent=function(){return window.navigator.userAgent},t.getLocationSearch=function(){return window.location.search},t.getNavigatorLanguage=function(){return window.navigator.language||window.navigator.userLanguage},t.getHref=function(){return window.location.href},t.getLocation=function(){return window.location},t.setLocation=function(e){window.location.replace(e)},t.setGlobal=function(e,t){window[e]=t},t.getGlobal=function(e){return window[e]},t.getGlobalByPath=function(e){for(var t=e.split("."),n=window;t.length;)try{n=n[t.shift()]}catch(t){throw r.error("Attempted to access nonexistent property. Path ",e),new Error("Attempted to access nonexistent property. Path ",e)}return n},t.addEventListener=function(){return window.addEventListener.apply(window,arguments)},t.removeEventListener=function(){return window.removeEventListener.apply(window,arguments)},t.isMutationObserverAPISupported=function(){return!i.isUndefined(window.MutationObserver)},t.alert=function(e){alert(e)},t.setTimeout=function(e,t){return setTimeout((function(){try{e()}catch(e){r.warn("Deferred function threw error:",e)}}),t)},t.setInterval=function(e,t){return setInterval((function(){try{e()}catch(e){r.warn("Polling function threw error:",e)}}),t)}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.L={},this.on(r.DATA_LOADED,this.k),this.on(r.SET_INTEGRATION_SETTINGS,this.fe)},k:function(e){i.isEmpty(e.data.integrationSettings)||(i.each(e.data.integrationSettings,i.bind((function(e){this.L[e.id]=e}),this)),this.emitChange())},fe:function(e){var t=this.L[e.id];t?i.extend(t,e):this.L[e.id]=e},getAll:function(){return i.cloneDeep(i.values(this.L))},get:function(e){return i.cloneDeep(this.L[e])},getReference:function(e){return this.L[e]}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(23),o="*";e.exports={initialize:function(){this.L={},this.on(r.LOAD_PERSISTED_LAYER_STATES,this.ge),this.on(r.RECORD_LAYER_DECISION,this.pe),this.on(r.RECORD_LAYER_DECISION_EVENT_ID,this.he)},getLayerState:function(e,t){if(this.L[e]){var n=this.L[e];if(i.keys(n).length>1&&!t)throw new Error("View Id must be specified when more than one layerState for layer.");return t?i.cloneDeep(i.find(n,{pageId:t})):i.cloneDeep(n[o])}},getLayerStates:function(e){var t=[];for(var n in this.L)i.forEach(this.L[n],(function(n){(i.isUndefined(e)||n.namespace===e)&&t.push(i.cloneDeep(n))}));return t},getLayerStatesForAnalytics:function(){var e=[];for(var t in this.L)i.forEach(this.L[t],(function(t){e.push(i.pick(t,["layerId","decision","decisionEventId"]))}));return e},ge:function(e){e.merge||(this.L={}),i.each(e.layerStates,i.bind((function(e){
var t=e.layerId;e.pageId||(e.pageId=e.viewId);var n=e.pageId||o,r=this.L[t];if(i.isUndefined(r))this.L[t]={},this.L[t][n]=e;else{var a=r[n];(!a||e.decisionTimestamp>(a.decisionTimestamp||0))&&(this.L[t][n]=e)}}),this)),this.emitChange()},pe:function(e){var t={layerId:e.layerId,revision:e.revision,namespace:e.namespace,pageId:e.pageId,decisionTicket:e.decisionTicket,decision:e.decision,decisionActivationId:e.activationId,decisionTimestamp:e.timestamp,decisionEventId:null},n=this.L[e.layerId]||{};e.pageId?(delete n[o],n[e.pageId]=t):(n={},n[o]=t),this.L[e.layerId]=n,this.emitChange()},he:function(e){var t=e.layerId,n=e.pageId||o;return this.L[t]?this.L[t][n]?(this.L[t][n].decisionEventId=e.decisionId,void this.emitChange()):void a.warn("Not recording decision event: Layer state not found for view",n):void a.warn("Not recording decision event: Campaign not registered",t)}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(22),o=n(44);e.exports={initialize:function(){this.L={layers:{},experiments:{},variations:{}},this.on(r.DATA_LOADED,this.k)},k:function(e){if(!i.isEmpty(e.data.layers)){var t=this;i.each(e.data.layers,(function(e){i.each(e.experiments,(function(n){e.pageIds||(e.pageIds=e.viewIds),n.campaignName||o.isSingleExperimentPolicy(e.policy)?(o.isSingleExperimentPolicy(e.policy),1):n.campaignName=e.name,i.each(n.variations,(function(e){i.each(e.actions,(function(e){e.pageId||(e.pageId=e.viewId)})),t.L.variations[e.id]=e})),t.L.experiments[n.id]=n})),a.deepFreeze(e),t.L.layers[e.id]=e})),this.emitChange()}},getAll:function(){return a.safeReference(i.values(this.L.layers))},getCampaignsMap:function(){return a.safeReference(this.L.layers)},getExperimentsMap:function(){return a.safeReference(this.L.experiments)},getVariationsMap:function(){return a.safeReference(this.L.variations)},getCount:function(){return i.keys(this.L.layers).length},getAllByPageIds:function(e){return a.safeReference(i.filter(this.L.layers,(function(t){return i.some(e,i.partial(i.includes,t.pageIds))})))},get:function(e){return a.safeReference(this.L.layers[e])},getLayerByExperimentId:function(e){var t=i.find(this.L.layers,(function(t){return i.find(t.experiments,{id:e})}));return a.safeReference(t)},getExperimentByVariationId:function(e){var t;return i.some(this.L.layers,(function(n){return i.some(n.experiments,(function(n){return i.find(n.variations,{id:e})&&(t=n),t})),t})),a.safeReference(t)}}}),(function(e,t){var n="single_experiment",i="multivariate";t.isSingleExperimentPolicy=function(e){return e===n||e===i}}),(function(e,t,n){var i=n(7);e.exports={initialize:function(){this.L={logs:[]},this.on(i.LOG,this._e)},getLogs:function(){return this.L.logs},_e:function(e){this.L.logs.push(e),this.emitChange()},R:function(){return this.L.logs.slice()}}}),(function(e,t,n){var i=n(7),r=n(22);e.exports={initialize:function(){this.L={data:null,hasTracked:null},this.on(i.LOAD_REDIRECT_DATA,this.ve),this.on(i.REGISTER_TRACKED_REDIRECT_DATA,this.me)},get:function(){return r.safeReference(this.L.data)},hasTracked:function(){return this.L.hasTracked},ve:function(e){r.deepFreeze(e),this.L.data=e,this.L.hasTracked=!1,this.emitChange()},me:function(){this.L.hasTracked=!0}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(26),o=1e3;e.exports={initialize:function(){this.L={},this.on(r.SET_PENDING_EVENT,this.Ee),this.on(r.REMOVE_PENDING_EVENT,this.Ie),this.on(r.LOAD_PENDING_EVENTS,this.ye)},getEvents:function(){return this.L},getEventsString:function(){return a.stringify(this.L)},Ee:function(e){i.keys(this.L).length>=o&&this.Se();var t=e.id,n=e.retryCount;this.L[t]&&this.L[t].retryCount===n||(this.L[t]={id:t,timeStamp:e.timeStamp,data:e.data,retryCount:n},this.emitChange())},Ie:function(e){delete this.L[e.id],this.emitChange()},ye:function(e){this.L=e.events,this.Se(),this.emitChange()},Se:function(){for(var e=i.sortBy(this.L,"timeStamp"),t=0;t<=e.length-o;t++)delete this.L[e[t].id];this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(25);e.exports={initialize:function(){this.L={},this.L[a.PerformanceData.performance_marks]={},this.on(r.SET_PERFORMANCE_MARKS_DATA,this.Te)},Te:function(e){i.isUndefined(this.L[a.PerformanceData.performance_marks][e.name])&&(this.L[a.PerformanceData.performance_marks][e.name]=[]),this.L[a.PerformanceData.performance_marks][e.name].push(e.data),this.emitChange()},getMarks:function(){return i.mapValues(this.L[a.PerformanceData.performance_marks],(function(e){return i.map(e,(function(e){return[e.startTime,e.duration]}))}))},getDurationsFor:function(e){return i.reduce(e,i.bind((function(e,t){var n=this.L[a.PerformanceData.performance_marks][t];return n&&(e[t]=Math.round(i.reduce(n,(function(e,t){return e+t.duration}),0))),e}),this),{})}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(25),o=n(23);e.exports={initialize:function(){this.L=i.mapValues(a.PluginTypes,(function(){return{}})),this.on(r.REGISTER_PLUGIN,this.Ae)},Ae:function(e){var t=e.type,n=e.name,i=e.plugin;if(!t||!n)throw new Error("Missing information needed to register plugins: "+t+":"+n);if(!this.L[t])throw new Error("Invalid plugin type specified: "+t);this.L[t][n]=i,o.debug("Plugin Store: Registering Plugin :",e)},getAllPlugins:function(e){if(e){if(this.L[e])return this.L[e];throw new Error("Invalid plugin type: "+e)}return this.L},getPlugin:function(e,t){if(!t||!e)throw new Error("Missing plugin parameters");var n=this.getAllPlugins(e);return n[t]||null}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(19);e.exports={initialize:function(){this.L={},this.on(r.SET_VISITOR_ATTRIBUTE_PENDING,this.we)},getPendingAttributeValue:function(e){return e=i.isArray(e)?e.concat("pending"):[e,"pending"],a.getFieldValue(this.L,e)},we:function(e){a.setFieldValue(this.L,e.key,{pending:e.pending}),this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.L={layerId:null},this.on(r.ANNOUNCE_PENDING_REDIRECT,this.ve)},isExpectingRedirect:function(){return i.isString(this.L.layerId)},getLayerId:function(){return this.L.layerId},ve:function(e){this.isExpectingRedirect()||(this.L.layerId=e.layerId,this.emitChange())}}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.L={inRumSample:!1,id:null,src:null,RumHost:null,data:{extras:{}},apis:{},DOMObservation:{},featuresNeeded:{}},this.on(r.SET_RUM_DATA,this.Re),this.on(r.RECORD_API_USAGE,this.be),this.on(r.INITIALIZE_CHANGE_METRICS,this.De),this.on(r.RECORD_ACTIVATION_TYPE_USAGE,this.Oe),this.on(r.RECORD_AUDIENCE_USAGE,this.Ne),this.on(r.RECORD_CHANGE_MACROTASK_RATE,this.Ce),this.on(r.RECORD_CHANGE_OVERHEATED,this.Pe),this.on(r.RECORD_CHANGE_TYPE_USAGE,this.Le),this.on(r.RECORD_DOM_OBSERVATION_OCCURENCE,this.Ve),this.on(r.RECORD_INTEGRATION_USAGE,this.ke),this.on(r.RECORD_LAYER_FEATURE_USAGE,this.xe),this.on(r.RECORD_LAYER_POLICY_USAGE,this.Fe),this.on(r.RECORD_VIEW_FEATURE_USAGE,this.Me),this.on(r.RECORD_VIEWS_INITIALLY_ACTIVATED_COUNT,this.Ue),this.on(r.RECORD_VISITOR_ID_LOCATOR_USAGE,this.Ge),this.on(r.RECORD_VISITOR_ID_ERROR,this.Be),this.on(r.RECORD_STICKY_BUCKETING_FEATURE,this.ze)},Re:function(e){i.merge(this.L,e),this.emitChange()},be:function(e){this.L.apis[e.methodName]||(this.L.apis[e.methodName]=0),this.L.apis[e.methodName]++,this.emitChange()},De:function(){i.isUndefined(this.L.data.extras.changeMacrotaskRate)&&(this.L.data.extras.changeMacrotaskRate=0),i.isUndefined(this.L.data.extras.numOverheatedChanges)&&(this.L.data.extras.numOverheatedChanges=0)},Ce:function(e){i.isUndefined(this.L.data.extras.changeMacrotaskRate)&&(this.L.data.extras.changeMacrotaskRate=0),e.changeMacrotaskRate>this.L.data.extras.changeMacrotaskRate&&(this.L.data.extras.changeMacrotaskRate=e.changeMacrotaskRate),this.emitChange()},Pe:function(){i.isUndefined(this.L.data.extras.numOverheatedChanges)&&(this.L.data.extras.numOverheatedChanges=0),this.L.data.extras.numOverheatedChanges++,this.emitChange()},Ve:function(e){this.L.DOMObservation[e.counterName]||(this.L.DOMObservation[e.counterName]=0),this.L.DOMObservation[e.counterName]++,this.emitChange()},je:function(e,t,n){i.isUndefined(this.L.featuresNeeded[e])&&(this.L.featuresNeeded[e]={});var r=this.L.featuresNeeded[e];i.each(t,(function(e){r[e]||(r[e]={}),r[e][n]||(r[e][n]=!0)}))},ke:function(e){this.je("integrations",e.integrations,e.layerId)},Le:function(e){this.je("changeTypes",e.changeTypes,e.layerId)},Oe:function(e){this.je("activationTypes",[e.activationType],e.entityId),this.emitChange()},Me:function(e){this.je("viewFeatures",e.featuresUsed,e.entityId),this.emitChange()},xe:function(e){this.je("layerFeatures",[e.feature],e.entityId),this.emitChange()},Fe:function(e){this.je("policy",[e.policy],e.layerId),this.emitChange()},Ne:function(e){this.je("audiences",e.audienceTypes,e.layerId),this.emitChange()},Ue:function(e){this.L.data.extras.viewsInitiallyActivatedCount=e.viewsInitiallyActivatedCount,this.emitChange()},Ge:function(e){this.je("visitorIdLocatorType",[e.visitorIdLocatorType],e.entityId),this.emitChange()},Be:function(e){this.L.data.extras.errorCustomVisitorId=e.isError,this.emitChange()},ze:function(e){this.je("stickyBucketing",[e.feature],e.id)},getSampleRum:function(){return this.L.inRumSample},getRumId:function(){return this.L.id},getRumHost:function(){return this.L.RumHost},getApiData:function(){return this.L.apis},getDOMObservationData:function(){return this.L.DOMObservation},getRumData:function(){return i.cloneDeep(this.L.data)},getScriptSrc:function(){return this.L.src},getFeaturesNeededData:function(){var e=this.L.featuresNeeded,t={};return i.forOwn(e,(function(e,n){var r=i.keys(e);i.isEmpty(r)||(t[n]={}),i.forEach(r,(function(r){t[n][r]=i.keys(e[r]).length}))})),t}}}),(function(e,t,n){var i=n(7);e.exports={initialize:function(){this.L={initialized:!1,natives:{}},this.on(i.SANDBOXED_FUNCTIONS_ADDED,this.He)},He:function(e){if(!e.sandboxedFunctions)throw new Error("No sandboxedFunctions found in payload");this.L.natives=e.sandboxedFunctions,this.L.initialized=!0,this.emitChange()},getAll:function(){return this.L.natives},get:function(e){if(!e)throw new Error("Missing name parameter");return this.L.natives[e]||null},isInitialized:function(){return this.L.initialized}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(24),o=n(5),s=18e5;e.exports={initialize:function(){this.L={lastSessionTimestamp:0,sessionId:null},this.on(r.REFRESH_SESSION,this.Ke),this.on(r.LOAD_SESSION_STATE,this.Ye)},getState:function(){return i.cloneDeep(this.L)},getSessionId:function(){return this.L.sessionId},Ye:function(e){this.L.sessionId=e.sessionId,this.L.lastSessionTimestamp=e.lastSessionTimestamp,this.emitChange()},Ke:function(){var e=a.now(),t=this.L.lastSessionTimestamp;(!this.L.sessionId||e-t>s)&&(this.L.sessionId=o.generate()),this.L.lastSessionTimestamp=e,this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.qe(),this.on(r.FINALIZE_BATCH_SNAPSHOT,this.We),this.on(r.REGISTER_PREVIOUS_BATCH,this.Xe),this.on(r.REGISTER_TRACKER_VISITOR,this.Qe),this.on(r.REGISTER_TRACKER_EVENT,this.$e),this.on(r.REGISTER_TRACKER_DECISION,this.Je),this.on(r.RESET_TRACKER_EVENTS,this.Ze),this.on(r.RESET_TRACKER_STORE,this.qe),this.on(r.RESET_TRACKER_PREVIOUS_BATCHES,this.et),this.on(r.SET_TRACKER_POLLING,this.tt),this.on(r.SET_TRACKER_BATCHING,this.nt),this.on(r.SET_TRACKER_SEND_EVENTS,this.it),this.on(r.SET_TRACKER_PERSISTABLE_STATE,this.rt),this.on(r.SET_TRACKER_DIRTY,this.ot),this.on(r.UPDATE_TRACKER_VISITOR_ATTRIBUTES,this.st)},getPersistableState:function(){return this.L.isDirty?this.hasEventsToSend()||this.hasPreviousBatchesToSend()?{data:this.L.data,decisions:this.L.decisions,decisionEvents:this.L.decisionEvents,previousBatches:this.L.previousBatches}:{}:null},rt:function(e){i.isEmpty(this.L.data)||i.isEmpty(e.data)||(this.We(),this.L.previousBatches.push(this.getEventBatch())),this.L.data=e.data||{},this.L.decisions=e.decisions||[],this.L.decisionEvents=e.decisionEvents||[],i.isEmpty(this.L.previousBatches)||i.isEmpty(e.previousBatches)?this.L.previousBatches=e.previousBatches||[]:this.L.previousBatches=this.L.previousBatches.concat(e.previousBatches),this.emitChange()},ot:function(e){this.L.isDirty=e,this.emitChange()},$e:function(e){var t=this.ct();!i.isEmpty(t.snapshots)&&i.isEmpty(this.L.decisionEvents)||this.ut(),this.dt().events.push(e.event),this.L.decisions=e.decisions,this.ot(!0)},Je:function(e){this.L.decisionEvents.push(e.decisionEvent),this.L.decisions=e.decisions,this.ot(!0)},Qe:function(e){i.isEmpty(this.L.data)?this.L.data=e.data:this.We(),this.L.data.visitors.push(e.visitor),this.L.decisions=e.decisions,this.L.decisionEvents=[],this.ot(!0)},Xe:function(e){this.L.previousBatches.push(e),this.ot(!0)},qe:function(){this.L={polling:!1,shouldBatch:!0,data:{},decisions:[],decisionEvents:[],canSend:!1,isDirty:!1,previousBatches:[]},this.emitChange()},Ze:function(){var e=this.ct();this.L.data.visitors=[e],e.snapshots=[],this.ot(!0)},et:function(){this.L.previousBatches=[],this.ot(!0)},tt:function(e){this.L.polling=e,this.emitChange()},nt:function(e){this.L.shouldBatch=e,this.emitChange()},it:function(e){this.L.canSend=e,this.emitChange()},getEventBatch:function(){return i.cloneDeep(this.L.data)},getPreviousBatches:function(){return i.cloneDeep(this.L.previousBatches)},ft:function(){return this.L.decisionEvents.slice()},pt:function(){this.L.decisionEvents=[]},ht:function(){return this.L.decisions.slice()},isPolling:function(){return this.L.polling},shouldBatch:function(){return this.L.shouldBatch},dt:function(){return i.last(this.ct().snapshots)},ct:function(){return i.last(this.L.data.visitors)},ut:function(){var e=this.ft(),t=this.ct();t.snapshots.push({decisions:this.ht(),events:e}),this.pt(),this.ot(!0)},We:function(){this.L.decisionEvents.length>0&&this.ut()},hasEventsToSend:function(){if(!i.isEmpty(this.L.decisionEvents))return!0;if(!i.isEmpty(this.L.data)){var e=i.some(this.L.data.visitors||[],(function(e){return e.snapshots.length>0}));if(e)return!0}return!1},hasPreviousBatchesToSend:function(){return!i.isEmpty(this.L.previousBatches)},canSend:function(){return this.L.canSend},st:function(e){var t=this.ct();t&&(t.attributes=e.attributes)}}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.L={},this.on(r.SET_UA_DATA,this.k)},k:function(e){i.isEmpty(this.L)&&(this.L=e.data)},get:function(){return i.cloneDeep(this.L)}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(23),o=!1,s={globalTags:{},viewStates:{},shouldBatch:!1};e.exports={initialize:function(){this.L=i.cloneDeep(s),this.on(r.REGISTER_VIEWS,this._t),this.on(r.SET_VIEW_ACTIVE_STATE,this.vt),this.on(r.UPDATE_PARSED_VIEW_METADATA,this.mt),this.on(r.UPDATE_USER_SUPPLIED_METADATA,this.Et),this.on(r.TRACK_VIEW_ACTIVATED_EVENT,this.It),this.on(r.SET_GLOBAL_TAGS,this.yt),this.on(r.RESET_VIEW_STATES,this.St),this.on(r.SET_VIEW_BATCHING,this.nt)},getAll:function(){var e={};for(var t in this.L.viewStates)e[t]=this.getViewState(t);return e},shouldBatch:function(){return this.L.shouldBatch},getViewState:function(e){var t=i.cloneDeep(this.L.viewStates[e]),n=this.L.globalTags;return t.metadata=i.extend({},t.parsedMetadata,n,t.userSuppliedMetadata),t},getActiveViewTags:function(){var e=this.getActiveViewStates(),t=i.map(e,(function(e){return e.metadata})),n=[{}].concat(t);return i.extend.apply(i,n)},getActivationEventId:function(e){return this.L.viewStates[e]?this.L.viewStates[e].activationEventId:null},getActiveViewStates:function(){return i.reduce(this.L.viewStates,i.bind((function(e,t,n){return this.isViewActive(n)&&e.push(this.getViewState(n)),e}),this),[])},isViewActive:function(e){var t=this.L.viewStates[e];return t||a.warn("No Page registered with id",e),!!t.isActive},getGlobalTags:function(){return i.cloneDeep(this.L.globalTags)},St:function(){this.L.viewStates={},this.emitChange()},_t:function(e){i.each(e.views,i.bind((function(e){var t=e.id;o&&this.L.viewStates[t]||(this.L.viewStates[t]={id:t,isActive:i.isBoolean(e.isActive)?e.isActive:null,activatedTimestamp:null,activationEventId:null,parsedMetadata:{},userSuppliedMetadata:{}})}),this)),this.emitChange()},vt:function(e){var t=e.view.id;if(!this.L.viewStates[t])throw new Error("No view exists with id "+t);this.L.viewStates[t].isActive=e.isActive,e.isActive?this.L.viewStates[t].activatedTimestamp=e.timestamp:(this.L.viewStates[t].parsedMetadata={},this.L.viewStates[t].userSuppliedMetadata={}),this.emitChange()},mt:function(e){var t=e.pageId;if(!this.L.viewStates[t])throw new Error("No view exists with id "+t);i.assign(this.L.viewStates[t].parsedMetadata,e.metadata),this.emitChange()},Et:function(e){var t=e.pageId;if(!this.L.viewStates[t])throw new Error("No view exists with id "+t);i.assign(this.L.viewStates[t].userSuppliedMetadata,e.metadata),this.emitChange()},It:function(e){var t=e.pageId;this.L.viewStates[t]&&(this.L.viewStates[t].activationEventId=e.eventData.eventId,this.emitChange())},yt:function(e){i.extend(this.L.globalTags,e),this.emitChange()},nt:function(e){this.L.shouldBatch=e,this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(22);e.exports={initialize:function(){this.L={views:{},apiNamesToViews:{}},this.on(r.DATA_LOADED,this.k)},getAll:function(){return a.safeReference(i.values(this.L.views))},getPagesMap:function(){return a.safeReference(this.L.views)},get:function(e){return a.safeReference(this.L.views[e])},getByApiName:function(e){return a.safeReference(this.L.apiNamesToViews[e])},apiNameToId:function(e){var t=this.L.apiNamesToViews[e];if(t)return t.id},idToApiName:function(e){var t=this.L.views[e];if(t)return t.apiName},getNumberOfPages:function(){return i.keys(this.L.views).length},getAllViewsForActivationType:function(e){return i.filter(this.L.views,{activationType:e})},k:function(e){i.isEmpty(e.data.views)||(i.each(e.data.views,i.bind((function(e){a.deepFreeze(e),this.L.views[e.id]=e,this.L.apiNamesToViews[e.apiName]=e}),this)),this.emitChange())}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(19);e.exports={initialize:function(){this.L={profile:{},metadata:{},visitorId:null},this.on(r.SET_VISITOR_ID_VIA_API,this.Tt),this.on(r.SET_VISITOR_ATTRIBUTES,this.At),this.on(r.LOAD_EXISTING_VISITOR_PROFILE,this.wt)},getVisitorProfile:function(){return this.L.profile},getVisitorProfileMetadata:function(){return this.L.metadata},getAttribute:function(e){var t=this.L.profile;return i.cloneDeep(a.getFieldValue(t,e))},getAttributeMetadata:function(e){return i.cloneDeep(this.L.metadata[e])},getVisitorIdFromAPI:function(){return this.L.visitorId},wt:function(e){this.L.profile=e.profile,this.L.metadata=e.metadata,this.emitChange()},At:function(e){i.each(e.attributes,i.bind((function(e){var t=e.key;a.setFieldValue(this.L.profile,t,e.value),e.metadata&&i.forOwn(e.metadata,i.bind((function(e,n){a.setFieldValue(this.L.metadata,t.concat(n),e)}),this))}),this)),this.emitChange()},Tt:function(e){this.L.visitorId=e,this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.L={},this.on(r.DATA_LOADED,this.Rt)},getCustomBehavioralAttributes:function(){return i.filter(this.L,(function(e){return!!e.rule_json}))},getVisitorAttribute:function(e){var t=i.values(this.L);if(e.datasourceId&&(t=i.filter(t,{dcp_datasource_id:String(e.datasourceId)})),e.attributeName&&e.attributeId)throw new Error("Must not specify both attribute name and attribute ID");if(e.attributeId){var n=this.L[e.attributeId];if(!n)throw new Error("Unrecognized attribute ID: "+e.attributeId);return n}if(e.attributeName){var r=i.filter(t,{name:e.attributeName});if(!r.length)throw new Error("Unrecognized attribute name: "+e.attributeName);if(r.length>1)throw new Error("Too many attributes with name: "+e.attributeName);return r[0]}throw new Error("Must specify attribute name or attribute ID")},Rt:function(e){i.isEmpty(e.data.visitorAttributes)||(i.each(e.data.visitorAttributes,i.bind((function(e){this.L[e.id]=e}),this)),this.emitChange())}}}),(function(e,t,n){var i=(n(2),n(7));n(62).Event;e.exports={initialize:function(){this.L={events:[],foreignEvents:{},foreignEventQueues:{}},this.on(i.SET_VISITOR_EVENTS,this.k),this.on(i.SET_FOREIGN_VISITOR_EVENTS,this.bt),this.on(i.SET_FOREIGN_VISITOR_EVENT_QUEUE,this.Dt)},getEvents:function(){return this.L.events},getForeignEvents:function(){return this.L.foreignEvents},getForeignEventQueues:function(){return this.L.foreignEventQueues},k:function(e){this.L.events=e,this.emitChange()},bt:function(e){this.L.foreignEvents[e.key]=e.value},Dt:function(e){this.L.foreignEventQueues[e.key]=e.value}}}),(function(e,t,n){function i(e,t,n,i,r){this[o.FIELDS.NAME]=e,this[o.FIELDS.TYPE]=t,a.isString(n)&&n.trim().length>0&&(this[o.FIELDS.CATEGORY]=n),i&&a.keys(i).length>0&&(this[o.FIELDS.OPTIONS]=i),a.isUndefined(r)||(this[o.FIELDS.REVENUE]=r)}function r(e,t,n,i){this.eventBase=e,this[o.FIELDS.TIME]=t,a.isUndefined(n)||(this[o.FIELDS.SESSION_ID]=n),a.isUndefined(i)||(this[o.FIELDS.SESSION_INDEX]=i)}var a=n(2),o=n(63),s=n(19).getFieldValue,c=n(64);t.EventBase=i,i.prototype.digest=function(){var e=function(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(t)},t=[];if(t.push(e(o.FIELDS.NAME,this[o.FIELDS.NAME])),t.push(e(o.FIELDS.TYPE,this[o.FIELDS.TYPE])),this[o.FIELDS.CATEGORY]&&t.push(e(o.FIELDS.CATEGORY,this[o.FIELDS.CATEGORY])),this[o.FIELDS.REVENUE]&&t.push(e(o.FIELDS.REVENUE,this[o.FIELDS.REVENUE])),!this[o.FIELDS.OPTIONS])return t.join("&");var n=this[o.FIELDS.OPTIONS]||{},i=a.filter(a.keys(n),(function(e){return n.hasOwnProperty(e)}));i=i.sort();for(var r=0;r<i.length;r++)t.push(e(i[r],n[i[r]]));return t.join("&")},i.prototype.hash=function(){return this.hash_?this.hash_:(this.hash_=c.hashToHex(c.toByteString(this.digest()),c.Seed.BEHAVIOR_EVENT),this.hash_)},i.prototype.setHash=function(e){this.hash_=e},i.prototype.reHash=function(){this.hash_=null,this.hash()},i.prototype.equals=function(e){if(this.hash()!==e.hash())return!1;if(this[o.FIELDS.NAME]!==e[o.FIELDS.NAME]||this[o.FIELDS.TYPE]!==e[o.FIELDS.TYPE]||this[o.FIELDS.CATEGORY]!==e[o.FIELDS.CATEGORY]||this[o.FIELDS.REVENUE]!==e[o.FIELDS.REVENUE])return!1;if(!this[o.FIELDS.OPTIONS]&&!e[o.FIELDS.OPTIONS])return!0;var t=this[o.FIELDS.OPTIONS]||{},n=e[o.FIELDS.OPTIONS]||{},i=a.filter(a.keys(t),(function(e){return t.hasOwnProperty(e)})),r=a.filter(a.keys(n),(function(e){return n.hasOwnProperty(e)}));if(i.length!==r.length)return!1;for(var s=0;s<i.length;s++){var c=i[s];if(!n.hasOwnProperty(c)||t[c]!==n[c])return!1}return!0},i.prototype.getValueOrDefault=function(e,t){var n=s(this,e);return a.isUndefined(n)?t:n},i.prototype.setFieldValue=function(e,t){e!==o.FIELDS.NAME&&e!==o.FIELDS.TYPE&&e!==o.FIELDS.CATEGORY&&e!==o.FIELDS.REVENUE&&e!==o.FIELDS.OPTIONS||(this[e]=t,this.reHash())},t.Event=r,r.prototype.getValueOrDefault=function(e,t){if(0===e.length)return this;var n={};n[o.FIELDS.TIME]=this[o.FIELDS.TIME],n[o.FIELDS.SESSION_ID]=this[o.FIELDS.SESSION_ID],n[o.FIELDS.SESSION_INDEX]=this[o.FIELDS.SESSION_INDEX];var i=s(n,e);return a.isUndefined(i)?this.eventBase.getValueOrDefault(e,t):i},r.prototype.setFieldValue=function(e,t){e===o.FIELDS.TIME||e===o.FIELDS.SESSION_ID||e===o.FIELDS.SESSION_INDEX?this[e]=t:this.eventBase.setFieldValue(e,t)};var u={n:"name",y:"type",c:"category",r:"revenue",s:"session_id",o:"tags",si:"session_index"};r.prototype.readableEvent=function(){var e,t,n=function(e){return a.isString(e)?'"'+e+'"':e},i=this,r=[];a.each([o.FIELDS.NAME,o.FIELDS.TYPE,o.FIELDS.CATEGORY,o.FIELDS.REVENUE,o.FIELDS.SESSION_ID],(function(o){e=u[o],t=i.getValueOrDefault([o]),a.isUndefined(t)||r.push(e+": "+n(t))}));var s=[];if(e=u[o.FIELDS.OPTIONS],t=i.getValueOrDefault([o.FIELDS.OPTIONS]),a.isUndefined(t)||(a.each(t,(function(e,t){s.push(t+": "+String(n(e)))})),r.push(e+": {\n\t\t"+s.join(",\n\t\t")+"\n\t}")),t=i.getValueOrDefault([o.FIELDS.TIME]),a.isNumber(t)&&(t=n(new Date(t).toString())),!a.isUndefined(t)){var c="timestamp";r.push(c+": "+t)}return"{\n\t"+r.join(",\n\t")+"\n}"},r.prototype.toObject=function(e){var t,n,i={},r=this;a.each([o.FIELDS.NAME,o.FIELDS.TYPE,o.FIELDS.CATEGORY,o.FIELDS.REVENUE,o.FIELDS.OPTIONS,o.FIELDS.SESSION_INDEX],(function(e){t=u[e],n=r.getValueOrDefault([e],e===o.FIELDS.OPTIONS?{}:void 0),a.isUndefined(n)||(i[t]=n)}));var s=u[o.FIELDS.OPTIONS],c=u[o.FIELDS.REVENUE];if(e&&e.revenueAsTag&&i[c]&&(i[s]=i[s]||{},i[s][c]=i[c],delete i[c]),n=r.getValueOrDefault([o.FIELDS.TIME]),a.isNumber(n))if(e&&e.timeAsTimestamp){var l="timestamp";i[l]=new Date(n)}else{var d="time";i[d]=n}return i}}),(function(e,t){t.FIELDS={NAME:"n",TIME:"t",TYPE:"y",CATEGORY:"c",REVENUE:"r",SESSION_ID:"s",OPTIONS:"o",SESSION_INDEX:"si"},t.FIELDS_V0_2={name:t.FIELDS.NAME,time:t.FIELDS.TIME,type:t.FIELDS.TYPE,category:t.FIELDS.CATEGORY,tags:t.FIELDS.OPTIONS,session_index:t.FIELDS.SESSION_INDEX}}),(function(e,t,n){var i=n(65).v3,r={IGNORING:0,BUCKETING:1,FALLBACK:2,HOLDBACK:3,BEHAVIOR_EVENT:2716770798},a=Math.pow(2,32),o=function(e,t,n){return Math.floor(c(e,t)*n)},s=function(e,t){var n=i(e,t);return(n>>>16).toString(16)+(65535&n).toString(16)},c=function(e,t){var n=i(e,t);return(n>>>0)/a},u=function(e){var t=String.fromCharCode;return e.replace(/[\S\s]/gi,(function(e){e=e.charCodeAt(0);var n=t(255&e);return e>255&&(n=t(e>>>8&255)+n),e>65535&&(n=t(e>>>16)+n),n}))};e.exports={Seed:r,hashToHex:s,hashToInt:o,hashToReal:c,toByteString:u}}),(function(e,t,n){!(function(){function t(e,t){for(var n,i=e.length,r=t^i,a=0;i>=4;)n=255&e.charCodeAt(a)|(255&e.charCodeAt(++a))<<8|(255&e.charCodeAt(++a))<<16|(255&e.charCodeAt(++a))<<24,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),n^=n>>>24,n=1540483477*(65535&n)+((1540483477*(n>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^n,i-=4,++a;switch(i){case 3:r^=(255&e.charCodeAt(a+2))<<16;case 2:r^=(255&e.charCodeAt(a+1))<<8;case 1:r^=255&e.charCodeAt(a),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)}return r^=r>>>13,r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16),r^=r>>>15,r>>>0}function n(e,t){var n,i,r,a,o,s,c,u;for(n=3&e.length,i=e.length-n,r=t,o=3432918353,s=461845907,u=0;u<i;)c=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,c=(65535&c)*o+(((c>>>16)*o&65535)<<16)&4294967295,c=c<<15|c>>>17,c=(65535&c)*s+(((c>>>16)*s&65535)<<16)&4294967295,r^=c,r=r<<13|r>>>19,a=5*(65535&r)+((5*(r>>>16)&65535)<<16)&4294967295,r=(65535&a)+27492+(((a>>>16)+58964&65535)<<16);switch(c=0,n){case 3:c^=(255&e.charCodeAt(u+2))<<16;case 2:c^=(255&e.charCodeAt(u+1))<<8;case 1:c^=255&e.charCodeAt(u),c=(65535&c)*o+(((c>>>16)*o&65535)<<16)&4294967295,c=c<<15|c>>>17,c=(65535&c)*s+(((c>>>16)*s&65535)<<16)&4294967295,r^=c}return r^=e.length,r^=r>>>16,r=2246822507*(65535&r)+((2246822507*(r>>>16)&65535)<<16)&4294967295,r^=r>>>13,r=3266489909*(65535&r)+((3266489909*(r>>>16)&65535)<<16)&4294967295,r^=r>>>16,r>>>0}var i=n;i.v2=t,i.v3=n;e.exports=i})()}),(function(e,t,n){var i=n(7);e.exports={initialize:function(){this.L={baseMap:{},eventQueue:[],lastEvent:null,initialized:!1,cleared:!1},this.on(i.UPDATE_BEHAVIOR_STORE,this.Ot)},getBaseMap:function(){return this.L.baseMap},getEventQueue:function(){return this.L.eventQueue},getLastEvent:function(){return this.L.lastEvent},getCleared:function(){return this.L.cleared},getInitialized:function(){return this.L.initialized},Ot:function(e){this.L[e.key]=e.value}}}),(function(e,t,n){var i=n(2),r=n(7);e.exports={initialize:function(){this.L={randomId:null,visitorIdLocator:null},this.on(r.SET_VISITOR_ID,this.k),this.on(r.DATA_LOADED,this.Nt)},getBucketingId:function(){return this.getRandomId()},getRandomId:function(){return this.L.randomId},getVisitorIdLocator:function(){return this.L.visitorIdLocator},k:function(e){i.extend(this.L,e),this.emitChange()},Nt:function(e){i.isEmpty(e.data.visitorIdLocator)||(this.L.visitorIdLocator=e.data.visitorIdLocator,this.emitChange())}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(26);e.exports={initialize:function(){this.L={variationIdMap:{},preferredLayerMap:{}},this.on(r.UPDATE_VARIATION_ID_MAP,this.Ct),this.on(r.MERGE_VARIATION_ID_MAP,this.Pt),this.on(r.UPDATE_PREFERRED_LAYER_MAP,this.Lt),this.on(r.MERGE_PREFERRED_LAYER_MAP,this.Vt)},getVariationIdMap:function(){return i.cloneDeep(this.L.variationIdMap)},getVariationIdMapString:function(){return a.stringify(this.L.variationIdMap)},Ct:function(e){var t=this.L.variationIdMap,n=t[e.layerId]||{};n[e.experimentId]!==e.variationId&&(n[e.experimentId]=e.variationId,this.L.variationIdMap[e.layerId]=n,this.emitChange())},Pt:function(e){var t=this.getVariationIdMap(),n=e.variationIdMap;i.each(t||{},(function(e,t){n[t]?i.assign(n[t],e):n[t]=e})),this.L.variationIdMap=n,this.emitChange()},getPreferredLayerMap:function(){return i.cloneDeep(this.L.preferredLayerMap)},getPreferredLayerMapString:function(){return a.stringify(this.L.preferredLayerMap)},getPreferredLayerId:function(e){return this.L.preferredLayerMap[e]},Lt:function(e){this.L.preferredLayerMap[e.groupId]!==e.layerId&&(this.L.preferredLayerMap[e.groupId]=e.layerId,this.emitChange())},Vt:function(e){var t=this.getPreferredLayerMap(),n=e.preferredLayerMap;i.assign(n,t),this.L.preferredLayerMap=n,this.emitChange()}}}),(function(e,t,n){var i=n(2),r=n(23),a=n(7),o=1e3;e.exports={initialize:function(){this.L={frames:[],defaultFrame:null,messages:[],subscribers:[],canonicalOrigins:null,disabled:!1},this.on(a.XDOMAIN_SET_DEFAULT_FRAME,this.kt),this.on(a.XDOMAIN_ADD_FRAME,this.xt),this.on(a.XDOMAIN_SET_MESSAGE,this.Ft),this.on(a.XDOMAIN_ADD_SUBSCRIBER,this.Mt),this.on(a.XDOMAIN_SET_CANONICAL_ORIGINS,this.Ut),this.on(a.XDOMAIN_SET_DISABLED,this.Gt)},getMessages:function(){return i.cloneDeep(this.L.messages)},getOffset:function(){return 0===this.L.messages.length?0:this.L.messages[0].data.id},getNextMessageId:function(){return this.L.messages.length+this.getOffset()},getMessageById:function(e){return this.L.messages[e-this.getOffset()]},getSubscribers:function(){return this.L.subscribers},getFrames:function(){return this.L.frames},getNextFrameId:function(){return this.L.frames.length},getDefaultFrame:function(){return this.L.defaultFrame},getCanonicalOrigins:function(){return i.cloneDeep(this.L.canonicalOrigins)},isDisabled:function(){return this.L.disabled},kt:function(e){this.L.defaultFrame=e},xt:function(e){this.L.frames.push(e)},Ft:function(e){for(this.L.messages[e.messageId-this.getOffset()]=e.message;this.L.messages.length>o;){var t=this.L.messages.shift();r.debug("XDomainStorage: Cleared old message: "+t.data.id)}},Mt:function(e){this.L.subscribers.push(e.subscriber)},Ut:function(e){this.L.canonicalOrigins=e.canonicalOrigins},Gt:function(e){this.L.disabled=e.disabled}}}),(function(e,t,n){var i=n(71);t.initializeStore=i.initialize,t.addEvent=i.addEvent,t.getEvents=i.getEvents,t.getEventCount=i.getEventCount}),(function(e,t,n){function i(e){I.dispatch(v.SET_VISITOR_EVENTS,e)}function r(e){I.dispatch(v.UPDATE_BEHAVIOR_STORE,{key:"baseMap",value:e})}function a(e){I.dispatch(v.UPDATE_BEHAVIOR_STORE,{key:"eventQueue",value:e})}function o(e){I.dispatch(v.UPDATE_BEHAVIOR_STORE,{key:"lastEvent",value:e})}function s(e){I.dispatch(v.UPDATE_BEHAVIOR_STORE,{key:"cleared",value:e})}function c(){I.dispatch(v.UPDATE_BEHAVIOR_STORE,{key:"initialized",value:!0})}function u(){return O.getEvents()}function l(){return N.getBaseMap()}function d(){return N.getEventQueue()}function f(){return N.getLastEvent()}function g(){return N.getCleared()}function p(){return N.getInitialized()}function h(){var e=u().concat(d()),t=!1;return e.length>P&&(e=e.slice(-P),t=!0),i(e),a([]),t}var _=n(2),v=n(7),m=n(24),E=n(72),I=n(9),y=n(23),S=n(73),T=t,A=n(62).Event,w=n(63),R=n(62).EventBase,b=n(88),D=n(16),O=D.get("stores/visitor_events"),N=D.get("stores/visitor_events_manager"),C={EVENTBASE:"eb",HASH:"h",TIMEBASE:"tb",TIMESTAMPS:"ts",DELTA:"d",INDEX:"i"},P=1e3;t.initialize=function(e,t){if(!p()){T.Bt(e,t);var n=u();n.length>0&&o(n[n.length-1]);var i=d();i.length>0&&o(i[i.length-1]),c()}},t.addEvent=function(e){y.debug("Behavior store: adding event",e);var t=T.zt(e);o(t),a(d().concat(t)),b.reindexIfNecessary(f(),u(),d()),T.jt(d())},t.getEvents=function(){return d().length>0&&(h()&&b.sessionize(u()),T.Ht(u()),T.jt(d())),u()},t.getEventCount=function(){return d().length+u().length},T.Bt=function(e,t){T.Kt(e,t)&&(T.Ht(u()),
T.jt(d())),b.sessionize(u())},T.Kt=function(e,t){if(0===e.length&&0===t.length)return i([]),a([]),!1;var n=!1,r=e[0]||t[0];return C.EVENTBASE in r?(i(T.Yt(e)),a(T.Yt(t))):(n=!0,i(T.qt(e)),a(T.qt(t))),d().length>0&&(h(),n=!0),i(T._updateBaseMapAndMaybeDedupe(u())),T._migrateEventBasesAndUpdateStore()&&(n=!0),n},T.qt=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n],r=T.Wt(i);t[n]=new A(r,i[w.FIELDS.TIME])}return t},T._migrateEventBasesAndUpdateStore=function(){var e=!1,t=T.Xt();return b.applyMigrations(t)&&(e=!0,r({}),i(T._updateBaseMapAndMaybeDedupe(u())),a(T._updateBaseMapAndMaybeDedupe(d()))),e},T.Qt=function(){return m.now()},T.zt=function(e){var t,n=e.name,i=e.type||"default",r=e.category||E.OTHER,a=e.tags||{};e.revenue&&(t=e.revenue);var o=new R(n,i,r,a,t);o=T.$t(o);var s=T.Qt(),c=new A(o,s,-1);return b.updateSessionId(f(),c),b.updateSessionIndex(f(),c),c},T._updateBaseMapAndMaybeDedupe=function(e){for(var t=0;t<e.length;t++)e[t].eventBase=T.$t(e[t].eventBase);return e},T.Ht=function(e){var t=T.Jt(e);S.persistBehaviorEvents(t)},T.jt=function(e){var t=T.Jt(e);S.persistBehaviorEventQueue(t)},T.Zt=function(){g()||(i([]),a([]),T.Ht(u()),T.jt(d()),r({}),o(null),s(!0))},T.$t=function(e){var t=e.hash(),n=l(),i=n[t];if(_.isUndefined(i))return n[t]=[e],r(n),e;for(var a=0;a<i.length;a++)if(e.equals(i[a]))return i[a];return i.push(e),r(n),e},T.Xt=function(){var e=[],t=l();for(var n in t)t.hasOwnProperty(n)&&(e=e.concat(t[n]));return e},T.Jt=function(e){for(var t=function(e){var t={};t[w.FIELDS.NAME]=e.getValueOrDefault([w.FIELDS.NAME]),t[w.FIELDS.TYPE]=e.getValueOrDefault([w.FIELDS.TYPE]);var n=e.getValueOrDefault([w.FIELDS.CATEGORY]);_.isUndefined(n)||(t[w.FIELDS.CATEGORY]=n);var i=e.getValueOrDefault([w.FIELDS.REVENUE]);_.isUndefined(i)||(t[w.FIELDS.REVENUE]=i);var r=e.getValueOrDefault([w.FIELDS.OPTIONS]);return _.isUndefined(r)||(t[w.FIELDS.OPTIONS]=r),t},n=C,i=[],r="_idx_",a=0;a<e.length;a++){var o,s,c=e[a],u=c.eventBase;if(u.hasOwnProperty(r)){o=i[u[r]];var l=c[w.FIELDS.TIME]-(o[n.TIMEBASE]||0);s={},s[n.DELTA]=l,s[n.INDEX]=a,o[n.TIMESTAMPS].push(s)}else o={},o[n.EVENTBASE]=t(c),o[n.HASH]=u.hash(),o[n.TIMEBASE]=c[w.FIELDS.TIME],s={},s[n.DELTA]=0,s[n.INDEX]=a,o[n.TIMESTAMPS]=[s],i.push(o),u[r]=i.length-1}for(a=0;a<e.length;a++)delete e[a].eventBase[r];return i},T.Wt=function(e,t){var n=new R(e[w.FIELDS.NAME],e[w.FIELDS.TYPE],e[w.FIELDS.CATEGORY],e[w.FIELDS.OPTIONS],e[w.FIELDS.REVENUE]);return _.isUndefined(t)||n.setHash(t),n},T.Yt=function(e){for(var t=C,n=[],i=0;i<e.length;i++)for(var r=e[i],a=T.Wt(r[t.EVENTBASE],r[t.HASH]),o=r[t.TIMEBASE],s=r[t.TIMESTAMPS],c=0;c<s.length;c++){var u=s[c],l=new A(a,o+u[t.DELTA]),d=u[t.INDEX];n[d]=l}return n},t.deserialize=function(e){return T.Yt(e)},t.mergeAllEvents=function(e){var t=[].concat.apply([],e);return t.sort(b.sessionSortPredicate),b.sessionize(t),t}}),(function(e,t){e.exports={OTHER:"other"}}),(function(e,t,n){function i(e){w.dispatch(R.SET_TRACKER_PERSISTABLE_STATE,e)}function r(e,t){function n(e,n){var i;t.attributionType&&(i=N.now()),w.dispatch(R.SET_VISITOR_ATTRIBUTES,{attributes:[{key:e,value:n,metadata:{lastModified:i}}]})}if(t.getter){var i=t.provides;if(A.isArray(i)||(i=[i]),!$||!A.includes(["queryParams","url"],i[0])){var r=t.isSticky&&!A.isUndefined(V.getFieldValue(e,i));if(!r){var a;try{var o=C.evaluate(t.getter);A.isFunction(o)&&(o=o((function(){return V.getFieldValue(e,i)}),(function(e){n(i,e)}))),A.isUndefined(o)||(t.isAsync?(a=o.then((function(e){n(i,e)}),(function(e){x.warn('Failed to evaluate provider for "'+t.provides+'"; error was:',e)})),w.dispatch(R.SET_VISITOR_ATTRIBUTE_PENDING,{key:i,pending:a})):n(i,o))}catch(e){x.warn('Failed to evaluate getter for provider for "'+t.provides+'"; error was: '+e.message)}return a}}}}function a(){_(o(U.EVENTS)||[],o(U.EVENT_QUEUE)||[]);var e=u(U.LAYER_STATES);A.forEach(e,(function(e){e.item=A.map(e.item,c)})),v(s(e)),m(o(U.SESSION_STATE)||{}),y(o(U.VISITOR_PROFILE)||{});var n=o(U.TRACKER_OPTIMIZELY);n&&i(n),t.loadForeignData(),t.removeLegacySessionStateCookies()}function o(e){var t=d(e),n=k.getItem(t);return A.isString(n)&&(n=S(n)),n}function s(e){var t=[];return A.each(e,(function(e){A.each(e.item,(function(n){n.namespace=e.namespace,t.push(n)}))})),t}function c(e){var t;return t=e.layerId?e:{layerId:e.i,pageId:e.p,decisionTimestamp:e.t,decisionTicket:{audienceIds:e.a||[]},decision:{layerId:e.i,experimentId:e.x||null,variationId:e.v||null,isLayerHoldback:e.h||!1}}}function u(e){var t=q.getBucketingId(),n=[],i=t+"\\$\\$([^$]+?)\\$\\$"+e,r=new RegExp(i);return A.each(k.keys(),(function(e){var i=e.match(r);if(i){var a={namespace:i[1],userId:t,item:S(k.getItem(e))};n.push(a)}})),n}function l(e,t,n){try{var i=d(e);n||(t=L.stringify(t));try{k.setItem(i,t)}catch(e){throw x.warn("Visitor / Unable to set localStorage key, error was:",e),new Error("Unable to set localStorage")}T.setItem(i,t)}catch(e){x.warn("Unable to persist visitor data:",e.message)}}function d(e){var n=q.getBucketingId();if(!n)throw new Error("Visitor bucketingId not set");var i=t.getNamespace();if(!i)throw new Error("Namespace is not set");return[n,i,e].join("$$")}function f(e,n){if(!q.getBucketingId())throw new Error("Cannot update local store because bucketingId not set");if(p(e)){var i=t.getStorageKeyFromKey(e);if(A.includes(U,i)){var r=d(i);if(!(e.indexOf(r)<=0)&&(n=S(n)))if(i===U.EVENT_QUEUE)w.dispatch(R.SET_FOREIGN_VISITOR_EVENT_QUEUE,{key:e,value:D.deserialize(n)});else if(i===U.EVENTS)w.dispatch(R.SET_FOREIGN_VISITOR_EVENTS,{key:e,value:D.deserialize(n)});else if(i===U.LAYER_STATES)w.dispatch(R.LOAD_PERSISTED_LAYER_STATES,{layerStates:A.map(n,c),merge:!0});else if(i===U.VARIATION_MAP)w.dispatch(R.MERGE_VARIATION_ID_MAP,{variationIdMap:n});else if(i===U.VISITOR_PROFILE){var a=["custom"],o=n;A.each(a,(function(e){var t=H.getPlugin(P.PluginTypes.visitorProfileProviders,e);if(t){if(o.profile&&o.metadata){var n=g(o,e,t.attributionType);if(!A.isEmpty(n)){var i=[];A.forOwn(n.data,(function(t,r){var a=n.metadata[r],o={key:[e,r],value:t,metadata:a};i.push(o)})),w.dispatch(R.SET_VISITOR_ATTRIBUTES,{attributes:i})}}}else x.debug("Attribute type",e,"not used by any audiences")}))}}}}function g(e,t,n){var i=X.getAttribute(t),r=X.getAttributeMetadata(t),a=e.profile[t],o=e.metadata[t];if(A.isEmpty(i))return{data:a,metadata:o};var s={};return A.forOwn(a,(function(e,t){var i;r&&r[t]&&(i=r[t].lastModified);var a;o&&o[t]&&(a=o[t].lastModified),(n===P.AttributionTypes.FIRST_TOUCH&&i>=a||n===P.AttributionTypes.LAST_TOUCH&&a>=i||A.isUndefined(i)&&a)&&(s.data=s.data||{},s.data[t]=e,a&&(s.metadata=s.metadata||{},s.metadata[t]=s.metadata[t]||{},s.metadata[t].lastModified=a))})),s}function p(e){var t=e.split("$$")[0];return t.indexOf("://")>0}function h(){var e=X.getVisitorProfile(),t=X.getVisitorProfileMetadata(),n=H.getAllPlugins(P.PluginTypes.visitorProfileProviders);if(n){var i=A.reduce(n,(function(e,t){return t.provides&&(e[t.provides]=t),e}),{});e=A.omitBy(e,(function(e,t){var n=i[t];return n&&n.isTransient}))}return{profile:e,metadata:t}}function _(e,t){b.initializeStore(e,t)}function v(e){w.dispatch(R.LOAD_PERSISTED_LAYER_STATES,{layerStates:A.filter(e,(function(e){return!!e.decision}))})}function m(e){e=A.extend({lastSessionTimestamp:0,sessionId:null},e),w.dispatch(R.LOAD_SESSION_STATE,e)}function E(e){var t,n=e.name;switch(e.type){case P.VisitorIdLocatorType.COOKIE:t=O.get(n);break;case P.VisitorIdLocatorType.JS_VARIABLE:t=G.getGlobalByPath(n);break;case P.VisitorIdLocatorType.LOCALSTORAGE:try{var i=G.getGlobal("localStorage");t=i.getItem(n)}catch(e){throw new Error("Unable to read localStorage: "+e.toString())}break;case P.VisitorIdLocatorType.QUERY:t=M.getQueryParamValue(n)}try{if(!t)throw x.error("Visitor / Customer provided visitor id cannot be found. Type:",e.type," Name:",n),new Error("Failure to obtain visitor id from "+e.type);if(!A.isString(t)&&!A.isNumber(t))throw x.error("Visitor / Customer provided visitor id is not a string or number. Type:",e.type," Name:",n," Id Type:",typeof t),new Error("Customer provided visitor id is not a string or number")}catch(e){throw K.getSampleRum()&&w.dispatch(R.RECORD_VISITOR_ID_ERROR,{isError:!0}),e}return K.getSampleRum()&&(w.dispatch(R.RECORD_VISITOR_ID_ERROR,{isError:!1}),w.dispatch(R.RECORD_VISITOR_ID_LOCATOR_USAGE,{visitorIdLocatorType:e.type,entityId:t})),String(t)}function I(){return"oeu"+N.now()+"r"+Math.random()}function y(e){var t,n,i=H.getAllPlugins(P.PluginTypes.visitorProfileProviders),r=A.filter(i,(function(e){return A.isFunction(e.restorer)}));e.profile&&e.metadata?(t=e.profile,n=e.metadata):(t=e,n={}),t=A.reduce(t,(function(e,t,n){var i=t,a=A.find(r,{provides:n});return a&&(i=a.restorer(t)),e[n]=i,e}),{}),w.dispatch(R.LOAD_EXISTING_VISITOR_PROFILE,{profile:t,metadata:n})}function S(e){try{return L.parse(e)}catch(t){return x.debug("Failed to parse: ",e,t),null}}var T,A=n(2),w=n(9),R=n(7),b=n(70),D=n(71),O=n(74),N=n(24),C=n(16),P=n(25),L=n(26),V=n(19),k=n(80).LocalStorage,x=n(23),F=n(12).Promise,M=n(83),U=n(25).VisitorStorageKeys,G=n(40);T=n(84);var B=C.get("stores/cookie_options"),z=C.get("stores/global"),j=C.get("stores/layer"),H=C.get("stores/plugins"),K=C.get("stores/rum"),Y=C.get("stores/session"),q=C.get("stores/visitor_id"),W=C.get("stores/visitor_bucketing"),X=C.get("stores/visitor"),Q=C.get("stores/provider_status"),$=!1;t.getOrGenerateId=function(){return{randomId:t.getCurrentId()||I()}},t.getCurrentId=function(){var e=q.getVisitorIdLocator();return X.getVisitorIdFromAPI()||(e?E(e):O.get(P.COOKIES.VISITOR_ID))},t.hasSomeData=function(){return k.keys().length>0},t.setId=function(e){var n=q.getBucketingId();w.dispatch(R.SET_VISITOR_ID,e),q.getBucketingId()!==n&&(a(),t.deleteOldLocalData(),T.deleteData(e));try{q.getVisitorIdLocator()||t.maybePersistVisitorId(e)}catch(e){if(x.error("Visitor / Unable to persist visitorId, disabling tracking"),w.dispatch(R.LOAD_DIRECTIVE,{trackingDisabled:!0}),e instanceof O.MismatchError)throw x.error("Visitor / Cookie not set to correct value:",e),new Error("Cookie mismatch error while persisting visitorId");throw e}t.refreshSession()},t.getVariationIdMap=function(){return o(U.VARIATION_MAP)||{}},t.updateVariationIdMap=function(e,t,n){w.dispatch(R.UPDATE_VARIATION_ID_MAP,{layerId:e,experimentId:t,variationId:n})},t.persistVariationIdMap=function(){var e=W.getVariationIdMapString();l(U.VARIATION_MAP,e,!0)},t.persistTrackerOptimizelyData=function(e){l(U.TRACKER_OPTIMIZELY,e)},t.refreshSession=function(){w.dispatch(R.REFRESH_SESSION)},t.populateEagerVisitorData=function(e,n){var i=A.filter(e,(function(e){return!e.isLazy})),r=t.populateVisitorData(i,n);return r},t.populateLazyVisitorData=function(e,n){var i=A.filter(e,(function(e){return e.isLazy}));return t.populateVisitorData(i,n)},t.populateVisitorData=function(e,t){t=t||{};var n=A.partial(r,t),i=A(e).filter({isAsync:!0}).map(n).filter().value();return A.forEach(A.filter(e,(function(e){return!e.isAsync})),n),i.length>0?F.all(i):F.resolve()},t.persistBehaviorEvents=function(e){l(U.EVENTS,e)},t.persistBehaviorEventQueue=function(e){l(U.EVENT_QUEUE,e)},t.getPersistedBehaviorEventCount=function(){var e=o(U.EVENTS)||[],t=o(U.EVENT_QUEUE)||[];return D.deserialize(e).length+D.deserialize(t).length},t.persistLayerStates=function(){var e=j.getLayerStates(t.getNamespace());e=A.map(e,(function(e){return A.omit(e,"namespace")})),l(U.LAYER_STATES,e)},t.persistSessionState=function(){l(U.SESSION_STATE,Y.getState())},t.persistVisitorProfile=function(){l(U.VISITOR_PROFILE,h())},t.persistVisitorBucketingStore=function(){t.persistVariationIdMap()},t.getUserIdFromKey=function(e,n){var i;return A.includes(e,n)&&A.includes(e,"_")&&A.includes(e,"$$")&&A.includes(e.slice(e.indexOf("$$")),t.getNamespace())&&(i=e.slice(e.indexOf("_")+1,e.indexOf("$$"))),i},t.maybePersistVisitorId=function(e){e.randomId&&(B.getAutoRefresh()||t.getCurrentId()!==e.randomId?(O.set(P.COOKIES.VISITOR_ID,e.randomId),x.log("Persisting visitorId:",e.randomId)):x.log("Not persisting visitorId: value is not changed and also auto-refresh is disabled"))},t.getAttribute=function(e){return X.getAttribute(e)},t.getPendingAttributeValue=function(e){return Q.getPendingAttributeValue(e)},t.isForeignKey=p,t.checkKeyForVisitorId=function(e){var n=q.getBucketingId()||t.getCurrentId(),i=t.getIdFromKey(e);return!i||i===n},t.getIdFromKey=function(e){var n=e.split("$$")[0],i=t.getStorageKeyFromKey(e),r=A.includes(P.StorageKeys,i);if(r)return null;var a=n.indexOf("_"),o=a===-1;return o?n:n.substring(a+1)},t.getStorageKeyFromKey=function(e){var t,n=e.split("$$").pop(),i=n.indexOf("://")>-1;if(i){var r=n.indexOf("_");t=n.substring(r+1)}else t=n;return A.includes(A.values(P.AllStorageKeys),t)?t:null},t.deleteOldLocalData=function(){var e=k.keys();A.each(e,(function(e){t.isForeignKey(e)||t.checkKeyForVisitorId(e)||k.removeItem(e)}))},t.deleteOldForeignData=function(){var e=k.keys();A.each(e,(function(e){t.isForeignKey(e)&&k.removeItem(e)}))},t.loadForeignData=function(){A.each(k.keys(),(function(e){var t=k.getItem(e);t&&f(e,t)}))},t.getNamespace=function(){return z.getNamespace()},t.serializeFieldKey=function(e){return A.isArray(e)?e.join("$$"):e},t.removeLegacySessionStateCookies=function(){var e=O.getAll();A.forEach(A.keys(e),(function(e){0===e.indexOf(P.COOKIES.SESSION_STATE+"$$")&&O.remove(e)}))}}),(function(e,t,n){function i(e,n){n!==!1&&(n=!0);for(var i,a,o=e.hostname.split("."),s=[],c=null,l=o.length-1;l>=0;l--)if(s.unshift(o[l]),i=s.join("."),!r.includes(h,i)){a={domain:n?"."+i:i};try{t.set(_,Math.random().toString(),a),t.remove(_,a),c=a.domain;break}catch(e){}}return d.dispatch(u.SET_COOKIE_DOMAIN,c),c}var r=n(2),a=n(75).create,o=n(24),s=n(79),c=n(40),u=n(7),l=n(16),d=n(9),f=l.get("stores/cookie_options"),g=t.SetError=a("CookieSetError"),p=t.MismatchError=a("CookieMismatchError");t.getAll=function(e){r.isUndefined(e)&&(e=!0);var n,i,a,o,c;n=s.getCookieString().split(/\s*;\s*/);var u={};for(a=0;a<n.length;a++)if(i=n[a],o=i.indexOf("="),o>0&&(c=t.safeDecodeURIComponent(i.substring(0,o)),void 0===u[c])){var l=i.substring(o+1);e&&(l=t.safeDecodeURIComponent(l)),u[c]=l}return u},t.safeDecodeURIComponent=function(e){try{return decodeURIComponent(e)}catch(t){return e}},t.get=function(e,n){var i=t.getAll(n);return i[e]},t.set=function(e,n,a,u){a=r.extend({encodeValue:!0},a),u!==!1&&(u=!0);var l=[];if(r.isUndefined(a.domain)){var d=f.getCurrentDomain();d||(d=i(c.getLocation(),!0)),a.domain=d}if(a.domain&&l.push("domain="+a.domain),r.isUndefined(a.path)&&(a.path="/"),a.path&&l.push("path="+a.path),r.isUndefined(a.expires)){var h=r.isUndefined(a.maxAge)?f.getDefaultAgeInSeconds():a.maxAge;a.expires=new Date(o.now()+1e3*h)}if(r.isUndefined(a.expires)||l.push("expires="+a.expires.toUTCString()),a.secure&&l.push("secure"),l=l.join(";"),s.setCookie(e+"="+(a.encodeValue?encodeURIComponent(n):n)+";"+l),u){var _=a.encodeValue,v=t.get(e,_);if(v!==n){if(!v)throw new g('Failed to set cookie "'+e+'"');throw new p('Expected "'+n+'" for "'+e+'", got "'+v+'"')}}},t.remove=function(e,n){for(var i=c.getLocation().hostname.split(".");i.length>0;)t.set(e,null,r.extend({},n,{domain:"."+i.join("."),expires:new Date(0)}),!1),i.shift()};var h=["optimizely.test"],_="optimizelyDomainTestCookie"}),(function(e,t,n){var i=n(76),r=i("InternalError");t.BaseError=r,t.create=function(e){return i(e,r)}}),(function(e,t,n){function i(e,t){function n(t){if(!(this instanceof n))return new n(t);try{throw new Error(t)}catch(t){t.name=e,this.stack=t.stack}r&&this.stack&&(this.stack=a(this.stack,e,t)),this.message=t||"",this.name=e}return n.prototype=new(t||Error),n.prototype.constructor=n,n.prototype.inspect=function(){return this.message?"["+e+": "+this.message+"]":"["+e+"]"},n.prototype.name=e,n}var r=n(77)(),a=n(78);e.exports=i}),(function(e,t){"use strict";e.exports=function(){var e=new Error("yep");return!!e.stack&&"Error: yep\n"===e.stack.substr(0,11)}}),(function(e,t){"use strict";e.exports=function(e,t,n){var i=t;return n&&(i+=": "+n),e=i+e.slice(e.indexOf("\n"))}}),(function(e,t,n){function i(){return"loading"===t.getReadyState()}var r=n(16),a=r.get("stores/global");t.getDocumentElement=function(){return document.documentElement},t.getCookieString=function(){return document.cookie||""},t.setCookie=function(e){document.cookie=e},t.querySelector=function(e){return document.querySelector(e)},t.querySelectorAll=function(e){return document.querySelectorAll(e)},t.parseUri=function(e){var n=t.createElement("a");return n.href=e,n},t.childrenOf=function(e){return Array.prototype.slice.call(e.querySelectorAll("*"))},t.createElement=function(e){return document.createElement(e)},t.isReady=function(){return a.domContentLoadedHasFired()||"interactive"===document.readyState||"complete"===document.readyState},t.isLoaded=function(){return"complete"===document.readyState},t.addReadyHandler=function(e){return document.addEventListener("DOMContentLoaded",e),function(){t.removeReadyHandler(e)}},t.removeReadyHandler=function(e){return function(){document.removeEventListener("DOMContentLoaded",e)}},t.getReferrer=function(){return document.referrer},t.getReadyState=function(){return document.readyState},t.write=function(e){if(!i())throw new Error("Aborting attempt to write to already-loaded document");document.write(e)},t.appendToHead=function(e){return t.appendTo(document.head,e)},t.appendTo=function(e,t){e.appendChild(t)},t.addEventListener=function(e,t,n){return document.addEventListener(e,t,n),function(){document.removeEventListener(e,t,n)}},t.getCurrentScript=function(){if(document.currentScript)return document.currentScript},t.parentElement=function(e){for(var t=e.parentNode;t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;return t}}),(function(e,t,n){var i,r,a="optimizely_data",o=n(75).create,s=n(81),c=n(40),u=t.Error=o("StorageError");try{r=c.getGlobal("localStorage")}catch(e){throw new u("Unable to read localStorage: "+e.toString())}if(!r)throw new u("localStorage is undefined");i=s.create(r,a),t.LocalStorage=i,t.isOptimizelyKey=function(e){return e.slice(0,a.length)===a}}),(function(e,t,n){function i(e,t){this.en=e,this.tn=t}var r=n(2),a=n(23),o="$$";i.prototype.nn=function(e){return[this.tn,e].join(o)},i.prototype.rn=function(e){return e.replace(this.tn+o,"")},i.prototype.setItem=function(e,t){try{this.en.setItem(this.nn(e),t)}catch(t){a.warn("Failed to save",e,"to localStorage:",t)}},i.prototype.removeItem=function(e){this.en.removeItem(this.nn(e))},i.prototype.getItem=function(e){var t=null;try{t=this.en.getItem(this.nn(e))}catch(e){}return t},i.prototype.keys=function(){var e=r.keys(this.en);return r.map(r.filter(e,r.bind((function(e){return r.includes(e,this.tn)}),this)),r.bind(this.rn,this))},i.prototype.allKeys=function(){return r.keys(this.en)},i.prototype.allValues=function(){return r.values(this.en)},e.exports={create:function(e,t){return new i(e,t)},mockStorage:{keys:function(){},getItem:function(e){},removeItem:function(e){},setItem:function(e,t){}}}}),(function(e,t,n){function i(){return c.getGlobal("performance")}var r=n(7),a=n(75).create,o=n(24),s=n(9),c=n(40),u=n(16),l=u.get("stores/rum"),d="optimizely:",f=t.Error=a("PerformanceError");t.time=function(e){if(l.getSampleRum()){var t=i();if(t&&t.mark){var n=d+e;t.clearMarks(n+"Begin"),t.mark(n+"Begin")}}},t.timeEnd=function(e){if(l.getSampleRum()){var t=i();if(t&&t.mark){var n=d+e,a=t.getEntriesByName(n+"Begin");if(0===a.length)throw new f("Called timeEnd without matching time: "+e);t.clearMarks(n+"End"),t.mark(n+"End");var o=t.getEntriesByName(n+"End"),c=e+"Time",u=o[0].startTime-a[0].startTime;s.dispatch(r.SET_PERFORMANCE_MARKS_DATA,{name:c,data:{startTime:Math.round(1e3*a[0].startTime)/1e3,duration:Math.round(1e3*u)/1e3}})}}},t.now=function(){var e=i();return e?e.now():o.now()}}),(function(e,t,n){var i=n(2),r=n(40);t.getQueryParams=function(){var e=r.getLocationSearch()||"";if(0===e.indexOf("?")&&(e=e.substring(1)),0===e.length)return[];for(var t=e.split("&"),n=[],i=0;i<t.length;i++){var a="",o="",s=t[i].split("=");s.length>0&&(a=s[0]),s.length>1&&(o=s[1]),n.push([a,o])}return n},t.getQueryParamValue=function(e){for(var n=t.getQueryParams(),i=0;i<n.length;i++)if(n[i][0]===e)return n[i][1]},t.queryStringFromMap=function(e){return i.map(e,(function(e,t){return t+"="+e})).join("&")}}),(function(e,t,n){function i(e){var t;if(!o.find(I.getFrames(),{origin:e.origin}))return void E.debug("XDomain","No frame found for origin: "+e.origin);try{t=h.parse(e.data)}catch(t){return void E.debug("XDomain","Ignoring malformed message event:",e)}if("ERROR"===t.type)l.dispatch(c.XDOMAIN_SET_DISABLED,{disabled:!0}),d.emitInternalError(new y("Xdomain Error: "+t.response));else if("SYNC"===t.type)o.each(I.getSubscribers(),(function(e){e(t.response.key,t.response.value)}));else{var n=I.getMessageById(t.id);if(!n){if(E.warn("XDomain","No stored message found for ID",t.id),o.isNumber(t.id)){var i=I.getNextMessageId();t.id>=i?d.emitInternalError(new y("Message ID is greater than expected maximum ID ("+t.id+">"+i+")")):t.id<0?d.emitInternalError(new y("Message ID is < 0: "+t.id)):d.emitInternalError(new y("No stored message found for message ID: "+t.id))}else d.emitInternalError(new y("Message ID is not a number: "+t.id));return}if(!n.resolver)return void E.warn("XDomain","Message already resolved, ignoring:",t.id);n.resolver(t.response),l.dispatch(c.XDOMAIN_SET_MESSAGE,{messageId:t.id,message:{data:{id:t.id,type:n.data.type,key:n.data.key},startTime:n.startTime,endTime:g.now()}})}}function r(e,t){return t||(t=I.getDefaultFrame()),new s(function(n){var i={data:o.extend({},e,{id:I.getNextMessageId()}),resolver:n};t?I.isDisabled()||a(i,t):l.dispatch(c.XDOMAIN_SET_MESSAGE,{messageId:i.data.id,message:i})})}function a(e,t){var n=e.data;l.dispatch(c.XDOMAIN_SET_MESSAGE,{messageId:e.data.id,message:o.extend({},e,{startTime:g.now()})}),t.target.postMessage(h.stringify(n),t.origin)}var o=n(2),s=n(12).Promise,c=n(7),u=n(16),l=n(9),d=n(85),f=n(75).create,g=n(24),p=n(79),h=n(26),_=n(87),v=n(73),m=n(40),E=n(23),I=u.get("stores/xdomain"),y=t.Error=f("XDomainStorageError");t.setItem=function(e,t,n){return r({type:"PUT",key:e,value:t},n)},t.getItem=function(e,t){return r({type:"GET",key:e},t)},t.fetchAll=function(e){return r({type:"GETALL"},e)},t.deleteData=function(e,t){return r({type:"DELETE",visitorId:e},t)},t.subscribe=function(e){l.dispatch(c.XDOMAIN_ADD_SUBSCRIBER,{subscriber:e})},t.loadIframe=function(e,t){return new s(function(n){var i=p.createElement("iframe");i.src=e+t,i.hidden=!0,i.setAttribute("tabindex","-1"),i.setAttribute("title","Optimizely Internal Frame"),i.style.display="none",i.height=0,i.width=0,i.onload=function(){var r={id:I.getNextFrameId(),target:i.contentWindow,origin:e,path:t};l.dispatch(c.XDOMAIN_ADD_FRAME,r),n(r)},p.appendTo(p.querySelector("body"),i)})},t.getXDomainUserId=function(e,t){var n,i={},r=o.keys(e);return o.each(t,(function(e){i[e]=[],o.each(r,(function(t){var r=v.getUserIdFromKey(t,e);!n&&r&&(n=r),r&&!o.includes(i[e],r)&&i[e].push(r)}))})),E.debug("XDomain: Found userIds:",i),n},t.load=function(e,n){m.addEventListener("message",i);var r=function(){return!!p.querySelector("body")},s=function(){return t.loadIframe(e,n)};return _.pollFor(r).then(s).then((function(e){l.dispatch(c.XDOMAIN_SET_DEFAULT_FRAME,e),I.isDisabled()||o.each(I.getMessages(),(function(t){t.startTime||a(t,e)}))}))}}),(function(e,t,n){var i=n(86);t.emitError=function(e,t,n){var r=!0;i.emit({type:"error",name:e.name||"Error",data:{error:e,metadata:t}},n||!1,r)},t.emitInternalError=function(e,n){t.emitError(e,n,!0)},t.emitAnalyticsEvent=function(e,t){var n={type:"analytics",name:"trackEvent",data:e};i.emit(n,t)}}),(function(e,t,n){var i=n(2),r=n(5),a=n(7),o=n(85),s=n(16),c=n(9),u=n(23),l=s.get("stores/event_emitter");t.on=function(e){return e.token||(e.token=r.generate()),c.dispatch(a.ADD_EMITTER_HANDLER,e),e.token},t.off=function(e){c.dispatch(a.REMOVE_EMITTER_HANDLER,{token:e})},t.emit=function(e,t,n){var r=l.getHandlers(e,t);i.each(r,(function(i){try{i.handler.call({$di:s},e)}catch(r){!n&&i.emitErrors?(u.error("Error in handler for event:",e,r),o.emitError(r,null,t)):u.warn("Suppressed error in handler for event:",e,r)}}))}}),(function(e,t,n){var i=n(2),r=n(12).Promise,a=n(40),o=100,s=50;t.pollFor=function(e,t,n){var c,u;return i.isFunction(n)?u=n:(c=n||o,u=function(){return c--,c<-1}),t=t||s,new r(function(n,i){!(function r(){var o;if(!u()){try{var s=e();if(s)return n(s)}catch(e){o=e}return a.setTimeout(r,t)}i(o||new Error("Poll timed out"))})()})}}),(function(e,t,n){function i(e,n){var i;i=t.isInSameSession(e,n)?e.getValueOrDefault([s.FIELDS.SESSION_ID]):n.getValueOrDefault([s.FIELDS.TIME]),n.setFieldValue(s.FIELDS.SESSION_ID,i)}function r(e,n,i){var r,a=e.getValueOrDefault([s.FIELDS.SESSION_INDEX]);r=t.isInSameSession(n,e)?a:i?a+1:a-1,n.setFieldValue(s.FIELDS.SESSION_INDEX,r)}var a=n(62).Event,o=n(24),s=n(63),c=n(62).EventBase;t.CURRENT_SESSION_INDEX=0;var u=18e5;t.isInSameSession=function(e,t){var n=e.getValueOrDefault([s.FIELDS.TIME],0),i=t.getValueOrDefault([s.FIELDS.TIME],0);return Math.abs(n-i)<u},t.updateSessionId=function(e,t){if(!e)return void t.setFieldValue(s.FIELDS.SESSION_ID,t.getValueOrDefault([s.FIELDS.TIME]));var n=e.getValueOrDefault([s.FIELDS.TIME]),r=e.getValueOrDefault([s.FIELDS.SESSION_ID]),o=t.getValueOrDefault([s.FIELDS.TIME]);n="number"!=typeof n?o-36e5:n,r="number"!=typeof r?n:r,e=new a(new c("",""),n,r),i(e,t)},t.updateSessionIndex=function(e,t){if(!e)return void t.setFieldValue(s.FIELDS.SESSION_INDEX,0);var n=e.getValueOrDefault([s.FIELDS.TIME]),i=e.getValueOrDefault([s.FIELDS.SESSION_INDEX]),o=t.getValueOrDefault([s.FIELDS.TIME]),u=e.getValueOrDefault([s.FIELDS.SESSION_ID]);n="number"!=typeof n?o-36e5:n,i="number"!=typeof i?0:i,u="number"!=typeof u?n:u,e=new a(new c("",""),n,u,i),r(e,t,!1)},t.sessionize=function(e){var n=e.length;if(0!==n){e[0].setFieldValue(s.FIELDS.SESSION_ID,e[0].getValueOrDefault([s.FIELDS.TIME]));for(var a=1;a<n;a++)i(e[a-1],e[a]);var c=t.CURRENT_SESSION_INDEX,l=e[n-1].getValueOrDefault([s.FIELDS.TIME]),d=o.now();d-l>u&&(c+=1),e[n-1].setFieldValue(s.FIELDS.SESSION_INDEX,c);for(var a=n-1;a>0;a--)r(e[a],e[a-1],!0)}},t.reindexIfNecessary=function(e,t,n){function i(e){for(var t=0;t<e.length;t++){var n=e[t].getValueOrDefault([s.FIELDS.SESSION_INDEX]);e[t].setFieldValue(s.FIELDS.SESSION_INDEX,n+1)}}e.getValueOrDefault([s.FIELDS.SESSION_INDEX])===-1&&(i(t),i(n))},t.sessionSortPredicate=function(e,t){return e[s.FIELDS.TIME]-t[s.FIELDS.TIME]},t.applyMigrations=function(e){return!1}}),(function(e,t,n){var i=n(12).Promise,r=n(40);t.estimateStorage=function(){var e=r.getGlobal("navigator");try{return e.storage.estimate()}catch(e){return i.resolve({usage:null,quota:null})}}}),(function(e,t,n){var i=n(2),r=n(7),a=n(24),o=n(9),s=n(26),c=n(23),u=n(12).Promise,l=n(91),d=3;t.isCORSSupported=function(){var e=l.get("XMLHttpRequest");return"withCredentials"in new e},t.request=function(e){return e=i.extend({method:"GET",async:!0,contentType:"text/plain;charset=UTF-8"},e),new u(function(n,r){if(!t.isCORSSupported())return r("CORS is not supported");var a=l.get("XMLHttpRequest"),o=new a;o.onload=function(){e.success&&e.success(o),n(o)},o.onerror=function(){e.error&&e.error(o),r(o)},i.isObject(e.data)&&(e.data=s.stringify(e.data)),o.open(e.method,e.url,e.async),e.withCredentials&&(o.withCredentials=e.withCredentials),o.setRequestHeader("Content-Type",e.contentType),o.send(e.data)})},t.retryableRequest=function(e,n,s,l){if(!n)return u.reject(new Error("No id specified for request."));if(!t.isCORSSupported())return u.reject(new Error("CORS is not supported."));i.isUndefined(l)&&(l=d),i.isUndefined(s)&&(s=0);var f={id:n,timeStamp:a.now(),data:e,retryCount:s};return o.dispatch(r.SET_PENDING_EVENT,f),c.debug("Sending event ",n),t.request(e).then((function(e){return o.dispatch(r.REMOVE_PENDING_EVENT,{id:n}),e}),(function(e){throw f.retryCount>=l?(o.dispatch(r.REMOVE_PENDING_EVENT,{id:n}),c.warn("Event ",f," could not be sent after ",l," attempts.")):(f.retryCount++,o.dispatch(r.SET_PENDING_EVENT,f),c.debug("Event ",f," failed to send, with error ",e," It will be retried ",l-s," times.")),e}))},t.sendBeacon=t.request}),(function(e,t,n){var i=n(2),r=n(7),a=n(24),o=n(16),s=n(79),c=n(25),u=n(9),l=n(23),d=o.get("stores/sandbox"),f=n(40);t.shouldSandbox=function(){return!1},t.get=function(e){if(!e)throw new Error("Name is required");if(t.shouldSandbox()){d.isInitialized()||g();var n=d.get(e);if(n)return n}return f.getGlobal(e)};var g=function(){try{var e="optimizely_"+a.now(),t=s.createElement("iframe");t.name=e,t.style.display="none",s.appendToHead(t);var n=t.contentWindow,o=t.contentDocument;o.write("<script></script>"),o.close();var d=i.mapValues(c.SandboxedFunctions,(function(e){return n[e]}));u.dispatch(r.SANDBOXED_FUNCTIONS_ADDED,{sandboxedFunctions:d}),t.parentNode.removeChild(t)}catch(e){l.warn("Unable to create a sandbox: ",e)}}}),(function(e,t,n){var i=n(2),r=n(23),a=n(93),o=n(16),s=o.get("stores/plugins"),c=n(7),u=n(25),l=n(9),d=!1,f=[n(106),n(107),n(127)],g=["clientMetadata","cookieDomain","disable","load","optOut","rum"];t.push=function(e,t){var n,a,o,s;if(!i.isArray(e)&&i.isObject(e))s=i.isUndefined(e.version)?1:e.version,n=e.type,o=[e];else if(i.isArray(e))s=0,n=e[0],o=e.slice(1);else{if(!i.isString(e))return r.warn("API / Ignoring non-array/object/string argument:",e),!1;s=0,n=e,o=[]}if(f[s]&&(a=f[s][n]),t&&g.indexOf(n)===-1)return r.debug("API / Ignoring non high priority function:",n,o),!1;if(!a)return r.warn('API / No function found for "'+n+'" (v'+s+") with arguments:",o),!1;r.log('API / Executing: "'+n,'" with arguments:',o);try{a.apply(null,o),l.dispatch(c.RECORD_API_USAGE,{methodName:s?"v"+s+"."+n:n})}catch(e){r.error(e)}return!0},t.get=function(e){if(d&&"state"!==e)return void r.warn('Module "'+e+'" not found.');r.log('API / Getting module: "'+e+'"');var t=a[e];return t?i.isArray(t)&&(t=o.evaluate(t)):t=s.getPlugin(u.PluginTypes.apiModules,e),t?(l.dispatch(c.RECORD_API_USAGE,{methodName:"get."+e}),t):void r.warn('Module "'+e+'" not found.')}}),(function(e,t,n){function i(e,t,n,i){var r=e.getLayerState(i),a=t.get(i),s=n.get();if(!r||!a)return s?{layer:{name:s.layerName,id:s.layerId,policy:s.layerPolicy,integrationStringVersion:s.integrationStringVersion},experiment:{name:s.experimentName,id:s.experimentId},variation:{name:s.variationName,id:s.variationId},isLayerHoldback:!1}:null;if(l.isSingleExperimentPolicy(a.policy)&&r.decision.isLayerHoldback)return null;var c=r.decision.experimentId,u=r.decision.variationId;if(!c||!u)return null;var d,f;return(d=o.find(a.experiments,{id:c}))?(f=o.find(d.variations,{id:u}),f?{layer:{name:a.name,id:a.id,policy:a.policy,integrationStringVersion:a.integrationStringVersion},experiment:{name:d.name,id:d.id},variation:{name:f.name,id:f.id},isLayerHoldback:r.decision.isLayerHoldback}:null):null}function r(e,t,n,i,r,s){var c=[],u=e.getLayerStates();s.onlySingleExperiments&&(u=o.filter(u,(function(e){var n=t.get(e.layerId);return n&&l.isSingleExperimentPolicy(n.policy)})));var f=o.map(u,(function(e){var t=!!e.decision.variationId,n=e.decisionActivationId&&e.decisionActivationId===i.getActivationId(),r=d.getExperimentAndVariation(),a=r?r.variationId:null,s=t&&e.decision.variationId===a;return o.extend(e,{isActive:t&&n||s,visitorRedirected:s})})),g=r?o.filter(f,r):f;return o.each(g,(function(e){var i=a(e,t,n,s.includeOfferConsistency);i&&c.push(i)})),c}function a(e,t,n,i){var r,a,s=e.layerId,c=t.get(s)||{},u=o.map(c.experiments,(function(e){return o.pick(e,["id","name"])}));if(i||!c.decisionMetadata||!c.decisionMetadata.offerConsistency){var l={id:s,campaignName:c.name||null,experiment:null,allExperiments:u,variation:null,reason:e.decision.reason,isActive:!!e.isActive,visitorRedirected:e.visitorRedirected,isInCampaignHoldback:e.decision.isLayerHoldback};e.decision&&e.decision.experimentId&&(r=o.find(c.experiments,{id:e.decision.experimentId})),r&&(l.experiment=o.pick(r,["id","name","campaignName"])),r&&e.decision.variationId&&(a=o.find(r.variations,{id:e.decision.variationId})),a&&(l.variation=o.pick(a,["id","name"]));var d=o.map(e.decisionTicket.audienceIds,(function(e){return o.pick(n.get(e),["id","name"])}));return l.audiences=d,
c.decisionMetadata&&c.decisionMetadata.offerConsistency&&(l.pageId=e.pageId),l}}var o=n(2),s=n(94),c=n(95),u=n(97),l=n(44),d=n(98);t.data=["stores/audience_data","stores/client_metadata","stores/event_data","stores/layer_data","stores/view_data","stores/group_data","stores/interest_group","stores/tag_group","stores/global",function(e,t,n,i,r,a,s,l,d){var f={},g={},p={},h={audiences:e.getAudiencesMap(),events:n.getEventsMap(),campaigns:f,pages:r.getPagesMap(),experiments:g,variations:p,projectId:d.getProjectId(),snippetId:d.getSnippetId(),accountId:d.getAccountId(),dcpServiceId:d.getDCPServiceId(),revision:d.getRevision(),clientName:t.getClientName(),clientVersion:t.getClientVersion()},_=u.dereferenceChangeId;return o.each(i.getAll(),(function(e){c.defineProperty(f,e.id,(function(){var t=o.extend({},e);return c.defineProperty(t,"changes",(function(){return o.map(e.changes,_)}),"campaign"),c.defineProperty(t,"experiments",(function(){return o.map(e.experiments,(function(e){return g[e.id]}))}),"campaign"),t}),"campaignMap","byId"),o.each(e.experiments,(function(e){c.defineProperty(g,e.id,(function(){var t=o.extend({},e);return c.defineProperty(t,"changes",(function(){return o.map(e.changes,_)}),"experiment"),c.defineProperty(t,"variations",(function(){return o.map(e.variations,(function(e){return p[e.id]}))}),"experiment"),t}),"experimentMap","byId"),o.each(e.variations,(function(e){c.defineProperty(p,e.id,(function(){var t=o.extend({},e);return c.defineProperty(t,"actions",(function(){return o.map(e.actions,(function(e){return o.extend({},e,{changes:o.map(e.changes,_)})}))}),"variation"),t}),"variationMap","byId")}))}))})),h}],t.visitor=["stores/visitor",function(e){return o.cloneDeep(e.getVisitorProfile())}],t.visitor_id=["stores/visitor_id",function(e){return{randomId:e.getRandomId()}}],t.state=["stores/audience_data","stores/layer_data","stores/layer","stores/view_data","stores/view","stores/global","stores/observed_redirect",function(e,t,n,a,c,u,f){return{getCampaignStates:function(i){var a={},s=r(n,t,e,u,i,{includeOfferConsistency:!1});return o.each(s,(function(e){a[e.id]=e})),a},getExperimentStates:function(i){var a=r(n,t,e,u,i,{includeOfferConsistency:!1,onlySingleExperiments:!0}),s=["audiences","variation","reason","visitorRedirected","isActive"],c=o.reduce(a,(function(e,t){var n=t.allExperiments[0];return e[n.id]=o.extend({},o.pick(t,s),{id:n.id,experimentName:n.name,isInExperimentHoldback:t.isInCampaignHoldback}),e}),{});return c},getCampaignStateLists:function(i){var a={},s=r(n,t,e,u,i,{includeOfferConsistency:!0});return o.each(s,(function(e){var t=e.id;a[t]||(a[t]=[]),a[t].push(e)})),a},getPageStates:function(e){var t=c.getAll(),n=o.reduce(t,(function(e,t){var n=a.get(t.id);return e[t.id]=o.extend({},o.pick(n,["id","name","apiName","category","staticConditions","tags"]),o.pick(t,["isActive","metadata"])),e[t.id].isActive=!!e[t.id].isActive,e}),{});return e?o.pickBy(n,e):n},isGlobalHoldback:function(){return u.isGlobalHoldback()},getActivationId:function(){return u.getActivationId()},getVariationMap:function(){var e=n.getLayerStates(),i={};return o.each(e,(function(e){var n=t.get(e.layerId);if(e.decision&&e.decision.experimentId&&(i[e.decision.experimentId]={id:e.decision.variationId,name:null,index:null},n)){var r=o.find(n.experiments,{id:e.decision.experimentId});if(r&&e.decision.variationId)var a=o.find(r.variations,{id:e.decision.variationId}),s=o.findIndex(r.variations,{id:e.decision.variationId});a&&(i[e.decision.experimentId]={id:e.decision.variationId,name:a.name,index:s})}})),i},getActiveExperimentIds:function(){var e={};return o.each(this.getCampaignStateLists({isActive:!0}),(function(t){o.each(t,(function(t){e[t.experiment.id]=!0}))})),o.keys(e)},getRedirectInfo:function(){var e=d.getExperimentAndVariation();return e&&(e.referrer=d.getReferrer()),e},getDecisionString:function(e){if(!e)throw new Error("Must pass a config to getDecisionString");e=o.extend({maxLength:255,shouldCleanString:!1},e);var r=i(n,t,f,e.campaignId);return r?s.generateAnalyticsString(r.layer,r.experiment,r.variation,r.isLayerHoldback,e.maxLength,e.shouldCleanString):null},getDecisionObject:function(e){if(!e)throw new Error("Must pass a config to getDecisionObject");e=o.extend({maxLength:255,shouldCleanString:!1},e);var r=i(n,t,f,e.campaignId);if(!r)return null;var a=s.formatNamesAndIdsForAnalytics(r.layer,r.experiment,r.variation,e.shouldCleanString),c=o.mapValues(a.names,(function(t,n){return s.combineAndTruncateIdAndName(t,a.idStrings[n],e.maxLength)})),u={experiment:c.experiment,variation:c.variation};return l.isSingleExperimentPolicy(r.layer.policy)||o.extend(u,{campaign:c.layer,holdback:r.isLayerHoldback}),u}}}],t.utils=n(99).create(),t.jquery=["env/jquery",function(e){return e}],t.event_emitter=n(105)}),(function(e,t,n){function i(e){return e.replace(/[^a-zA-Z0-9\.\~\!\*\(\)\']+/g,"_")}function r(e){return!c.isEmpty(e)&&c.includes(["and","or","not"],e[0])}function a(e,t){var n="";return c.isEmpty(t)?n=d:(n=c.reduce(t,(function(t,n){var r=e.get(n);return r?t+i(r.name?r.name:r.id)+",":t}),""),n=n.slice(0,-1)),n}function o(e,n,i,r,a,o){if(!_.isSingleExperimentPolicy(e.policy)||!r){var s=!_.isSingleExperimentPolicy(e.policy)&&r,u=t.formatNamesAndIdsForAnalytics(e,n,i,o),d=[u.names.experiment,u.names.variation],g=[u.idStrings.experiment,u.idStrings.variation];_.isSingleExperimentPolicy(e.policy)||(d.unshift(u.names.layer),g.unshift(u.idStrings.layer));var p=c.reduce(g,(function(e,t){return e+t.length}),0),h=d.length-1+(s?1:0),v=h*l.length,m=p+v;if(s&&(m+=f.length),m>a)throw new Error("The analytics string size is too low to send the entity IDs.");for(var E=a-m,I=d.length,y=[],S=d.length-1;S>=0;S--){var T=d[S],A=Math.min(T.length,Math.floor(E/I));E-=A,I--,y.unshift(T.substring(0,A))}var w=c.map(y,(function(e,t){return e+g[t]}));return s&&w.push(f),w.join(l)}}function s(e,n,i,r,a,o){var s=r?f:g,u=3*l.length,d=t.formatNamesAndIdsForAnalytics(e,n,i,o),p=d.names,h=d.idStrings,v=c.reduce(h,(function(e,t){return e+t.length}),0);if(v+u+s.length>a)throw new Error("The analytics string size is too low to send the campaign, experiment, and variation IDs.");var m=a-v-u-s.length,E={};E.variation=Math.min(p.variation.length,Math.floor(m/3)),m-=E.variation,E.experiment=Math.min(p.experiment.length,Math.floor(m/2)),m-=E.experiment,E.layer=m;var I={};c.each(p,(function(e,t){I[t]=e.substring(0,E[t])}));var y=[];return _.isSingleExperimentPolicy(e.policy)||y.push(I.layer+h.layer),y=y.concat([I.experiment+h.experiment,I.variation+h.variation,s]),y.join(l)}var c=n(2),u=n(16),l=":",d="everyone_else",f="holdback",g="treatment",p="",h=n(23),_=n(44),v=!1;t.formatNamesAndIdsForAnalytics=function(e,t,n,o){var s={layer:e.name||p,experiment:t.name||p,variation:n.name||p};o&&(s=c.mapValues(s,i));var l=v?1===e.integrationStringVersion:!e.integrationStringVersion||1===e.integrationStringVersion;if(s.experiment===p&&l)if(r(t.audienceIds))s.experiment="Exp";else{var d=u.get("stores/audience_data");s.experiment=a(d,t.audienceIds)}var f={layer:"("+i(e.id)+")",experiment:"("+i(t.id)+")",variation:"("+i(n.id)+")"};return{names:s,idStrings:f}},t.combineAndTruncateIdAndName=function(e,t,n){var i=n-t.length;if(i<0&&(h.warn("maxLength must be at least long enough to fit the entity ID, which is length"+t.length+". Defaulting to only use entity ID as name."),e=p),e===p)return t;if(e.length>i){var r=Math.min(e.length,i);return e=e.substring(0,r),e+t}return e+" "+t},t.generateAnalyticsString=function(e,t,n,i,r,a){return e.integrationStringVersion&&2===e.integrationStringVersion?o(e,t,n,i,r,a):s(e,t,n,i,r,a)}}),(function(e,t,n){var i=n(96),r=n(7),a=n(9),o=n(23);t.defineProperty=function(e,t,n,s,c){i(e,t,(function(){var e=["prop",s,c||t].join(".");return o.debug('Evaluating getter: "'+e+'"'),a.dispatch(r.RECORD_API_USAGE,{methodName:e}),n()}),!0)}}),(function(e,t){"use strict";function n(e,t,n,i){Object.defineProperty(e,t,{get:function(){var e=n.call(this);return Object.defineProperty(this,t,{value:e,enumerable:!!i,writable:!0}),e},set:function(e){return Object.defineProperty(this,t,{value:e,enumerable:!!i,writable:!0}),e},enumerable:!!i,configurable:!0})}e.exports=n}),(function(e,t,n){function i(e){var n=r.cloneDeep(e);return n.changes&&(n.changes=r.map(n.changes,t.dereferenceChangeId)),n.experiments&&r.each(n.experiments,(function(e){e.changes&&(e.changes=r.map(e.changes,t.dereferenceChangeId)),e.variations&&r.each(e.variations,(function(e){e.actions&&r.each(e.actions,(function(e){e.changes&&(e.changes=r.map(e.changes,t.dereferenceChangeId))}))}))})),n}var r=n(2),a=n(16),o=n(22),s=n(95),c=a.get("stores/change_data");t.translateDecisionToCampaignDecision=function(e){return u(r.cloneDeep(e),{layerId:"campaignId",isLayerHoldback:"isCampaignHoldback"})},t.translateLayerEventToCampaignEvent=function(e){var t={};return s.defineProperty(t,"campaign",(function(){var t=i(e.data.layer);return t}),"campaignEvent"),t.decisionTicket=e.data.decisionTicket,t.decision=this.translateDecisionToCampaignDecision(e.data.decision),t.audiences=e.data.audiences,{type:"lifecycle",name:"campaignDecided",data:t}},t.translateViewActivatedToPageActivated=function(e){return{type:"lifecycle",name:"pageActivated",data:{page:e.data.view}}},t.dereferenceChangeId=function(e){var t=c.getChange(e);return t?o.safeReference(t):e};var u=function(e,t){var n=r.omit(e,r.keys(t));return r.each(t,(function(t,i){n[t]=e[i]})),n}}),(function(e,t,n){var i=n(2),r=n(16),a=r.get("stores/observed_redirect");t.getReferrer=function(){var e=a.get();return e?e.referrer:null},t.getExperimentAndVariation=function(){var e=a.get();return e&&i.isString(e.variationId)?i.pick(e,["experimentId","variationId"]):null}}),(function(e,t,n){var i=n(12).Promise,r=n(100).observeSelector,a=n(101).poll,o=n(103).waitForElement,s=n(104).waitUntil;t.create=function(){return{observeSelector:r,poll:a,Promise:i,waitForElement:o,waitUntil:s}}}),(function(e,t,n){function i(){if(f.shouldObserveChangesIndefinitely()){var e={attributes:!0,childList:!0,subtree:!0,characterData:!0},t=g.getDocumentElement(),n=new MutationObserver(function(){this.disconnect(),l.each(l.keys(m),a),this.observe(t,e)});return function(i){var r=m[i];n.observe(t,e),r.cancelObservation=function(){delete m[i],l.isEmpty(m)&&n.disconnect()}}}return function(e){var t=h.poll(l.partial(a,e));m[e].cancelObservation=function(){t(),delete m[e]}}}function r(e){var t=m[e];t&&t.cancelObservation&&t.cancelObservation()}function a(e){if(m[e]){if(o(m[e]))return 0===m[e].matchedCount&&l.isFunction(m[e].options.onTimeout)&&m[e].options.onTimeout(),void r(e);var t=document.querySelectorAll(m[e].selector);t.length&&(l.each(t,(function(t){t.an&&t.an[e]||m[e].callbackQueue.push(t)})),s(e))}}function o(e){var t=e.options.timeout;if(null!==t)if("function"==typeof t)try{return t()}catch(e){}else if(Date.now()-e.startTime>t)return!0;return!1}function s(e){for(;m[e]&&m[e].callbackQueue.length;){var t=m[e].callbackQueue.shift();if(c(t,e),m[e].matchedCount=m[e].matchedCount+1,m[e].callback(t),m[e]&&m[e].options.once)return void r(e)}}function c(e,t){e.an||(e.an={}),e.an[t]=!0}function u(e){try{document.querySelector(e)}catch(e){return!1}return!0}var l=n(2),d=(n(7),n(16)),f=d.get("stores/directive"),g=n(79),p=(n(25),n(9),n(5).generate),h=n(101),_=n(40),v=(d.get("stores/rum"),{once:!1,onTimeout:null,timeout:null}),m={},E=function(e){(E=i())(e)};t.observeSelector=function(e,t,n){if(!u(e))throw new Error("observeSelector expects a valid css selector as its first argument");if(!l.isFunction(t))throw new Error("observeSelector expects a function as its second argument");if(n&&(!l.isObject(n)||l.isFunction(n)))throw new Error("observeSelector expects an object as its third argument");var i=p();return n=l.assign({},v,n||{}),m[i]={callback:t,callbackQueue:[],matchedCount:0,options:n,selector:e,startTime:Date.now()},E(i),_.setTimeout(l.bind(a,null,i),0),l.partial(r,i)}}),(function(e,t,n){function i(e){l[e]&&a.each(l[e].callbacks,(function(e){e.call(null)}))}function r(e,t){l[t]&&l[t].callbacks[e]&&(delete l[t].callbacks[e],a.some(l[t].callbacks)||(clearInterval(l[t].id),delete l[t]))}var a=n(2),o=(n(7),n(16)),s=(n(25),n(9),n(5).generate),c=n(40),u=n(102).DEFAULT_INTERVAL,l=(o.get("stores/rum"),{});t.poll=function(e,t){a.isNumber(t)||(t=u),l[t]||(l[t]={callbacks:{},id:c.setInterval(a.partial(i,t),t)});var n=s();return l[t].callbacks[n]=e,a.partial(r,n,t)},t.cancelAll=function(){a.each(l,(function(e,t){clearInterval(e.id),delete l[t]}))}}),(function(e,t){e.exports={DEFAULT_INTERVAL:20}}),(function(e,t,n){var i=n(12).Promise,r=n(100).observeSelector;t.waitForElement=function(e){return new i(function(t,n){r(e,t,{once:!0})})}}),(function(e,t,n){var i=n(12).Promise,r=n(101).poll;t.waitUntil=function(e){return new i(function(t,n){if(e())return void t();var i=r((function(){e()&&(i(),t())}))})}}),(function(e,t,n){var i=n(86);t.on=function(e){return e.publicOnly=!0,i.on(e)},t.off=i.off,t.emit=function(e){i.emit(e)}}),(function(e,t,n){function i(e){var t,n={};if(e)if(r(e))t=Number(e);else{if("object"!=typeof e)throw new Error("tracker","Revenue argument",e,"not a number.");if(n=a.extend({},e),"revenue"in n){if(!r(n["revenue"]))throw new Error("tracker","Revenue value",n["revenue"],"not a number.");t=Number(n["revenue"]),delete n["revenue"]}}return a.isUndefined(t)||(n.revenue=t),n}function r(e){return a.isNumber(e)||a.isString(e)&&Number(e)==e}var a=n(2),o=n(107);t.activateGeoDelayedExperiments=function(e,t){t||(t=e.lists?"odds":"cdn3"),o.dataFromSource({data:e,source:t})},t.activateSiteCatalyst=function(e){e&&e.sVariable&&o.integrationSettings({id:"adobe_analytics",settings:{sVariableReference:e.sVariable}})},t.bucketUser=t.bucketVisitor=function(e,t){if(e&&t){var n={experimentId:String(e)};t>256?n.variationId=String(t):n.variationIndex=String(t),o.bucketVisitor(n)}},t.disable=function(e){o.disable({scope:e})},t.log=function(e){a.isUndefined(e)&&(e=!0),o.log({level:e?"INFO":"OFF"})},t.optOut=function(e){a.isUndefined(e)&&(e=!0),o.optOut({isOptOut:e})},t.setCookieDomain=function(e){o.cookieDomain({cookieDomain:e})},t.setCookieExpiration=function(e){o.cookieExpiration({cookieExpirationDays:e})},t.setDimensionValue=function(e,t){var n={};n[e]=t,o.user({attributes:n})},t.setUserId=function(e){o.user({userId:e})},t.storeThirdPartyData=function(e,t){o.dataFromSource({source:e,data:t})},t.trackEvent=function(e,t){o.event({eventName:e,tags:i(t)})}}),(function(e,t,n){function i(e){var t;return e.eventId&&(t=I.create(e.eventId,e.eventName,"custom")),D.updateAllViewTags(),function(){var n=g.trackCustomEvent(e.eventName,e.tags,t);n?w.log("API / Tracking custom event:",e.eventName,e.tags):w.log("API / Not tracking custom event:",e.eventName)}}function r(e){var t;return e.eventData&&(t=I.create(e.eventData.id,e.eventData.apiName,"click",e.eventData)),function(){var e=g.trackClickEvent(t);e?w.log("API / Tracking click event:",e):w.log("API / Not tracking click event:",e)}}function a(e){var t=e.eventData,n=A.createLayerState(t.layerId,t.experimentId,t.variationId,t.isLayerHoldback),i=A.createSingle(t.layerId,t.experimentId,t.variationId);return function(){A.recordLayerDecision(n.layerId,n.decisionTicket,n.decision),w.log("API / Tracking decision event:",n),g.trackDecisionEvent(n.decision,n.decisionTicket,i)}}function o(e){var t=D.create(e.eventData.id,e.eventData.apiName),n=D.createState(t.id);return function(){var e=g.trackViewActivation(t,n);e?w.log("API / Tracking pageview event:",e):w.log("API / Not tracking pageview event:",e)}}var s=n(2),c=n(7),u=n(92),l=n(93),d=n(108),f=n(25),g=n(109),p=n(116),h=n(6),_=n(75).create,v=n(24),m=n(117),E=n(119),I=n(120),y=n(86),S=n(9),T=n(26),A=n(112),w=n(23),R=n(121),b=n(113),D=n(122),O=n(73),N=n(16),C=N.get("stores/dimension_data"),P=N.get("stores/view"),L=N.get("stores/view_data"),V=N.get("stores/visitor_id"),k=N.get("stores/layer_data"),x=N.get("stores/directive"),F=!1,M=!1,U=F||M,G=86400,B=90,z=t.ApiListenerError=_("ApiListenerError");t.event=function(e){var t;switch(e.eventType){case"click":t=r(e);break;case"decision":t=a(e);break;case"pageview":t=o(e);break;case"custom":default:t=i(e)}V.getBucketingId()?t():S.dispatch(c.ADD_CLEANUP_FN,{lifecycle:f.Lifecycle.postActivate,cleanupFn:t})},t.clientMetadata=function(e){U&&(S.dispatch(c.SET_CLIENT_NAME,e.clientName),S.dispatch(c.SET_CLIENT_VERSION,e.clientVersion)),F&&e.forceVariationIds&&S.dispatch(c.LOAD_DIRECTIVE,{forceVariationIds:e.forceVariationIds})},t.priorRedirectString=function(e){U&&b.load(e.value)},t.microsnippetError=function(e){if(U){var t=e.errorData.metadata&&e.errorData.metadata.err||{};t.name=e.errorData.code;var n={engine:e.engine,msVersion:e.errorData.msVersion,requestId:e.errorData.requestId,projectId:e.errorData.projectId,snippetKey:e.errorData.snippetKey,args:e.errorData.args};E.handleError(t,n)}},t.rum=function(e){S.dispatch(c.SET_RUM_DATA,e.eventData)},t.initialViewStates=function(e){var t=s.map(e.states,(function(e,t){return{id:t,isActive:e}}));D.registerViews(t)},t.page=function(e){var t=L.getByApiName(e.pageName);if(!t)throw new Error('Unknown page "'+e.pageName+'"');var n=!e.hasOwnProperty("isActive")||e.isActive,i=function(){n?D.activateViaAPI(t,e.tags):(D.deactivate(t),w.log("API / Deactivated Page",D.description(t)))};V.getBucketingId()?i():S.dispatch(c.ADD_CLEANUP_FN,{lifecycle:f.Lifecycle.postViewsActivated,cleanupFn:i})},t.tags=function(e){D.setGlobalTags(e.tags)},t.user=function(e){U&&e.visitorId&&(V.getBucketingId()?(w.log("API / Setting visitor Id:",e.visitorId),O.setId({randomId:e.visitorId})):(w.log("API / Setting visitor Id for activation:",e.visitorId),S.dispatch(c.SET_VISITOR_ID_VIA_API,e.visitorId))),F&&s.each(["IP","location","queryParams","url"],(function(t){e[t]&&(w.log("API / Setting",t,":",e[t]),j(t,e[t],!1))})),w.log("API / Setting visitor custom attributes:",e.attributes),s.each(e.attributes,(function(e,t){var n,i,r=t,a=C.getById(t)||C.getByApiName(t);a&&(r=a.id,n=a.apiName,i=a.segmentId||a.id);var o={id:i,value:e};n&&(o.name=n),j(r,o,!0)}))};var j=function(e,t,n){var i=[{key:n?["custom",e]:[e],value:t,metadata:{lastModified:v.now()}}],r=function(){S.dispatch(c.SET_VISITOR_ATTRIBUTES,{attributes:i})};V.getBucketingId()?r():S.dispatch(c.ADD_CLEANUP_FN,{lifecycle:f.Lifecycle.postVisitorProfileLoad,cleanupFn:r})};t.optOut=function(e){var t=!e.hasOwnProperty("isOptOut")||e.isOptOut;m.setOptOut(t)},t.cookieExpiration=function(e){var t=e.cookieExpirationDays;t<B&&(w.error('Argument "cookieExpirationDays"=',t,"less than minimum days:",B,", setting to minimum."),t=B),w.log("API / Setting cookie age to",t,"days."),S.dispatch(c.SET_COOKIE_AGE,t*G)},t.extendCookieLifetime=function(e){e=s.extend({isEnabled:!0},e),w.log("API / Setting cookie automatic lifetime extension to",e.isEnabled),S.dispatch(c.SET_COOKIE_AUTO_REFRESH,e.isEnabled)},t.cookieDomain=function(e){w.log("API / Setting cookie domain to",e.cookieDomain),S.dispatch(c.SET_COOKIE_DOMAIN,e.cookieDomain)},t.disable=function(e){if(e.scope){if("tracking"!==e.scope)throw new Error('Unknown "scope" for disable: '+e.scope);w.log("API / Disabling tracking"),S.dispatch(c.LOAD_DIRECTIVE,{trackingDisabled:!0})}else w.log("API / Disabling everything"),S.dispatch(c.LOAD_DIRECTIVE,{disabled:!0})},t.log=function(e){var t=e.level,n=e.match;s.isUndefined(t)&&(t="INFO"),s.isUndefined(n)&&(n=""),w.setLogMatcher(n),w.setLogLevel(t)},t.registerModule=function(e){var t="custom/"+e.moduleName;if(l[t]||u.get(t))throw new Error('Module name "'+t+'" is reserved. Will not be registered as plugin.');R.registerApiModule(t,e.module)},t.dataFromSource=function(e){var t=e.source;h.makeAsyncRequest(t),h.resolveRequest(t,e.data)},t.addListener=function(e){if(!s.isFunction(e.handler))throw new Error("A handler function must be supplied");e=s.omit(e,"type"),e.publicOnly=!0,e.emitErrors=!0;var t=e.handler;e.handler=function(e){try{return t(e)}catch(e){throw new z(e)}},y.on(e)},t.removeListener=function(e){if(!e.token)throw new Error("Must supply a token to removeListener");y.off(e.token)},t.load=function(e){e.data=s.extend({},e.data),d.normalizeClientData(e.data),S.dispatch(c.DATA_LOADED,{data:e.data})},t.integrationSettings=function(e){if(!e.id)throw new Error("id is required");if(!e.settings)throw new Error("settings is required");S.dispatch(c.SET_INTEGRATION_SETTINGS,s.extend({},e.settings,{id:e.id}))},t.bucketVisitor=function(e){if(!e.variationId&&s.isUndefined(e.variationIndex)||e.variationId&&e.variationIndex)throw new Error("One of a variationId or a variationIndex is required.");if(!e.experimentId)throw new Error("An experimentId is required.");var t,n,i=e.campaignId;if(i){if(t=k.get(i),!t)throw new Error("Could not find layer "+i)}else if(t=k.getLayerByExperimentId(e.experimentId),i=t.id,!i)throw new Error("Could not find layer for experiment "+e.experimentId);if(n=s.find(t.experiments,{id:e.experimentId}),!n)throw new Error("Could not find experiment "+e.experimentId+" in layer "+i);var r=e.variationId;if(s.isUndefined(e.variationIndex)){if(!s.find(n.variations,{id:r}))throw new Error("Cound not find variation "+r+" in experiment "+e.experimentId)}else if(r=n.variations[e.variationIndex].id,!r)throw new Error("Could not find variation at index "+e.variationIndex+" in experiment "+e.experimentId);O.updateVariationIdMap(i,e.experimentId,r),V.getBucketingId()&&O.persistVariationIdMap()},t.waitForOriginSync=function(e){if(!s.isArray(e.canonicalOrigins))throw new Error("canonicalOrigins must be an array. Got: "+T.stringify(e.canonicalOrigins));s.each(e.canonicalOrigins,(function(e){if(!s.isString(e))throw new Error("Each item in canonicalOrigins must be a string. Found type "+typeof e)})),S.dispatch(c.XDOMAIN_SET_CANONICAL_ORIGINS,{canonicalOrigins:e.canonicalOrigins})},t.disableCrossOrigin=function(){w.log("API / cross origin tracking is DISABLED"),S.dispatch(c.XDOMAIN_SET_DISABLED,{disabled:!0})},t.activate=function(){x.shouldActivate()&&!F?(s.forEach(P.getActiveViewStates(),(function(e){D.deactivate(L.get(e.id))})),S.dispatch(c.RESET_VIEW_STATES),p.emitActivateEvent()):w.debug("Not activating.")},t.sendEvents=function(){p.emitSendEvents()},t.holdEvents=function(){p.emitHoldEvents()}}),(function(e,t,n){var i=n(2),r=n(25);t.normalizeClientData=function(e){!e.listTargetingKeys&&e.listTargetingCookies&&(e.listTargetingKeys=i.map(e.listTargetingCookies,(function(e){return{type:r.ListTargetingKeyTypes.COOKIE,key:e}})),delete e.listTargetingCookies)}}),(function(e,t,n){function i(e,t,n){var i=u({activeViewStates:z.getActiveViewStates(),visitorProfile:W.getVisitorProfile(),layerStates:H.getLayerStatesForAnalytics()}),r=n&&n.pageId?d(n):z.getActiveViewTags(),a=v.extend({},r,t),o=n&&n.category?n.category:R.OTHER;return v.extend(i,{eventEntityId:n&&n.id,eventApiName:e,eventCategory:o,eventTags:a})}function r(e,t){var n=u({activeViewStates:z.getActiveViewStates(),visitorProfile:W.getVisitorProfile(),layerStates:H.getLayerStatesForAnalytics()});return v.extend(n,{pageId:e.id,pageApiName:e.apiName,viewCategory:e.category,eventTags:t.metadata})}function a(e){var t=u({activeViewStates:z.getActiveViewStates(),visitorProfile:W.getVisitorProfile(),layerStates:H.getLayerStatesForAnalytics()}),n=e.config&&e.config.selector?e.config.selector:e.eventFilter.selector,i=e.apiName,r=e.category||R.OTHER,a=e.id,o=d(e);return v.extend(t,{eventApiName:i,eventCategory:r,eventEntityId:a,eventTags:o,pageId:e.pageId,selector:n})}function o(){var e=u({activeViewStates:[],visitorProfile:W.getVisitorProfile(),layerStates:H.getLayerStatesForAnalytics()});return v.extend(e,{eventTags:{}})}function s(e,t,n,i){var r=null,a=null,o=null;if(t.experimentId){var s=v.find(i.experiments,{id:t.experimentId});if(s&&(r=s.name||null,o=s.integrationSettings,t.variationId)){var c=v.find(s.variations,{id:t.variationId});c&&(a=c.name||null)}}var u=V.getReferrer()||A.getReferrer(),l={sessionId:B.getSessionId(),decisionTicketAudienceIds:n.audienceIds,visitorId:$.getRandomId(),decisionId:e,activationId:G.getActivationId(),namespace:G.getNamespace(),timestamp:y.now(),pageId:n.pageId||null,variationId:t.variationId,variationName:a,experimentId:t.experimentId,experimentName:r,layerId:t.layerId,layerName:i.name,layerPolicy:i.policy,accountId:G.getAccountId(),projectId:G.getProjectId(),revision:String(G.getRevision()),clientName:U.getClientName(),clientVersion:U.getClientVersion(),referrer:u,integrationStringVersion:te?i.integrationStringVersion:i.integrationStringVersion||1,integrationSettings:v.extend({},i.integrationSettings,o)};return l}function c(e,t){var n=v.extend({},e,{isLayerHoldback:t,isGlobalHoldback:!1,clientName:v.isNull(e.clientName)?S.NAME:e.clientName,integrationStringVersion:te?e.integrationStringVersion:v.isNull(e.integrationStringVersion)?1:e.integrationStringVersion,anonymizeIP:v.isNull(G.getAnonymizeIP())?void 0:G.getAnonymizeIP(),activationId:G.getActivationId(),decisionTicketAudienceIds:[],sessionId:B.getSessionId(),activeViewStates:[],userFeatures:f(W.getVisitorProfile()),layerStates:H.getLayerStatesForAnalytics()});return n}function u(e){var t=V.getReferrer()||A.getReferrer(),n={eventId:M.generate(),timestamp:y.now(),revision:G.getRevision(),clientName:U.getClientName(),clientVersion:U.getClientVersion(),projectId:G.getProjectId(),accountId:G.getAccountId(),activationId:G.getActivationId(),sessionId:B.getSessionId(),isGlobalHoldback:G.isGlobalHoldback(),namespace:G.getNamespace(),referrer:t,visitorId:$.getRandomId(),activeViewStates:e.activeViewStates,layerStates:e.layerStates,userFeatures:f(e.visitorProfile)};return n}function l(e){var t=z.getViewState(e),n=t&&t.isActive?t.metadata:{};return n}function d(e){var t={};return e.pageId?l(e.pageId):t}function f(e){var t=j.getAllPlugins(w.PluginTypes.visitorProfileProviders),n=v.filter(t,{shouldTrack:!0}),i={id:null,type:null,name:"",value:null,shouldIndex:!0};return v.reduce(n,(function(t,n){try{var r=n.provides,a=e[r],o=[];if(!v.isUndefined(a)){v.isObject(a)?o=v.map(a,(function(e,t){var n=v.isObject(e)?e:{value:e};return v.extend({},{type:r,name:t},n)})):o.push({type:r,value:a});var s=v(o).map((function(e){return v.pick(v.extend({},i,e),v.keys(i))})).filter((function(e){return!!e.value})).value();t=t.concat(s)}}catch(e){P.warn("Error evaluating userFeature against visitorProfile:",e)}return t}),[])}function g(e,t,n){var i=p(e,n);P.debug("Found "+i.length+" analytics integrations defining a "+e+" hook"),P.debug("Calling each with data: ",t),v.each(i,(function(e){try{P.debug("Calling plugin: "+e.name),e.hookFn(t),P.debug("Called plugin: "+e.name)}catch(e){P.error(e)}}))}function p(e,t){var n=[];return v.each(j.getAllPlugins(w.PluginTypes.analyticsTrackers),(function(i,r){if(i[e]&&(!t||!i[t]))try{n.push({name:r,hookFn:T.evaluate(i[e])})}catch(e){P.error(e)}})),n}function h(e,t,n){var i=_(e,t);P.debug("Found "+i.length+" analytics integrations  defining a trackLayerDecision "+e+" timing of "+t.join("|")),P.debug("Calling each with data: ",n),v.each(i,(function(e){try{P.debug("Calling plugin: "+e.name),e.hookFn(n),P.debug("Called plugin: "+e.name)}catch(e){P.error(e)}}))}function _(e,t){var n=[];return v.each(j.getAllPlugins(w.PluginTypes.analyticsTrackers),(function(i,r){v.includes(t,i[e])&&n.push({name:r,hookFn:i.trackLayerDecision})})),n}var v=n(2),m=n(7),E=n(85),I=n(70),y=n(24),S=n(32),T=n(16),A=n(79),w=n(25),R=n(72),b=n(86),D=n(110),O=n(111),N=n(9),C=n(112),P=n(23),L=(n(82),n(12).Promise),V=n(98),k=n(113),x=n(115),F=n(114),M=n(5),U=T.get("stores/client_metadata"),G=T.get("stores/global"),B=T.get("stores/session"),z=T.get("stores/view"),j=T.get("stores/plugins"),H=T.get("stores/layer"),K=T.get("stores/layer_data"),Y=T.get("stores/observed_redirect"),q=T.get("stores/pending_redirect"),W=T.get("stores/visitor"),X=T.get("stores/directive"),Q=T.get("stores/event_data"),$=T.get("stores/visitor_id"),J="COOKIE",Z=!0,ee=1e3,te=!1;t.trackClientActivation=function(){if(X.shouldSendTrackingData()){var e=o();return g("onClientActivation",e),e}},t.trackCustomEvent=function(e,t,n){t=t||{},n||(n=Q.getByApiName(e));var r=i(e,t,n),a={name:e,type:O.CUSTOM,category:r.eventCategory,tags:v.omit(r.eventTags,"revenue")};if(v.isUndefined(t.revenue)||(a.revenue=t.revenue),E.emitAnalyticsEvent({name:n?n.name||n.apiName:e,apiName:n?n.apiName:void 0,type:O.CUSTOM,tags:v.omit(r.eventTags,"revenue"),category:r.eventCategory,metrics:a.revenue?{revenue:a.revenue}:{}},!X.shouldSendTrackingData()),X.shouldSendTrackingData())return I.addEvent(a),g("onCustomEvent",r),r},t.trackDecisionEvent=function(e,t,n){n||(n=K.get(e.layerId));var i=M.generate();N.dispatch(m.RECORD_LAYER_DECISION_EVENT_ID,{layerId:e.layerId,pageId:t.pageId,decisionId:i});var r=s(i,e,t,n),a=q.isExpectingRedirect(),o=q.getLayerId(),u=C.description(n);if(a&&o===n.id&&(k.persist(r,J),P.log("Relaying decision for redirect Campaign",u)),!X.shouldSendTrackingData())return void P.log("Analytics / Not tracking decision for Campaign",C.description(n));var l=c(r,e.isLayerHoldback);if(a&&o===n.id){var d=F.TrackLayerDecisionTimingFlags.preRedirectPolicy;l.timing=d,h(d,[F.PreRedirectPolicies.PERSIST_BEFORE_AND_TRACK_DURING_REDIRECT],l),P.log("Called trackLayerDecision for redirect Campaign",u,l)}else{var d=F.TrackLayerDecisionTimingFlags.nonRedirectPolicy;l.timing=d,h(d,[F.NonRedirectPolicies.TRACK_IMMEDIATELY],l),P.log("Called trackLayerDecision for non-redirect Campaign",u,l)}},t.trackPostRedirectDecisionEvent=function(){if(!X.shouldSendTrackingData())return L.resolve();if(Y.hasTracked())return L.resolve();var e=Y.get();if(!e)return L.resolve();var t=c(e,!1),n=F.TrackLayerDecisionTimingFlags.postRedirectPolicy;if(t.timing=n,h(n,[F.PostRedirectPolicies.TRACK_IMMEDIATELY],t),Z){var i=new L(function(e){var t=b.on({filter:{type:D.TYPES.LIFECYCLE,name:"originsSynced"},handler:function(){e(),b.off(t)}})}),r=x.makeTimeoutPromise(ee);return L.race([i,r]).then((function(){P.log("Calling trackers after successful sync")}),(function(e){P.warn("Calling trackers after failed sync:",e)})).then((function(){t=c(e,!1),t.timing=F.TrackLayerDecisionTimingFlags.postRedirectPolicy,h(F.TrackLayerDecisionTimingFlags.postRedirectPolicy,[F.PostRedirectPolicies.TRACK_AFTER_SYNC],t),N.dispatch(m.REGISTER_TRACKED_REDIRECT_DATA)}))["catch"]((function(e){P.error("Error when calling trackers after sync:",e)}))}return h(F.TrackLayerDecisionTimingFlags.postRedirectPolicy,[F.PostRedirectPolicies.TRACK_AFTER_SYNC],t),N.dispatch(m.REGISTER_TRACKED_REDIRECT_DATA),L.resolve()},t.trackClickEvent=function(e){var t=a(e),n={name:e.apiName,type:e.eventType,category:t.eventCategory,tags:t.eventTags};if(E.emitAnalyticsEvent({name:e.name||e.apiName,apiName:e?e.apiName:void 0,type:e.eventType,category:t.eventCategory,tags:t.eventTags,metrics:{}},!X.shouldSendTrackingData()),X.shouldSendTrackingData())return I.addEvent(n),g("onClickEvent",t),t},t.trackViewActivation=function(e,t){if(t||(t=z.getViewState(e.id)),!t.isActive)return void P.debug("Inactive view passed to `trackViewActivation`");var n=r(e,t);return E.emitAnalyticsEvent({name:e.name||n.pageApiName,apiName:n.pageApiName,type:O.PAGEVIEW,category:n.viewCategory,tags:n.eventTags,metrics:{}},!X.shouldSendTrackingData()),X.shouldSendTrackingData()?(I.addEvent({name:n.pageApiName,type:O.PAGEVIEW,category:n.viewCategory,tags:n.eventTags}),N.dispatch(m.TRACK_VIEW_ACTIVATED_EVENT,{pageId:e.id,eventData:n}),g("onPageActivated",n),n):void 0}}),(function(e,t){t.TYPES={ACTION:"action",ANALYTICS:"analytics",EDITOR:"editor",LIFECYCLE:"lifecycle"}}),(function(e,t){e.exports={CLICK:"click",CUSTOM:"custom",ENGAGEMENT:"engagement",PAGEVIEW:"pageview"}}),(function(e,t,n){var i=n(2),r=n(7),a=n(24),o=n(16),s=n(9),c=o.get("stores/global"),u=o.get("stores/session"),l=2e3;t.recordLayerDecision=function(e,t,n){return s.dispatch(r.RECORD_LAYER_DECISION,{layerId:e,decision:n,decisionTicket:t,sessionId:u.getSessionId(),activationId:c.getActivationId(),timestamp:a.now(),revision:c.getRevision(),namespace:c.getNamespace(),pageId:t.pageId}),n},t.relatedAudienceIds=function(e){var t={},n=["and","or","not"];return i.each(e.experiments,(function(e){i.each(i.flattenDeep(e.audienceIds),(function(e){i.includes(n,e)||(t[e]=!0)}))})),i.keys(t)},t.getActivationTimeout=function(e){var t=e.activation;
return t&&null!==t.timeout&&void 0!==t.timeout?t.timeout:l},t.description=function(e){return(e.name?'"'+e.name+'" ':"")+"("+e.id+")"},t.createSingle=function(e,t,n){var i={id:e,policy:"single_experiment",holdback:0,experiments:[{id:t||"",variations:[{id:n||"",actions:[]}]}],integrationStringVersion:1};return i},t.createLayerState=function(e,t,n,i){var r={layerId:e,decision:{layerId:e,experimentId:t,variationId:n,isLayerHoldback:i||!1},decisionTicket:{audienceIds:[]}};return r},t.getIntegrationTypes=function(e){return i.keys(i.reduce(i.keys(e.integrationSettings),(function(e,t){return i.isNaN(Number(t))||(t="custom"),e[t]=1,e}),{}))}}),(function(e,t,n){function i(e){try{var t=r(e)}catch(e){return v.error("Relay / Error computing redirect relay cookie: ",e),void g.emitError(e)}v.debug("Relay / Setting redirect relay cookie:",t);try{f.set(h.COOKIES.REDIRECT,t,{maxAge:5,encodeValue:!1})}catch(e){v.error("Relay / Failed to set redirect relay cookie",e),g.emitError(e)}}function r(e){var t=[],n=l.reduce(e,(function(e,n,i){var r=S[i];return r?(r.isMulti?l.forEach(n,(function(t,n){t=r.valueToValueString?r.valueToValueString(t,n):String(t),l.isNull(t)||(t=(r.encodeValueString||encodeURIComponent)(t),e.push(encodeURIComponent(r.relayName+I+n)+"="+t))})):l.isNull(n)||(n=(r.valueToValueString||String)(n),n=(r.encodeValueString||encodeURIComponent)(n),e.push(r.relayName+"="+n)),e):(t.push(i),e)}),[]);if(t.length)throw new Error("Relay / Don't know how to relay some fields:",t);return n.sort(),n.join("&")}function a(){var e=f.get(h.COOKIES.REDIRECT,!1);if(e)return v.log("Relay / Found redirect cookie:",e),e}function o(e){var t={},n=e.split("&");return l.forEach(n,(function(e){var n=e.split("=");if(2!==n.length)return void v.warn("Relay / Skipping invalid segment:",e);var i=f.safeDecodeURIComponent(n[0]),r=T[i];if(!r&&(r=l.find(y,(function(e){return e.isMulti&&0===i.indexOf(e.relayName+I)})),!r))return void v.warn("Relay / Skipping segment with unknown field identifier:",e,i);var a=n[1];try{if(r.isMulti){t[r.name]=t[r.name]||{};var o=i.substring(r.relayName.length+I.length);a=(r.decodeValueString||f.safeDecodeURIComponent)(a),a=(r.valueFromValueString||l.identity)(a,o),t[r.name][o]=a}else a=(r.decodeValueString||f.safeDecodeURIComponent)(a),a=(r.valueFromValueString||l.identity)(a),t[r.name]=a}catch(t){return v.warn("Relay / Skipping segment due to decode or parse error:",e,t),void g.emitError(t)}})),t}function s(e,t){var n=null;if(e){var i=E.getPlugin(h.PluginTypes.analyticsTrackers,t);if(i&&l.isFunction(i.serializeSettings))try{n=i.serializeSettings(e)}catch(e){v.warn("Analytics / Failed to persist integrationSettings for plugin:",t,e)}}return n}function c(e,t){var n=null,i=E.getPlugin(h.PluginTypes.analyticsTrackers,t);if(i&&l.isFunction(i.deserializeSettings))try{n=i.deserializeSettings(e)}catch(e){v.warn("Analytics / Failed to persist integrationSettings for plugin:",t,e)}return n}function u(e){var t=e.pageId||void 0;_.dispatch(d.RECORD_LAYER_DECISION,{layerId:e.layerId,decision:{layerId:e.layerId,experimentId:e.experimentId,variationId:e.variationId,isLayerHoldback:!1},decisionTicket:{audienceIds:e.decisionTicketAudienceIds,bucketingId:e.visitorId,globalHoldback:0,preferredVariationMap:void 0,pageId:t,activationId:e.activationId},sessionId:e.sessionId,activationId:e.activationId,timestamp:e.timestamp,revision:e.revision,namespace:e.namespace,pageId:t}),_.dispatch(d.RECORD_LAYER_DECISION_EVENT_ID,{layerId:e.layerId,pageId:t,decisionId:e.decisionId}),_.dispatch(d.ACTION_EXECUTED,{sessionId:e.sessionId,layerId:e.layerId,pageId:e.pageId,timestamp:e.timestamp,activationId:e.activationId})}var l=n(2),d=n(7),f=n(74),g=n(85),p=n(16),h=n(25),_=n(9),v=n(23),m=n(114),E=p.get("stores/plugins"),I=".",y=[{name:"sessionId",relayName:"s"},{name:"decisionTicketAudienceIds",relayName:"as",valueToValueString:function(e){return l.map(e,encodeURIComponent).join(",")},encodeValueString:l.identity,decodeValueString:l.identity,valueFromValueString:function(e){return l.map(e.split(","),f.safeDecodeURIComponent)}},{name:"decisionId",relayName:"d"},{name:"activationId",relayName:"aId"},{name:"pageId",relayName:"vId",isNullable:!0},{name:"variationId",relayName:"v",isNullable:!0},{name:"referrer",relayName:"r"},{name:"timestamp",relayName:"t",valueFromValueString:Number},{name:"visitorId",relayName:"i"},{name:"projectId",relayName:"p"},{name:"revision",relayName:"n"},{name:"clientName",relayName:"cN",isNullable:!0},{name:"clientVersion",relayName:"cV"},{name:"namespace",relayName:"ns"},{name:"accountId",relayName:"a"},{name:"layerId",relayName:"l"},{name:"layerName",relayName:"lN",isNullable:!0},{name:"layerPolicy",relayName:"lP"},{name:"experimentId",relayName:"x",isNullable:!0},{name:"experimentName",relayName:"xN",isNullable:!0},{name:"variationName",relayName:"vN",isNullable:!0},{name:"integrationStringVersion",relayName:"isv",valueFromValueString:Number,isNullable:!0},{name:"integrationSettings",relayName:"iS",isMulti:!0,valueToValueString:s,valueFromValueString:c,isNullable:!0}],S={},T={};l.forEach(y,(function(e){S[e.name]=e,T[e.relayName]=e})),t.persist=function(e,t){t===m.RedirectRelayMedia.COOKIE?i(e):v.error("Relay / Unsupported redirect relay medium: "+t)},t.load=function(e){if(e||(e=a()),e){var t=o(e);if(t){var n=[];return l.forEach(y,(function(e){(l.isNull(t[e.name])||l.isUndefined(t[e.name]))&&(e.isNullable?t[e.name]=null:(delete t[e.name],n.push(e.name)))})),n.length?void v.error("Relay / Observed redirect data with missing fields:",n):(_.dispatch(d.LOAD_REDIRECT_DATA,t),_.dispatch(d.ADD_CLEANUP_FN,{lifecycle:h.Lifecycle.postVisitorProfileLoad,cleanupFn:function(){u(t)}}),t)}}}}),(function(e,t,n){var i=n(8);t.TrackLayerDecisionTimingFlags=i({preRedirectPolicy:null,postRedirectPolicy:null,nonRedirectPolicy:null}),t.PreRedirectPolicies=i({PERSIST_BEFORE_AND_TRACK_DURING_REDIRECT:null,PERSIST_BEFORE_REDIRECT:null}),t.PostRedirectPolicies=i({TRACK_IMMEDIATELY:null,TRACK_AFTER_SYNC:null}),t.NonRedirectPolicies=i({TRACK_IMMEDIATELY:null}),t.RedirectRelayMedia=i({COOKIE:null})}),(function(e,t,n){var i=n(12).Promise,r=n(40);t.makeTimeoutPromise=function(e){return new i(function(t,n){r.setTimeout((function(){n(new Error("Timed out after "+e+" ms"))}),e)})}}),(function(e,t,n){function i(e){var t=["type","selector","attributes","value"],n=r.extend({},e);return n.changeSet=r.map(e.changeSet,(function(e){return r.pick(l.dereferenceChangeId(e),t)})),n}var r=n(2),a=n(16),o=a.get("stores/audience_data"),s=n(86),c=n(110),u=n(95),l=n(97);t.emitLayerDecided=function(e){var t=e.decisionTicket?e.decisionTicket.audienceIds:[],n=r.map(t,(function(e){return{id:e,name:o.get(e).name}})),i={type:c.TYPES.LIFECYCLE,name:"layerDecided",data:r.extend(e,{audiences:n})},a=l.translateLayerEventToCampaignEvent(i);s.emit(i),s.emit(a)},t.emitViewActivated=function(e){var t={type:c.TYPES.LIFECYCLE,name:"viewActivated",data:e},n=l.translateViewActivatedToPageActivated(t);s.emit(t),s.emit(n)},t.emitViewsActivated=function(e){var t={type:c.TYPES.LIFECYCLE,name:"viewsActivated",data:e};s.emit(t)},t.emitPageDeactivated=function(e){var t={type:c.TYPES.LIFECYCLE,name:"pageDeactivated",data:e};s.emit(t)},t.emitActivateEvent=function(){s.emit({type:c.TYPES.LIFECYCLE,name:"activate"},!0)},t.emitActivatedEvent=function(){s.emit({type:c.TYPES.LIFECYCLE,name:"activated"})},t.emitInitializedEvent=function(){var e={type:c.TYPES.LIFECYCLE,name:"initialized"};window.optimizely&&(window.optimizely.initialized=!0),s.emit(e)},t.emitOriginsSyncedEvent=function(){var e={type:c.TYPES.LIFECYCLE,name:"originsSynced"};s.emit(e)},t.emitActionAppliedEvent=function(e){var t={type:e.type,campaignId:e.layerId,pageId:e.pageId,experimentId:e.experimentId,variationId:e.variationId};u.defineProperty(t,"changes",(function(){return i(e).changeSet}),"actionAppliedEvent");var n={type:c.TYPES.ACTION,name:"applied",data:t};s.emit(n)},t.emitActionsForDecisionAppliedEvent=function(e,t){var n={decision:e};u.defineProperty(n,"actions",(function(){return r.map(t,i)}),"appliedAllForDecisionEvent");var a={type:c.TYPES.ACTION,name:"appliedAllForDecision",data:n};s.emit(a)},t.emitSendEvents=function(){var e={type:c.TYPES.ANALYTICS,name:"sendEvents"};s.emit(e)},t.emitHoldEvents=function(){var e={type:c.TYPES.ANALYTICS,name:"holdEvents"};s.emit(e)}}),(function(e,t,n){function i(){var e=Boolean(E.result(window.optimizely,"initialized"));w.dispatch(I.LOAD_DIRECTIVE,{alreadyInitialized:e})}function r(){w.dispatch(I.LOAD_DIRECTIVE,{mutationObserverAPISupported:N.isMutationObserverAPISupported()})}function a(){var e=N.getUserAgent()||"";if(!E.isString(e))return void R.warn("Directive / userAgent not a string");e=e.toLowerCase();var t=["googlebot","yahoo! slurp","bingbot","bingpreview","msnbot","keynote","ktxn","khte","gomezagent","alertsite","yottaamonitor","pingdom.com_bot","aihitbot","baiduspider","adsbot-google","mediapartners-google","applebot","catchpoint","phantomjs","moatbot","facebookexternalhit"],n=function(t){if(E.includes(e,t))return R.warn("Directive / Matches bot:",t),!0};E.some(t,n)&&(R.log("Directive / Disabling tracking"),w.dispatch(I.LOAD_DIRECTIVE,{trackingDisabled:!0}))}function o(){var e=S.get(A.COOKIES.OPT_OUT),t=D.getQueryParamValue(C.OPT_OUT),n="You have successfully opted out of Optimizely for this domain.",i="You are NOT opted out of Optimizely for this domain.",r="true"===t||"false"===t;if(r){var a="true"===t;w.dispatch(I.LOAD_DIRECTIVE,{shouldOptOut:a}),N.alert(a?n:i)}else e&&w.dispatch(I.LOAD_DIRECTIVE,{shouldOptOut:"true"===e})}function s(){var e=!1,t=[C.AB_PREVIEW,C.DISABLE];t.push(C.EDITOR);for(var n=0;n<t.length;n++)if("true"===D.getQueryParamValue(t[n])){R.warn("Directive / Not activating because "+t[n]+" is set."),e=!0;break}w.dispatch(I.LOAD_DIRECTIVE,{disabled:e})}function c(){w.dispatch(I.LOAD_DIRECTIVE,{isPreview:!1})}function u(){var e=D.getQueryParamValue(C.LEGACY_PREVIEW);e&&R.log("Directive / Is legacy preview mode"),w.dispatch(I.LOAD_DIRECTIVE,{isLegacyPreview:!!e})}function l(){w.dispatch(I.LOAD_DIRECTIVE,{isEditor:!1})}function d(){w.dispatch(I.LOAD_DIRECTIVE,{isSlave:!1})}function f(){var e=N.getGlobal("optlyDesktop"),t=!(!e||E.isUndefined(e["p13nInner"]));t&&R.log("Directive / Is running in desktop app editor"),w.dispatch(I.LOAD_DIRECTIVE,{isRunningInDesktopApp:t})}function g(){var e="true"===D.getQueryParamValue(C.EDITOR_V2);e&&R.log("Directive / Is running in editor"),w.dispatch(I.LOAD_DIRECTIVE,{isRunningInV2Editor:e})}function p(){var e=S.get(A.COOKIES.TOKEN)||null,t=D.getQueryParamValue(C.TOKEN)||e;w.dispatch(I.LOAD_DIRECTIVE,{projectToken:t})}function h(){var e=S.get(A.COOKIES.PREVIEW),t=[],n=D.getQueryParamValue(C.FORCE_AUDIENCES);if(n)t=S.safeDecodeURIComponent(n).split(",");else if(e)try{var i=O.parse(e);t=i.forceAudienceIds}catch(t){var r=new b("Failed to parse previewCookie in registerForceAudienceIds: "+e),a={originalMessage:t.message,userError:!0};y.emitError(r,a)}t.length&&(R.log("Directive / Force Audience IDs:",t),w.dispatch(I.LOAD_DIRECTIVE,{forceAudienceIds:t}))}function _(){var e=S.get(A.COOKIES.PREVIEW),t=[],n=D.getQueryParamValue(C.FORCE_VARIATIONS);if(n)t=S.safeDecodeURIComponent(n).split(",");else if(e)try{var i=O.parse(e);t=i.forceVariationIds}catch(t){var r=new b("Failed to parse previewCookie in registerForceVariationIds: "+e),a={originalMessage:t.message,userError:!0};y.emitError(r,a)}t.length&&(R.log("Directive / Force Variation IDs:",t),w.dispatch(I.LOAD_DIRECTIVE,{forceVariationIds:t}))}function v(){var e=D.getQueryParamValue(C.FORCE_TRACKING);e&&w.dispatch(I.LOAD_DIRECTIVE,{forceTracking:e})}function m(){var e="OFF",t=D.getQueryParamValue("optimizely_log");if(t){var n=t.split(":");""!==n[0]&&(e=String(n[0]).toUpperCase()),"undefined"!=typeof n[1]&&R.setLogMatch(n[1])}R.setLogLevel(e)}var E=n(2),I=n(7),y=n(85),S=n(74),T=n(75).create,A=n(25),w=n(9),R=n(23),b=t.JSONParseError=T("JSONParseError"),D=n(118),O=n(26),N=n(40),C={AB_PREVIEW:"optimizely_show_preview",DISABLE:"optimizely_disable",EDITOR:"optimizely_editor",EDITOR_V2:"optimizely_p13n",FORCE_AUDIENCES:"optimizely_x_audiences",FORCE_VARIATIONS:"optimizely_x",LEGACY_PREVIEW:"optimizely_show_preview",OPT_OUT:"optimizely_opt_out",PREVIEW_LAYER_IDS:"optimizely_preview_layer_ids",TOKEN:"optimizely_token",FORCE_TRACKING:"optimizely_force_tracking"};t.populateDirectiveData=function(){m(),a(),i(),r(),o(),s(),l(),c(),u(),d(),f(),g(),p(),h(),_(),v()};var P=31536e3;t.setOptOut=function(e){e?(R.warn("Directive / Opting out"),S.set(A.COOKIES.OPT_OUT,"true",{maxAge:10*P},!0)):S.remove(A.COOKIES.OPT_OUT),w.dispatch(I.LOAD_DIRECTIVE,{shouldOptOut:e})}}),(function(e,t,n){var i=n(83),r=n(40);t.getLanguage=function(){return r.getNavigatorLanguage()},t.getQueryParams=i.getQueryParams,t.getQueryParamValue=i.getQueryParamValue,t.getUrl=function(){return r.getHref()}}),(function(e,t,n){function i(e){return e&&e.engine?e.engine:_?"edge-tracking":h?"edge-helper":f.getClientName()}var r=n(2),a=n(75).BaseError,o=n(24),s=n(16),c=n(79),u=n(23),l=n(40),d=n(90),f=s.get("stores/client_metadata"),g=s.get("stores/global"),p="https://errors.client.optimizely.com",h=!1,_=!1;t.handleError=function(e,t){function n(){return d.request({url:p+"/log",method:"POST",data:v,contentType:"application/json"}).then((function(e){u.log("Error Monitor / Logged error with response: ",e)}),(function(e){u.error("Failed to log error, response was: ",e)}))}var s=e.name||"Error",h=e.message||"",_=e.stack||null;e instanceof a&&(h instanceof Error?(h=h.message,_=e.message.stack):_=null);var v={timestamp:o.now(),clientEngine:i(t),clientVersion:f.getClientVersion(),accountId:g.getAccountId(),projectId:g.getProjectId(),errorClass:s,message:h,stacktrace:_},m=r.map(g.getExperimental(),(function(e,t){return{key:"exp_"+t,value:String(e)}}));t&&r.forEach(t,(function(e,t){r.isObject(e)||m.push({key:t,value:String(e)})}),[]),r.isEmpty(m)||(v.metadata=m),u.error("Logging error",v),c.isLoaded()?n():l.addEventListener("load",n)}}),(function(e,t,n){var i=n(2);t.create=function(e,t,n,r){var a=i.extend({category:"other"},r,{id:e,apiName:t,eventType:n});return a}}),(function(e,t,n){var i=n(2),r=n(7),a=n(16),o=n(25),s=n(86),c=n(9);t.registerApiModule=function(e,t){i.isArray(t)&&(t=a.evaluate(t)),c.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.apiModules,name:e,plugin:t})},t.registerDependency=function(e,t){var n=a.get(e);n||a.register(e,t)},t.registerVisitorProfileProvider=function(e){c.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.visitorProfileProviders,name:e.provides,plugin:e})},t.registerViewProvider=function(e){c.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.viewProviders,name:e.provides,plugin:e})},t.registerAudienceMatcher=function(e,t){c.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.audienceMatchers,name:e,plugin:t})},t.registerViewMatcher=function(e,t){c.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.viewMatchers,name:e,plugin:t})},t.registerAnalyticsTracker=function(e,t){c.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.analyticsTrackers,name:e,plugin:t})},t.registerViewTagLocator=function(e,t){c.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.viewTagLocators,name:e,plugin:t})},t.registerAudiencePlugin=function(e){e.dependencies&&i.each(e.dependencies,(function(e,n){t.registerDependency(n,e)}));var n,r="vendor."+e.vendor;n=i.isString(e.provider)?a.get(e.provider)(e.vendor):i.isFunction(e.provider)?e.provider(e.vendor):i.cloneDeep(e.provider),t.registerVisitorProfileProvider(i.extend(n,{provides:r}));var o;o=i.isString(e.matcher)?a.get(e.matcher):e.matcher;var s={fieldsNeeded:[r],match:function(e,t){return o(e[r],t)}};t.registerAudienceMatcher(r,s)},t.registerWidget=function(e){i.isArray(e)&&(e=a.evaluate(e));var t=s.on({filter:{type:"showWidget",name:e.widgetId},handler:e.showFn}),n=s.on({filter:{type:"hideWidget",name:e.widgetId},handler:e.hideFn});return{showToken:t,hideToken:n}},t.registerChangeApplier=function(e,t){c.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.changeAppliers,name:e,plugin:t})},t.registerDecider=function(e,t){c.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.deciders,name:e,plugin:t})},t.registerEventImplementation=function(e,t){c.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.eventImplementations,name:e,plugin:t})},t.registerViewTrigger=function(e,t){c.dispatch(r.REGISTER_PLUGIN,{type:o.PluginTypes.viewTriggers,name:e,plugin:t})}}),(function(e,t,n){function i(e,t){r.forEach(e,(function(e){if(e.eventType!==d.CUSTOM){var n=_.getPlugin(l.PluginTypes.eventImplementations,e.eventType);n?t?n.attach(e):n.detach(e):g.warn("No implementation found for event type:",e.eventType,"needed for event:",e)}}))}var r=n(2),a=n(7),o=n(116),s=n(123),c=n(24),u=n(16),l=n(25),d=n(111),f=n(9),g=n(23),p=n(124),h=u.get("stores/event_data"),_=u.get("stores/plugins"),v=u.get("stores/rum"),m=u.get("stores/view"),E=u.get("stores/view_data");t.parseViewTags=function(e){var n=t.evaluateViewTags(e);t.setParsedViewTags(e.id,n)},t.updateAllViewTags=function(){var e=m.getActiveViewStates();r.each(e,(function(e){var n=E.get(e.id);t.parseViewTags(n)}))},t.evaluateViewTags=function(e){if(!e.tags)return{};var t=r.reduce(e.tags,(function(e,t){try{e[t.apiName]=p.getTagValue(t)}catch(e){e instanceof p.Error?g.warn("Page / Ignoring unparseable tag",t,e):g.error(e)}return e}),{});return t},t.createViewTicket=function(){var e={};return r.each(_.getAllPlugins(l.PluginTypes.viewProviders),(function(t){e[t.provides]=u.evaluate(t.getter)})),e},t.registerViews=function(e){f.dispatch(a.REGISTER_VIEWS,{views:e})},t.activateViaAPI=function(e,n){n&&t.setUserSuppliedViewTags(e.id,n),t.activateMultiple([e],n)},t.getViewsAndActivate=function(e){var n=E.getAllViewsForActivationType(e);t.activateMultiple(n)},t.activateMultiple=function(e,n){var s=[];return r.each(e,(function(e){var c,u=m.getViewState(e.id),d=t.createViewTicket();if(u.isActive)if(e.deactivationEnabled)try{t.hasValidStaticConditions(e,d)||t.deactivate(e)}catch(n){g.error("Page / Error evaluating whether to deactivate page ",t.description(e),n)}else g.log("Not activating Page, already active ",t.description(e));else{try{if(c=t.hasValidStaticConditions(e,d),!c)return r.isBoolean(u.isActive)||t.setViewActiveState(e,!1),void g.log("Page / Failed to match page conditions for "+t.description(e),e.staticConditions)}catch(n){return r.isBoolean(u.isActive)||t.setViewActiveState(e,!1),void g.error("Page / Error evaluating whether to activate page ",t.description(e),n)}if(s.push(e),t.setViewActiveState(e,!0),g.log("Activated Page",t.description(e)),o.emitViewActivated({view:e,metadata:n}),v.getSampleRum()){var p=e.activationType||l.ViewActivationTypes.immediate;f.dispatch(a.RECORD_ACTIVATION_TYPE_USAGE,{activationType:p,entityId:e.id})}var _=h.getByPageId(e.id);i(_,!0)}})),r.isEmpty(s)||o.emitViewsActivated({views:s}),s},t.deactivate=function(e){var n=m.getViewState(e.id);if(!n.isActive)return void g.log("Not deactivating Page, already inactive ",t.description(e));t.setViewActiveState(e,!1),g.log("Deactivated Page",t.description(e)),o.emitPageDeactivated({page:e});var r=h.getByPageId(e.id);i(r,!1)},t.setViewActiveState=function(e,t){f.dispatch(a.SET_VIEW_ACTIVE_STATE,{view:e,timestamp:c.now(),isActive:t})},t.setGlobalTags=function(e){f.dispatch(a.SET_GLOBAL_TAGS,e)},t.setParsedViewTags=function(e,t){f.dispatch(a.UPDATE_PARSED_VIEW_METADATA,{pageId:e,metadata:t})},t.setUserSuppliedViewTags=function(e,t){f.dispatch(a.UPDATE_USER_SUPPLIED_METADATA,{pageId:e,metadata:t})},t.hasValidStaticConditions=function(e,t){var n={};if(r.isEmpty(e.staticConditions))return!0;var i=_.getAllPlugins(l.PluginTypes.viewMatchers);g.groupCollapsed("Page / Evaluating staticConditions:",e.staticConditions),g.debug("Matching to current value:",t);var o=s.evaluate(e.staticConditions,(function(e){var r=e.type,a=i[r];if(!a)throw new Error("Page / No matcher found for type="+r);return a&&(n[e.type]||(n[e.type]=!0)),a.match(t,e)}));return g.groupEnd(),v.getSampleRum()&&o&&f.dispatch(a.RECORD_VIEW_FEATURE_USAGE,{featuresUsed:r.keys(n),entityId:e.id}),o},t.description=function(e){return'"'+e.name+'" ('+e.id+")"},t.isActivationTypeImmediate=function(e){return e===l.ViewActivationTypes.immediate||!e},t.shouldTriggerImmediately=function(e){return e===l.ViewActivationTypes.DOMChanged||e===l.ViewActivationTypes.URLChanged||e===l.ViewActivationTypes.immediate||!e},t.create=function(e,t){var n={id:e,apiName:t,category:"other"};return n},t.createState=function(e){var t={id:e,isActive:!0,metadata:{},parsedMetadata:{},userSuppliedMetadata:{}};return t}}),(function(e,t,n){function i(e,t){for(var n,i,r=0;r<e.length;r++){if(n=o(e[r],t),n===!1)return!1;s.isUndefined(n)&&(i=!0)}if(!i)return!0}function r(e,t){for(var n,i=!1,r=0;r<e.length;r++){if(n=o(e[r],t),n===!0)return!0;s.isUndefined(n)&&(i=!0)}if(!i)return!1}function a(e,t){if(1!==e.length)return!1;var n=o(e[0],t);return s.isUndefined(n)?void 0:!n}function o(e,t){var n;if(s.isArray(e)){var i,r;e[0]in d?(i=e[0],r=e.slice(1)):(i=l.OR,r=e),u.groupCollapsed('Condition / Applying operator "'+i+'" with args',c.stringify(r));try{n=d[i](r,t),u.debug("Condition / Result:",n)}finally{u.groupEnd()}return n}return n=t(e),u.debug("Condition / Evaluated:",c.stringify(e),":",n),n}var s=n(2),c=n(26),u=n(23),l={AND:"and",OR:"or",NOT:"not"},d={};d[l.AND]=i,d[l.OR]=r,d[l.NOT]=a,e.exports={evaluate:o}}),(function(e,t,n){var i=n(25).PluginTypes,r=n(16),a=r.get("stores/plugins");t.getTagValue=function(e){var n=a.getPlugin(i.viewTagLocators,e.locatorType);if(!n)throw new t.Error("No locator registered for tag locatorType: "+e.locatorType);return n(e)},t.enums=n(125),t.Error=n(126).Error}),(function(e,t){t.locatorType={CSS_SELECTOR:"css_selector",JAVASCRIPT:"javascript",URL_REGEX:"url_regex"},t.valueType={STRING:"string",NUMBER:"number",CURRENCY:"currency"},t.nodeNames={INPUT:"INPUT",SELECT:"SELECT"}}),(function(e,t,n){var i=n(75).create;t.Error=i("TagError")}),(function(e,t){}),(function(e,t,n){var i=n(16);i.register("env/jquery",n(129))}),(function(e,t,n){var i,r=n(40);try{i=$}catch(e){}var a=r.getGlobal("$");i&&i!==a?e.exports=i:e.exports=a}),(function(e,t,n){var i=n(23),r=n(40),a="optimizelyDataApi";t.registerFunction=function(e,t){var n=r.getGlobal(a);n||(n={},r.setGlobal(a,n)),n[e]||(n[e]=t)},t.unregisterFunction=function(e){var t=r.getGlobal(a);t&&t[e]&&(t[e]=function(){i.log('Ignoring attempt to call "'+a+"."+e+'" which has been unregistered.')})},t.getFunction=function(e){return r.getGlobal(a)[e]}}),(function(e,t,n){var i=n(79),r=n(23),a=n(90);t.addScriptAsync=function(e,t){var n=i.querySelector("head"),a=i.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,t&&(a.onload=t),n.insertBefore(a,n.firstChild),r.debug("Asynchronously requesting "+e)},t.addScriptSync=function(e,n){try{var o="optimizely_synchronous_script_"+Math.floor(1e5*Math.random());if(e.indexOf('"')!==-1)return void r.error("Blocked attempt to load unsafe script: "+e);i.write('<script id="'+o+'" src="'+e+'"></script>');var s=i.querySelector("#"+o);if(!s)throw new Error("Document.write failed to append script");s.onload=n,s.onerror=function(i){r.warn("Failed to load script ("+e+") synchronously:",i),t.addScriptAsync(e,n)}}catch(i){r.debug("Document.write failed for "+e+": "+i.message);var c=function(e){var t=new Function(e.responseText);t(),n&&n()};return a.request({url:e,async:!1,contentType:"text/plain",success:c})["catch"]((function(i){r.error("Failed to load "+e+" via synchronous XHR: "+i.message),t.addScriptAsync(e,n)}))}}}),(function(e,t,n){function i(){var e=null;w.isNumber(e)&&0===ge.getCount()?(W.log("Activating after delay of",e,"ms because no Experiments are running"),K.dispatch(N.SET_RUM_DATA,{data:{activateDfd:!0}}),oe.setTimeout(P.emitActivateEvent,e)):P.emitActivateEvent()}function r(e){we.handleError(e.data.error,e.data.metadata)}function a(){w.isArray(window.optimizely)&&(window.optimizely=w.filter(window.optimizely,(function(e){var t=!0;return!Ae.push(e,t)})))}function o(){var e=n(84),i=!!ae.getCurrentId(),r=!!i&&ae.hasSomeData();i?r?W.log("xd / Existing visitor; has data on this origin"):W.log("xd / Existing visitor; new to this origin"):W.log("xd / New visitor");var a=fe.getAccountId(),o="https://a11000223989.cdn.optimizely.com".replace("__SUBDOMAIN__","a"+a+"."),c="/client_storage/a"+a+".html";e.subscribe((function(e,t){ae.checkKeyForVisitorId(e)&&q.setItem(e,t)}));var u=e.fetchAll().then((function(t){if(!ye.getVisitorIdLocator()){var n=Te.getCanonicalOrigins();if(n){var i=e.getXDomainUserId(t,n);i&&(W.log("Syncing cross-origin visitor randomId:",i),ae.maybePersistVisitorId({randomId:i}))}}return ae.deleteOldForeignData(),t})).then(t.persistItemsWithId).then((function(e){if(ae.loadForeignData(),i&&!r){var t=!w.isEmpty(e);W.debug("xd / Loaded foreign data? ",t),s(t)}W.log("Loaded visitor data from foreign origins"),P.emitOriginsSyncedEvent()}),(function(e){throw i&&!r&&(W.debug("xd / Failed to load foreign data:",e),s(!1,e)),e}));return Z.all([e.load(o,c)["catch"]((function(e){throw W.debug("xd / Failed to load iframe:",e),i&&!r&&s(!1,e),e})),u["catch"]((function(e){W.debug("xd / Ignored error syncing foreign data (expected if waitForOriginSync used):",e.message),W.debug("xd / Enqueuing sync to happen after visitorId set."),K.dispatch(N.ADD_CLEANUP_FN,{lifecycle:B.Lifecycle.postVisitorProfileLoad,cleanupFn:P.emitOriginsSyncedEvent})}))])}function s(e,t){K.dispatch(N.SET_RUM_DATA,{data:{extras:{xdAttempt:e,xdError:t?t.toString():void 0}}})}function c(e){var t=me.getVisitorProfile();return ae.populateEagerVisitorData(e,t)}function u(e,t,n){e=e||[];var i=_e.getAllPlugins(B.PluginTypes.visitorProfileProviders),r=fe.getGlobalHoldbackThreshold(),a=me.getVisitorProfile();ae.populateLazyVisitorData(i,a);var o=ye.getBucketingId();if(!o)throw new Error("bucketingId not set");var s,c=me.getVisitorProfile();if(t&&!Oe){var u=Se.getVariationIdMap();s=u[t.id]}var l={bucketingId:o,visitorProfile:c,audiences:e,globalHoldback:r,preferredVariationMap:s,layer:t};return t&&n&&F.isPageIdRelevant(t)?w.map(n,(function(e){return F.createTicket(w.extend({},l,{pageId:e}))})):[F.createTicket(l)]}function l(e){var n=ge.getAllByPageIds(e),i=de.getForceVariationIds(),r=de.getForceAudienceIds(),a=!w.isEmpty(i);a&&W.log("Force variations are in use. Disabling mutual exclusivity.");var o={individual:n};W.log("Deciding Campaigns/Experiments for Page(s)",e);var s=w.map(o.individual,Y.description).join(", ");W.log("Campaigns/Experiments not in Groups (by Campaign id):",s);var c=[],u=w.map(o.individual,(function(n){var a=w.filter(n.pageIds,w.partial(w.includes,e));return t.decideAndExecuteLayerASAP(i,r,a,n)})),l=c.concat(u);return Z.all(l).then((function(t){var n=w.filter(t,(function(e){return!!e}));return W.log("All Campaigns/Experiments for Page(s) (by Campaign id)",e,"resolved:",w.map(n,Y.description).join(", ")),n}))}function d(e,t,n,i){return new Z(function(r,a){try{_(i,e,t,n,(function(a){w.each(a,(function(r){var a=r.pageId?[r.pageId]:n;W.debug("Deciding layer: ",i,"with decisionTicket: ",r,"and actionViewIds: ",a),f(i,e,t,a,r)})),r(i)}))}catch(e){W.error("Error getting decision for Campaign: "+Y.description(i),e),a(e)}})}function f(e,n,i,r,a){var o=Y.description(e);W.log("Activating Campaign",o,"on Page(s)",r),i.length&&(W.log("Applying force audienceIds:",i,"to Campaign",o),a=w.cloneDeep(a),a.audienceIds=i);var s=t.decideLayer(e,a,n),c=!(!n.length&&!i.length),u=t.getActionsForDecision(e,s,c),l=A(u.actions,r);if(u.maybeExecute&&g(l,e,s,r),w.forEach(r,(function(){C.trackDecisionEvent(s,a)})),P.emitLayerDecided({layer:e,decisionTicket:a,decision:s}),s.error)throw s.error;if(ve.getSampleRum()){K.dispatch(N.RECORD_LAYER_POLICY_USAGE,{policy:e.policy,layerId:e.id});var d=h(u.actions);K.dispatch(N.RECORD_CHANGE_TYPE_USAGE,{changeTypes:w.keys(d),layerId:e.id}),w.isEmpty(e.integrationSettings)||K.dispatch(N.RECORD_INTEGRATION_USAGE,{integrations:Y.getIntegrationTypes(e),layerId:e.id})}return F.isInCohort(s)?void(u.maybeExecute&&p(l,e,s,r)):void W.log("Not activating Campaign: "+Y.description(e)+"; not in the cohort because:",s.reason)}function g(e,t,n,i){var r=Y.description(t);W.log("Preparing actions",e,"for Campaign",r,"on Page(s)",i),w.forEach(e,O.prepareAction)}function p(e,t,n,i){var r=Y.description(t);return W.log("Executing actions",e,"for Campaign",r,"on Page(s)",i),Z.all(w.map(e,(function(e){return O.executePreparedAction(e).then(w.partial(P.emitActionAppliedEvent,e))}))).then((function(){W.log("All page actions for",n,"applied:",e),P.emitActionsForDecisionAppliedEvent(n,e)}))["catch"]((function(e){W.warn("Error evaluating page actions for decision",n,"because:",e)}))}function h(e){var t={};return w.each(e,(function(e){w.each(e.changeSet,(function(e){t[e.type]||(t[e.type]=!0)}))})),t}function _(e,t,n,i,r){if(t.length||n.length)return void r(u([],void 0,i));var a=Y.relatedAudienceIds(e),o=w.reduce(a,(function(e,t){var n=ce.get(t);return n&&e.push(n),e}),[]),s=_e.getAllPlugins(B.PluginTypes.audienceMatchers);if(ve.getSampleRum()){var c={};if(w.each(o,(function(e){w.extend(c,v(e.conditions,s))})),!w.isEmpty(c)){var l=w.keys(c);K.dispatch(N.RECORD_AUDIENCE_USAGE,{audienceTypes:l,layerId:e.id})}}I(o,s,Y.getActivationTimeout(e),(function(){var t=u(o,e,i);w.map(t,(function(t){m(t,o,e)})),r(t)}))}function v(e,t){var n={};return w.each(e,(function(e){w.isArray(e)?w.extend(n,v(e,t)):w.isObject(e)&&t[e.type]&&(n[e.type]=!0)})),n}function m(e,t,n){var i=w.map(e.audienceIds,w.bind(ce.get,ce)),r=w.filter(t,(function(t){return!w.includes(e.audienceIds,t.id)}));W.log("When deciding Campaign",Y.description(n),"visitor is in audiences:",E(i),"and not in audiences:",E(r))}function E(e){var t=[];return w.each(e,(function(e){t.push(e.name,e)})),t}function I(e,t,n,i){var r=w.reduce(e,(function(e,n){return w.extend(e,L.requiredAudienceFieldsForConditions(n.conditions,t))}),{}),a=w.reduce(r,(function(e,t){if(w.isUndefined(ae.getAttribute(t))){var n=ae.getPendingAttributeValue(t);w.isUndefined(n)||e.push(n)}return e}),[]);if(0===a.length)return i();var o=[].concat(e),s=ee.firstToResolve(w.map(a,(function(e){return Z.resolve(e).then((function(){var e=me.getVisitorProfile();if(o=w.filter(o,(function(n){return w.isUndefined(L.isInAudience(e,n,t))})),!w.isEmpty(o))throw new Error("At least one audience is still pending")}))})));Z.race([s,new Z(function(e,t){oe.setTimeout(t,n)})]).then((function(){W.log("Activating Campaign after pending Audiences resolved",e),i()}),(function(){W.log("Activating Campaign after timeout on Audiences",e),i()}))}function y(e,t,n){var i,r=Y.description(e);return i=n.length?F.getDummyLayerDecision(e,n):F.decideLayer(e,t),W.log("Recording decision for Campaign",r,t,"->",i),Y.recordLayerDecision(e.id,t,i),Oe||i.variationId&&i.experimentId&&ae.updateVariationIdMap(e.id,i.experimentId,i.variationId),i}function S(e){var t=le.getCleanupFns(e);if(t.length>0){for(;t.length>0;)t.shift()();K.dispatch(N.CLEAR_CLEANUP_FN,{lifecycle:e})}}function T(e,t,n){var i=Y.description(e),r="NOT applying changes for Campaign",a={actions:[],maybeExecute:!1};return a.actions=[].concat(ue.getLayerActions(t.layerId)||[],ue.getExperimentActions(t.experimentId)||[],ue.getExperimentVariationActions(t.experimentId,t.variationId)||[]),!n&&fe.isGlobalHoldback()?(W.log(r,i,"(visitor is in global holdback)"),a):t.isLayerHoldback?(W.log(r,i,"(visitor is in layer holdback)"),a):t.experimentId&&t.variationId?(a.maybeExecute=!0,W.log("Got Actions for Campaign:",i,a.actions),a):(W.log(r,i,"(visitor is not eligible for any Experiments)"),a)}function A(e,t){return w.filter(e,(function(e){return w.isUndefined(e.pageId)||w.includes(t,e.pageId)}))}var w=n(2),R=n(75).create,b=t.ActivationCodeError=R("ActivationCodeError"),D=t.ProjectJSError=R("ProjectJSError"),O=n(133),N=n(7),C=n(109),P=n(116),L=n(137),V=n(85),k=n(108),x=n(24),F=n(138),M=n(16),U=n(117),G=n(79),B=n(25),z=n(86),j=n(110),H=n(143),K=n(9),Y=(n(142),n(112)),q=n(80).LocalStorage,W=n(23),X=n(144),Q=n(82),$=n(121),J=n(87),Z=n(12).Promise,ee=n(145),te=n(113),ne=n(115),ie=n(135),re=n(122),ae=n(73),oe=n(40),M=n(16),se=M.get("stores/session"),ce=M.get("stores/audience_data"),ue=M.get("stores/action_data"),le=M.get("stores/cleanup"),de=M.get("stores/directive"),fe=M.get("stores/global"),ge=(M.get("stores/group_data"),M.get("stores/layer_data")),pe=M.get("stores/layer"),he=M.get("stores/pending_events"),_e=M.get("stores/plugins"),ve=M.get("stores/rum"),me=M.get("stores/visitor"),Ee=M.get("stores/view_data"),Ie=M.get("stores/view"),ye=M.get("stores/visitor_id"),Se=M.get("stores/visitor_bucketing"),Te=M.get("stores/xdomain"),Ae=n(92),we=n(119),Re=n(1),be=1e3,De=!1,Oe=!1,Ne=!1,Ce=Oe||Ne,Pe=1e3,Le=t;
t.initialize=function(e){return this.initGlobalStore(e.clientData),this.initializePlugins(e.plugins)},t.initGlobalStore=function(e){var e=e;k.normalizeClientData(e),z.on({filter:{type:"error"},handler:r}),K.dispatch(N.DATA_LOADED,{data:e}),W.log("Initialized with DATA:",e)},t.initializePlugins=function(e){if(a(),U.setOptOut(de.shouldOptOut()),de.isDisabled()||de.shouldOptOut())return void W.log("Controller / Is disabled");if(Re.queueBeacons(),G.isReady()?K.dispatch(N.SET_DOMCONTENTLOADED):G.addReadyHandler((function(){K.dispatch(N.SET_DOMCONTENTLOADED)})),!Ce){Q.time("projectJS");var n=fe.getProjectJS();if(w.isFunction(n))try{H.apply(n)}catch(e){W.error("Error while executing projectJS: ",e),V.emitError(new D(e))}Q.timeEnd("projectJS")}w.each(e||[],(function(e){try{e($)}catch(e){V.emitInternalError(e)}})),w.each(fe.getPlugins()||[],(function(e){try{H.apply(e,[$])}catch(e){V.emitError(e)}})),te.load();var r=z.on({filter:{type:"lifecycle",name:"activated"},handler:function(){me.observe(ae.persistVisitorProfile),pe.observe(ae.persistLayerStates),se.observe(ae.persistSessionState),he.observe(X.persistPendingEvents),Oe||Se.observe(ae.persistVisitorBucketingStore),z.off(r)}});z.on({filter:{type:"lifecycle",name:"viewsActivated"},handler:t.onViewsActivated}),z.on({filter:{type:"lifecycle",name:"pageDeactivated"},handler:t.onPageDeactivated}),t.initializeApi();var o=X.getPendingEvents();if(o&&(K.dispatch(N.LOAD_PENDING_EVENTS,{events:o}),X.retryPendingEvents(o)),z.on({filter:{type:"lifecycle",name:"activate"},handler:t.activate}),P.emitInitializedEvent(),!de.shouldActivate())return Z.resolve();var s=[];if(Te.isDisabled())i();else{var c=t.initializeXDomainStorage();s.push(c);var u=Boolean(Te.getCanonicalOrigins());if(u){var l=ne.makeTimeoutPromise(Pe);Z.race([c,l])["catch"]((function(e){W.error("Failed to initialize xDomain storage: ",e)})).then(i)["catch"](we.handleError)}else i()}return Z.all(s)},t.activate=function(){try{var e=[];W.log("Activated client"),S(B.Lifecycle.preActivate);var t=x.now();K.dispatch(N.ACTIVATE,{activationId:String(t),activationTimestamp:t});var n=Ee.getAll();re.registerViews(n),ae.setId(ae.getOrGenerateId()),e.push(C.trackPostRedirectDecisionEvent()),K.dispatch(N.MERGE_VARIATION_ID_MAP,{variationIdMap:ae.getVariationIdMap()}),S(B.Lifecycle.postVisitorProfileLoad),e.push(c(_e.getAllPlugins(B.PluginTypes.visitorProfileProviders)).then((function(){W.log("Populated visitor profile")})));var i=u(),r=F.decideGlobal(i);W.log("Made global decision",i,"->",r),K.dispatch(N.RECORD_GLOBAL_DECISION,r);var a=C.trackClientActivation();a?W.log("Tracked activation event",a):W.log("Not tracking activation event");var o=Le.setUpViewActivation(n),s=[];return De?s=re.activateMultiple(o):w.each(o,(function(e){s=s.concat(re.activateMultiple([e]))})),Oe&&ve.getSampleRum()&&K.dispatch(N.RECORD_VIEWS_INITIALLY_ACTIVATED_COUNT,{viewsInitiallyActivatedCount:s.length}),S(B.Lifecycle.postViewsActivated),S(B.Lifecycle.postActivate),P.emitActivatedEvent(),Z.all(e).then((function(){z.emit({type:j.TYPES.LIFECYCLE,name:"activateDeferredDone"}),W.log("All immediate effects of activation resolved")}),V.emitError)}catch(e){return V.emitError(e),Z.reject(e)}},Le.setUpViewActivation=function(e){var t=[];return w.each(e,(function(e){w.isBoolean(Ie.getViewState(e.id).isActive)&&re.isActivationTypeImmediate(e.activationType)?W.debug("Skipping page: already evaluated, presumably at the edge",re.description(e)):re.shouldTriggerImmediately(e.activationType)?t.push(e):e.activationType===B.ViewActivationTypes.callback?(W.debug("Setting up conditional activation for Page",re.description(e)),Le.activateViewOnCallback(e)):e.activationType===B.ViewActivationTypes.polling?(W.debug("Setting up polling activation for Page",re.description(e)),J.pollFor(w.partial(H.apply,e.activationCode),null,w.partial(ie.isTimedOut,x.now())).then((function(){re.activateMultiple([e])}))["catch"]((function(t){W.warn("Failed to activate view ",e,t)}))):e.activationType!==B.ViewActivationTypes.manual&&V.emitError(new Error("Unknown view activationType: "+e.activationType))})),t},Le.activateViewOnCallback=function(e){var t=function(t){var n=w.extend({},t,{pageName:e.apiName,type:"page"});Ae.push(n)},n={pageId:e.id};Object.defineProperty(n,"isActive",{get:function(){return Ie.isViewActive(e.id)}});try{H.apply(e.activationCode,[t,n])}catch(t){var i=new b("("+t.toString()+") in activationCode for "+re.description(e));V.emitError(i,{originalError:t,userError:!0})}},t.onViewsActivated=function(e){var t,n=e.data.views,i=w.map(n,"id");try{if(!ye.getBucketingId())throw new Error("View activated with no visitorId set");var r=l(i)["catch"](V.emitError);return t=Z.all(w.map(n,(function(e){var t=function(){re.parseViewTags(e);var t=C.trackViewActivation(e);t?W.log("Tracked activation for Page",re.description(e),t):W.log("Not Tracking activation for Page",re.description(e))};return G.isReady()?Z.resolve(t()):J.pollFor(G.isReady,be).then(t)}))),Z.all([r,t])}catch(e){V.emitError(e)}},t.onPageDeactivated=function(e){var t=e.data.page,n=ue.getAllActionIdsByPageId(t.id);w.each(n,(function(e){var n=ue.getActionState(e);n&&(w.each(n,(function(e,n){if(e.cancel)try{e.cancel(),W.debug("Controller / Canceled change",n,"observation due to deactivation of page:",t)}catch(e){W.error("Controller / Error canceling change",n,"observation upon deactivation of page.",e)}if(t.undoOnDeactivation&&e.undo)try{e.undo(),W.debug("Controller / Undid change",n,"due to deactivation of page:",t)}catch(e){W.error("Controller / Error undoing change upon deactivation of page.",e)}})),K.dispatch(N.REMOVE_ACTION_STATE,{actionId:e}),W.debug("Controller / Undid changes and/or canceled change observation due to deactivation of page:",t,e))}))},t.initializeApi=function(){var e={push:Ae.push};Ne||(e.get=Ae.get);var t=window.optimizely;w.isArray(t)&&w.each(t,(function(t){e.push(t)})),e.data={note:"Obsolete, use optimizely.get('data') instead"},e.state={},window.optimizely=e},t.persistItemsWithId=function(e){return w.each(e,(function(e,t){ae.checkKeyForVisitorId(t)&&q.setItem(t,e)})),e},t.initializeXDomainStorage=o,t.decideAndExecuteLayerASAP=d,t.decideLayer=y,t.getActionsForDecision=T}),(function(e,t,n){function i(e,t,n){var i=v.getActionState(t.id);if(!i)return void g.warn("Action / Attempted to prepare change for inactive action: ",t);var r=v.getChangeApplier(e.id,t.id);if(!a.isUndefined(r))return void g.warn("Action / Attempted to prepare a change which is already being applied: ",e);var s={changeId:e.id,actionId:t.id,changeApplier:I.create(e,t,n)};f.dispatch(o.SET_CHANGE_APPLIER,s)}function r(e,t,n,o){if(a.includes(o,t))return void g.error("Change with id "+t+" has circular dependencies: "+o.concat(t));if(!e[t]){var u=m.getChange(t);if(!u){var d="Change with id "+t+" is absent";return o.length&&(d+=" but listed as a dependency for "+o[o.length-1]),void g.warn(d)}e[t]=new p(function(d){var f=a.map(u.dependencies||[],(function(i){return r(e,i,n,o.concat([t]))}));if(u.src){var _="change_"+u.src,E=c.makeAsyncRequest(_,(function(){return h.addScriptAsync("https://cdn.optimizely.com/public/11000223989/data"+u.src,(function(){c.resolveRequest(_)}))})).then((function(){var e=m.getChange(u.id);e||s.emitError(new S("Failed to load async change from src: "+u.src)),i(e,n,l.now())}));f.push(E)}p.all(f).then((function(){var e=l.now(),i=v.getChangeApplier(t,n.id);return i?(g.debug("Action / Applying change:",u),i.apply().then((function(t){t?g.log(t):g.debug("Action / Applied change for the first time in "+(l.now()-e)+"ms:",u),d()}))):(g.debug("Action / Not applying change ",t," - No changeApplier found."),void d())}))["catch"]((function(e){g.error("Action / Failed to apply change:",u,e),d()}))})}return e[t]}var a=n(2),o=n(7),s=n(85),c=n(6),u=n(75).create,l=n(24),d=n(16),f=n(9),g=n(23),p=n(12).Promise,h=n(131),_=d.get("stores/global"),v=d.get("stores/action_data"),m=d.get("stores/change_data"),E=d.get("stores/session"),I=n(134),y=n(135);y.initialize();var S=u("ActionError");t.prepareAction=function(e){g.debug("Action / Preparing:",e),f.dispatch(o.ACTION_EXECUTED,{actionId:e.id,sessionId:E.getSessionId(),layerId:e.layerId,pageId:e.pageId,timestamp:l.now(),activationId:_.getActivationId()});var t=l.now();a.forEach(e.changeSet,(function(n){var r=a.isObject(n)?n.id:n,s=m.getChange(r);s||(f.dispatch(o.ADD_CHANGE,n),s=m.getChange(n.id)),s.src||i(s,e,t)}))},t.executePreparedAction=function(e){g.debug("Action / Executing:",e);var t={},n=a.map(e.changeSet,(function(n){var i=a.isObject(n)?n.id:n;return r(t,i,e,[])}));return p.all(n).then((function(){g.debug("changes for action id="+e.id+" applied")}))}}),(function(e,t,n){var i=n(13).Promise,r=n(24),a=n(16),o=a.get("stores/plugins"),s=n(25),c=n(23);t.create=function(e,t,n){var a={identifier:e.id,action:t,startTime:n||r.now()};try{var u=o.getPlugin(s.PluginTypes.changeAppliers,e.type);if(!u)throw new Error("Unrecognized change type "+e.type);return new u(e,a)}catch(e){c.error("Change applier was never properly constructed:",e);var l={apply:function(){return i.reject(e)}};return l}}}),(function(e,t,n){function i(){"interactive"!==document.readyState&&"complete"!==document.readyState||(t.domReadyTime=Date.now())}var r=n(136),a=n(16).get("stores/directive");t.domReadyTime=null,t.initialize=function(){i(),document.addEventListener("readystatechange",i,!0)},t.isTimedOut=function(e){var n=Date.now();if(!t.domReadyTime||!e)return!1;var i=Math.max(e,t.domReadyTime);return a.isEditor()&&(i=t.domReadyTime),!(n-i<r.SELECTOR_POLLING_MAX_TIME)}}),(function(e,t){e.exports={SELECTOR_POLLING_MAX_TIME:2e3,CHANGE_DATA_KEY:"optimizelyChangeData",CHANGE_ID_ATTRIBUTE_PREFIX:"data-optly-"}}),(function(e,t,n){function i(e,t){return function(n){var i=n.type,a=t[i];if(!a)throw new Error("Audience / No matcher found for type="+i);if(a.fieldsNeeded)for(var s=r(a.fieldsNeeded,n),l=0;l<s.length;l++){var d=s[l],f=c.getFieldValue(e,d);if(o.isUndefined(f))return void u.debug("Audience / Required field",d,"for type",i,"has no value")}u.debug("Matching condition:",n,"to values:",e);var g=a.match(e,n);if(!o.isUndefined(g))return!!g}}function r(e,t){var n="function"==typeof e?e(t):e;return o.isString(n)&&(n=[n]),o.isArray(n)?n:(u.warn("Couldn't determine fieldsNeeded for matcher; assuming []"),[])}function a(e){return e.name?e.name+" ("+e.id+")":e.id}var o=n(2),s=n(123),c=n(19),u=n(23),l=n(73);t.isInAudience=function(e,t,n){var r=i(e,n);u.groupCollapsed("Checking audience",t.name,t.id,t),u.debug("Visitor Profile:",e);var o;try{var c=s.evaluate(t.conditions,r)}catch(e){o=e,c=!1}return u.groupEnd(),o&&u.error("Audience / Error evaluating audience",a(t),":",o),u.log("Is "+(c?"in":"NOT in")+" audience:",a(t)),c},t.requiredAudienceFieldsForConditions=function e(t,n){var i={};return o.each(t,(function(t){if(o.isArray(t))o.extend(i,e(t,n));else if(o.isObject(t)){var a=n[t.type];if(a){var s=r(a.fieldsNeeded,t);o.each(s,(function(e){i[l.serializeFieldKey(e)]=e}))}}})),i}}),(function(e,t,n){function i(e,t){for(var n=0;n<e.experiments.length;n++)for(var i=0;i<e.experiments[n].variations.length;i++)if(t.indexOf(e.experiments[n].variations[i].id)>-1)return{experimentId:e.experiments[n].id,variationId:e.experiments[n].variations[i].id};return null}function r(e){var t=v.getPlugin(g.PluginTypes.deciders,e);if(o.isEmpty(t))throw new Error("No deciders found for policy: "+e);return t}function a(e,t){var n=v.getAllPlugins(g.PluginTypes.audienceMatchers);return o.reduce(t,(function(t,i){return c.isInAudience(e,i,n)&&t.push(i.id),t}),[])}var o=n(2),s=(n(7),n(85)),c=n(137),u=n(139),l=n(140),d=n(141).DecisionError,f=n(16),g=n(25),p=(n(9),n(142),n(112)),h=n(23),_=n(44),v=f.get("stores/plugins"),m=f.get("stores/global"),E=f.get("stores/layer_data");t.isPageIdRelevant=function(e){if(!e)return!1;var t=r(e.policy);return o.isFunction(t.includePageIdInDecisionTicket)?t.includePageIdInDecisionTicket(e):t.includePageIdInDecisionTicket===!0},t.createTicket=function(e){var t=o.pick(e,["bucketingId","globalHoldback","preferredVariationMap","pageId"]);return o.extend(t,{audienceIds:a(e.visitorProfile,e.audiences),activationId:m.getActivationId()}),t},t.decideGlobal=function(e){var t=u.isHoldback(e.bucketingId,{id:null,holdback:e.globalHoldback});return{isGlobalHoldback:t}},t.decideLayer=function(e,t){h.debug("Deciding: ",e,t);var n,i,a=r(e.policy),c={layerId:e.id,experimentId:null,variationId:null,isLayerHoldback:u.isHoldback(t.bucketingId,e)};if(o.isEmpty(e.experiments))throw new d("No experiments in layer.");try{if(a.decideLayer){h.debug("Decision / Using decider's custom decideLayer.");var f=a.decideLayer(e,t);n=f.experiment,i=f.variation}else h.debug("Decision / Using default decideLayer behavior."),n=a.selectExperiment(e,t.audienceIds,t.bucketingId),i=l.selectVariation(n,t.audienceIds,t.bucketingId,t.activationId,t.preferredVariationMap)}catch(e){e instanceof d?c.reason=e.message:c.error=e}return c.experimentId=n?n.id:null,c.variationId=i?i.id:null,c.error&&(c.error.name="DecisionEngineError",s.emitError(c.error)),c},t.getDummyLayerDecision=function(e,t){var n,r=i(e,t);return r?(h.log("Decision / Applying force variation:",r.variationId,"to Campaign",p.description(e)),n={layerId:e.id,variationId:r.variationId,experimentId:r.experimentId,isLayerHoldback:!1,reason:"force"}):(h.log("No variation matches ids:",t,"in Campaign",p.description(e)),n={layerId:e.id,variationId:null,experimentId:null,isLayerHoldback:!1,reason:"force"}),n},t.isInCohort=function(e){if(!e.experimentId||!e.variationId)return!1;var t=E.get(e.layerId);return!(_.isSingleExperimentPolicy(t.policy)&&e.isLayerHoldback)}}),(function(e,t,n){var i=n(64),r=t.TOTAL_POINTS=1e4;t.bucketingNumber=function(e,t,n){var a=i.hashToInt(e+t,n,r);return a},t.isHoldback=function(e,n){return t.bucketingNumber(e,n.id,i.Seed.IGNORING)<(n.holdback||0)},t.chooseWeightedCandidate=function(e,n,r){for(var a=t.bucketingNumber(e,n,i.Seed.BUCKETING),o=0;o<r.length;o++)if(r[o].endOfRange>a)return r[o].entityId;throw new Error("Unable to choose candidate")}}),(function(e,t,n){var i=n(2),r=n(7),a=n(139),o=n(123),s=n(141).DecisionError,c=n(9),u=n(23),l="impression";t.isValidExperiment=function(e,t){var n,r=i.partial(i.includes,e);return u.groupCollapsed("Decision / Evaluating audiences for experiment:",t,e),n=!t.audienceIds||o.evaluate(t.audienceIds,r),u.groupEnd(),u.debug("Decision / Experiment",t,"is valid?",n),n},t.selectVariation=function(e,t,n,o,d){if(!e.variations||0===e.variations.length)throw new s('No variations in selected experiment "'+e.id+'"');if(!e.weightDistributions&&e.variations.length>1)throw new s('On selected experiment "'+e.id+'", weightDistributions must be defined if # variations > 1');var f;if(e.bucketingStrategy&&e.bucketingStrategy===l)if(1===e.variations.length)f=e.variations[0].id;else{var g=o;f=a.chooseWeightedCandidate(n+g,e.id,e.weightDistributions)}else if(f=1===e.variations.length?e.variations[0].id:a.chooseWeightedCandidate(n,e.id,e.weightDistributions),d&&d[e.id]){u.debug("Decision / Using preferredVariationMap to select variation for experiment:",e.id);var p=d[e.id];if(!i.find(e.variations,{id:p}))return c.dispatch(r.RECORD_STICKY_BUCKETING_FEATURE,{feature:"stoppedVariation",id:e.id}),u.debug("Decision / Preferred variation:",p,"not found on experiment:",e.id,". Visitor not bucketed."),null;p!==f&&(c.dispatch(r.RECORD_STICKY_BUCKETING_FEATURE,{feature:"preferredVariation",id:e.id}),f=p)}var h=i.find(e.variations,{id:f});if(h)return u.debug("Decision / Selected variation:",h),h;throw new s('Unable to find selected variation: "'+f+'".')},t.getExperimentById=function(e,t){var n=i.find(e.experiments,{id:t});if(n)return n;throw new s("Unable to find selected experiment.")},t.hasVariationActionsOnView=function(e,t){return u.debug("Decision / Checking variation:",e,"for actions on pageId:",t),!!i.find(e.actions,(function(e){return e.pageId===t&&!i.isEmpty(e.changes)}))}}),(function(e,t){function n(e){this.message=e}n.prototype=new Error,t.DecisionError=n}),(function(e,t,n){function i(e){return r.map(e.weightDistributions,"entityId")}var r=n(2);t.description=function(e){var t=!!e.name,n=t?'"'+e.name+'" ':"",r=i(e).join(", ");return n+"(id "+e.id+", campaigns: "+r+")"}}),(function(module,exports,__webpack_require__){var createError=__webpack_require__(76),di=__webpack_require__(16),Logger=__webpack_require__(23),CSP_MODE=!1,EXEC_WITH_JQUERY=!0,ExecError=exports.Error=createError("ExecError");exports.apply=function(e,t){t=t||[],EXEC_WITH_JQUERY&&(t=t.concat(di.get("env/jquery")));try{return e.apply(void 0,t)}catch(n){throw Logger.warn("Error applying function",e,"with args:",t,n),new ExecError(n)}},exports.eval=function(str){if(CSP_MODE)throw new ExecError("eval is not supported in CSP mode");try{return EXEC_WITH_JQUERY&&(str="var $ = optimizely.get('jquery');"+str),eval(str)}catch(e){throw Logger.warn("Error executing JS:",str,e),new ExecError(e)}}}),(function(e,t,n){var i=n(2),r=n(85),a=n(25),o=n(26),s=n(80).LocalStorage,c=n(23),u=n(90),l=n(16),d=l.get("stores/pending_events"),f=a.StorageKeys.PENDING_EVENTS;t.persistPendingEvents=function(){try{var e=d.getEventsString();s.setItem(f,e),n(84).setItem(f,e)}catch(e){c.warn("PendingEvents / Unable to set localStorage key, error was: ",e),r.emitInternalError(e)}},t.getPendingEvents=function(){try{return o.parse(s.getItem(f))}catch(e){return null}},t.retryPendingEvents=function(e){i.forOwn(e,(function(e,t){u.retryableRequest(e.data,t,e.retryCount)})),i.isEmpty(e)||c.log("Retried pending events: ",e)}}),(function(e,t,n){var i=n(2),r=n(12).Promise;t.firstToResolve=function(e){return new r(function(t){i.each(e,(function(e){r.resolve(e).then(t,(function(){}))}))})}}),(function(e,t,n){function i(e){var t=!1;if(a.isArray(window.optimizely)&&a.each(window.optimizely,(function(n){a.isArray(n)&&"verifyPreviewProject"===n[0]&&String(n[1])===e&&(t=!0)})),!t)throw new Error("Preview projectId: "+e+" does not match expected")}function r(){s.on({filter:{type:c.TYPES.ANALYTICS,name:"trackEvent"},handler:f}),s.on({filter:{type:c.TYPES.LIFECYCLE,name:"viewActivated"},handler:f}),s.on({filter:{type:c.TYPES.LIFECYCLE,name:"layerDecided"},handler:f}),s.on({filter:{type:"error"},publicOnly:!0,handler:f})}var a=n(2),o=n(16),s=n(86),c=n(110),u=n(40),l=o.get("stores/directive"),d="optimizelyPreview",f=function(e){var t=u.getGlobal(d);t.push(e)};t.initialize=function(e){l.isSlave()&&i(e),r()},t.setupPreviewGlobal=function(){u.getGlobal(d)||u.setGlobal(d,[])},t.pushToPreviewGlobal=function(e){f(e)}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(148))}}),(function(e,t){e.exports={provides:"visitorId",getter:["stores/visitor_id",function(e){return e.getRandomId()}]}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(150)),e.registerAudienceMatcher("behavior",n(152))}}),(function(e,t,n){var i=n(151);e.exports={provides:"events",isTransient:!0,getter:[function(){return i.getEvents()}]}}),(function(e,t,n){var i=n(2),r=n(71),a=n(16),o=a.get("stores/visitor_events"),s=1e3;t.getEvents=function(){var e=r.getEvents(),t=[].concat.apply([],i.values(o.getForeignEvents())),n=[].concat.apply([],i.values(o.getForeignEventQueues())),a=r.mergeAllEvents([e,t,n]);return a.slice(a.length-s)}}),(function(e,t,n){var i=n(2),r=n(26),a=n(153),o=n(154);e.exports={fieldsNeeded:["events"],match:function(e,t){var n=[],s=r.parse(t.value);return n=i.isUndefined(s.version)?[s]:a.buildFromSpecV0_1(s),i.every(n,(function(t){return o.isSatisfied(t,e.events)}))}}}),(function(e,t,n){function i(e){return e=(e||"").toString().trim(),g[e]||e}function r(e,t,n){var i={where:t};if(e.count&&(i["limit"]=e.count),e.modifier===s.FREQUENCY_FILTERS.MOST_FREQUENT){var r=s.getFieldKeyPathForSource(e.name,n),a=s.aggregate("count"),o=s.aggregateField("count"),l=s.groupField(r);return c.extend(i,{select:[{field:l}],groupBy:s.groupBy([r]),aggregate:[a],orderBy:[{field:o,direction:"DESC"}]})}return c.extend(i,{orderBy:[{field:[u.FIELDS.TIME],direction:"DESC"}]})}function a(e){var t=[];if(c.isUndefined(e))throw new Error("rule is undefined");if(!c.isObject(e))throw new Error("rule is not an Object");"0.2"!==e["version"]&&t.push('version: not "0.2"'),e["filter"]&&(c.isArray(e["filter"])?c.each(e["filter"],(function(e,n){var i=s.validateFieldKeyPathV0_2(e["field"],s.FieldPurpose.FILTER);i&&t.push("filter["+n+"]: "+i);var r=s.validateComparatorAndValue(e["comparator"],e["value"]);r&&t.push("filter["+n+"]: "+r)})):t.push("filter: not an array"));var n=[],i=[];if(e["sort"]&&(e["reduce"]&&e["reduce"]["aggregator"]&&"nth"!==e["reduce"]["aggregator"]&&t.push("sort: superfluous because we can apply aggregator "+l.stringify(e["reduce"]["aggregator"])+" to unsorted items"),c.isArray(e["sort"])?c.each(e["sort"],(function(e,r){var a=s.validateFieldKeyPathV0_2(e["field"],s.FieldPurpose.SORT);a&&t.push("sort["+r+"]: "+a),e["field"]&&"frequency"===e["field"][0]?n.push(e):i.push(e);var c=o(e["direction"]);c&&t.push("sort["+r+"]: "+c)})):t.push("sort: not an array"),n.length&&i.length&&t.push('sort: sorting by non-["frequency"] field is pointless because we are going to sort the picked values by ["frequency"]'),n.length&&!e["pick"]&&t.push('sort: sorting by ["frequency"] is impossible because no values have been picked')),e["pick"]){e["reduce"]&&"count"===e["reduce"]["aggregator"]&&t.push('pick: superfluous because we can apply aggregator "count" to raw events');var r=s.validateFieldKeyPathV0_2(e["pick"]["field"]);r&&t.push("pick: "+r)}if(e["reduce"]){var a=e["reduce"]["aggregator"],u="aggregator "+(l.stringify(a)||String(a)),d=e["reduce"]["n"],f="index "+(l.stringify(d)||String(d));c.includes(["sum","avg","max","min","count","nth"],a)||t.push("reduce: "+u+" is unknown"),c.includes(["sum","avg","max","min"],a)&&(e["pick"]||t.push("reduce: "+u+" is impossible to use because no values have been picked")),"nth"===a?((!c.isNumber(d)||isNaN(d)||parseInt(d,10)!==d||d<0)&&t.push("reduce: "+f+" is not a non-negative integer (mandated by "+u+")"),e["sort"]||t.push('reduce: aggregator "nth" is meaningless without a specific sort order')):c.isUndefined(d)||t.push("reduce: "+f+" is defined (not mandated by "+u+")")}if(t.length)throw new Error(t.join("\n"))}function o(e){var t="direction "+(l.stringify(e)||String(e));if(!c.includes(["ascending","descending"],e))return t+' is not "ascending" or "descending"'}var s=t,c=n(2),u={FIELDS:n(63).FIELDS,FIELDS_V0_2:n(63).FIELDS_V0_2},l=n(26),d=n(23),f=n(154);s.MILLIS_IN_A_DAY=864e5,s.aggregateField=function(e,t){return c.isString(t)&&(t=[t]),t=t||f.DEFAULT_FIELD,[f.generateAlias(e,t)]},s.groupField=function(e){return c.isString(e)&&(e=[e]),e=e||f.DEFAULT_FIELD,[e.join(".")]};var g={"<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","==":"eq"};s.fieldComparison=function(e,t,n){return e=i(e),c.isString(t)&&(t=[t]),"exists"===e?{op:e,args:[{field:t}]}:{op:e,args:[{field:t},{value:n}]}},s.relativeTimeComparison=function(e,t){return{op:i(e),args:[{op:"-",args:[{eval:"now"},{field:[u.FIELDS.TIME]}]},{value:t*s.MILLIS_IN_A_DAY}]}},s.rangeTimeComparison=function(e){return c.isArray(e)?{op:"between",args:[{field:[u.FIELDS.TIME]},{value:[e[0]||+new Date(0),e[1]||+new Date]}]}:(d.error("Rule builder","rangeTimeComparison passed invalid range",e),null)},s.groupBy=function(e){for(var t=[],n=0;n<e.length;n++)t[n]={field:e[n]};return t},s.aggregate=function(e,t){return c.isString(t)&&(t=[t]),t=t||f.DEFAULT_FIELD,{op:e,args:[{field:t}]}},s.SOURCE_TYPES={BEHAVIOR:"events",CUSTOM_BEHAVIOR:"custom_behavior",DCP:"dcp"},s.FREQUENCY_FILTERS={MOST_FREQUENT:"most_frequent",LEAST_FREQUENT:"least_frequent"},s.RECENCY_FILTERS={MOST_RECENT:"most_recent",LEAST_RECENT:"least_recent"},s.getFieldKeyPathForSource=function(e,t){t=t||s.SOURCE_TYPES.BEHAVIOR;var n=[];return c.isString(e)?(n=[e],t!==s.SOURCE_TYPES.BEHAVIOR||c.includes(c.values(u.FIELDS),e)||(n=[u.FIELDS.OPTIONS,e])):n=e,n},s.buildFromSpecV0_1=function(e){if(!(e.action||e.filters&&0!==e.filters.length))throw new Error('Audience spec must have an "action" field or at least one "filter" '+l.stringify(e));var t=s.fieldComparison("gt",u.FIELDS.TIME,0),n=[],i=[];if(e.action&&(i.push(s.fieldComparison("eq",u.FIELDS.NAME,e.action.value)),e.action.type&&i.push(s.fieldComparison("eq",u.FIELDS.TYPE,e.action.type))),e.time)if("last_days"===e.time.type)i.push(s.relativeTimeComparison("lte",e.time.days));else if("range"===e.time.type){var a=s.rangeTimeComparison([e.time.start,e.time.stop]);a&&i.push(a)}else d.error("Rule builder",'Audience spec has bad "time" type',e.time.type);if(t={op:"and",args:i},e.count&&n.push({where:s.fieldComparison(e.count.comparator,"0",e.count.value),from:{select:[{field:s.aggregateField("count")}],where:t,aggregate:[s.aggregate("count")]}}),e.filters&&c.each(e.filters,(function(r){var a,o,c=s.getFieldKeyPathForSource(r.name,e.source);if(r.modifier===s.FREQUENCY_FILTERS.MOST_FREQUENT?(a=s.aggregate("count"),o=s.aggregateField("count")):r.modifier===s.RECENCY_FILTERS.MOST_RECENT&&(a=s.aggregate("max",u.FIELDS.TIME),o=s.aggregateField("max",u.FIELDS.TIME)),a){var l=c,d=s.groupField(l);n.push({where:s.fieldComparison(r.comparator,"0",r.value),from:{select:[{field:d}],where:t,groupBy:s.groupBy([l]),aggregate:[a],orderBy:[{field:o,direction:"DESC"}],limit:1}})}else i.push(s.fieldComparison(r.comparator,c,r.value))})),e.pick){if(n.length>0)throw new Error('A "pick" clause must not be specified with "count" or "most_recent", "most_frequent" modifiers'+l.stringify(e));return[r(e.pick,t,e.source)]}return n.length>0?n:[{where:t}]},s.buildFromSpecV0_2=function(e){a(e);var t={where:{op:"and",args:c.map(e["filter"]||[],(function(e){return"age"===e["field"][0]?s.relativeTimeComparison(e["comparator"]||"eq",e["value"]/s.MILLIS_IN_A_DAY):s.fieldComparison(e["comparator"]||"eq",s.convertFieldKeyPathFromSpecV0_2(e["field"]),e["value"])}))}};if(e["reduce"]&&"count"===e["reduce"]["aggregator"])return c.extend(t,{aggregate:[{op:"count",args:[{field:["*"]}]}],select:[{field:["_count_*"]}]});var n=[],i=[];if(e["sort"]&&(c.each(e["sort"],(function(e){c.includes(["ascending","descending"],e["direction"])&&(c.includes(["time","age"],e["field"][0])&&i.push(e),"frequency"===e["field"][0]&&n.push(e))})),i.length&&!n.length&&(t["orderBy"]=c.filter(c.map(i,(function(e){return"time"===e["field"][0]?{field:s.convertFieldKeyPathFromSpecV0_2(["time"]),direction:"ascending"===e["direction"]?"ASC":"DESC"}:"age"===e["field"][0]?{field:s.convertFieldKeyPathFromSpecV0_2(["time"]),direction:"ascending"===e["direction"]?"DESC":"ASC"}:void 0}))))),e["pick"]&&e["pick"]["field"]){var r=s.convertFieldKeyPathFromSpecV0_2(e["pick"]["field"]);if(e["reduce"]&&c.includes(["avg","max","min","sum"],e["reduce"]["aggregator"]))return c.extend(t,{aggregate:[{op:e["reduce"]["aggregator"],args:[{field:r}]}],select:[{field:[f.generateAlias(e["reduce"]["aggregator"],r)]}]});t=n.length?c.extend(t,{groupBy:[{field:r}],aggregate:[{op:"count",args:[{field:["*"]}]}],orderBy:[{field:["_count_*"],direction:"ascending"===n[0]["direction"]?"ASC":"DESC"}],select:[{field:[r.join(".")]}]}):c.extend(t,{select:[{field:r}]})}if(e["reduce"]&&"nth"===e["reduce"]["aggregator"]){var o=e["reduce"]["n"];if(c.isNumber(o)&&o>=0&&Number(o)===Math.floor(Number(o)))return c.extend(t,{offset:o,limit:1})}return t},s.convertFieldKeyPathFromSpecV0_2=function(e){return"tags"===e[0]&&"revenue"===e[1]?["r"]:[u.FIELDS_V0_2[e[0]]].concat(e.slice(1))},s.FieldPurpose={FILTER:"filter",SORT:"sort",PICK:"pick"},s.validateFieldKeyPathV0_2=function(e,t){var n="field "+(l.stringify(e)||String(e));if(!c.isArray(e)||!c.every(e,c.isString))return n+" is not an array of strings";if("tags"===e[0]&&e.length>2||"tags"!==e[0]&&e.length>1)return n+" includes too many strings";if("tags"===e[0]&&e.length<2)return n+" does not specify an exact tag";if(e.length<1)return n+" does not specify a top-level field";var i=c.keys(u.FIELDS_V0_2),r=["age","frequency"];return t===s.FieldPurpose.FILTER&&(i.push("age"),r=["frequency"]),t===s.FieldPurpose.SORT&&(i=["time","age","frequency"],r=["name","type","category","tags"]),c.includes(r,e[0])?n+" is not supported here":c.includes(i,e[0])?void 0:n+" is unknown"},s.validateComparatorAndValue=function(e,t){var n="comparator "+(l.stringify(e)||String(e)),i="value "+(l.stringify(t)||String(t));if(!c.isString(e)&&!c.isUndefined(e))return n+" is not a string";switch(e){case void 0:case"eq":case"is":case"contains":break;case"lt":case"gt":case"lte":case"gte":if(!c.isNumber(t))return i+" is not a number (mandated by "+n+")";break;case"in":if(!c.isArray(t))return i+" is not an array (mandated by "+n+")";break;case"between":if(!(c.isArray(t)&&2===t.length&&c.isNumber(t[0])&&c.isNumber(t[1])&&t[0]<=t[1]))return i+" is not a pair of increasing numbers (mandated by "+n+")";break;case"regex":if(!(c.isString(t)||c.isArray(t)&&2===t.length&&c.isString(t[0])&&c.isString(t[1])))return i+" is not a pattern string or a [pattern string, flags string] array (mandated by "+n+")";break;case"exists":if(!c.isUndefined(t))return i+" is not undefined (mandated by "+n+")";break;default:return n+" is unknown"}}}),(function(e,t,n){var i=n(2),r=n(25),a=n(23),o=i.bind(a.log,a),s=n(24),c=n(19).getFieldValue,u=n(26),l=function(e,t,n){if(e.getValueOrDefault)return e.getValueOrDefault(t,n);if(!i.isArray(t))return n;var r=c(e,t);return"undefined"==typeof r&&(r=n),r},d=function(e){return"string"==typeof e?e.trim().toLowerCase():e};t.clause={WHERE:"where",GROUP_BY:"groupBy",AGGREGATE:"aggregate",HAVING:"having",ORDER_BY:"orderBy",SELECT:"select",OFFSET:"offset",LIMIT:"limit",FROM:"from"},t.DEFAULT_FIELD=["*"],t.booleanOperators={eq:function(e){var t=i.map(e,d);return t[0]==t[1]},is:function(e){return e[0]===e[1]},gt:function(e){return e[0]>e[1]},lt:function(e){return e[0]<e[1]},gte:function(e){return e[0]>=e[1]},lte:function(e){return e[0]<=e[1]},"in":function(e){var t=i.map(e[1]||[],d);return i.includes(t,d(e[0]))},between:function(e){return e[1][0]<=e[0]&&e[0]<=e[1][1]},contains:function(e){var t=i.map(e,(function(e){return"string"==typeof e?e.toLowerCase():e}));return(t[0]||"").indexOf(t[1])!==-1},regex:function(e){try{var t,n;return i.isString(e[1])?(t=e[1],n="i"):(t=e[1][0]||"",n=e[1][1]||""),new RegExp(t,n).test(e[0])}catch(e){return a.error("Rules",'In operator "regex", error: '+(e.message||"invalid RegExp /"+[t,n].join("/"))),!1}},exists:function(e){return"undefined"!=typeof e[0]},and:function(e){return i.every(e,(function(e){return e}))},or:function(e){return i.some(e,(function(e){return e}))},not:function(e){return!e[0]}},t.arithmeticOperators={"+":function(e){return(e[0]||0)+(e[1]||0)},"-":function(e){return(e[0]||0)-(e[1]||0)},"/":function(e){return(e[0]||0)/(e[1]||1)},"%":function(e){return(e[0]||0)%(e[1]||1)}},t.aggregateOperators={sum:function(e,n){for(var i=e[0]||t.DEFAULT_FIELD,r=0,a=0;a<n.length;a++)r+=l(n[a],i,0);return r},avg:function(e,n){if(0===n.length)return 0;for(var i=e[0]||t.DEFAULT_FIELD,r=0,a=0;a<n.length;a++)r+=l(n[a],i,0);return r/n.length},max:function(e,n){for(var i=e[0]||t.DEFAULT_FIELD,r=Number.NEGATIVE_INFINITY,a=0;a<n.length;a++)r=Math.max(r,l(n[a],i,Number.NEGATIVE_INFINITY));return r},min:function(e,n){for(var i=e[0]||t.DEFAULT_FIELD,r=Number.POSITIVE_INFINITY,a=0;a<n.length;a++)r=Math.min(r,l(n[a],i,Number.POSITIVE_INFINITY));return r},count:function(e,t){return t.length}};var f={now:function(){return s.now()}},g=function(e){return e in t.booleanOperators?t.booleanOperators[e]:e in t.arithmeticOperators?t.arithmeticOperators[e]:null},p=function(e,t){if(t.hasOwnProperty("value"))return t["value"];if(t.hasOwnProperty("field"))return l(e,t["field"]);if(t.hasOwnProperty("eval"))return t["eval"]in f?f[t["eval"]]():void a.error("Rules","Unknown function: "+t["eval"]);if(!t["op"])return void a.error("Rules","No operator specified: "+u.stringify(t));var n=g(t["op"]);if(!n)return void a.error("Rules","Unknown operator: "+t["op"]);var r=i.partial(p,e),o=t["args"]||[],s=i.map(o,(function(e){return r(e)}));return n(s,e)},h=function(e,t){var n={};if("undefined"==typeof e||!i.isArray(e)||0===e.length)return n["*"]={fieldValues:{},events:t},n;for(var r=i.map(e,(function(e){return e["field"]})),a=0;a<t.length;a++){for(var o=t[a],s=[],c={},d=0;d<r.length;d++){
var f=r[d],g=l(o,f),p=f.join(".");c[p]=g,s.push(encodeURIComponent(p)+"="+encodeURIComponent(u.stringify(g)))}var h=s.join("&");n.hasOwnProperty(h)||(n[h]={fieldValues:c,events:[]}),n[h].events.push(o)}return n};t.generateAlias=function(e,t){return"_"+e+"_"+t.join(".")};var _=function(e,n){var r={};return i.each(n,(function(n,i){r[i]={};for(var o=0;o<e.length;o++){var s=e[o],c=s["op"];if(c in t.aggregateOperators){var u=(s["args"]&&s["args"][0]||{})["field"]||t.DEFAULT_FIELD,l=t.generateAlias(c,u),d=t.aggregateOperators[c]([u],n.events);r[i][l]=d}else a.error("Rules","Unknown aggregate operator "+c)}})),r},v=function(e,t){var n=[];return i.each(e,(function(e,r){var a=i.extend({},e.fieldValues),o=t[r]||{};i.extend(a,o),n.push(a)})),n},m=function(e,t){return i.isArray(e)?0===e.length?t:t.sort((function(t,n){for(var i=0;i<e.length;i++){var r=e[i],a=r["direction"]||"ASC",o="ASC"===a?1:-1,s=r["field"],c=l(t,s,0),u=l(n,s,0);if(c<u)return-o;if(c>u)return o}return 0})):(o("Rules","groupBy rule must be an array"),t)};t.rewrite=function(e){function n(e,s){if(i.isArray(e)&&("and"!==e[0]&&"or"!==e[0]&&"not"!==e[0]&&a.error("Rules","Unexpected operation "+e[0]+". Continuing optimistically."),e={op:e[0],args:e.slice(1)}),e.hasOwnProperty("field")||e.hasOwnProperty("value")||e.hasOwnProperty("eval"))return e;if(s&&e["op"]in t.aggregateOperators){var c=(e["args"]&&e["args"][0]||{})["field"]||t.DEFAULT_FIELD,u=t.generateAlias(e["op"],c);return u in o||(r.push({op:e["op"],args:e["args"]}),o[u]=!0),{field:[u]}}for(var l=[],d=e["args"]||[],f=0;f<d.length;f++)l[f]=n(d[f],s);return{op:e["op"],args:l}}var r=[],o={},s={};e.hasOwnProperty(t.clause.WHERE)&&(s[t.clause.WHERE]=n(e[t.clause.WHERE],!1)),e.hasOwnProperty(t.clause.HAVING)&&(s[t.clause.HAVING]=n(e[t.clause.HAVING],!0)),(e.hasOwnProperty(t.clause.AGGREGATE)||r.length>0)&&(s[t.clause.AGGREGATE]=(e[t.clause.AGGREGATE]||[]).concat(r));for(var c=[t.clause.GROUP_BY,t.clause.ORDER_BY,t.clause.SELECT,t.clause.OFFSET,t.clause.LIMIT],u=0;u<c.length;u++)e.hasOwnProperty(c[u])&&(s[c[u]]=e[c[u]]);return e.hasOwnProperty(t.clause.FROM)&&(s[t.clause.FROM]=t.rewrite(e[t.clause.FROM])),s};var E=function(e,n){n=n||0;var r=[];if(e.hasOwnProperty(t.clause.WHERE)?e[t.clause.WHERE]["op"]?e[t.clause.WHERE]["op"]in t.booleanOperators||r.push("Non-boolean WHERE clause operator"):r.push("Missing WHERE clause operator"):r.push("Missing WHERE clause"),e.hasOwnProperty(t.clause.HAVING)&&(e[t.clause.HAVING]["op"]?e[t.clause.HAVING]["op"]in t.booleanOperators||r.push("Non-boolean HAVING clause operator"):r.push("Missing HAVING clause operator")),e.hasOwnProperty(t.clause.GROUP_BY)&&!e.hasOwnProperty(t.clause.AGGREGATE)&&r.push("No AGGREGATE clause specified with GROUP_BY clause"),e.hasOwnProperty(t.clause.SELECT)){var a=e[t.clause.SELECT];if(i.isArray(a))for(var o=0;o<a.length;o++)a[o]["op"]&&a[o]["op"]in t.aggregateOperators&&r.push('In SELECT clause, aggregate operator "'+a[o]["op"]+'" specified in selector at index '+o);else r.push("SELECT clause must be an array")}if(e.hasOwnProperty(t.clause.OFFSET)){var s=e[t.clause.OFFSET];(!i.isNumber(s)||Number(s)<0||Number(s)!==Math.floor(Number(s)))&&r.push("OFFSET must be a non-negative integer")}if(e.hasOwnProperty(t.clause.LIMIT)){var c=e[t.clause.LIMIT];(!i.isNumber(c)||Number(c)<0||Number(c)!==Math.floor(Number(c)))&&r.push("LIMIT must be a non-negative integer")}return n>0&&(r=i.map(r,(function(e){return"Sub-rule "+n+": "+e}))),e.hasOwnProperty(t.clause.FROM)&&(r=r.concat(E(e[t.clause.FROM],n+1))),r},I=function(e,t){return i.map(t,(function(t){return i.map(e,(function(e){return p(t,e)}))}))},y=function(e,n){var r=n;if(e.hasOwnProperty(t.clause.FROM)&&(a.debug("Evaluating FROM clause:",e[t.clause.FROM]),r=y(e[t.clause.FROM],r),a.debug("Results after FROM:",r)),a.debug("Evaluating WHERE clause:",e[t.clause.WHERE]),r=i.filter(r,(function(n){return p(n,e[t.clause.WHERE])})),a.debug("Results after WHERE:",r),e.hasOwnProperty(t.clause.AGGREGATE)){a.debug("Evaluating AGGREGATE clause:",e[t.clause.AGGREGATE]);var o=h(e[t.clause.GROUP_BY],r),s=_(e[t.clause.AGGREGATE],o);r=v(o,s),a.debug("Results after AGGREGATE:",r)}e.hasOwnProperty(t.clause.HAVING)&&(a.debug("Evaluating HAVING clause:",e[t.clause.HAVING]),r=i.filter(r,(function(n){return p(n,e[t.clause.HAVING])})),a.debug("Results after HAVING:",r)),e.hasOwnProperty(t.clause.ORDER_BY)&&(a.debug("Evaluating ORDER_BY clause:",e[t.clause.ORDER_BY]),r=m(e[t.clause.ORDER_BY],r),a.debug("Results after ORDER_BY:",r));var c=0;e.hasOwnProperty(t.clause.OFFSET)&&(a.debug("Evaluating OFFSET clause:",e[t.clause.OFFSET]),c=Number(e[t.clause.OFFSET]));var u;return e.hasOwnProperty(t.clause.LIMIT)&&(a.debug("Evaluating LIMIT clause:",e[t.clause.LIMIT]),u=c+Number(e[t.clause.LIMIT])),(c>0||!i.isUndefined(u))&&(r=r.slice(c,u),a.debug("Results after OFFSET/LIMIT:",r)),e.hasOwnProperty(t.clause.SELECT)&&(a.debug("Evaluating SELECT clause:",e[t.clause.SELECT]),r=I(e[t.clause.SELECT],r),a.debug("Results after SELECT:",r)),r};t.execute=function(e,n){e=t.rewrite(e),a.shouldLog(r.LogLevel.DEBUG)&&a.groupCollapsed("Evaluating Behavioral Rule"),a.debug("Rule:",e,u.stringify(e)),a.debug("Events:",n);var i=E(e);if(i.length>0)throw new Error("Rule "+u.stringify(e)+" has violations: "+i.join("\n"));var o=y(e,n);return a.debug("Rule result:",o),a.shouldLog(r.LogLevel.DEBUG)&&a.groupEnd(),o},t.isSatisfied=function(e,n){try{return t.execute(e,n).length>0}catch(t){return a.error("Rules","Error "+t.toString()+" while evaluating rule "+u.stringify(e)),!1}}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(156))}}),(function(e,t,n){var i=n(2),r=n(157),a=n(151),o=n(26),s=n(153);e.exports={provides:"customBehavior",shouldTrack:!0,isLazy:!1,getter:["stores/global","stores/visitor_attribute_entity",function(e,t){var n=e.getProjectId(),c=i.filter(i.map(t.getCustomBehavioralAttributes(n),(function(e){try{return{id:e.id,granularity:r.GRANULARITY.ALL,rule:s.buildFromSpecV0_2(o.parse(e.rule_json))}}catch(e){return}}))),u=a.getEvents();return r.evaluate(c,u)}]}}),(function(e,t,n){function i(e){if(0===e.length)return[];for(var t=e.length-1,n=o.FIELDS.SESSION_ID,i=e[t][n];t>0&&i===e[t-1][n];)t--;return e.slice(t)}function r(e,t){if(0===e.length||t<=0)return[];var n=+new Date-t*s.MILLIS_IN_A_DAY;n-=n%s.MILLIS_IN_A_DAY;for(var i=e.length;i>0&&n<=e[i-1][o.FIELDS.TIME];)i--;return e.slice(i)}var a=n(23),o={FIELDS:n(63).FIELDS},s=n(153),c=n(154);t.GRANULARITY={ALL:"all",CURRENT_SESSION:"current_session",LAST_30_DAYS:"last_30_days",LAST_60_DAYS:"last_60_days"},t.evaluate=function(e,n){var o={};if(0===n.length){for(var s=0;s<e.length;s++)o[e[s].id]=e[s].defaultValue;return o}var u=i(n),l=r(n,60);for(s=0;s<e.length;s++){var d=e[s],f=n;d.granularity===t.GRANULARITY.CURRENT_SESSION?f=u:d.granularity===t.GRANULARITY.LAST_60_DAYS&&(f=l);try{var g=f;d.rule&&(g=c.execute(d.rule,f)),o[d.id]=d.defaultValue,1===g.length?o[d.id]=g[0][0]||d.defaultValue:a.debug("Behavior / Rule for",d.id,"returned",g.length,"results, expected 1")}catch(e){a.error("Behavior / Rule for",d.id,"failed with",e.message||"")}}return o}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(159)),e.registerAudienceMatcher("first_session",n(160))}}),(function(e,t,n){var i=n(63),r=n(151),a=n(19).getFieldValue,o=n(88).CURRENT_SESSION_INDEX;e.exports={provides:"first_session",shouldTrack:!0,getter:[function(){var e=r.getEvents();if(e&&e.length>0){var t=e[0],n=a(t,[i.FIELDS.SESSION_INDEX]);return n===o}return!0}]}}),(function(e,t){e.exports={fieldsNeeded:["first_session"],match:function(e){return!!e.first_session}}}),(function(e,t,n){e.exports=function(e){e.registerApiModule("behavior",n(162))}}),(function(e,t,n){function i(e,t){var n=d.buildFromSpecV0_1(t);if(1!==n.length)throw new Error("Invalid query descriptor; verify that no aggregators are specified");return f.execute(n[0],e)}function r(e,t){return u.map(e,(function(e){return u.isFunction(e.toObject)?e.toObject(t):e}))}function a(e,t){if(!e)return["Descriptor not defined"];var n=[];return e.count&&n.push('Unexpected "count" clause specified'),e.pick&&e.pick.modifier&&t.indexOf(e.pick.modifier)===-1&&n.push('Invalid "pick" modifier "'+e.pick.modifier+'"'),u.each(e.filters,(function(e){u.isUndefined(e.modifier)||n.push('Unexpected "filter" modifier "'+e.modifier+'"')})),n.length>0?n:void 0}function o(e,t){var n,o={revenueAsTag:!1,timeAsTimestamp:!0};if(u.isUndefined(t))return n=l.getEvents(e),r(n,o);if(u.isNumber(t)){if(t<=0)throw new Error("Count must be a positive integer, got "+t);return n=l.getEvents(e),r(n.slice(-t),o)}var s=a(t,u.values(d.RECENCY_FILTERS));if(s)throw new Error(s.join("\n"));return n=l.getEvents(e),r(i(n,t),o)}function s(e,t){if(t=u.cloneDeep(t)||{},!t.pick)throw new Error('No "pick" clause provided in query descriptor');if(!t.pick.name)throw new Error('No field name provided in "pick" clause');t.pick.modifier=t.pick.modifier||d.FREQUENCY_FILTERS.MOST_FREQUENT;var n=a(t,u.values(d.FREQUENCY_FILTERS));if(n)throw new Error(n.join("\n"));var r=l.getEvents(e);return i(r,t)}function c(e,t){var n=d.buildFromSpecV0_2(t),i=l.getEvents(e),a=r(f.execute(n,i),{revenueAsTag:!0,timeAsTimestamp:!1});return(t.pick||t.reduce&&"count"===t.reduce.aggregator)&&(a=u.flatten(a)),t.reduce&&(a=a[0]),a}var u=n(2),l=n(151),d=n(153),f=n(154);e.exports=["stores/visitor_events",function(e){return{getEvents:u.partial(o,e),getByFrequency:u.partial(s,e),query:u.partial(c,e)}}]}),(function(e,t,n){e.exports=function(e){e.registerDependency("sources/browser_id",n(164)),e.registerVisitorProfileProvider(n(168)),e.registerVisitorProfileProvider(n(169)),e.registerAudienceMatcher("browser_version",n(170))}}),(function(e,t,n){var i=n(165);t.getId=function(){return i.get().browser.id},t.getVersion=function(){return i.get().browser.version}}),(function(e,t,n){var i=n(2),r=n(166),a=n(40),o=n(7),s=n(16),c=n(9),u=s.get("stores/ua_data");t.get=function(){var e=u.get();return i.isEmpty(e)&&(e=r.parseUA(a.getUserAgent()),c.dispatch(o.SET_UA_DATA,{data:e})),e}}),(function(e,t,n){function i(e){if(e=(e||"").toLowerCase(),e in c)return e;var t=a.keys(c);return a.find(t,(function(t){var n=c[t];return a.includes(n,e)}))||"unknown"}function r(e,t,n){return t?t:"unknown"===e?"unknown":n?"mobile":"desktop_laptop"}var a=n(2),o=n(167);t.parseUA=function(e){var t=new o(e),n=t.getBrowser(),a=t.getOS(),c=t.getDevice(),l=(a.name||"unknown").toLowerCase(),d=(n.name||"unknown").toLowerCase(),f=s(c.type,d,l);return{browser:{id:i(n.name),version:n.version},platform:{name:l,version:a.version},device:{model:u[c.model]||"unknown",type:r(d,c.type,f),isMobile:f}}};var s=function(e,t,n){if(a.includes(["mobile","tablet"],e))return!0;if(a.includes(["opera mini"],t))return!0;var i=["android","blackberry","ios","windows phone"];return!!a.includes(i,n)},c={gc:["chrome","chromium","silk","yandex","maxthon","chrome webview"],edge:["edge"],ie:["internet explorer","iemobile"],ff:["firefox","iceweasel"],opera:["opera","opera mini","opera tablet"],safari:["safari","mobile safari","webkit"],ucbrowser:["uc browser"]},u={iPhone:"iphone",iPad:"ipad"}}),(function(e,t,n){var i;/*!
	 * UAParser.js v0.7.24
	 * Lightweight JavaScript-based User-Agent string parser
	 * https://github.com/faisalman/ua-parser-js
	 *
	 * Copyright  2012-2021 Faisal Salman <f@faisalman.com>
	 * Licensed under MIT License
	 */
!(function(r,a){"use strict";var o="0.7.24",s="",c="?",u="function",l="undefined",d="object",f="string",g="major",p="model",h="name",_="type",v="vendor",m="version",E="architecture",I="console",y="mobile",S="tablet",T="smarttv",A="wearable",w="embedded",R={extend:function(e,t){var n={};for(var i in e)t[i]&&t[i].length%2===0?n[i]=t[i].concat(e[i]):n[i]=e[i];return n},has:function(e,t){return"string"==typeof e&&t.toLowerCase().indexOf(e.toLowerCase())!==-1},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e===f?e.replace(/[^\d\.]/g,"").split(".")[0]:a},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},b={rgx:function(e,t){for(var n,i,r,o,s,c,l=0;l<t.length&&!s;){var f=t[l],g=t[l+1];for(n=i=0;n<f.length&&!s;)if(s=f[n++].exec(e))for(r=0;r<g.length;r++)c=s[++i],o=g[r],typeof o===d&&o.length>0?2==o.length?typeof o[1]==u?this[o[0]]=o[1].call(this,c):this[o[0]]=o[1]:3==o.length?typeof o[1]!==u||o[1].exec&&o[1].test?this[o[0]]=c?c.replace(o[1],o[2]):a:this[o[0]]=c?o[1].call(this,c,o[2]):a:4==o.length&&(this[o[0]]=c?o[3].call(this,c.replace(o[1],o[2])):a):this[o]=c?c:a;l+=2}},str:function(e,t){for(var n in t)if(typeof t[n]===d&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(R.has(t[n][i],e))return n===c?a:n}else if(R.has(t[n],e))return n===c?a:n;return e}},D={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},O={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6}).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[h,m],[/(opios)[\/\s]+([\w\.]+)/i],[[h,"Opera Mini"],m],[/\s(opr)\/([\w\.]+)/i],[[h,"Opera"],m],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[h,m],[/(konqueror)\/([\w\.]+)/i],[[h,"Konqueror"],m],[/(trident).+rv[:\s]([\w\.]{1,9}).+like\sgecko/i],[[h,"IE"],m],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[h,"Edge"],m],[/(yabrowser)\/([\w\.]+)/i],[[h,"Yandex"],m],[/(Avast)\/([\w\.]+)/i],[[h,"Avast Secure Browser"],m],[/(AVG)\/([\w\.]+)/i],[[h,"AVG Secure Browser"],m],[/(puffin)\/([\w\.]+)/i],[[h,"Puffin"],m],[/(focus)\/([\w\.]+)/i],[[h,"Firefox Focus"],m],[/(opt)\/([\w\.]+)/i],[[h,"Opera Touch"],m],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[h,"UCBrowser"],m],[/(comodo_dragon)\/([\w\.]+)/i],[[h,/_/g," "],m],[/(windowswechat qbcore)\/([\w\.]+)/i],[[h,"WeChat(Win) Desktop"],m],[/(micromessenger)\/([\w\.]+)/i],[[h,"WeChat"],m],[/(brave)\/([\w\.]+)/i],[[h,"Brave"],m],[/(whale)\/([\w\.]+)/i],[[h,"Whale"],m],[/(qqbrowserlite)\/([\w\.]+)/i],[h,m],[/(QQ)\/([\d\.]+)/i],[h,m],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[h,m],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[h,m],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[h,m],[/(MetaSr)[\/\s]?([\w\.]+)/i],[h],[/(LBBROWSER)/i],[h],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[m,[h,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[m,[h,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[h,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[h,m],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[m,[h,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[h,/(.+)/,"$1 WebView"],m],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[h,/(.+(?:g|us))(.+)/,"$1 $2"],m],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[m,[h,"Android Browser"]],[/(coc_coc_browser)\/([\w\.]+)/i],[[h,"Coc Coc"],m],[/(sailfishbrowser)\/([\w\.]+)/i],[[h,"Sailfish Browser"],m],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[h,m],[/(dolfin)\/([\w\.]+)/i],[[h,"Dolphin"],m],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[h,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[h,"Chrome"],m],[/(coast)\/([\w\.]+)/i],[[h,"Opera Coast"],m],[/fxios\/([\w\.-]+)/i],[m,[h,"Firefox"]],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[m,[h,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[m,h],[/webkit.+?(gsa)\/([\w\.]+)\s.*(mobile\s?safari|safari)(\/[\w\.]+)/i],[[h,"GSA"],m],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[h,[m,b.str,D.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[h,m],[/(navigator|netscape)\/([\w\.-]+)/i],[[h,"Netscape"],m],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[h,m]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[E,"amd64"]],[/(ia32(?=;))/i],[[E,R.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[E,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[E,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[E,/ower/,"",R.lowerize]],[/(sun4\w)[;\)]/i],[[E,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[E,R.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[p,v,[_,S]],[/applecoremedia\/[\w\.]+ \((ipad)/],[p,[v,"Apple"],[_,S]],[/(apple\s{0,1}tv)/i],[[p,"Apple TV"],[v,"Apple"],[_,T]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[v,p,[_,S]],[/(kf[A-z]+)(\sbuild\/|\)).+silk\//i],[p,[v,"Amazon"],[_,S]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[p,b.str,D.device.amazon.model],[v,"Amazon"],[_,y]],[/android.+aft([\w])(\sbuild\/|\))/i],[p,[v,"Amazon"],[_,T]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[p,v,[_,y]],[/\((ip[honed|\s\w*]+);/i],[p,[v,"Apple"],[_,y]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[v,p,[_,y]],[/\(bb10;\s(\w+)/i],[p,[v,"BlackBerry"],[_,y]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[p,[v,"Asus"],[_,S]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[v,"Sony"],[p,"Xperia Tablet"],[_,S]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[p,[v,"Sony"],[_,y]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[v,p,[_,I]],[/android.+;\s(shield)\sbuild/i],[p,[v,"Nvidia"],[_,I]],[/(playstation\s[34portablevi]+)/i],[p,[v,"Sony"],[_,I]],[/(sprint\s(\w+))/i],[[v,b.str,D.device.sprint.vendor],[p,b.str,D.device.sprint.model],[_,y]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[v,[p,/_/g," "],[_,y]],[/(nexus\s9)/i],[p,[v,"HTC"],[_,S]],[/d\/huawei([\w\s-]+)[;\)]/i,/android.+\s(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?)/i],[p,[v,"Huawei"],[_,y]],[/android.+(bah2?-a?[lw]\d{2})/i],[p,[v,"Huawei"],[_,S]],[/(microsoft);\s(lumia[\s\w]+)/i],[v,p,[_,y]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[p,[v,"Microsoft"],[_,I]],[/(kin\.[onetw]{3})/i],[[p,/\./g," "],[v,"Microsoft"],[_,y]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[p,[v,"Motorola"],[_,y]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[p,[v,"Motorola"],[_,S]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[v,R.trim],[p,R.trim],[_,T]],[/hbbtv.+maple;(\d+)/i],[[p,/^/,"SmartTV"],[v,"Samsung"],[_,T]],[/\(dtv[\);].+(aquos)/i],[p,[v,"Sharp"],[_,T]],[/android.+((sch-i[89]0\d|shw-m380s|SM-P605|SM-P610|SM-P587|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[v,"Samsung"],p,[_,S]],[/smart-tv.+(samsung)/i],[v,[_,T],p],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[v,"Samsung"],p,[_,y]],[/sie-(\w*)/i],[p,[v,"Siemens"],[_,y]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[v,"Nokia"],p,[_,y]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[p,[v,"Acer"],[_,S]],[/android.+([vl]k\-?\d{3})\s+build/i],[p,[v,"LG"],[_,S]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[v,"LG"],p,[_,S]],[/linux;\snetcast.+smarttv/i,/lg\snetcast\.tv-201\d/i],[[v,"LG"],p,[_,T]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[p,[v,"LG"],[_,y]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[v,p,[_,S]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[p,[v,"Lenovo"],[_,S]],[/(lenovo)[_\s-]?([\w-]+)/i],[v,p,[_,y]],[/linux;.+((jolla));/i],[v,p,[_,y]],[/((pebble))app\/[\d\.]+\s/i],[v,p,[_,A]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[v,p,[_,y]],[/crkey/i],[[p,"Chromecast"],[v,"Google"],[_,T]],[/android.+;\s(glass)\s\d/i],[p,[v,"Google"],[_,A]],[/android.+;\s(pixel c)[\s)]/i],[p,[v,"Google"],[_,S]],[/android.+;\s(pixel( [2-9]a?)?( xl)?)[\s)]/i],[p,[v,"Google"],[_,y]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/android.+(redmi[\s\-_]?(?:note|k)?(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i,/android.+(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[p,/_/g," "],[v,"Xiaomi"],[_,y]],[/android.+(mi[\s\-_]?(?:pad)(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i],[[p,/_/g," "],[v,"Xiaomi"],[_,S]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[p,[v,"Meizu"],[_,y]],[/(mz)-([\w-]{2,})/i],[[v,"Meizu"],p,[_,y]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[p,[v,"OnePlus"],[_,y]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[p,[v,"RCA"],[_,S]],[/android.+[;\/\s](Venue[\d\s]{2,7})\s+build/i],[p,[v,"Dell"],[_,S]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[p,[v,"Verizon"],[_,S]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(\S(?:.*\S)?)\s+build/i],[[v,"Barnes & Noble"],p,[_,S]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[p,[v,"NuVision"],[_,S]],[/android.+;\s(k88)\sbuild/i],[p,[v,"ZTE"],[_,S]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[p,[v,"Swiss"],[_,y]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[p,[v,"Swiss"],[_,S]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[p,[v,"Zeki"],[_,S]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[v,"Dragon Touch"],p,[_,S]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[p,[v,"Insignia"],[_,S]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[p,[v,"NextBook"],[_,S]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[v,"Voice"],p,[_,y]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[v,"LvTel"],p,[_,y]],[/android.+;\s(PH-1)\s/i],[p,[v,"Essential"],[_,y]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[p,[v,"Envizen"],[_,S]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[v,p,[_,S]],[/android.+[;\/]\s*(Trio[\s\w\-\.]+)\s+build/i],[p,[v,"MachSpeed"],[_,S]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[v,p,[_,S]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[p,[v,"Rotor"],[_,S]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[v,p,[_,S]],[/android .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[p,[_,y]],[/android .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[p,[_,S]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[_,R.lowerize],v,p],[/[\s\/\(](smart-?tv)[;\)]/i],[[_,T]],[/(android[\w\.\s\-]{0,9});.+build/i],[p,[v,"Generic"]],[/(phone)/i],[[_,y]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[m,[h,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[h,m],[/rv\:([\w\.]{1,9}).+(gecko)/i],[m,h]],os:[[/(xbox);\s+xbox\s([^\);]+)/i,/microsoft\s(windows)\s(vista|xp)/i],[h,m],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[h,[m,b.str,D.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[h,"Windows"],[m,b.str,D.os.windows.version]],[/\((bb)(10);/i],[[h,"BlackBerry"],m],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[h,m],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[h,"Symbian"],m],[/\((series40);/i],[h],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[h,"Firefox OS"],m],[/crkey\/([\d\.]+)/i],[m,[h,"Chromecast"]],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[h,m],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[h,"Chromium OS"],m],[/(sunos)\s?([\w\.\d]*)/i],[[h,"Solaris"],m],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[h,m],[/(haiku)\s(\w+)/i],[h,m],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[m,/_/g,"."],[h,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[h,"Mac OS"],[m,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[h,m]]},N=function(e,t){if("object"==typeof e&&(t=e,e=a),!(this instanceof N))return new N(e,t).getResult();var n=e||(r&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:s),i=t?R.extend(O,t):O;return this.getBrowser=function(){var e={name:a,version:a};return b.rgx.call(e,n,i.browser),e.major=R.major(e.version),e},this.getCPU=function(){var e={architecture:a};return b.rgx.call(e,n,i.cpu),e},this.getDevice=function(){var e={vendor:a,model:a,type:a};return b.rgx.call(e,n,i.device),e},this.getEngine=function(){var e={name:a,version:a};return b.rgx.call(e,n,i.engine),e},this.getOS=function(){var e={name:a,version:a};return b.rgx.call(e,n,i.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};N.VERSION=o,N.BROWSER={NAME:h,MAJOR:g,VERSION:m},N.CPU={ARCHITECTURE:E},N.DEVICE={MODEL:p,VENDOR:v,TYPE:_,CONSOLE:I,MOBILE:y,SMARTTV:T,TABLET:S,WEARABLE:A,EMBEDDED:w},N.ENGINE={NAME:h,VERSION:m},N.OS={NAME:h,VERSION:m},typeof t!==l?(typeof e!==l&&e.exports&&(t=e.exports=N),t.UAParser=N):(i=function(){return N}.call(t,n,t,e),!(i!==a&&(e.exports=i)))})("object"==typeof window?window:this)}),(function(e,t){e.exports={provides:"browserId",shouldTrack:!0,isSticky:!0,getter:["sources/browser_id",function(e){return e.getId()}]}}),(function(e,t){e.exports={provides:"browserVersion",getter:["sources/browser_id",function(e){return e.getVersion()}]}}),(function(e,t,n){var i=n(171).compareVersion;e.exports={fieldsNeeded:["browserVersion","browserId"],match:function(e,t){var n=t.value,r=e.browserId,a=e.browserVersion;if(0===n.indexOf(r)){var o=n.substr(r.length);return 0===i(a,o)}return!1}}}),(function(e,t,n){var i=n(2);t.compareVersion=function(e,t){if(!t)return 0;for(var n=t.toString().split("."),r=e.toString().split("."),a=0;a<n.length;a++){if(i.isUndefined(r[a]))return-1;if(isNaN(Number(r[a]))){if(r[a]!==n[a])return-1}else{if(Number(r[a])<Number(n[a]))return-1;if(Number(r[a])>Number(n[a]))return 1}}return 0}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(173)),e.registerAudienceMatcher("campaign",n(174))}}),(function(e,t,n){var i=n(118);e.exports={provides:"campaign",shouldTrack:!0,isSticky:!0,getter:[function(){return i.getQueryParamValue("utm_campaign")}]}}),(function(e,t,n){var i=n(20);e.exports={fieldsNeeded:["campaign"],match:function(e,t){return i.hasMatch(t.value,t.match,e.campaign)}}}),(function(e,t,n){e.exports=function(e){e.registerAudienceMatcher("code",n(176))}}),(function(e,t,n){var i=n(2),r=n(143);t.fieldsNeeded=[],t.match=function(e,t){if(i.isUndefined(t.value))return!0;if("function"==typeof t.value)try{return Boolean(r.apply(t.value))}catch(e){return!1}else try{return Boolean(r.eval(t.value))}catch(e){return!1}return!1}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(178)),e.registerAudienceMatcher("cookies",n(179))}}),(function(e,t,n){var i=n(2),r=n(74),a=n(16),o=a.get("stores/audience_data");e.exports={provides:"cookies",isLazy:!0,getter:[function(){var e=r.getAll(),t=o.getFeaturesNeeded("cookies");return i.reduce(e,(function(e,n,r){return i.has(t,r)&&(e[r]=n),e}),{})}]}}),(function(e,t,n){var i=n(20);e.exports={fieldsNeeded:["cookies"],match:function(e,t){var n=t.name,r=t.value,a=t.match,o=e.cookies[n];return i.hasMatch(r,a,o)}}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(181));var t=n(182);e.registerAudienceMatcher("custom_attribute",t),e.registerAudienceMatcher("custom_dimension",t)}}),(function(e,t,n){var i=n(2),r=n(25),a=n(23),o=n(16),s=o.get("stores/dimension_data");e.exports={provides:"custom",attributionType:r.AttributionTypes.LAST_TOUCH,restorer:function(e){return i.reduce(e,(function(e,t,n){var r=n,o=s.getByApiName(n),c=s.getById(n),u=c;return i.isObject(t)?(!t.id&&o&&(u=o,r=o.id,i.extend(t,{id:u.segmentId||u.id})),t.name||u&&u.apiName&&(t.name=u.apiName),t.id||u||a.warn("Unable to determine ID for custom attribute:",n,"; segmentation is disabled."),e[r]=t,e):(a.error('Unable to restore custom attribute "'+n+'" because value is not an object'),e)}),{})},shouldTrack:!0}}),(function(e,t,n){var i=n(2),r=n(20);t.match=function(e,t){var n;return e.custom&&(n=e.custom[t.name]),i.isObject(n)&&(n=n.value),r.hasMatch(t.value,t.match,n)}}),(function(e,t,n){e.exports=function(e){e.registerApiModule("dcp",n(184)),e.registerDependency("sources/dcp",n(185)),e.registerVisitorProfileProvider(n(186)),e.registerAudienceMatcher("dynamic_customer_profile",n(188))}}),(function(e,t,n){function i(e,t,n){var i=a(e,n),r=t.getAttribute("dcpData");if(r)return o(i,r)}function r(e,t,n,i){var r=a(e,i),u=t.getAttribute("dcpData");if(u){var l=o(r,u);if(!s.isUndefined(l))return c.resolve(l)}var d=n.getPendingAttributeValue("dcpData");return d.then(s.partial(o,r))}function a(e,t){var n=e.getVisitorAttribute(t);if(!n.dcp_datasource_id)throw new Error("Unrecognized DCP data source ID");return n}function o(e,t){var n=t.attributes||{},i=n[e.dcp_datasource_id]||{};return i[e.id]}var s=n(2),c=n(12).Promise;e.exports=["stores/visitor_attribute_entity","stores/visitor","stores/provider_status",function(e,t,n){return{getAttributeValue:s.partial(i,e,t),waitForAttributeValue:s.partial(r,e,t,n)}}]}),(function(e,t,n){function i(e){var t;if(e.projectId){if(!e.optlyDatasourceId)return c.error("DCP / No Optimizely datasource id passed to getBaseURL."),null;t=[e.projectId,e.optlyDatasourceId.toString(),e.uid]}else t=["snippet",e.snippetId,e.dcpServiceId,e.uid];var n=r.map(t,encodeURIComponent),i=[g].concat(n).join("/"),a=r.map(e.currentAliases,(function(e,t){return encodeURIComponent(t)+"="+encodeURIComponent(e)}));return r.isEmpty(a)||(i+="?"+a.join("&")),i}var r=n(2),a=n(6),o=n(75).create,s=n(26),c=n(23),u=n(12).Promise,l=n(90),d=t.DCPError=o("DCPError"),f="dcps";t.fetchDCPData=function(e){var t=i(e);if(!t)return u.resolve({});var n=r.partial(l.request,{url:t}),o=f+"_"+t;return a.makeAsyncRequest(o,(function(){n().then((function(e){var t;if(e.status>399)throw new d(e.status+": "+e.statusText);try{t=s.parse(e.response)}catch(e){throw new d("Error parsing response: "+e.toString())}if(!t)throw new d("No data received");return t}),(function(e){throw new d(e.status+": "+e.statusText)})).then(r.partial(a.resolveRequest,o),r.partial(a.rejectRequest,o))})).then((function(e){return e}))};var g="https://tapi.optimizely.com/api/targeting"}),(function(e,t,n){var i=n(2),r=n(187);e.exports={provides:"dcpData",isAsync:!0,isLazy:!1,getter:["stores/global","stores/visitor_id","stores/visitor","sources/dcp",function(e,t,n,a){return function(n,o){var s=e.getDCPKeyfieldLocators(),c=t.getBucketingId();if(!c)throw new Error("DCP: No bucketingId set");var u={},l=e.getProjectId(),d=e.getSnippetId();if(d===l){var f=e.getDCPServiceId();if(!f)throw new Error("DCP: No dcpServiceId configured in Snippet");i.extend(u,{dcpServiceId:e.getDCPServiceId(),snippetId:d})}else{var g=i.find(s,(function(e){return e.is_optimizely}));if(!g||!g.dcp_datasource_id)throw new Error("DCP: No Optimizely datasource found in keyfield locators for Project");i.extend(u,{projectId:l,optlyDatasourceId:g.dcp_datasource_id})}var p=n()||{},h=r.getCurrentAliases(s,c),_=i.matches(h)(p.aliases||{});return _||o(void 0),i.extend(u,{uid:c,currentAliases:h}),a.fetchDCPData(u)}}]}}),(function(e,t,n){var i=n(2),r=n(118),a=n(74),o=n(23),s=n(40),c={COOKIE:"cookie",JS_VARIABLE:"js_variable",QUERY_PARAM:"query_param",UID:"uid"};t.getCurrentAliases=function(e,t){var n={};return i.each(e,(function(e){if(!e.is_optimizely){var u=e.dcp_datasource_id,l=e.type,d=e.name||"";if(!u)return void o.error("DCP / No DCP datasource id specified");var f=null;switch(l){case c.COOKIE:f=a.get(d);break;case c.JS_VARIABLE:try{f=s.getGlobal(d)}catch(e){o.warn("Failed getting global DCP keyfieldLocator:",d)}break;case c.QUERY_PARAM:f=r.getQueryParamValue(d);break;case c.UID:f=t}(i.isNumber(f)||i.isString(f))&&(n[u]=f)}})),n}}),(function(e,t){t.fieldsNeeded=["dcpData"],t.match=function(e,t){var n=e.dcpData||{},i=n.conditionValuesResults||{};return!!i[t.value]}}),(function(e,t,n){e.exports=function(e){e.registerDependency("sources/device",n(190)),e.registerVisitorProfileProvider(n(191)),e.registerAudienceMatcher("device",n(192))}}),(function(e,t,n){var i=n(165);t.getDevice=function(){var e=i.get().device;return"unknown"!==e.model?e.model:"tablet"===e.type?"tablet":e.isMobile?"mobile":"desktop"}}),(function(e,t){e.exports={provides:"device",shouldTrack:!0,isSticky:!0,getter:["sources/device",function(e){return e.getDevice()}]}}),(function(e,t){e.exports={fieldsNeeded:["device"],match:function(e,t){return e.device===t.value}}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(194)),e.registerAudienceMatcher("device_type",n(195))}}),(function(e,t,n){var i=n(165);e.exports={provides:"device_type",shouldTrack:!0,isSticky:!0,getter:[function(){var e=i.get().device;switch(e.type){case"mobile":return"phone";case"tablet":case"desktop_laptop":return e.type;default:return"other"}}]}}),(function(e,t){e.exports={fieldsNeeded:["device_type"],match:function(e,t){return e.device_type===t.value}}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(197)),e.registerAudienceMatcher("location",n(199))}}),(function(e,t,n){var i=n(198);e.exports={provides:"location",isAsync:!0,getter:[function(){return i.getIPDerivedGeolocation()}]}}),(function(e,t,n){function i(){a.addScriptAsync(s)}var r=n(6),a=n(131),o="cdn3";t.getIP=function(){return r.makeAsyncRequest(o,i).then((function(e){return e.ip}))},t.getIPDerivedGeolocation=function(){return r.makeAsyncRequest(o,i).then((function(e){return e.location}))};var s="//cdn3.optimizely.com/js/geo4.js"}),(function(e,t){t.fieldsNeeded=["location"],t.match=function(e,t){if(!e.hasOwnProperty("location"))return!1;var n=e.location,i=t.value,r=i.split("|"),a=(r[0]||"").trim(),o=(r[1]||"").trim(),s=(r[2]||"").trim(),c=(r[3]||"").trim(),u=(r.length>4&&r[4]||"").trim();switch(r.length){case 1:if(n.country===a)return!0;break;case 2:if(n.region===o&&n.country===a)return!0;break;case 3:if(n.city===s&&(n.region===o||""===o)&&n.country===a)return!0;break;case 4:if(n.continent===c)return!0;break;case 5:if(n.dma===u)return!0}return!1}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(201)),e.registerAudienceMatcher("query",n(202))}}),(function(e,t,n){var i=n(118);e.exports={provides:"queryParams",getter:[function(){return i.getQueryParams()}]}}),(function(e,t,n){var i=n(2),r=n(20);t.fieldsNeeded=["queryParams"],t.match=function(e,t){var n=i.find(e.queryParams,(function(e){return e[0]===t.name}));return r.hasMatch(t.value,t.match,n?n[1]:null)}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(204)),e.registerAudienceMatcher("referrer",n(205))}}),(function(e,t,n){var i=n(79),r=n(98);e.exports={provides:"referrer",shouldTrack:!0,isSticky:!0,getter:[function(){var e=r.getReferrer()||i.getReferrer();return""===e&&(e=null),e}]}}),(function(e,t,n){var i=n(206);t.fieldsNeeded=["referrer"],t.match=function(e,t){return null!==e.referrer&&i(e.referrer,t)}}),(function(e,t,n){function i(e){var t=e.indexOf("?");return t!==-1&&(e=e.substring(0,t)),t=e.indexOf("#"),t!==-1&&(e=e.substring(0,t)),e}function r(e){return a(i(e))}function a(e,t){e=e.replace("/?","?"),e=e.toLowerCase().replace(/[/&?]+$/,"");var n=l.slice(0);t||(n=n.concat(c));for(var i=n.length,r=0;r<i;r++){var a=n[r],o=new RegExp("^"+a);e=e.replace(o,"")}return e}function o(e){var t=e.split("?");if(t[1]){var n=t[1].split("#"),i=n[0],r=n[1],a=i.split("&"),o=[];return s.each(a,(function(e){0!==e.indexOf(u)&&o.push(e)})),t[1]="",o.length>0&&(t[1]="?"+o.join("&")),r&&(t[1]+="#"+r),t.join("")}return e}var s=n(2);e.exports=function(e,t){e=o(e);var n=t.value;switch(t.match){case"exact":return e=a(e),e===a(n);case"regex":try{return Boolean(e.match(n))}catch(e){}return!1;case"simple":return e=r(e),n=r(n),e===n;case"substring":return e=a(e,!0),n=a(n,!0),e.indexOf(n)!==-1;default:return!1}};var c=["www."],u="optimizely_",l=["https?://.*?.?optimizelyedit.(com|test)/","https?://.*.?optimizelypreview.(com|test)/","https?://(edit|preview)(-hrd|-devel)?.optimizely.(com|test)/","https?://.*?.?optimizelyedit(-hrd)?.appspot.com/","https?://"]}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(208)),e.registerAudienceMatcher("source_type",n(210))}}),(function(e,t,n){var i=n(118),r=n(79),a=n(98),o=n(209),s=["google\\.\\w{2,3}(\\.\\w{2,3})?/(search|url)","bing\\.\\w{2,3}(\\.\\w{2,3})?/(search|url)","yahoo\\.\\w{2,3}(\\.\\w{2,3})?/search","baidu\\.\\w{2,3}(\\.\\w{2,3})?/","https://(www)?\\.google\\..*?/?$","https://search\\.yahoo\\..*?/?$","https://(www)?\\.bing\\..*?/?$"];e.exports={provides:"source_type",shouldTrack:!0,isSticky:!1,getter:[function(){return function(e,t){var n=function(){if(i.getQueryParamValue("utm_source")||i.getQueryParamValue("gclid")||i.getQueryParamValue("otm_source"))return"campaign";for(var e=a.getReferrer()||r.getReferrer(),t=0;t<s.length;t++){var n=s[t],c=e.match(n);if(c)return"search"}return e&&o.guessDomain(e)!==o.guessDomain(i.getUrl())?"referral":"direct"},c=function(e,t){return!e||"direct"!==t},u=e(),l=n();c(u,l)&&t(l)}}]}}),(function(e,t){t.guessDomain=function(e,t){if(!e)return"";try{return t?e.match(/:\/\/(.[^/]+)/)[1]:e.match(/:\/\/(?:www[0-9]?\.)?(.[^/:]+)/)[1]}catch(e){return""}}}),(function(e,t,n){var i=n(20);t.fieldsNeeded=["source_type"],t.match=function(e,t){return i.hasMatch(t.value,t.match,e.source_type)}}),(function(e,t,n){e.exports=function(e){e.registerVisitorProfileProvider(n(212)),e.registerVisitorProfileProvider(n(213)),e.registerAudienceMatcher("time_and_day",n(214))}}),(function(e,t,n){var i=n(24);e.exports={provides:"currentTimestamp",shouldTrack:!0,isLazy:!0,getter:[function(){return i.now()}]}}),(function(e,t){e.exports={provides:"offset",shouldTrack:!0,isLazy:!0,getter:[function(){return(new Date).getTimezoneOffset()}]}}),(function(e,t,n){var i=n(215);t.fieldsNeeded=["currentTimestamp"],t.match=function(e,t){return i.test(t.value,new Date(e.currentTimestamp))}}),(function(e,t,n){function i(e){var t=e.split(o);if(3!==t.length)throw new Error("Invalid time and day string "+e);var n=t[2].split(s);return{start_time:t[0],end_time:t[1],days:n}}function r(e){var t=e.split(c);if(2!==t.length)throw new Error("optly.timeAndDayInterval.timeStringToMinutes: Invalid time string "+e);return 60*parseInt(t[0],10)+parseInt(t[1],10)}var a=n(2),o="_",s=",",c=":";t.test=function(e,t){var n=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],o=i(e),s=r(o.start_time),c=r(o.end_time),u=60*t.getHours()+t.getMinutes(),l=n[t.getDay()];return u>=s&&u<=c&&a.includes(o.days,l)}}),(function(e,t,n){function i(e){function t(e,t,n){try{c(t),e[n]=t}catch(e){C.emitError(new X("Bad value for eventTags["+n+"]: "+e.message))}return e}var n=N.keys(ne),i=N.omit(e,n),r=N.pick(e,n),a=N.reduce(i,t,{}),o=N.reduce(r,(function(e,n,i){var r=ne[i];r.excludeFeature||t(a,n,i);try{r.validate(n),e[i]=r.sanitize(n),a[i]=e[i]}catch(e){C.emitError(new X("Bad value for eventMetrics["+i+"]: "+e.message))}return e}),{});return o.tags=a,o}function r(e){var t=N.extend({entity_id:e.pageId,key:e.pageApiName,timestamp:e.timestamp,uuid:e.eventId,type:J},i(e.eventTags));return t}function a(e){return N.extend({entity_id:e.eventEntityId,key:e.eventApiName,timestamp:e.timestamp,uuid:e.eventId,type:e.eventCategory},i(e.eventTags))}function o(e){return N.extend({entity_id:e.eventEntityId,key:e.eventApiName,timestamp:e.timestamp,uuid:e.eventId,type:e.eventCategory},i(e.eventTags))}function s(e){return{entity_id:null,type:Q,uuid:e.eventId,timestamp:e.timestamp}}function c(e){if(null==e)throw new Error("Feature value is null");if("object"==typeof e){var t;try{t=x.stringify(e)}catch(e){}throw new Error('Feature value is complex: "'+t||'[object]"')}}function u(e){if(null==e)throw new Error("Metric value is null");if(!N.isNumber(e))throw new Error("Metric value is not numeric")}function l(e){return N.reduce(e,(function(e,t){try{c(t.value),e.push({entity_id:t.id||null,key:t.name,type:t.type,value:t.value})}catch(e){F.warn("Error evaluating user feature",t,e)}return e}),[])}function d(e,t,n){Y.dispatch(V.REGISTER_TRACKER_EVENT,{event:e,decisions:n}),f(t),b()}function f(e){var t=l(e);Y.dispatch(V.UPDATE_TRACKER_VISITOR_ATTRIBUTES,{attributes:t})}function g(e){var t=l(e.userFeatures),n={account_id:e.accountId,anonymize_ip:e.anonymizeIP,client_name:e.clientName,client_version:e.clientVersion,project_id:e.projectId,visitors:[{session_id:h(e.sessionId),visitor_id:e.visitorId,attributes:t,snapshots:[{decisions:[{campaign_id:e.layerId,experiment_id:e.experimentId,variation_id:e.variationId,is_campaign_holdback:e.isLayerHoldback}],events:[{uuid:e.decisionId,entity_id:e.layerId,timestamp:e.timestamp,type:$}]}]}]};Y.dispatch(V.REGISTER_PREVIOUS_BATCH,n),b()}function p(e){var t=N.isNull(q.getAnonymizeIP())?void 0:q.getAnonymizeIP(),n={account_id:e.accountId,anonymize_ip:t,client_name:e.clientName,client_version:e.clientVersion,project_id:e.projectId,visitors:[]};n.revision=e.revision,Z&&(n.enrich_decisions=!0);var i={session_id:h(e.sessionId),visitor_id:e.visitorId,attributes:[],snapshots:[]},r=D(e.layerStates);Y.dispatch(V.REGISTER_TRACKER_VISITOR,{data:n,visitor:i,decisions:r}),b()}function h(e){return oe?ae:e}function _(e){var t={entity_id:e.layerId,type:$,uuid:e.decisionId,timestamp:e.timestamp};Y.dispatch(V.REGISTER_TRACKER_DECISION,{decisionEvent:t,decisions:D(e.layerStates)}),f(e.userFeatures),b()}function v(){if(!W.canSend())return void F.debug("Not sending events (holding)");var e=W.hasEventsToSend(),t=W.hasPreviousBatchesToSend();return e||t?(t&&(N.each(W.getPreviousBatches(),m),Y.dispatch(V.RESET_TRACKER_PREVIOUS_BATCHES)),void(e&&(Y.dispatch(V.FINALIZE_BATCH_SNAPSHOT),m(W.getEventBatch()),Y.dispatch(V.RESET_TRACKER_EVENTS)))):void F.debug("Not sending events because there are no events to send")}function m(e){F.debug("Sending ticket:",e);var t=P.generate();B.retryableRequest({url:L,method:"POST",data:E(e)},t)}function E(e){var t=N.extend({},N.pick(e,["account_id","anonymize_ip","client_name","client_version","enrich_decisions","project_id","revision"]),{
visitors:N.map(e.visitors,I)});return t}function I(e){return{visitor_id:e.visitor_id,session_id:ae,attributes:N.map(e.attributes,y),snapshots:N.map(e.snapshots,S)}}function y(e){return R(e,{entity_id:"e",key:"k",type:"t",value:"v"})}function S(e){var t=e.events;return t=T(t),{activationTimestamp:q.getActivationTimestamp(),decisions:N.map(e.decisions,A),events:N.map(t,w)}}function T(e){var t=N.reduce(e,(function(e,t){var n,i=t.type===J&&N.isEmpty(t.tags)&&N.isEmpty(N.pick(t,N.keys(ne)));if(n=i?t.type:t.uuid,e[n]){var r=e[n].timestamp;t.timestamp>r&&(r=t.timestamp),e[n]=N.extend({},e[n],{key:e[n].key+"-"+(t.key||""),entity_id:e[n].entity_id+"-"+t.entity_id,timestamp:r})}else e[n]=t;return e}),{});return N.values(t)}function A(e){return R(e,{campaign_id:"c",experiment_id:"x",is_campaign_holdback:"h",variation_id:"v"})}function w(e){return e.key===$&&(e.type=$,delete e.key),R(e,{entity_id:"e",key:"k",quantity:"q",revenue:"$",tags:"a",timestamp:"t",uuid:"u",value:"v",type:"y"})}function R(e,t){return N.reduce(e,(function(e,n,i){return i in t&&(e[t[i]||i]=n),e}),{})}function b(){function e(){var t=!ie||j.isLoaded();t&&v(),W.isPolling()&&G.setTimeout(e,te)}return W.shouldBatch()?void(W.isPolling()||(G.setTimeout(e,te),Y.dispatch(V.SET_TRACKER_POLLING,!0),G.setTimeout((function(){Y.dispatch(V.SET_TRACKER_BATCHING,!1),Y.dispatch(V.SET_TRACKER_POLLING,!1)}),ee))):void v()}function D(e){return N.map(e,(function(e){return{campaign_id:e.layerId,experiment_id:e.decision.experimentId,variation_id:e.decision.variationId,is_campaign_holdback:e.decision.isLayerHoldback}}))}function O(){var e=W.getPersistableState();if(e)try{F.debug("Persisting pending batch:",e),U.persistTrackerOptimizelyData(e),Y.dispatch(V.SET_TRACKER_DIRTY,!1)}catch(e){F.debug("Failed to persist pending batch:",e)}}var N=n(2),C=n(85),P=n(5),L="https://logx.optimizely.com/v1/events",V=n(7),k=n(75).create,x=n(26),F=n(23),M=n(114),U=n(73),G=n(40),B=n(90),z=n(16),j=n(79),H=n(86),K=n(110),Y=n(9),q=z.get("stores/global"),W=z.get("stores/tracker_optimizely"),X=t.Error=k("OptimizelyTrackerError"),Q="client_activation",$="campaign_activated",J="view_activated",Z=!0,ee=1e4,te=1e3,ne={revenue:{validate:u,sanitize:Math.floor,excludeFeature:!0},quantity:{validate:u,sanitize:Math.floor,excludeFeature:!0},value:{validate:u,sanitize:N.identity}},ie=!1,re=!1,ae="AUTO",oe=!0,se=function(e){e.timing===M.TrackLayerDecisionTimingFlags.postRedirectPolicy?g(e):_(e)},ce=[function(){return function(e){d(r(e),e.userFeatures,D(e.layerStates))}}],ue=[function(){return function(e){p(e),d(s(e),e.userFeatures,D(e.layerStates))}}],le=[function(){return function(e){d(o(e),e.userFeatures,D(e.layerStates))}}],de=[function(){return function(e){d(a(e),e.userFeatures,D(e.layerStates))}}],fe={trackLayerDecision:se,postRedirectPolicy:M.PostRedirectPolicies.TRACK_AFTER_SYNC,nonRedirectPolicy:M.NonRedirectPolicies.TRACK_IMMEDIATELY,onPageActivated:ce,onClientActivation:ue,onClickEvent:de,onCustomEvent:le};e.exports=function(e){e.registerAnalyticsTracker("optimizely",fe),H.on({filter:{type:K.TYPES.ANALYTICS,name:"sendEvents"},handler:function(){Y.dispatch(V.SET_TRACKER_SEND_EVENTS,!0),W.isPolling()||v()}}),H.on({filter:{type:K.TYPES.ANALYTICS,name:"holdEvents"},handler:function(){Y.dispatch(V.SET_TRACKER_SEND_EVENTS,!1)}}),Y.dispatch(V.SET_TRACKER_SEND_EVENTS,!re);var t=H.on({filter:{type:"lifecycle",name:"activated"},handler:function(){W.observe(O),H.off(t)}})}}),(function(e,t,n){e.exports=function(e){e.registerViewProvider(n(218)),e.registerViewMatcher("url",n(219))}}),(function(e,t,n){var i=n(118);e.exports={provides:"url",getter:[function(){return i.getUrl()}]}}),(function(e,t,n){var i=n(206);e.exports={fieldsNeeded:["url"],match:function(e,t){return i(e.url,t)}}}),(function(e,t,n){var i="element_present",r={match:function(e,t){return!!document.querySelector(t.value)}};e.exports=function(e){e.registerViewMatcher(i,r)}}),(function(e,t,n){var i=n(79),r=n(25),a=n(86),o=n(222),s=n(122),c="DOMChanged",u={token:void 0,setUpObserver:function(){o.createDOMChangedObserver(),this.token=a.on({filter:{type:"viewTrigger",name:"DOMChanged"},handler:function(){s.getViewsAndActivate(r.ViewActivationTypes.DOMChanged)}})},turnOffObserver:function(){a.off(this.token)}};e.exports=function(e){i.isReady()?u.setUpObserver():i.addReadyHandler(u.setUpObserver),e.registerViewTrigger(c,u)}}),(function(e,t,n){var i=n(79),r=n(86),a=n(223);t.createDOMChangedObserver=function(){var e=i.getDocumentElement(),t={type:"viewTrigger",name:"DOMChanged"},n={attributes:!0,childList:!0,subtree:!0,characterData:!0},o=a.create((function(){r.emit(t,!0)}));a.observe(o,e,n)}}),(function(e,t){t.create=function(e){return new MutationObserver(e)},t.observe=function(e,t,n){e.observe(t,n)}}),(function(e,t,n){function i(){r(),a(),_.addEventListener("popstate",m,!1),_.addEventListener("hashchange",E,!1),d.on({filter:{type:"viewTrigger",name:"URLChanged"},handler:function(){h.getViewsAndActivate(l.ViewActivationTypes.URLChanged)}})}function r(){function e(){var e=g.getOriginalPushState().apply(this,arguments);return p.resolve().then((function(){o("pushState")})),e}f.dispatch(c.ENSURE_ORIGINAL_PUSHSTATE),_.getGlobal("history").pushState=e}function a(){function e(){var e=g.getOriginalReplaceState().apply(this,arguments);return p.resolve().then((function(){o("replaceState")})),e}f.dispatch(c.ENSURE_ORIGINAL_REPLACESTATE),_.getGlobal("history").replaceState=e}function o(e){d.emit({type:"viewTrigger",name:"URLChanged",data:{source:e,newURL:_.getHref()}},!0)}var s=n(2),c=n(7),u=n(16),l=n(25),d=n(86),f=n(9),g=u.get("stores/history"),p=n(12).Promise,h=n(122),_=n(40),v="URLChanged";e.exports=function(e){i(),e.registerViewTrigger(v)};var m=s.partial(o,"popstate"),E=s.partial(o,"hashchange")}),(function(e,t,n){var i=n(124).enums.locatorType;e.exports=function(e){e.registerViewTagLocator(i.CSS_SELECTOR,n(226))}}),(function(e,t,n){var i=n(125).nodeNames,r=n(227);e.exports=function(e){var t,n=e.locator,a=document.querySelectorAll(n);if(a.length>0){var o=a[0];switch(o.nodeName){case i.INPUT:t=o.value.trim();break;case i.SELECT:t=o.value.trim();break;default:var s=a[0].innerText||a[0].textContent;t=s.trim().replace(/\s+/g," ")}}return r(e.valueType,t)}}),(function(e,t,n){function i(e,t,n){var i=new RegExp("^\\s*([+-]?)\\s*((\\d+)((?:\\"+t+"\\d{3})+)?)(?:\\"+n+"(\\d+))?\\s*$"),r=e.match(i);if(!r)return NaN;var a=r[3],o=r[4],s=r[5];if(o&&!s&&a.length>3&&4===o.length||!o&&a.length<=3&&s&&3===s.length)return NaN;var c=r[1],u=r[2].replace(new RegExp("\\"+t,"g"),"");return Number(c+u+(s?"."+s:""))}function r(e){e=String(e);var t=i(e,",",".");return isNaN(t)&&(t=i(e,".",",")),t}var a=n(125),o=n(126).Error;e.exports=function(e,t){var n;switch(e){case a.valueType.STRING:return t?String(t):"";case a.valueType.NUMBER:if(n=r(t),isNaN(n))throw new o('"'+t+'" cannot be parsed as a number');return n;case a.valueType.CURRENCY:if(n=String(t).replace(/^[^\d\,\.\-]*/g,"").replace(/[^\d\,\.\-]*$/g,""),n=r(n),isNaN(n))throw new o('"'+t+'" cannot be parsed as currency');return Math.round(100*n)}throw new o("Unknown ViewTag type: "+e)}}),(function(e,t,n){function i(e){return"apiName: "+e.apiName+", selector: "+e.eventFilter.selector}var r=n(109),a=n(229),o=n(23),s=n(122);e.exports=function(e){var t=new a(function(e){s.updateAllViewTags();var t=r.trackClickEvent(e);t?o.log("Tracking click event:",e):o.log("Not tracking click event:",e)});e.registerEventImplementation("click",{attach:function(e){t.hasEvents()||t.listen(),t.addEvent(e),o.debug("Started listening for click event ("+i(e)+"):",e)},detach:function(e){t.removeEvent(e),t.hasEvents()||t.unlisten(),o.debug("Stopped listening for click event ("+i(e)+"):",e)}})}}),(function(e,t,n){function i(e){this.handler=e,this.events=[],this.unlistenFn=null,this.clickHandler=a.bind((function(e){a.forEach(this.events,a.bind((function(t){try{var n=t.config&&t.config.selector?t.config.selector:t.eventFilter.selector;r(e,n,t)&&this.handler(t)}catch(e){o.emitError(new l("Unable to handle click for selector"+n+":"+e.message))}}),this))}),this)}function r(e,t,n){for(var i=e.target,r=0;i;){var s;try{s=u(i,t)}catch(s){var c={typeofElementValue:typeof i,nodeName:a.result(i,["nodeName"],null),nodeType:a.result(i,["nodeType"],null),targetName:a.result(e,["target","nodeName"],null),targetType:a.result(e,["target","nodeType"],null),numParentsTraversed:r,selector:t,errorMessage:s.message,eventId:n.id};return o.emitError(new l("Unable to evaluate match for element"),c),!1}if(s)return!0;i=i.parentElement,r++}return!1}var a=n(2),o=n(85),s=n(75).create,c=n(79),u=n(230),l=t.Error=s("ClickDelegateError");i.prototype.listen=function(){this.unlistenFn=c.addEventListener("click",this.clickHandler,!0)},i.prototype.unlisten=function(){this.unlistenFn&&(this.unlistenFn(),this.unlistenFn=null)},i.prototype.hasEvents=function(){return this.events.length>0},i.prototype.addEvent=function(e){this.events.push(e)},i.prototype.removeEvent=function(e){this.events=a.filter(this.events,(function(t){return t.apiName!==e.apiName}))},e.exports=i}),(function(e,t,n){e.exports=n(231)}),(function(e,t){"use strict";function n(e,t){if(r)return r.call(e,t);for(var n=e.parentNode.querySelectorAll(t),i=0;i<n.length;i++)if(n[i]==e)return!0;return!1}var i=Element.prototype,r=i.matches||i.matchesSelector||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector;e.exports=n}),(function(e,t,n){e.exports=function(e){e.registerApiModule("recommender",n(233))}}),(function(e,t,n){function i(e){return e===A.SELF_CONTAINED_MULTI_COL}function r(e){return e===A.SEPARATE_CATALOG_SINGLE_COL}function a(e,t){if(!i(t))return R in e?I.parse(e[R]):(y.warn('recommender / Expected key "'+R+'" not found'),[]);var n=new RegExp("^"+b+"(\\d+)$"),r=E.reduce(e,(function(t,i,r){var a=r.match(n);if(a){var o=I.parse(e[r]);o&&E.isObject(o)&&(t[a[1]]=o)}return t}),[]);return E.filter(r,(function(e){return!E.isUndefined(e)}))}function o(e,t){return[e,encodeURIComponent(t)].join("/")}function s(e,t){var n=function(e,t,n){if(!E.isArray(e)||E.isEmpty(e))throw new Error("No "+n+"s available");var i;if(t){if(i=E.find(e,{id:t}),!i)throw new Error("No "+n+" found with specified id "+t)}else{if(e.length>1)throw new Error("No "+n+" id specified when there are more than one available.");i=e[0]}return i},i=e.getRecommenderServices(),r=n(i,t&&t.recommenderServiceId,"recommender service");r.idTagName||(r.idTagName="id");var a=n(r.recommenders,t&&t.recommenderId,"recommender");return{recommenderService:r,recommender:a}}function c(e){var t=I.parse(e);return t.data}function u(e,t){return T.request({url:o(e,t)}).then((function(e){var t=c(e.response),n={};return w in t&&(n=I.parse(t[w])),n}))}function l(e,t,n,i){var s=!(!i||!i.fetchWithMetadata),u=i&&i.overrideServingUrl||t.servingUrl;return T.request({url:o(u,n)}).then((function(t){var n=[],o=c(t.response);return n=a(o,e.serviceVersion),s&&r(e.serviceVersion)?d(e,E.map(n,e.idTagName),i).then((function(e){return e=E.map(e,(function(e){return e instanceof Error&&(e={}),delete e["__proto__"],e})),E.merge(n,e)})):n}))}function d(e,t,n){var i=n&&n.overrideCatalogUrl||e.catalogUrl;return E.isString(t)?u(i,t):S.all(E.map(t,(function(e){return u(i,e)["catch"]((function(t){return y.warn("recommender / Failed to get recommendations for item:",e,t),t}))})))}function f(e,t,n){var i=s(e,n),r=i.recommenderService,a=i.recommender;return l(r,a,t,{overrideServingUrl:n&&n.overrideServingUrl,overrideCatalogUrl:n&&n.overrideCatalogUrl,fetchWithMetadata:!0})}function g(e,t,n){var i=s(e,n),a=i.recommenderService,o=i.recommender;if(!r(a.serviceVersion))throw new Error("Recommender service "+a.id+" serves self-contained recos. Use `fetchRecommendations` API call");return l(a,o,t,{overrideServingUrl:n&&n.overrideServingUrl,fetchWithMetadata:!1})}function p(e,t,n){var i=s(e,n),a=i.recommenderService;if(!r(a.serviceVersion))throw new Error("Recommender service "+a.id+" serves self-contained recos. Use `fetchRecommendations` API call");return E.isArray(t)&&t.length>D?S.reject("Cannot fetch more than "+D+" items"):d(a,t,n)}function h(e,t,n,i){return new _(e,t,n,i)}function _(e,t,n,i){this.recommenderSettings=t;var r=s(e,t);this.recommenderService=r.recommenderService,this.recommender=r.recommender,this.targetId=n,i&&(this.preFilter=i.preFilter,this.canonicalize=i.canonicalize,this.postFilter=i.postFilter),this._globalStore=e,this.reset()}function v(){var e={recosNoMeta:[],recosNoMetaOffset:0,recos:[],recosOffset:0};return y.debug("recommender / fetching recommended items for",this.targetId,"from recommender",this.recommender.id),r(this.recommenderService.serviceVersion)?g(this._globalStore,this.targetId,this.recommenderSettings).then(E.bind((function(t){return e.recosNoMeta=E.filter(t,this.preFilter),e}),this)):f(this._globalStore,this.targetId,this.recommenderSettings).then(E.bind((function(t){return e.recos=E(t).filter(this.preFilter).map(this.canonicalize).filter(this.postFilter).value(),e}),this))}function m(e){var t=e.numNeeded,n=e.buffer,i=n.recosNoMeta.length-n.recosNoMetaOffset;if(t<=0||i<=0)return S.resolve(e);var r=5,a=Math.max(t,r),o=E.slice(n.recosNoMeta,n.recosNoMetaOffset,n.recosNoMetaOffset+a),s=E.map(o,this.recommenderService.idTagName);n.recosNoMetaOffset+=s.length;var c=e.recosSoFar;return y.debug("recommender / fetching metadata for",s,"from recommender",this.recommender.id),p(this._globalStore,s,this.recommenderSettings).then(E.bind((function(i){i=E.map(i,(function(e){return e instanceof Error?{}:e})),n.recos=E(o).merge(i).map(this.canonicalize).filter(this.postFilter).value();var r=E.slice(n.recos,0,t);return n.recosOffset=r.length,e.recosSoFar=c.concat(r),e.numNeeded-=r.length,e.numNeeded>0?m.call(this,e):e}),this))}var E=n(2),I=n(26),y=n(23),S=n(12).Promise,T=n(90),A={SELF_CONTAINED_MULTI_COL:1,SEPARATE_CATALOG_SINGLE_COL:2},w="itemMetadata",R="recos",b="reco",D=20;_.prototype.reset=function(){this._bufferPromise=null},_.prototype.next=function(e){var t=Math.floor(E.isNumber(e)?e:1);if(t<=0)throw new Error("Invalid argument "+e+". Must be positive integer");this._bufferPromise||(this._bufferPromise=v.call(this));var n=this._bufferPromise.then(E.bind((function(e){var n=[],i=e.recos.length-e.recosOffset;return i>0&&(n=e.recos.slice(e.recosOffset,e.recosOffset+t),e.recosOffset+=n.length,t-=n.length),t<=0?{result:n,buffer:e}:m.call(this,{buffer:e,recosSoFar:n,numNeeded:t}).then((function(e){return{result:e.recosSoFar,buffer:e.buffer}}))}),this));return this._bufferPromise=n.then((function(e){return e.buffer})),n.then((function(e){return e.result}))},e.exports=["stores/global",function(e){return{fetchRecommendations:E.partial(f,e),fetchRecommendedItems:E.partial(g,e),fetchItemMetadata:E.partial(p,e),getRecommendationsFetcher:E.partial(h,e)}}]}),(function(e,t,n){function i(e,t){if(this.change=e,this.identifier=t.identifier,this.startTime=t.startTime,d.shouldObserveChangesIndefinitely()){p.dispatch(a.INITIALIZE_CHANGE_METRICS),this.rateMeter=new _(E.MOVING_WINDOW_MILLISECONDS);var n=r.isNull(E.MAX_MACROTASKS_IN_MOVING_WINDOW)?Number.POSITIVE_INFINITY:E.MAX_MACROTASKS_IN_MOVING_WINDOW;this.rateMeter.addListener(n,r.bind((function(){h.warn("AppendChange",this,"has overheated and will no longer apply or reapply"),this.cancel(),p.dispatch(a.RECORD_CHANGE_OVERHEATED),o.emitError(new I("Change "+this.identifier+" has overheated"),{layerId:t.action&&t.action.layerId,experimentId:t.action&&t.action.experimentId,variationId:t.action&&t.action.variationId,changeId:e.id,changeType:e.type,movingWindowMilliseconds:E.MOVING_WINDOW_MILLISECONDS,maxMacroTasksInMovingWindow:n})}),this));for(var i=Math.min(n,50),s=0;s<=i;s++)this.rateMeter.addListener(s,r.partial((function(e){p.dispatch(a.RECORD_CHANGE_MACROTASK_RATE,{changeMacrotaskRate:e})}),s))}}var r=n(2),a=n(7),o=n(85),s=n(136),c=n(75).create,u=n(235),l=n(236),d=n(16).get("stores/directive"),f=n(79),g=n(237),p=n(9),h=n(23),_=n(238),v=n(135),m=n(99).create(),E={MOVING_WINDOW_MILLISECONDS:1e3,MAX_MACROTASKS_IN_MOVING_WINDOW:10},I=c("ChangeOverheatError");i.prototype.numberOfRootNodes=function(e){var t=document.createElement("div");return t.innerHTML=e,t.childNodes.length},i.prototype.getSiblingElements=function(e,t,n){for(var i=e,r=[],a=0;a<t;a++)n?(r.push(i.nextSibling),i=i.nextSibling):(r.push(i.previousSibling),i=i.previousSibling);return r},i.prototype.apply=function(){this.applyDeferred=l();try{var e=this.numberOfRootNodes(this.change.value);if(!e)throw new Error("No DOM elements to be created for this change: "+this.change.value);var t=r.partial(this.applyDeferred.reject,new Error("Unable to find selector.")),n={};d.shouldObserveChangesUntilTimeout()?n={timeout:r.partial(v.isTimedOut,this.startTime),onTimeout:t}:d.isEditor()&&m.waitUntil(r.partial(v.isTimedOut,this.startTime)).then(t,t),this.unobserveSelector=m.observeSelector(this.change.selector,r.bind(this.maybeApplyToElement,this),n);var i=f.querySelectorAll(this.change.selector);r.each(i,r.bind(this.maybeApplyToElement,this))}catch(e){this.applyDeferred.reject(e)}return this.applyDeferred},i.prototype.maybeApplyToElement=function(e){var t=s.CHANGE_ID_ATTRIBUTE_PREFIX+this.change.id;if(e.hasAttribute(t))return h.debug("Not applying AppendChange to element",e,"because it was inserted by this change"),void this.applyDeferred.resolve();this.rateMeter&&this.rateMeter.countCurrentTick();var n=r.bind(this.applyOrReapplyToElement,this,e,t);n(),this.applyDeferred.resolve()},i.prototype.applyOrReapplyToElement=function(e,t){var n;switch(this.change.operator){case g.DOMInsertionType.AFTER:n=g.insertAdjacentHTMLType.AFTER_END;break;case g.DOMInsertionType.APPEND:n=g.insertAdjacentHTMLType.BEFORE_END;break;case g.DOMInsertionType.BEFORE:n=g.insertAdjacentHTMLType.BEFORE_BEGIN;break;case g.DOMInsertionType.PREPEND:n=g.insertAdjacentHTMLType.AFTER_BEGIN;break;default:n=g.insertAdjacentHTMLType.BEFORE_END}e.insertAdjacentHTML(n,this.change.value),e.setAttribute(t,""),u.setData(e,this.change.id,this.identifier,[]);var i,a,o=this.numberOfRootNodes(this.change.value)-1;n===g.insertAdjacentHTMLType.BEFORE_END?(i=e.lastChild,a=this.getSiblingElements(i,o,!1)):n===g.insertAdjacentHTMLType.AFTER_BEGIN?(i=e.firstChild,a=this.getSiblingElements(i,o,!0)):n===g.insertAdjacentHTMLType.BEFORE_BEGIN?(i=e.previousSibling,a=this.getSiblingElements(i,o,!1)):n===g.insertAdjacentHTMLType.AFTER_END&&(i=e.nextSibling,a=this.getSiblingElements(i,o,!0)),a.unshift(i),r.each(a,r.bind((function(e){var n=e.nodeType===Node.ELEMENT_NODE?e:f.parentElement(e);n.setAttribute(t,"");var i=u.getData(n,this.change.id,this.identifier)||[];i.push(e),u.setData(n,this.change.id,this.identifier,i),r.each(f.childrenOf(n),(function(e){e.setAttribute(t,"")}))}),this))},i.prototype.cancel=function(){this.unobserveSelector&&this.unobserveSelector()},e.exports=function(e){e.registerChangeApplier(g.changeType.APPEND,i)}}),(function(e,t,n){function i(e,t){return[e,t].join("_")}var r=n(2),a=n(136).CHANGE_DATA_KEY;t.getData=function(e,t,n){var r=i(t,n);return e[a]&&e[a][r]?e[a][r]:null},t.hasData=function(e){return Boolean(e&&e[a]&&!r.isEmpty(e[a]))},t.removeData=function(e,t,n){e[a]&&delete e[a][i(t,n)]},t.setData=function(e,t,n,r){if("object"!=typeof r)throw new Error("setData expects an object");e[a]||(e[a]={}),e[a][i(t,n)]=r}}),(function(e,t,n){var i=n(2),r=n(12).Promise,a=function(){var e,t,n=new r(function(n,i){e=n,t=i});return n.resolve=function(){return e.apply(null,i.toArray(arguments)),n},n.reject=function(){return t.apply(null,i.toArray(arguments)),n},n};e.exports=a}),(function(e,t,n){var i=n(8);e.exports={changeType:{CUSTOM_CODE:"custom_code",ATTRIBUTE:"attribute",APPEND:"append",REARRANGE:"rearrange",REDIRECT:"redirect",WIDGET:"widget"},DOMInsertionType:{AFTER:"after",APPEND:"append",BEFORE:"before",PREPEND:"prepend"},insertAdjacentHTMLType:{AFTER_BEGIN:"afterbegin",AFTER_END:"afterend",BEFORE_BEGIN:"beforebegin",BEFORE_END:"beforeend"},selectorChangeType:{CLASS:"class",HTML:"html",HREF:"href",SRC:"src",STYLE:"style",TEXT:"text",HIDE:"hide",REMOVE:"remove"},changeApplierState:i({APPLIED:null,APPLYING:null,UNAPPLIED:null,UNDOING:null}),changeState:i({BLOCKED:null,UNAPPLIED:null,APPLIED:null,APPLYING:null,UNDOING:null,TIMED_OUT:null,IGNORED:null,ERROR:null})}}),(function(e,t,n){function i(e){this.windowLength=e,this.count=0,this.listeners={},this.isIncrementingTick=!1}var r=n(2),a=n(23),o=n(40);i.prototype.countCurrentTick=function(){this.isIncrementingTick||(this.isIncrementingTick=!0,this.increment(),o.setTimeout(r.bind((function(){this.isIncrementingTick=!1}),this),0))},i.prototype.increment=function(){this.count+=1,r.forEach(this.listeners[String(this.count)],(function(e){e()})),o.setTimeout(r.bind(this.decrement,this),this.windowLength)},i.prototype.decrement=function(){this.count-=1,this.count<0&&(a.warn("Decremented down to negative count: ",this.count),this.count=0)},i.prototype.addListener=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},e.exports=i}),(function(e,t,n){function i(e,t){if(!r.isFunction(e.value))throw new Error("Custom code must be a function");this.change=e}var r=n(2),a=n(236),o=n(237),s=n(143);i.prototype.apply=function(){var e=a();try{s.apply(this.change.value),e.resolve()}catch(t){e.reject(t)}return e},e.exports=function(e){e.registerChangeApplier(o.changeType.CUSTOM_CODE,i)}}),(function(e,t,n){function i(e,t){if(this.change=e,this.config=t,this.reasonShouldNotRedirect=this._checkForReasonNotToRedirect(),!this.reasonShouldNotRedirect){if(!r.isString(this.change.dest)&&!r.isFunction(this.change.dest))throw new Error("Redirect destination is not a string or function");if(r.isFunction(this.change.dest)&&(this.change.dest=this.change.dest(),!r.isString(this.change.dest)))throw new Error("Redirect destination function did not evaluate to a string");if(!this.config.action)throw new Error("Redirect changes require an action to be passed in the config.");d.dispatch(o.ANNOUNCE_PENDING_REDIRECT,{layerId:this.config.action.layerId})}}var r=n(2),a=n(12).Promise,o=n(7),s=n(25),c=n(74),u=n(79),l=n(237),d=n(9),f=n(241),g=n(23),p=n(40);i.prototype.apply=function(){if(this.reasonShouldNotRedirect)return g.warn("Redirect change is not being applied because: "+this.reasonShouldNotRedirect),a.resolve(l.changeState.IGNORED);if(this.reasonInvalid)return g.error("Redirect change cannot be applied because:",this.reasonInvalid),a.reject(this.reasonInvalid);try{this.sn(this.cn())}catch(e){return a.reject(e)}return a.resolve(l.changeState.APPLIED)},i.prototype.cn=function(){var e=f.create(this.change.dest);if(this.change.preserveParameters){var t=p.getLocation().search;t&&(e.search?e.search+="&"+t.substr(1):e.search=t)}return e.toString()},i.prototype.un=function(){var e=u.createElement("style");e.setAttribute("type","text/css"),e.innerHTML="body{display:none;visibility:hidden;}",u.appendToHead(e)},i.prototype.sn=function(e){var t=!this.change.hasOwnProperty("hidePage")||this.change.hidePage;t&&this.un(),p.setLocation(e)},i.prototype._checkForReasonNotToRedirect=function(){var e=c.get(s.COOKIES.REDIRECT);if(!this.change.allowAdditionalRedirect&&!r.isUndefined(e))return"Page was already redirected."},e.exports=function(e){e.registerChangeApplier(l.changeType.REDIRECT,i)}}),(function(e,t,n){var i=n(2);t.create=function(e){if(i.isEmpty(e))return null;var t=document.createElement("a");return t.href=e,t}}),(function(e,t,n){function i(e,t,n,i){var l,d=e.decisionMetadata.experimentPriorities[i],f=function(n,i){var r=c.getExperimentById(e,i.entityId);return c.isValidExperiment(t,r)&&n.push(i.entityId),n},g=o.reduce(d,f,[]);if(!o.isEmpty(g)){var p,h=o.filter(d,{endOfRange:null});if(h&&h.length===d.length)p=r(g);else{if(0!==h.length)throw new u("You must specify weights for all or none of the experiments in each priority layer.");p=a(g,d)}if(l=s.chooseWeightedCandidate(n,e.id,p)){var _=c.getExperimentById(e,l);if(_)return _}}}function r(e){for(var t=[],n=Math.round(1e4/e.length),i=0;i<e.length;i++)t.push({entityId:e[i],endOfRange:n*(i+1)});return t[t.length-1].endOfRange=1e4,t}function a(e,t){for(var n=[],i=[],r=0,a=0;a<t.length;a++){var s=0;e.indexOf(t[a].entityId)>=0&&(s=0===a?t[0].endOfRange:t[a].endOfRange-t[a-1].endOfRange,r+=s,i.push({entityId:t[a].entityId,points:s}))}if(o.isEmpty(n))for(var c=0,u=0;u<i.length;u++){var l=Math.round(1e4*i[u].points/r)+c;n.push({entityId:i[u].entityId,endOfRange:l}),c=l}return n[n.length-1].endOfRange=1e4,n}var o=n(2),s=n(139),c=n(140),u=n(141).DecisionError,l="equal_priority",d={decideLayer:function(e,t){if(!e.decisionMetadata||!e.decisionMetadata.experimentPriorities)throw new u("No decisionMetadata.experimentPriorities on layer.");for(var n=e.decisionMetadata.experimentPriorities.length,r=0;r<n;r++){var a=i(e,t.audienceIds,t.bucketingId,r);if(a){var o=c.selectVariation(a,t.audienceIds,t.bucketingId,t.activationId,t.preferredVariationMap);if(!e.decisionMetadata.offerConsistency||c.hasVariationActionsOnView(o,t.pageId))return{experiment:a,variation:o}}}throw new u("No eligible experiment and variation found.")},includePageIdInDecisionTicket:function(e){return!(!e.decisionMetadata||!e.decisionMetadata.offerConsistency)}};e.exports=function(e){e.registerDecider(l,d)}}),(function(e,t,n){var i=n(140),r=n(141).DecisionError,a="single_experiment",o="multivariate",s={selectExperiment:function(e,t,n){if(e.experiments.length<1)throw new r("Unable to find experiment to bucket user into");var a=e.experiments[0];if(!i.isValidExperiment(t,a))throw new r('Audience conditions failed for experiment: "'+a.id+'".');return a}};e.exports=function(e){e.registerDecider(a,s),e.registerDecider(o,s)}})]);